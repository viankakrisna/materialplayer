(function() {

  var supportCustomEvent = window.CustomEvent;
  if (!supportCustomEvent || typeof supportCustomEvent == 'object') {
    supportCustomEvent = function CustomEvent(event, x) {
      x = x || {};
      var ev = document.createEvent('CustomEvent');
      ev.initCustomEvent(event, !!x.bubbles, !!x.cancelable, x.detail || null);
      return ev;
    };
    supportCustomEvent.prototype = window.Event.prototype;
  }

  /**
   * Finds the nearest <dialog> from the passed element.
   *
   * @param {Element} el to search from
   * @return {HTMLDialogElement} dialog found
   */
  function findNearestDialog(el) {
    while (el) {
      if (el.nodeName.toUpperCase() == 'DIALOG') {
        return /** @type {HTMLDialogElement} */ (el);
      }
      el = el.parentElement;
    }
    return null;
  }

  /**
   * Blur the specified element, as long as it's not the HTML body element.
   * This works around an IE9/10 bug - blurring the body causes Windows to
   * blur the whole application.
   *
   * @param {Element} el to blur
   */
  function safeBlur(el) {
    if (el && el.blur && el != document.body) {
      el.blur();
    }
  }

  /**
   * @param {!NodeList} nodeList to search
   * @param {Node} node to find
   * @return {boolean} whether node is inside nodeList
   */
  function inNodeList(nodeList, node) {
    for (var i = 0; i < nodeList.length; ++i) {
      if (nodeList[i] == node) {
        return true;
      }
    }
    return false;
  }

  /**
   * @param {!HTMLDialogElement} dialog to upgrade
   * @constructor
   */
  function dialogPolyfillInfo(dialog) {
    this.dialog_ = dialog;
    this.replacedStyleTop_ = false;
    this.openAsModal_ = false;

    dialog.show = this.show.bind(this);
    dialog.showModal = this.showModal.bind(this);
    dialog.close = this.close.bind(this);

    if (!('returnValue' in dialog)) {
      dialog.returnValue = '';
    }

    this.maybeHideModal = this.maybeHideModal.bind(this);
    if ('MutationObserver' in window) {
      // IE11+, most other browsers.
      var mo = new MutationObserver(this.maybeHideModal);
      mo.observe(dialog, { attributes: true, attributeFilter: ['open'] });
    } else {
      dialog.addEventListener('DOMAttrModified', this.maybeHideModal);
    }
    // Note that the DOM is observed inside DialogManager while any dialog
    // is being displayed as a modal, to catch modal removal from the DOM.

    Object.defineProperty(dialog, 'open', {
      set: this.setOpen.bind(this),
      get: dialog.hasAttribute.bind(dialog, 'open')
    });

    this.backdrop_ = document.createElement('div');
    this.backdrop_.className = 'backdrop';
    this.backdropClick_ = this.backdropClick_.bind(this);
  }

  dialogPolyfillInfo.prototype = {

    get dialog() {
      return this.dialog_;
    },

    /**
     * Maybe remove this dialog from the modal top layer. This is called when
     * a modal dialog may no longer be tenable, e.g., when the dialog is no
     * longer open or is no longer part of the DOM.
     */
    maybeHideModal: function() {
      if (!this.openAsModal_) { return; }
      if (this.dialog_.hasAttribute('open') &&
          document.body.contains(this.dialog_)) { return; }

      this.openAsModal_ = false;
      this.dialog_.style.zIndex = '';

      // This won't match the native <dialog> exactly because if the user set
      // top on a centered polyfill dialog, that top gets thrown away when the
      // dialog is closed. Not sure it's possible to polyfill this perfectly.
      if (this.replacedStyleTop_) {
        this.dialog_.style.top = '';
        this.replacedStyleTop_ = false;
      }

      // Optimistically clear the modal part of this <dialog>.
      this.backdrop_.removeEventListener('click', this.backdropClick_);
      if (this.backdrop_.parentElement) {
        this.backdrop_.parentElement.removeChild(this.backdrop_);
      }
      dialogPolyfill.dm.removeDialog(this);
    },

    /**
     * @param {boolean} value whether to open or close this dialog
     */
    setOpen: function(value) {
      if (value) {
        this.dialog_.hasAttribute('open') || this.dialog_.setAttribute('open', '');
      } else {
        this.dialog_.removeAttribute('open');
        this.maybeHideModal();  // nb. redundant with MutationObserver
      }
    },

    /**
     * Handles clicks on the fake .backdrop element, redirecting them as if
     * they were on the dialog itself.
     *
     * @param {!Event} e to redirect
     */
    backdropClick_: function(e) {
      var redirectedEvent = document.createEvent('MouseEvents');
      redirectedEvent.initMouseEvent(e.type, e.bubbles, e.cancelable, window,
          e.detail, e.screenX, e.screenY, e.clientX, e.clientY, e.ctrlKey,
          e.altKey, e.shiftKey, e.metaKey, e.button, e.relatedTarget);
      this.dialog_.dispatchEvent(redirectedEvent);
      e.stopPropagation();
    },

    /**
     * Sets the zIndex for the backdrop and dialog.
     *
     * @param {number} backdropZ
     * @param {number} dialogZ
     */
    updateZIndex: function(backdropZ, dialogZ) {
      this.backdrop_.style.zIndex = backdropZ;
      this.dialog_.style.zIndex = dialogZ;
    },

    /**
     * Shows the dialog. This is idempotent and will always succeed.
     */
    show: function() {
      this.setOpen(true);
    },

    /**
     * Show this dialog modally.
     */
    showModal: function() {
      if (this.dialog_.hasAttribute('open')) {
        throw new Error('Failed to execute \'showModal\' on dialog: The element is already open, and therefore cannot be opened modally.');
      }
      if (!document.body.contains(this.dialog_)) {
        throw new Error('Failed to execute \'showModal\' on dialog: The element is not in a Document.');
      }
      if (!dialogPolyfill.dm.pushDialog(this)) {
        throw new Error('Failed to execute \'showModal\' on dialog: There are too many open modal dialogs.');
      }
      this.show();
      this.openAsModal_ = true;

      // Optionally center vertically, relative to the current viewport.
      if (dialogPolyfill.needsCentering(this.dialog_)) {
        dialogPolyfill.reposition(this.dialog_);
        this.replacedStyleTop_ = true;
      } else {
        this.replacedStyleTop_ = false;
      }

      // Insert backdrop.
      this.backdrop_.addEventListener('click', this.backdropClick_);
      this.dialog_.parentNode.insertBefore(this.backdrop_,
          this.dialog_.nextSibling);

      // Find element with `autofocus` attribute or first form control.
      var target = this.dialog_.querySelector('[autofocus]:not([disabled])');
      if (!target) {
        // TODO: technically this is 'any focusable area'
        var opts = ['button', 'input', 'keygen', 'select', 'textarea'];
        var query = opts.map(function(el) {
          return el + ':not([disabled])';
        }).join(', ');
        target = this.dialog_.querySelector(query);
      }
      safeBlur(document.activeElement);
      target && target.focus();
    },

    /**
     * Closes this HTMLDialogElement. This is optional vs clearing the open
     * attribute, however this fires a 'close' event.
     *
     * @param {string=} opt_returnValue to use as the returnValue
     */
    close: function(opt_returnValue) {
      if (!this.dialog_.hasAttribute('open')) {
        throw new Error('Failed to execute \'close\' on dialog: The element does not have an \'open\' attribute, and therefore cannot be closed.');
      }
      this.setOpen(false);

      // Leave returnValue untouched in case it was set directly on the element
      if (opt_returnValue !== undefined) {
        this.dialog_.returnValue = opt_returnValue;
      }

      // Triggering "close" event for any attached listeners on the <dialog>.
      var closeEvent = new supportCustomEvent('close', {
        bubbles: false,
        cancelable: false
      });
      this.dialog_.dispatchEvent(closeEvent);
    }

  };

  var dialogPolyfill = {};

  dialogPolyfill.reposition = function(element) {
    var scrollTop = document.body.scrollTop || document.documentElement.scrollTop;
    var topValue = scrollTop + (window.innerHeight - element.offsetHeight) / 2;
    element.style.top = Math.max(scrollTop, topValue) + 'px';
  };

  dialogPolyfill.isInlinePositionSetByStylesheet = function(element) {
    for (var i = 0; i < document.styleSheets.length; ++i) {
      var styleSheet = document.styleSheets[i];
      var cssRules = null;
      // Some browsers throw on cssRules.
      try {
        cssRules = styleSheet.cssRules;
      } catch (e) {}
      if (!cssRules)
        continue;
      for (var j = 0; j < cssRules.length; ++j) {
        var rule = cssRules[j];
        var selectedNodes = null;
        // Ignore errors on invalid selector texts.
        try {
          selectedNodes = document.querySelectorAll(rule.selectorText);
        } catch(e) {}
        if (!selectedNodes || !inNodeList(selectedNodes, element))
          continue;
        var cssTop = rule.style.getPropertyValue('top');
        var cssBottom = rule.style.getPropertyValue('bottom');
        if ((cssTop && cssTop != 'auto') || (cssBottom && cssBottom != 'auto'))
          return true;
      }
    }
    return false;
  };

  dialogPolyfill.needsCentering = function(dialog) {
    var computedStyle = window.getComputedStyle(dialog);
    if (computedStyle.position != 'absolute') {
      return false;
    }

    // We must determine whether the top/bottom specified value is non-auto.  In
    // WebKit/Blink, checking computedStyle.top == 'auto' is sufficient, but
    // Firefox returns the used value. So we do this crazy thing instead: check
    // the inline style and then go through CSS rules.
    if ((dialog.style.top != 'auto' && dialog.style.top != '') ||
        (dialog.style.bottom != 'auto' && dialog.style.bottom != ''))
      return false;
    return !dialogPolyfill.isInlinePositionSetByStylesheet(dialog);
  };

  /**
   * @param {!Element} element to force upgrade
   */
  dialogPolyfill.forceRegisterDialog = function(element) {
    if (element.showModal) {
      console.warn('This browser already supports <dialog>, the polyfill ' +
          'may not work correctly', element);
    }
    if (element.nodeName.toUpperCase() != 'DIALOG') {
      throw new Error('Failed to register dialog: The element is not a dialog.');
    }
    new dialogPolyfillInfo(/** @type {!HTMLDialogElement} */ (element));
  };

  /**
   * @param {!Element} element to upgrade
   */
  dialogPolyfill.registerDialog = function(element) {
    if (element.showModal) {
      console.warn('Can\'t upgrade <dialog>: already supported', element);
    } else {
      dialogPolyfill.forceRegisterDialog(element);
    }
  };

  /**
   * @constructor
   */
  dialogPolyfill.DialogManager = function() {
    /** @type {!Array<!dialogPolyfillInfo>} */
    this.pendingDialogStack = [];

    // The overlay is used to simulate how a modal dialog blocks the document.
    // The blocking dialog is positioned on top of the overlay, and the rest of
    // the dialogs on the pending dialog stack are positioned below it. In the
    // actual implementation, the modal dialog stacking is controlled by the
    // top layer, where z-index has no effect.
    this.overlay = document.createElement('div');
    this.overlay.className = '_dialog_overlay';
    this.overlay.addEventListener('click', function(e) {
      e.stopPropagation();
    });

    this.handleKey_ = this.handleKey_.bind(this);
    this.handleFocus_ = this.handleFocus_.bind(this);
    this.handleRemove_ = this.handleRemove_.bind(this);

    this.zIndexLow_ = 100000;
    this.zIndexHigh_ = 100000 + 150;
  };

  /**
   * @return {Element} the top HTML dialog element, if any
   */
  dialogPolyfill.DialogManager.prototype.topDialogElement = function() {
    if (this.pendingDialogStack.length) {
      var t = this.pendingDialogStack[this.pendingDialogStack.length - 1];
      return t.dialog;
    }
    return null;
  };

  /**
   * Called on the first modal dialog being shown. Adds the overlay and related
   * handlers.
   */
  dialogPolyfill.DialogManager.prototype.blockDocument = function() {
    document.body.appendChild(this.overlay);
    document.body.addEventListener('focus', this.handleFocus_, true);
    document.addEventListener('keydown', this.handleKey_);
    document.addEventListener('DOMNodeRemoved', this.handleRemove_);
  };

  /**
   * Called on the first modal dialog being removed, i.e., when no more modal
   * dialogs are visible.
   */
  dialogPolyfill.DialogManager.prototype.unblockDocument = function() {
    document.body.removeChild(this.overlay);
    document.body.removeEventListener('focus', this.handleFocus_, true);
    document.removeEventListener('keydown', this.handleKey_);
    document.removeEventListener('DOMNodeRemoved', this.handleRemove_);
  };

  dialogPolyfill.DialogManager.prototype.updateStacking = function() {
    var zIndex = this.zIndexLow_;

    for (var i = 0; i < this.pendingDialogStack.length; i++) {
      if (i == this.pendingDialogStack.length - 1) {
        this.overlay.style.zIndex = zIndex++;
      }
      this.pendingDialogStack[i].updateZIndex(zIndex++, zIndex++);
    }
  };

  dialogPolyfill.DialogManager.prototype.handleFocus_ = function(event) {
    var candidate = findNearestDialog(/** @type {Element} */ (event.target));
    if (candidate != this.topDialogElement()) {
      event.preventDefault();
      event.stopPropagation();
      safeBlur(/** @type {Element} */ (event.target));
      // TODO: Focus on the browser chrome (aka document) or the dialog itself
      // depending on the tab direction.
      return false;
    }
  };

  dialogPolyfill.DialogManager.prototype.handleKey_ = function(event) {
    if (event.keyCode == 27) {
      event.preventDefault();
      event.stopPropagation();
      var cancelEvent = new supportCustomEvent('cancel', {
        bubbles: false,
        cancelable: true
      });
      var dialog = this.topDialogElement();
      if (dialog.dispatchEvent(cancelEvent)) {
        dialog.close();
      }
    }
  };

  dialogPolyfill.DialogManager.prototype.handleRemove_ = function(event) {
    if (event.target.nodeName.toUpperCase() != 'DIALOG') { return; }

    var dialog = /** @type {HTMLDialogElement} */ (event.target);
    if (!dialog.open) { return; }

    // Find a dialogPolyfillInfo which matches the removed <dialog>.
    this.pendingDialogStack.some(function(dpi) {
      if (dpi.dialog == dialog) {
        // This call will clear the dialogPolyfillInfo on this DialogManager
        // as a side effect.
        dpi.maybeHideModal();
        return true;
      }
    });
  };

  /**
   * @param {!dialogPolyfillInfo} dpi
   * @return {boolean} whether the dialog was allowed
   */
  dialogPolyfill.DialogManager.prototype.pushDialog = function(dpi) {
    var allowed = (this.zIndexHigh_ - this.zIndexLow_) / 2 - 1;
    if (this.pendingDialogStack.length >= allowed) {
      return false;
    }
    this.pendingDialogStack.push(dpi);
    if (this.pendingDialogStack.length == 1) {
      this.blockDocument();
    }
    this.updateStacking();
    return true;
  };

  /**
   * @param {dialogPolyfillInfo} dpi
   */
  dialogPolyfill.DialogManager.prototype.removeDialog = function(dpi) {
    var index = this.pendingDialogStack.indexOf(dpi);
    if (index == -1) { return; }

    this.pendingDialogStack.splice(index, 1);
    this.updateStacking();
    if (this.pendingDialogStack.length == 0) {
      this.unblockDocument();
    }
  };

  dialogPolyfill.dm = new dialogPolyfill.DialogManager();

  /**
   * Global form 'dialog' method handler. Closes a dialog correctly on submit
   * and possibly sets its return value.
   */
  document.addEventListener('submit', function(ev) {
    var target = ev.target;
    if (!target || !target.hasAttribute('method')) { return; }
    if (target.getAttribute('method').toLowerCase() != 'dialog') { return; }
    ev.preventDefault();

    var dialog = findNearestDialog(/** @type {Element} */ (ev.target));
    if (!dialog) { return; }

    // FIXME: The original event doesn't contain the element used to submit the
    // form (if any). Look in some possible places.
    var returnValue;
    var cands = [document.activeElement, ev.explicitOriginalTarget];
    var els = ['BUTTON', 'INPUT'];
    cands.some(function(cand) {
      if (cand && cand.form == ev.target && els.indexOf(cand.nodeName.toUpperCase()) != -1) {
        returnValue = cand.value;
        return true;
      }
    });
    dialog.close(returnValue);
  }, true);

  dialogPolyfill['forceRegisterDialog'] = dialogPolyfill.forceRegisterDialog;
  dialogPolyfill['registerDialog'] = dialogPolyfill.registerDialog;

  if (typeof module === 'object' && typeof module['exports'] === 'object') {
    // CommonJS support
    module['exports'] = dialogPolyfill;
  } else if (typeof define === 'function' && 'amd' in define) {
    // AMD support
    define(function() { return dialogPolyfill; });
  } else {
    // all others
    window['dialogPolyfill'] = dialogPolyfill;
  }
})();

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJkaWFsb2ctcG9seWZpbGwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCkge1xyXG5cclxuICB2YXIgc3VwcG9ydEN1c3RvbUV2ZW50ID0gd2luZG93LkN1c3RvbUV2ZW50O1xyXG4gIGlmICghc3VwcG9ydEN1c3RvbUV2ZW50IHx8IHR5cGVvZiBzdXBwb3J0Q3VzdG9tRXZlbnQgPT0gJ29iamVjdCcpIHtcclxuICAgIHN1cHBvcnRDdXN0b21FdmVudCA9IGZ1bmN0aW9uIEN1c3RvbUV2ZW50KGV2ZW50LCB4KSB7XHJcbiAgICAgIHggPSB4IHx8IHt9O1xyXG4gICAgICB2YXIgZXYgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnQ3VzdG9tRXZlbnQnKTtcclxuICAgICAgZXYuaW5pdEN1c3RvbUV2ZW50KGV2ZW50LCAhIXguYnViYmxlcywgISF4LmNhbmNlbGFibGUsIHguZGV0YWlsIHx8IG51bGwpO1xyXG4gICAgICByZXR1cm4gZXY7XHJcbiAgICB9O1xyXG4gICAgc3VwcG9ydEN1c3RvbUV2ZW50LnByb3RvdHlwZSA9IHdpbmRvdy5FdmVudC5wcm90b3R5cGU7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBGaW5kcyB0aGUgbmVhcmVzdCA8ZGlhbG9nPiBmcm9tIHRoZSBwYXNzZWQgZWxlbWVudC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gZWwgdG8gc2VhcmNoIGZyb21cclxuICAgKiBAcmV0dXJuIHtIVE1MRGlhbG9nRWxlbWVudH0gZGlhbG9nIGZvdW5kXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gZmluZE5lYXJlc3REaWFsb2coZWwpIHtcclxuICAgIHdoaWxlIChlbCkge1xyXG4gICAgICBpZiAoZWwubm9kZU5hbWUudG9VcHBlckNhc2UoKSA9PSAnRElBTE9HJykge1xyXG4gICAgICAgIHJldHVybiAvKiogQHR5cGUge0hUTUxEaWFsb2dFbGVtZW50fSAqLyAoZWwpO1xyXG4gICAgICB9XHJcbiAgICAgIGVsID0gZWwucGFyZW50RWxlbWVudDtcclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQmx1ciB0aGUgc3BlY2lmaWVkIGVsZW1lbnQsIGFzIGxvbmcgYXMgaXQncyBub3QgdGhlIEhUTUwgYm9keSBlbGVtZW50LlxyXG4gICAqIFRoaXMgd29ya3MgYXJvdW5kIGFuIElFOS8xMCBidWcgLSBibHVycmluZyB0aGUgYm9keSBjYXVzZXMgV2luZG93cyB0b1xyXG4gICAqIGJsdXIgdGhlIHdob2xlIGFwcGxpY2F0aW9uLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtFbGVtZW50fSBlbCB0byBibHVyXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gc2FmZUJsdXIoZWwpIHtcclxuICAgIGlmIChlbCAmJiBlbC5ibHVyICYmIGVsICE9IGRvY3VtZW50LmJvZHkpIHtcclxuICAgICAgZWwuYmx1cigpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHshTm9kZUxpc3R9IG5vZGVMaXN0IHRvIHNlYXJjaFxyXG4gICAqIEBwYXJhbSB7Tm9kZX0gbm9kZSB0byBmaW5kXHJcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gd2hldGhlciBub2RlIGlzIGluc2lkZSBub2RlTGlzdFxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGluTm9kZUxpc3Qobm9kZUxpc3QsIG5vZGUpIHtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZUxpc3QubGVuZ3RoOyArK2kpIHtcclxuICAgICAgaWYgKG5vZGVMaXN0W2ldID09IG5vZGUpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHshSFRNTERpYWxvZ0VsZW1lbnR9IGRpYWxvZyB0byB1cGdyYWRlXHJcbiAgICogQGNvbnN0cnVjdG9yXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gZGlhbG9nUG9seWZpbGxJbmZvKGRpYWxvZykge1xyXG4gICAgdGhpcy5kaWFsb2dfID0gZGlhbG9nO1xyXG4gICAgdGhpcy5yZXBsYWNlZFN0eWxlVG9wXyA9IGZhbHNlO1xyXG4gICAgdGhpcy5vcGVuQXNNb2RhbF8gPSBmYWxzZTtcclxuXHJcbiAgICBkaWFsb2cuc2hvdyA9IHRoaXMuc2hvdy5iaW5kKHRoaXMpO1xyXG4gICAgZGlhbG9nLnNob3dNb2RhbCA9IHRoaXMuc2hvd01vZGFsLmJpbmQodGhpcyk7XHJcbiAgICBkaWFsb2cuY2xvc2UgPSB0aGlzLmNsb3NlLmJpbmQodGhpcyk7XHJcblxyXG4gICAgaWYgKCEoJ3JldHVyblZhbHVlJyBpbiBkaWFsb2cpKSB7XHJcbiAgICAgIGRpYWxvZy5yZXR1cm5WYWx1ZSA9ICcnO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMubWF5YmVIaWRlTW9kYWwgPSB0aGlzLm1heWJlSGlkZU1vZGFsLmJpbmQodGhpcyk7XHJcbiAgICBpZiAoJ011dGF0aW9uT2JzZXJ2ZXInIGluIHdpbmRvdykge1xyXG4gICAgICAvLyBJRTExKywgbW9zdCBvdGhlciBicm93c2Vycy5cclxuICAgICAgdmFyIG1vID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIodGhpcy5tYXliZUhpZGVNb2RhbCk7XHJcbiAgICAgIG1vLm9ic2VydmUoZGlhbG9nLCB7IGF0dHJpYnV0ZXM6IHRydWUsIGF0dHJpYnV0ZUZpbHRlcjogWydvcGVuJ10gfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBkaWFsb2cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQXR0ck1vZGlmaWVkJywgdGhpcy5tYXliZUhpZGVNb2RhbCk7XHJcbiAgICB9XHJcbiAgICAvLyBOb3RlIHRoYXQgdGhlIERPTSBpcyBvYnNlcnZlZCBpbnNpZGUgRGlhbG9nTWFuYWdlciB3aGlsZSBhbnkgZGlhbG9nXHJcbiAgICAvLyBpcyBiZWluZyBkaXNwbGF5ZWQgYXMgYSBtb2RhbCwgdG8gY2F0Y2ggbW9kYWwgcmVtb3ZhbCBmcm9tIHRoZSBET00uXHJcblxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGRpYWxvZywgJ29wZW4nLCB7XHJcbiAgICAgIHNldDogdGhpcy5zZXRPcGVuLmJpbmQodGhpcyksXHJcbiAgICAgIGdldDogZGlhbG9nLmhhc0F0dHJpYnV0ZS5iaW5kKGRpYWxvZywgJ29wZW4nKVxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5iYWNrZHJvcF8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHRoaXMuYmFja2Ryb3BfLmNsYXNzTmFtZSA9ICdiYWNrZHJvcCc7XHJcbiAgICB0aGlzLmJhY2tkcm9wQ2xpY2tfID0gdGhpcy5iYWNrZHJvcENsaWNrXy5iaW5kKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgZGlhbG9nUG9seWZpbGxJbmZvLnByb3RvdHlwZSA9IHtcclxuXHJcbiAgICBnZXQgZGlhbG9nKCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5kaWFsb2dfO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIE1heWJlIHJlbW92ZSB0aGlzIGRpYWxvZyBmcm9tIHRoZSBtb2RhbCB0b3AgbGF5ZXIuIFRoaXMgaXMgY2FsbGVkIHdoZW5cclxuICAgICAqIGEgbW9kYWwgZGlhbG9nIG1heSBubyBsb25nZXIgYmUgdGVuYWJsZSwgZS5nLiwgd2hlbiB0aGUgZGlhbG9nIGlzIG5vXHJcbiAgICAgKiBsb25nZXIgb3BlbiBvciBpcyBubyBsb25nZXIgcGFydCBvZiB0aGUgRE9NLlxyXG4gICAgICovXHJcbiAgICBtYXliZUhpZGVNb2RhbDogZnVuY3Rpb24oKSB7XHJcbiAgICAgIGlmICghdGhpcy5vcGVuQXNNb2RhbF8pIHsgcmV0dXJuOyB9XHJcbiAgICAgIGlmICh0aGlzLmRpYWxvZ18uaGFzQXR0cmlidXRlKCdvcGVuJykgJiZcclxuICAgICAgICAgIGRvY3VtZW50LmJvZHkuY29udGFpbnModGhpcy5kaWFsb2dfKSkgeyByZXR1cm47IH1cclxuXHJcbiAgICAgIHRoaXMub3BlbkFzTW9kYWxfID0gZmFsc2U7XHJcbiAgICAgIHRoaXMuZGlhbG9nXy5zdHlsZS56SW5kZXggPSAnJztcclxuXHJcbiAgICAgIC8vIFRoaXMgd29uJ3QgbWF0Y2ggdGhlIG5hdGl2ZSA8ZGlhbG9nPiBleGFjdGx5IGJlY2F1c2UgaWYgdGhlIHVzZXIgc2V0XHJcbiAgICAgIC8vIHRvcCBvbiBhIGNlbnRlcmVkIHBvbHlmaWxsIGRpYWxvZywgdGhhdCB0b3AgZ2V0cyB0aHJvd24gYXdheSB3aGVuIHRoZVxyXG4gICAgICAvLyBkaWFsb2cgaXMgY2xvc2VkLiBOb3Qgc3VyZSBpdCdzIHBvc3NpYmxlIHRvIHBvbHlmaWxsIHRoaXMgcGVyZmVjdGx5LlxyXG4gICAgICBpZiAodGhpcy5yZXBsYWNlZFN0eWxlVG9wXykge1xyXG4gICAgICAgIHRoaXMuZGlhbG9nXy5zdHlsZS50b3AgPSAnJztcclxuICAgICAgICB0aGlzLnJlcGxhY2VkU3R5bGVUb3BfID0gZmFsc2U7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIE9wdGltaXN0aWNhbGx5IGNsZWFyIHRoZSBtb2RhbCBwYXJ0IG9mIHRoaXMgPGRpYWxvZz4uXHJcbiAgICAgIHRoaXMuYmFja2Ryb3BfLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5iYWNrZHJvcENsaWNrXyk7XHJcbiAgICAgIGlmICh0aGlzLmJhY2tkcm9wXy5wYXJlbnRFbGVtZW50KSB7XHJcbiAgICAgICAgdGhpcy5iYWNrZHJvcF8ucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzLmJhY2tkcm9wXyk7XHJcbiAgICAgIH1cclxuICAgICAgZGlhbG9nUG9seWZpbGwuZG0ucmVtb3ZlRGlhbG9nKHRoaXMpO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgd2hldGhlciB0byBvcGVuIG9yIGNsb3NlIHRoaXMgZGlhbG9nXHJcbiAgICAgKi9cclxuICAgIHNldE9wZW46IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuZGlhbG9nXy5oYXNBdHRyaWJ1dGUoJ29wZW4nKSB8fCB0aGlzLmRpYWxvZ18uc2V0QXR0cmlidXRlKCdvcGVuJywgJycpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuZGlhbG9nXy5yZW1vdmVBdHRyaWJ1dGUoJ29wZW4nKTtcclxuICAgICAgICB0aGlzLm1heWJlSGlkZU1vZGFsKCk7ICAvLyBuYi4gcmVkdW5kYW50IHdpdGggTXV0YXRpb25PYnNlcnZlclxyXG4gICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSGFuZGxlcyBjbGlja3Mgb24gdGhlIGZha2UgLmJhY2tkcm9wIGVsZW1lbnQsIHJlZGlyZWN0aW5nIHRoZW0gYXMgaWZcclxuICAgICAqIHRoZXkgd2VyZSBvbiB0aGUgZGlhbG9nIGl0c2VsZi5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0geyFFdmVudH0gZSB0byByZWRpcmVjdFxyXG4gICAgICovXHJcbiAgICBiYWNrZHJvcENsaWNrXzogZnVuY3Rpb24oZSkge1xyXG4gICAgICB2YXIgcmVkaXJlY3RlZEV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ01vdXNlRXZlbnRzJyk7XHJcbiAgICAgIHJlZGlyZWN0ZWRFdmVudC5pbml0TW91c2VFdmVudChlLnR5cGUsIGUuYnViYmxlcywgZS5jYW5jZWxhYmxlLCB3aW5kb3csXHJcbiAgICAgICAgICBlLmRldGFpbCwgZS5zY3JlZW5YLCBlLnNjcmVlblksIGUuY2xpZW50WCwgZS5jbGllbnRZLCBlLmN0cmxLZXksXHJcbiAgICAgICAgICBlLmFsdEtleSwgZS5zaGlmdEtleSwgZS5tZXRhS2V5LCBlLmJ1dHRvbiwgZS5yZWxhdGVkVGFyZ2V0KTtcclxuICAgICAgdGhpcy5kaWFsb2dfLmRpc3BhdGNoRXZlbnQocmVkaXJlY3RlZEV2ZW50KTtcclxuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXRzIHRoZSB6SW5kZXggZm9yIHRoZSBiYWNrZHJvcCBhbmQgZGlhbG9nLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiYWNrZHJvcFpcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkaWFsb2daXHJcbiAgICAgKi9cclxuICAgIHVwZGF0ZVpJbmRleDogZnVuY3Rpb24oYmFja2Ryb3BaLCBkaWFsb2daKSB7XHJcbiAgICAgIHRoaXMuYmFja2Ryb3BfLnN0eWxlLnpJbmRleCA9IGJhY2tkcm9wWjtcclxuICAgICAgdGhpcy5kaWFsb2dfLnN0eWxlLnpJbmRleCA9IGRpYWxvZ1o7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2hvd3MgdGhlIGRpYWxvZy4gVGhpcyBpcyBpZGVtcG90ZW50IGFuZCB3aWxsIGFsd2F5cyBzdWNjZWVkLlxyXG4gICAgICovXHJcbiAgICBzaG93OiBmdW5jdGlvbigpIHtcclxuICAgICAgdGhpcy5zZXRPcGVuKHRydWUpO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNob3cgdGhpcyBkaWFsb2cgbW9kYWxseS5cclxuICAgICAqL1xyXG4gICAgc2hvd01vZGFsOiBmdW5jdGlvbigpIHtcclxuICAgICAgaWYgKHRoaXMuZGlhbG9nXy5oYXNBdHRyaWJ1dGUoJ29wZW4nKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGV4ZWN1dGUgXFwnc2hvd01vZGFsXFwnIG9uIGRpYWxvZzogVGhlIGVsZW1lbnQgaXMgYWxyZWFkeSBvcGVuLCBhbmQgdGhlcmVmb3JlIGNhbm5vdCBiZSBvcGVuZWQgbW9kYWxseS4nKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoIWRvY3VtZW50LmJvZHkuY29udGFpbnModGhpcy5kaWFsb2dfKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGV4ZWN1dGUgXFwnc2hvd01vZGFsXFwnIG9uIGRpYWxvZzogVGhlIGVsZW1lbnQgaXMgbm90IGluIGEgRG9jdW1lbnQuJyk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKCFkaWFsb2dQb2x5ZmlsbC5kbS5wdXNoRGlhbG9nKHRoaXMpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZXhlY3V0ZSBcXCdzaG93TW9kYWxcXCcgb24gZGlhbG9nOiBUaGVyZSBhcmUgdG9vIG1hbnkgb3BlbiBtb2RhbCBkaWFsb2dzLicpO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuc2hvdygpO1xyXG4gICAgICB0aGlzLm9wZW5Bc01vZGFsXyA9IHRydWU7XHJcblxyXG4gICAgICAvLyBPcHRpb25hbGx5IGNlbnRlciB2ZXJ0aWNhbGx5LCByZWxhdGl2ZSB0byB0aGUgY3VycmVudCB2aWV3cG9ydC5cclxuICAgICAgaWYgKGRpYWxvZ1BvbHlmaWxsLm5lZWRzQ2VudGVyaW5nKHRoaXMuZGlhbG9nXykpIHtcclxuICAgICAgICBkaWFsb2dQb2x5ZmlsbC5yZXBvc2l0aW9uKHRoaXMuZGlhbG9nXyk7XHJcbiAgICAgICAgdGhpcy5yZXBsYWNlZFN0eWxlVG9wXyA9IHRydWU7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5yZXBsYWNlZFN0eWxlVG9wXyA9IGZhbHNlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBJbnNlcnQgYmFja2Ryb3AuXHJcbiAgICAgIHRoaXMuYmFja2Ryb3BfLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5iYWNrZHJvcENsaWNrXyk7XHJcbiAgICAgIHRoaXMuZGlhbG9nXy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0aGlzLmJhY2tkcm9wXyxcclxuICAgICAgICAgIHRoaXMuZGlhbG9nXy5uZXh0U2libGluZyk7XHJcblxyXG4gICAgICAvLyBGaW5kIGVsZW1lbnQgd2l0aCBgYXV0b2ZvY3VzYCBhdHRyaWJ1dGUgb3IgZmlyc3QgZm9ybSBjb250cm9sLlxyXG4gICAgICB2YXIgdGFyZ2V0ID0gdGhpcy5kaWFsb2dfLnF1ZXJ5U2VsZWN0b3IoJ1thdXRvZm9jdXNdOm5vdChbZGlzYWJsZWRdKScpO1xyXG4gICAgICBpZiAoIXRhcmdldCkge1xyXG4gICAgICAgIC8vIFRPRE86IHRlY2huaWNhbGx5IHRoaXMgaXMgJ2FueSBmb2N1c2FibGUgYXJlYSdcclxuICAgICAgICB2YXIgb3B0cyA9IFsnYnV0dG9uJywgJ2lucHV0JywgJ2tleWdlbicsICdzZWxlY3QnLCAndGV4dGFyZWEnXTtcclxuICAgICAgICB2YXIgcXVlcnkgPSBvcHRzLm1hcChmdW5jdGlvbihlbCkge1xyXG4gICAgICAgICAgcmV0dXJuIGVsICsgJzpub3QoW2Rpc2FibGVkXSknO1xyXG4gICAgICAgIH0pLmpvaW4oJywgJyk7XHJcbiAgICAgICAgdGFyZ2V0ID0gdGhpcy5kaWFsb2dfLnF1ZXJ5U2VsZWN0b3IocXVlcnkpO1xyXG4gICAgICB9XHJcbiAgICAgIHNhZmVCbHVyKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpO1xyXG4gICAgICB0YXJnZXQgJiYgdGFyZ2V0LmZvY3VzKCk7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2xvc2VzIHRoaXMgSFRNTERpYWxvZ0VsZW1lbnQuIFRoaXMgaXMgb3B0aW9uYWwgdnMgY2xlYXJpbmcgdGhlIG9wZW5cclxuICAgICAqIGF0dHJpYnV0ZSwgaG93ZXZlciB0aGlzIGZpcmVzIGEgJ2Nsb3NlJyBldmVudC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IG9wdF9yZXR1cm5WYWx1ZSB0byB1c2UgYXMgdGhlIHJldHVyblZhbHVlXHJcbiAgICAgKi9cclxuICAgIGNsb3NlOiBmdW5jdGlvbihvcHRfcmV0dXJuVmFsdWUpIHtcclxuICAgICAgaWYgKCF0aGlzLmRpYWxvZ18uaGFzQXR0cmlidXRlKCdvcGVuJykpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBleGVjdXRlIFxcJ2Nsb3NlXFwnIG9uIGRpYWxvZzogVGhlIGVsZW1lbnQgZG9lcyBub3QgaGF2ZSBhbiBcXCdvcGVuXFwnIGF0dHJpYnV0ZSwgYW5kIHRoZXJlZm9yZSBjYW5ub3QgYmUgY2xvc2VkLicpO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuc2V0T3BlbihmYWxzZSk7XHJcblxyXG4gICAgICAvLyBMZWF2ZSByZXR1cm5WYWx1ZSB1bnRvdWNoZWQgaW4gY2FzZSBpdCB3YXMgc2V0IGRpcmVjdGx5IG9uIHRoZSBlbGVtZW50XHJcbiAgICAgIGlmIChvcHRfcmV0dXJuVmFsdWUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHRoaXMuZGlhbG9nXy5yZXR1cm5WYWx1ZSA9IG9wdF9yZXR1cm5WYWx1ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gVHJpZ2dlcmluZyBcImNsb3NlXCIgZXZlbnQgZm9yIGFueSBhdHRhY2hlZCBsaXN0ZW5lcnMgb24gdGhlIDxkaWFsb2c+LlxyXG4gICAgICB2YXIgY2xvc2VFdmVudCA9IG5ldyBzdXBwb3J0Q3VzdG9tRXZlbnQoJ2Nsb3NlJywge1xyXG4gICAgICAgIGJ1YmJsZXM6IGZhbHNlLFxyXG4gICAgICAgIGNhbmNlbGFibGU6IGZhbHNlXHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLmRpYWxvZ18uZGlzcGF0Y2hFdmVudChjbG9zZUV2ZW50KTtcclxuICAgIH1cclxuXHJcbiAgfTtcclxuXHJcbiAgdmFyIGRpYWxvZ1BvbHlmaWxsID0ge307XHJcblxyXG4gIGRpYWxvZ1BvbHlmaWxsLnJlcG9zaXRpb24gPSBmdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgICB2YXIgc2Nyb2xsVG9wID0gZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcclxuICAgIHZhciB0b3BWYWx1ZSA9IHNjcm9sbFRvcCArICh3aW5kb3cuaW5uZXJIZWlnaHQgLSBlbGVtZW50Lm9mZnNldEhlaWdodCkgLyAyO1xyXG4gICAgZWxlbWVudC5zdHlsZS50b3AgPSBNYXRoLm1heChzY3JvbGxUb3AsIHRvcFZhbHVlKSArICdweCc7XHJcbiAgfTtcclxuXHJcbiAgZGlhbG9nUG9seWZpbGwuaXNJbmxpbmVQb3NpdGlvblNldEJ5U3R5bGVzaGVldCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZG9jdW1lbnQuc3R5bGVTaGVldHMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgdmFyIHN0eWxlU2hlZXQgPSBkb2N1bWVudC5zdHlsZVNoZWV0c1tpXTtcclxuICAgICAgdmFyIGNzc1J1bGVzID0gbnVsbDtcclxuICAgICAgLy8gU29tZSBicm93c2VycyB0aHJvdyBvbiBjc3NSdWxlcy5cclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjc3NSdWxlcyA9IHN0eWxlU2hlZXQuY3NzUnVsZXM7XHJcbiAgICAgIH0gY2F0Y2ggKGUpIHt9XHJcbiAgICAgIGlmICghY3NzUnVsZXMpXHJcbiAgICAgICAgY29udGludWU7XHJcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgY3NzUnVsZXMubGVuZ3RoOyArK2opIHtcclxuICAgICAgICB2YXIgcnVsZSA9IGNzc1J1bGVzW2pdO1xyXG4gICAgICAgIHZhciBzZWxlY3RlZE5vZGVzID0gbnVsbDtcclxuICAgICAgICAvLyBJZ25vcmUgZXJyb3JzIG9uIGludmFsaWQgc2VsZWN0b3IgdGV4dHMuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIHNlbGVjdGVkTm9kZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHJ1bGUuc2VsZWN0b3JUZXh0KTtcclxuICAgICAgICB9IGNhdGNoKGUpIHt9XHJcbiAgICAgICAgaWYgKCFzZWxlY3RlZE5vZGVzIHx8ICFpbk5vZGVMaXN0KHNlbGVjdGVkTm9kZXMsIGVsZW1lbnQpKVxyXG4gICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgdmFyIGNzc1RvcCA9IHJ1bGUuc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgndG9wJyk7XHJcbiAgICAgICAgdmFyIGNzc0JvdHRvbSA9IHJ1bGUuc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnYm90dG9tJyk7XHJcbiAgICAgICAgaWYgKChjc3NUb3AgJiYgY3NzVG9wICE9ICdhdXRvJykgfHwgKGNzc0JvdHRvbSAmJiBjc3NCb3R0b20gIT0gJ2F1dG8nKSlcclxuICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfTtcclxuXHJcbiAgZGlhbG9nUG9seWZpbGwubmVlZHNDZW50ZXJpbmcgPSBmdW5jdGlvbihkaWFsb2cpIHtcclxuICAgIHZhciBjb21wdXRlZFN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZGlhbG9nKTtcclxuICAgIGlmIChjb21wdXRlZFN0eWxlLnBvc2l0aW9uICE9ICdhYnNvbHV0ZScpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFdlIG11c3QgZGV0ZXJtaW5lIHdoZXRoZXIgdGhlIHRvcC9ib3R0b20gc3BlY2lmaWVkIHZhbHVlIGlzIG5vbi1hdXRvLiAgSW5cclxuICAgIC8vIFdlYktpdC9CbGluaywgY2hlY2tpbmcgY29tcHV0ZWRTdHlsZS50b3AgPT0gJ2F1dG8nIGlzIHN1ZmZpY2llbnQsIGJ1dFxyXG4gICAgLy8gRmlyZWZveCByZXR1cm5zIHRoZSB1c2VkIHZhbHVlLiBTbyB3ZSBkbyB0aGlzIGNyYXp5IHRoaW5nIGluc3RlYWQ6IGNoZWNrXHJcbiAgICAvLyB0aGUgaW5saW5lIHN0eWxlIGFuZCB0aGVuIGdvIHRocm91Z2ggQ1NTIHJ1bGVzLlxyXG4gICAgaWYgKChkaWFsb2cuc3R5bGUudG9wICE9ICdhdXRvJyAmJiBkaWFsb2cuc3R5bGUudG9wICE9ICcnKSB8fFxyXG4gICAgICAgIChkaWFsb2cuc3R5bGUuYm90dG9tICE9ICdhdXRvJyAmJiBkaWFsb2cuc3R5bGUuYm90dG9tICE9ICcnKSlcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgcmV0dXJuICFkaWFsb2dQb2x5ZmlsbC5pc0lubGluZVBvc2l0aW9uU2V0QnlTdHlsZXNoZWV0KGRpYWxvZyk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHshRWxlbWVudH0gZWxlbWVudCB0byBmb3JjZSB1cGdyYWRlXHJcbiAgICovXHJcbiAgZGlhbG9nUG9seWZpbGwuZm9yY2VSZWdpc3RlckRpYWxvZyA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuICAgIGlmIChlbGVtZW50LnNob3dNb2RhbCkge1xyXG4gICAgICBjb25zb2xlLndhcm4oJ1RoaXMgYnJvd3NlciBhbHJlYWR5IHN1cHBvcnRzIDxkaWFsb2c+LCB0aGUgcG9seWZpbGwgJyArXHJcbiAgICAgICAgICAnbWF5IG5vdCB3b3JrIGNvcnJlY3RseScsIGVsZW1lbnQpO1xyXG4gICAgfVxyXG4gICAgaWYgKGVsZW1lbnQubm9kZU5hbWUudG9VcHBlckNhc2UoKSAhPSAnRElBTE9HJykge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byByZWdpc3RlciBkaWFsb2c6IFRoZSBlbGVtZW50IGlzIG5vdCBhIGRpYWxvZy4nKTtcclxuICAgIH1cclxuICAgIG5ldyBkaWFsb2dQb2x5ZmlsbEluZm8oLyoqIEB0eXBlIHshSFRNTERpYWxvZ0VsZW1lbnR9ICovIChlbGVtZW50KSk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHshRWxlbWVudH0gZWxlbWVudCB0byB1cGdyYWRlXHJcbiAgICovXHJcbiAgZGlhbG9nUG9seWZpbGwucmVnaXN0ZXJEaWFsb2cgPSBmdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgICBpZiAoZWxlbWVudC5zaG93TW9kYWwpIHtcclxuICAgICAgY29uc29sZS53YXJuKCdDYW5cXCd0IHVwZ3JhZGUgPGRpYWxvZz46IGFscmVhZHkgc3VwcG9ydGVkJywgZWxlbWVudCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBkaWFsb2dQb2x5ZmlsbC5mb3JjZVJlZ2lzdGVyRGlhbG9nKGVsZW1lbnQpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBjb25zdHJ1Y3RvclxyXG4gICAqL1xyXG4gIGRpYWxvZ1BvbHlmaWxsLkRpYWxvZ01hbmFnZXIgPSBmdW5jdGlvbigpIHtcclxuICAgIC8qKiBAdHlwZSB7IUFycmF5PCFkaWFsb2dQb2x5ZmlsbEluZm8+fSAqL1xyXG4gICAgdGhpcy5wZW5kaW5nRGlhbG9nU3RhY2sgPSBbXTtcclxuXHJcbiAgICAvLyBUaGUgb3ZlcmxheSBpcyB1c2VkIHRvIHNpbXVsYXRlIGhvdyBhIG1vZGFsIGRpYWxvZyBibG9ja3MgdGhlIGRvY3VtZW50LlxyXG4gICAgLy8gVGhlIGJsb2NraW5nIGRpYWxvZyBpcyBwb3NpdGlvbmVkIG9uIHRvcCBvZiB0aGUgb3ZlcmxheSwgYW5kIHRoZSByZXN0IG9mXHJcbiAgICAvLyB0aGUgZGlhbG9ncyBvbiB0aGUgcGVuZGluZyBkaWFsb2cgc3RhY2sgYXJlIHBvc2l0aW9uZWQgYmVsb3cgaXQuIEluIHRoZVxyXG4gICAgLy8gYWN0dWFsIGltcGxlbWVudGF0aW9uLCB0aGUgbW9kYWwgZGlhbG9nIHN0YWNraW5nIGlzIGNvbnRyb2xsZWQgYnkgdGhlXHJcbiAgICAvLyB0b3AgbGF5ZXIsIHdoZXJlIHotaW5kZXggaGFzIG5vIGVmZmVjdC5cclxuICAgIHRoaXMub3ZlcmxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdGhpcy5vdmVybGF5LmNsYXNzTmFtZSA9ICdfZGlhbG9nX292ZXJsYXknO1xyXG4gICAgdGhpcy5vdmVybGF5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5oYW5kbGVLZXlfID0gdGhpcy5oYW5kbGVLZXlfLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLmhhbmRsZUZvY3VzXyA9IHRoaXMuaGFuZGxlRm9jdXNfLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLmhhbmRsZVJlbW92ZV8gPSB0aGlzLmhhbmRsZVJlbW92ZV8uYmluZCh0aGlzKTtcclxuXHJcbiAgICB0aGlzLnpJbmRleExvd18gPSAxMDAwMDA7XHJcbiAgICB0aGlzLnpJbmRleEhpZ2hfID0gMTAwMDAwICsgMTUwO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEByZXR1cm4ge0VsZW1lbnR9IHRoZSB0b3AgSFRNTCBkaWFsb2cgZWxlbWVudCwgaWYgYW55XHJcbiAgICovXHJcbiAgZGlhbG9nUG9seWZpbGwuRGlhbG9nTWFuYWdlci5wcm90b3R5cGUudG9wRGlhbG9nRWxlbWVudCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgaWYgKHRoaXMucGVuZGluZ0RpYWxvZ1N0YWNrLmxlbmd0aCkge1xyXG4gICAgICB2YXIgdCA9IHRoaXMucGVuZGluZ0RpYWxvZ1N0YWNrW3RoaXMucGVuZGluZ0RpYWxvZ1N0YWNrLmxlbmd0aCAtIDFdO1xyXG4gICAgICByZXR1cm4gdC5kaWFsb2c7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBDYWxsZWQgb24gdGhlIGZpcnN0IG1vZGFsIGRpYWxvZyBiZWluZyBzaG93bi4gQWRkcyB0aGUgb3ZlcmxheSBhbmQgcmVsYXRlZFxyXG4gICAqIGhhbmRsZXJzLlxyXG4gICAqL1xyXG4gIGRpYWxvZ1BvbHlmaWxsLkRpYWxvZ01hbmFnZXIucHJvdG90eXBlLmJsb2NrRG9jdW1lbnQgPSBmdW5jdGlvbigpIHtcclxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5vdmVybGF5KTtcclxuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLmhhbmRsZUZvY3VzXywgdHJ1ZSk7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5oYW5kbGVLZXlfKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTU5vZGVSZW1vdmVkJywgdGhpcy5oYW5kbGVSZW1vdmVfKTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBDYWxsZWQgb24gdGhlIGZpcnN0IG1vZGFsIGRpYWxvZyBiZWluZyByZW1vdmVkLCBpLmUuLCB3aGVuIG5vIG1vcmUgbW9kYWxcclxuICAgKiBkaWFsb2dzIGFyZSB2aXNpYmxlLlxyXG4gICAqL1xyXG4gIGRpYWxvZ1BvbHlmaWxsLkRpYWxvZ01hbmFnZXIucHJvdG90eXBlLnVuYmxvY2tEb2N1bWVudCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0aGlzLm92ZXJsYXkpO1xyXG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuaGFuZGxlRm9jdXNfLCB0cnVlKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmhhbmRsZUtleV8pO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignRE9NTm9kZVJlbW92ZWQnLCB0aGlzLmhhbmRsZVJlbW92ZV8pO1xyXG4gIH07XHJcblxyXG4gIGRpYWxvZ1BvbHlmaWxsLkRpYWxvZ01hbmFnZXIucHJvdG90eXBlLnVwZGF0ZVN0YWNraW5nID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgekluZGV4ID0gdGhpcy56SW5kZXhMb3dfO1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wZW5kaW5nRGlhbG9nU3RhY2subGVuZ3RoOyBpKyspIHtcclxuICAgICAgaWYgKGkgPT0gdGhpcy5wZW5kaW5nRGlhbG9nU3RhY2subGVuZ3RoIC0gMSkge1xyXG4gICAgICAgIHRoaXMub3ZlcmxheS5zdHlsZS56SW5kZXggPSB6SW5kZXgrKztcclxuICAgICAgfVxyXG4gICAgICB0aGlzLnBlbmRpbmdEaWFsb2dTdGFja1tpXS51cGRhdGVaSW5kZXgoekluZGV4KyssIHpJbmRleCsrKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBkaWFsb2dQb2x5ZmlsbC5EaWFsb2dNYW5hZ2VyLnByb3RvdHlwZS5oYW5kbGVGb2N1c18gPSBmdW5jdGlvbihldmVudCkge1xyXG4gICAgdmFyIGNhbmRpZGF0ZSA9IGZpbmROZWFyZXN0RGlhbG9nKC8qKiBAdHlwZSB7RWxlbWVudH0gKi8gKGV2ZW50LnRhcmdldCkpO1xyXG4gICAgaWYgKGNhbmRpZGF0ZSAhPSB0aGlzLnRvcERpYWxvZ0VsZW1lbnQoKSkge1xyXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgc2FmZUJsdXIoLyoqIEB0eXBlIHtFbGVtZW50fSAqLyAoZXZlbnQudGFyZ2V0KSk7XHJcbiAgICAgIC8vIFRPRE86IEZvY3VzIG9uIHRoZSBicm93c2VyIGNocm9tZSAoYWthIGRvY3VtZW50KSBvciB0aGUgZGlhbG9nIGl0c2VsZlxyXG4gICAgICAvLyBkZXBlbmRpbmcgb24gdGhlIHRhYiBkaXJlY3Rpb24uXHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBkaWFsb2dQb2x5ZmlsbC5EaWFsb2dNYW5hZ2VyLnByb3RvdHlwZS5oYW5kbGVLZXlfID0gZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgIGlmIChldmVudC5rZXlDb2RlID09IDI3KSB7XHJcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICB2YXIgY2FuY2VsRXZlbnQgPSBuZXcgc3VwcG9ydEN1c3RvbUV2ZW50KCdjYW5jZWwnLCB7XHJcbiAgICAgICAgYnViYmxlczogZmFsc2UsXHJcbiAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZVxyXG4gICAgICB9KTtcclxuICAgICAgdmFyIGRpYWxvZyA9IHRoaXMudG9wRGlhbG9nRWxlbWVudCgpO1xyXG4gICAgICBpZiAoZGlhbG9nLmRpc3BhdGNoRXZlbnQoY2FuY2VsRXZlbnQpKSB7XHJcbiAgICAgICAgZGlhbG9nLmNsb3NlKCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9O1xyXG5cclxuICBkaWFsb2dQb2x5ZmlsbC5EaWFsb2dNYW5hZ2VyLnByb3RvdHlwZS5oYW5kbGVSZW1vdmVfID0gZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgIGlmIChldmVudC50YXJnZXQubm9kZU5hbWUudG9VcHBlckNhc2UoKSAhPSAnRElBTE9HJykgeyByZXR1cm47IH1cclxuXHJcbiAgICB2YXIgZGlhbG9nID0gLyoqIEB0eXBlIHtIVE1MRGlhbG9nRWxlbWVudH0gKi8gKGV2ZW50LnRhcmdldCk7XHJcbiAgICBpZiAoIWRpYWxvZy5vcGVuKSB7IHJldHVybjsgfVxyXG5cclxuICAgIC8vIEZpbmQgYSBkaWFsb2dQb2x5ZmlsbEluZm8gd2hpY2ggbWF0Y2hlcyB0aGUgcmVtb3ZlZCA8ZGlhbG9nPi5cclxuICAgIHRoaXMucGVuZGluZ0RpYWxvZ1N0YWNrLnNvbWUoZnVuY3Rpb24oZHBpKSB7XHJcbiAgICAgIGlmIChkcGkuZGlhbG9nID09IGRpYWxvZykge1xyXG4gICAgICAgIC8vIFRoaXMgY2FsbCB3aWxsIGNsZWFyIHRoZSBkaWFsb2dQb2x5ZmlsbEluZm8gb24gdGhpcyBEaWFsb2dNYW5hZ2VyXHJcbiAgICAgICAgLy8gYXMgYSBzaWRlIGVmZmVjdC5cclxuICAgICAgICBkcGkubWF5YmVIaWRlTW9kYWwoKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHshZGlhbG9nUG9seWZpbGxJbmZvfSBkcGlcclxuICAgKiBAcmV0dXJuIHtib29sZWFufSB3aGV0aGVyIHRoZSBkaWFsb2cgd2FzIGFsbG93ZWRcclxuICAgKi9cclxuICBkaWFsb2dQb2x5ZmlsbC5EaWFsb2dNYW5hZ2VyLnByb3RvdHlwZS5wdXNoRGlhbG9nID0gZnVuY3Rpb24oZHBpKSB7XHJcbiAgICB2YXIgYWxsb3dlZCA9ICh0aGlzLnpJbmRleEhpZ2hfIC0gdGhpcy56SW5kZXhMb3dfKSAvIDIgLSAxO1xyXG4gICAgaWYgKHRoaXMucGVuZGluZ0RpYWxvZ1N0YWNrLmxlbmd0aCA+PSBhbGxvd2VkKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHRoaXMucGVuZGluZ0RpYWxvZ1N0YWNrLnB1c2goZHBpKTtcclxuICAgIGlmICh0aGlzLnBlbmRpbmdEaWFsb2dTdGFjay5sZW5ndGggPT0gMSkge1xyXG4gICAgICB0aGlzLmJsb2NrRG9jdW1lbnQoKTtcclxuICAgIH1cclxuICAgIHRoaXMudXBkYXRlU3RhY2tpbmcoKTtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7ZGlhbG9nUG9seWZpbGxJbmZvfSBkcGlcclxuICAgKi9cclxuICBkaWFsb2dQb2x5ZmlsbC5EaWFsb2dNYW5hZ2VyLnByb3RvdHlwZS5yZW1vdmVEaWFsb2cgPSBmdW5jdGlvbihkcGkpIHtcclxuICAgIHZhciBpbmRleCA9IHRoaXMucGVuZGluZ0RpYWxvZ1N0YWNrLmluZGV4T2YoZHBpKTtcclxuICAgIGlmIChpbmRleCA9PSAtMSkgeyByZXR1cm47IH1cclxuXHJcbiAgICB0aGlzLnBlbmRpbmdEaWFsb2dTdGFjay5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgdGhpcy51cGRhdGVTdGFja2luZygpO1xyXG4gICAgaWYgKHRoaXMucGVuZGluZ0RpYWxvZ1N0YWNrLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgIHRoaXMudW5ibG9ja0RvY3VtZW50KCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgZGlhbG9nUG9seWZpbGwuZG0gPSBuZXcgZGlhbG9nUG9seWZpbGwuRGlhbG9nTWFuYWdlcigpO1xyXG5cclxuICAvKipcclxuICAgKiBHbG9iYWwgZm9ybSAnZGlhbG9nJyBtZXRob2QgaGFuZGxlci4gQ2xvc2VzIGEgZGlhbG9nIGNvcnJlY3RseSBvbiBzdWJtaXRcclxuICAgKiBhbmQgcG9zc2libHkgc2V0cyBpdHMgcmV0dXJuIHZhbHVlLlxyXG4gICAqL1xyXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGZ1bmN0aW9uKGV2KSB7XHJcbiAgICB2YXIgdGFyZ2V0ID0gZXYudGFyZ2V0O1xyXG4gICAgaWYgKCF0YXJnZXQgfHwgIXRhcmdldC5oYXNBdHRyaWJ1dGUoJ21ldGhvZCcpKSB7IHJldHVybjsgfVxyXG4gICAgaWYgKHRhcmdldC5nZXRBdHRyaWJ1dGUoJ21ldGhvZCcpLnRvTG93ZXJDYXNlKCkgIT0gJ2RpYWxvZycpIHsgcmV0dXJuOyB9XHJcbiAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgIHZhciBkaWFsb2cgPSBmaW5kTmVhcmVzdERpYWxvZygvKiogQHR5cGUge0VsZW1lbnR9ICovIChldi50YXJnZXQpKTtcclxuICAgIGlmICghZGlhbG9nKSB7IHJldHVybjsgfVxyXG5cclxuICAgIC8vIEZJWE1FOiBUaGUgb3JpZ2luYWwgZXZlbnQgZG9lc24ndCBjb250YWluIHRoZSBlbGVtZW50IHVzZWQgdG8gc3VibWl0IHRoZVxyXG4gICAgLy8gZm9ybSAoaWYgYW55KS4gTG9vayBpbiBzb21lIHBvc3NpYmxlIHBsYWNlcy5cclxuICAgIHZhciByZXR1cm5WYWx1ZTtcclxuICAgIHZhciBjYW5kcyA9IFtkb2N1bWVudC5hY3RpdmVFbGVtZW50LCBldi5leHBsaWNpdE9yaWdpbmFsVGFyZ2V0XTtcclxuICAgIHZhciBlbHMgPSBbJ0JVVFRPTicsICdJTlBVVCddO1xyXG4gICAgY2FuZHMuc29tZShmdW5jdGlvbihjYW5kKSB7XHJcbiAgICAgIGlmIChjYW5kICYmIGNhbmQuZm9ybSA9PSBldi50YXJnZXQgJiYgZWxzLmluZGV4T2YoY2FuZC5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpKSAhPSAtMSkge1xyXG4gICAgICAgIHJldHVyblZhbHVlID0gY2FuZC52YWx1ZTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBkaWFsb2cuY2xvc2UocmV0dXJuVmFsdWUpO1xyXG4gIH0sIHRydWUpO1xyXG5cclxuICBkaWFsb2dQb2x5ZmlsbFsnZm9yY2VSZWdpc3RlckRpYWxvZyddID0gZGlhbG9nUG9seWZpbGwuZm9yY2VSZWdpc3RlckRpYWxvZztcclxuICBkaWFsb2dQb2x5ZmlsbFsncmVnaXN0ZXJEaWFsb2cnXSA9IGRpYWxvZ1BvbHlmaWxsLnJlZ2lzdGVyRGlhbG9nO1xyXG5cclxuICBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZVsnZXhwb3J0cyddID09PSAnb2JqZWN0Jykge1xyXG4gICAgLy8gQ29tbW9uSlMgc3VwcG9ydFxyXG4gICAgbW9kdWxlWydleHBvcnRzJ10gPSBkaWFsb2dQb2x5ZmlsbDtcclxuICB9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgJ2FtZCcgaW4gZGVmaW5lKSB7XHJcbiAgICAvLyBBTUQgc3VwcG9ydFxyXG4gICAgZGVmaW5lKGZ1bmN0aW9uKCkgeyByZXR1cm4gZGlhbG9nUG9seWZpbGw7IH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICAvLyBhbGwgb3RoZXJzXHJcbiAgICB3aW5kb3dbJ2RpYWxvZ1BvbHlmaWxsJ10gPSBkaWFsb2dQb2x5ZmlsbDtcclxuICB9XHJcbn0pKCk7XHJcbiJdLCJmaWxlIjoiZGlhbG9nLXBvbHlmaWxsLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=

(function(n,t,i){"use strict";function s(n,t){return typeof t!="object"&&(t=t()),Object.keys(t).forEach(function(i){n[i]=t[i]}),n}function p(n){return{from:function(t){return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,{extend:function(i){s(n.prototype,typeof i!="object"?i(t.prototype):i)}}}}}function w(n,t){return t(n)}function u(n,t){function cr(){b.on("versionchange",function(){b.close();b.on("error").fire(new nt("Database version changed by other database connection."))})}function gi(n){this._cfg={version:n,storesSource:null,dbschema:{},tables:{},contentUpgrade:null};this.stores({})}function lr(n,t,i,u){var e,f,s,h,l,c;if(n===0)Object.keys(st).forEach(function(n){nr(t,n,st[n].primKey,st[n].indexes)}),e=b._createTransaction(yt,fi,st),e.idbtrans=t,e.idbtrans.onerror=o(i,["populating database"]),e.on("error").subscribe(i),r.newPSD(function(){r.PSD.trans=e;try{b.on("populate").fire(e)}catch(n){u.onerror=t.onerror=function(n){n.preventDefault()};try{t.abort()}catch(f){}t.db.close();i(n)}});else{if(f=[],s=ui.filter(function(t){return t._cfg.version===n})[0],!s)throw new nt("Dexie specification of currently installed DB version is missing");st=b._dbSchema=s._cfg.dbschema;h=!1;l=ui.filter(function(t){return t._cfg.version>n});l.forEach(function(n){var e=st,r=n._cfg.dbschema,u;or(e,t);or(r,t);st=b._dbSchema=r;u=ar(e,r);u.add.forEach(function(n){f.push(function(t,i){nr(t,n[0],n[1].primKey,n[1].indexes);i()})});u.change.forEach(function(n){if(n.recreate)throw new nt("Not yet support for changing primary key");else f.push(function(t,i){var r=t.objectStore(n.name);n.add.forEach(function(n){tr(r,n)});n.change.forEach(function(n){r.deleteIndex(n.name);tr(r,n)});n.del.forEach(function(n){r.deleteIndex(n)});i()})});n._cfg.contentUpgrade&&f.push(function(t,u){var f,e;h=!0;f=b._createTransaction(yt,[].slice.call(t.db.objectStoreNames,0),r);f.idbtrans=t;e=0;f._promise=w(f._promise,function(n){return function(t,i,r){function f(n){return function(){n.apply(this,arguments);--e==0&&u()}}return++e,n.call(this,t,function(n,t){arguments[0]=f(n);arguments[1]=f(t);i.apply(this,arguments)},r)}});t.onerror=o(i,["running upgrader function for version",n._cfg.version]);f.on("error").subscribe(i);n._cfg.contentUpgrade(f);e===0&&u()});h&&dr()||f.push(function(n,t){yr(r,n);t()})});c=function(){try{f.length?f.shift()(t,c):vr(st,t)}catch(n){u.onerror=t.onerror=function(n){n.preventDefault()};try{t.abort()}catch(r){}t.db.close();i(n)}};c()}}function ar(n,t){var f={del:[],add:[],change:[]},r,e,o,i,c,s,u,l,h;for(r in n)t[r]||f.del.push(r);for(r in t)if(e=n[r],o=t[r],e)if(i={name:r,def:t[r],recreate:!1,del:[],add:[],change:[]},e.primKey.src!==o.primKey.src)i.recreate=!0,f.change.push(i);else{c=e.indexes.reduce(function(n,t){return n[t.name]=t,n},{});s=o.indexes.reduce(function(n,t){return n[t.name]=t,n},{});for(u in c)s[u]||i.del.push(u);for(u in s)l=c[u],h=s[u],l?l.src!==h.src&&i.change.push(h):i.add.push(h);(i.recreate||i.del.length>0||i.add.length>0||i.change.length>0)&&f.change.push(i)}else f.add.push([r,o]);return f}function nr(n,t,i,r){var u=n.db.createObjectStore(t,i.keyPath?{keyPath:i.keyPath,autoIncrement:i.auto}:{autoIncrement:i.auto});return r.forEach(function(n){tr(u,n)}),u}function vr(n,t){Object.keys(n).forEach(function(i){t.db.objectStoreNames.contains(i)||nr(t,i,n[i].primKey,n[i].indexes)})}function yr(n,t){for(var u,r=0;r<t.db.objectStoreNames.length;++r)u=t.db.objectStoreNames[r],(n[u]===null||n[u]===i)&&t.db.deleteObjectStore(u)}function tr(n,t){n.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function pr(n,t){throw new nt("Table "+t[0]+" not part of transaction. Original Scope Function Source: "+u.Promise.PSD.trans.scopeFunc.toString());}function oi(n,t,i,r){this.name=n;this.schema=i;this.hook=dt[n]?dt[n].hook:v(null,{creating:[at,f],reading:[lt,tt],updating:[vt,f],deleting:[wt,f]});this._tpf=t;this._collClass=r||ai}function wi(n,t,i,r){oi.call(this,n,t,i,r||rr)}function ir(n,t,i,r){function o(n,t,i,r){return s._promise(n,i,r)}var s=this,f,u,e;for(this.db=b,this.mode=n,this.storeNames=t,this.idbtrans=null,this.on=v(this,["complete","error"],"abort"),this._reculock=0,this._blockedFuncs=[],this._psd=null,this.active=!0,this._dbschema=i,r&&(this.parent=r),this._tpf=o,this.tables=Object.create(di),f=t.length-1;f!==-1;--f)u=t[f],e=b._tableFactory(n,i[u],o),this.tables[u]=e,this[u]||(this[u]=e)}function li(n,t,i){this._ctx={table:n,index:t===":id"?null:t,collClass:n._collClass,or:i}}function ai(n,t){var r=null,u=null,i;if(t)try{r=t()}catch(f){u=f}i=n._ctx;this._ctx={table:i.table,index:i.index,isPrimKey:!i.index||i.table.schema.primKey.keyPath&&i.index===i.table.schema.primKey.name,range:r,op:"openCursor",dir:"next",unique:"",algorithm:null,filter:null,isMatch:null,offset:0,limit:Infinity,error:u,or:i.or}}function rr(){ai.apply(this,arguments)}function wr(n,t){return n._cfg.version-t._cfg.version}function ur(n,t,i,u,f,e){i.forEach(function(i){var o=b._tableFactory(u,f[i],t);n.forEach(function(n){n[i]||(e?Object.defineProperty(n,i,{configurable:!0,enumerable:!0,get:function(){var n=r.PSD&&r.PSD.trans;return n&&n.db===b?n.tables[i]:o}}):n[i]=o)})})}function br(n){n.forEach(function(n){for(var t in n)n[t]instanceof oi&&delete n[t]})}function bi(n,t,i,u,f,e){var s=r.PSD;e=e||tt;n.onerror||(n.onerror=o(f));n.onsuccess=t?d(function(){var r=n.result,o;r?(o=function(){r.continue()},t(r,function(n){o=n},u,f)&&i(e(r.value),r,function(n){o=n}),o()):u()},f,s):d(function(){var t=n.result,r;t?(r=function(){t.continue()},i(e(t.value),t,function(n){r=n}),r()):u()},f,s)}function kr(n){var t=[];return n.split(",").forEach(function(n){n=n.trim();var i=n.replace("&","").replace("++","").replace("*",""),r=i.indexOf("[")!==0?i:n.substring(n.indexOf("[")+1,n.indexOf("]")).split("+");t.push(new a(i,r||null,n.indexOf("&")!==-1,n.indexOf("*")!==-1,n.indexOf("++")!==-1,Array.isArray(r),r.indexOf(".")!==-1))}),t}function ii(n,t){return n<t?-1:n>t?1:0}function fr(n,t){return n<t?1:n>t?-1:0}function er(n){return function(t,i){for(var r=0,u;;){if(u=n(t[r],i[r]),u!==0)return u;if(++r,r===t.length||r===i.length)return n(t.length,i.length)}}}function ki(n,t){return n?t?function(){return n.apply(this,arguments)&&t.apply(this,arguments)}:n:t}function dr(){return navigator.userAgent.indexOf("Trident")>=0||navigator.userAgent.indexOf("MSIE")>=0}function gr(){if(b.verno=it.version/10,b._dbSchema=st={},fi=[].slice.call(it.objectStoreNames,0),fi.length!==0){var n=it.transaction(ot(fi),"readonly");fi.forEach(function(t){for(var u,s,r=n.objectStore(t),i=r.keyPath,f=i&&typeof i=="string"&&i.indexOf(".")!==-1,h=new a(i,i||"",!1,!1,!!r.autoIncrement,i&&typeof i!="string",f),o=[],e=0;e<r.indexNames.length;++e)u=r.index(r.indexNames[e]),i=u.keyPath,f=i&&typeof i=="string"&&i.indexOf(".")!==-1,s=new a(u.name,i,!!u.unique,!!u.multiEntry,!1,i&&typeof i!="string",f),o.push(s);st[t]=new et(t,h,o,{})});ur([dt],b._transPromiseFactory,Object.keys(st),yt,st)}}function or(n,t){for(var i,r,u,o,s=t.db.objectStoreNames,f=0;f<s.length;++f)for(i=s[f],r=t.objectStore(i),u=0;u<r.indexNames.length;++u){var h=r.indexNames[u],e=r.index(h).keyPath,c=typeof e=="string"?e:"["+[].slice.call(e).join("+")+"]";n[i]&&(o=n[i].idxByName[c],o&&(o.name=h))}}var hr=t&&t.addons||u.addons,si=u.dependencies,vi=si.indexedDB,kt=si.IDBKeyRange,nu=si.IDBTransaction,tu=si.DOMError,yi=si.TypeError,nt=si.Error,st=this._dbSchema={},ui=[],fi=[],dt={},di={},it=null,hi=!0,ei=null,pi=!1,ti="readonly",yt="readwrite",b=this,ri=[],ci=!0,sr=!!ct();this.version=function(n){if(it)throw new nt("Cannot add version when database is open");this.verno=Math.max(this.verno,n);var t=ui.filter(function(t){return t._cfg.version===n})[0];return t?t:(t=new gi(n),ui.push(t),ui.sort(wr),t)};s(gi.prototype,{stores:function(n){var i,t;return this._cfg.storesSource=this._cfg.storesSource?s(this._cfg.storesSource,n):n,i={},ui.forEach(function(n){s(i,n._cfg.storesSource)}),t=this._cfg.dbschema={},this._parseStoresSpec(i,t),st=b._dbSchema=t,br([dt,b,di]),ur([di],pr,Object.keys(t),yt,t),ur([dt,b,this._cfg.tables],b._transPromiseFactory,Object.keys(t),yt,t,!0),fi=Object.keys(t),this},upgrade:function(n){var t=this;return k(function(){n(b._createTransaction(yt,Object.keys(t._cfg.dbschema),t._cfg.dbschema))}),this._cfg.contentUpgrade=n,this},_parseStoresSpec:function(n,t){Object.keys(n).forEach(function(i){if(n[i]!==null){var u={},f=kr(n[i]),r=f.shift();if(r.multi)throw new nt("Primary key cannot be multi-valued");r.keyPath&&h(u,r.keyPath,r.auto?0:r.keyPath);f.forEach(function(n){if(n.auto)throw new nt("Only primary key can be marked as autoIncrement (++)");if(!n.keyPath)throw new nt("Index must have a name and cannot be an empty string");h(u,n.keyPath,n.compound?n.keyPath.map(function(){return""}):"")});t[i]=new et(i,r,f,u)}})}});this._allTables=dt;this._tableFactory=function(n,t,i){return n===ti?new oi(t.name,i,t,ai):new wi(t.name,i,t)};this._createTransaction=function(n,t,i,r){return new ir(n,t,i,r)};this._transPromiseFactory=function(n,t,i){var f,u;return!hi||r.PSD&&r.PSD.letThrough?(u=b._createTransaction(n,t,st),u._promise(n,function(n,t){u.error(function(n){b.on("error").fire(n)});i(function(t){u.complete(function(){n(t)})},t,u)})):f=new r(function(r,u){ri.push({resume:function(){var e=b._transPromiseFactory(n,t,i);f.onuncatched=e.onuncatched;e.then(r,u)}})})};this._whenReady=function(n){return!e&&hi&&(!r.PSD||!r.PSD.letThrough)?new r(function(t,i){ri.push({resume:function(){n(t,i)}})}):new r(n)};this.verno=0;this.open=function(){return new r(function(t,i){function f(n){try{u.transaction.abort()}catch(t){}pi=!1;ei=n;hi=!1;i(ei);ri.forEach(function(n){n.resume()});ri=[]}if(e&&t(b),it||pi)throw new nt("Database already opened or being opened");var u,s=!1;try{if(ei=null,pi=!0,ui.length>0&&(ci=!1),!vi)throw new nt("indexedDB API not found. If using IE10+, make sure to run your code on a server URL (not locally). If using Safari, make sure to include indexedDB polyfill.");if(u=ci?vi.open(n):vi.open(n,Math.round(b.verno*10)),!u)throw new nt("IndexedDB API not available");u.onerror=o(f,["opening database",n]);u.onblocked=function(n){b.on("blocked").fire(n)};u.onupgradeneeded=d(function(t){var i,r;ci&&!b._allowEmptyDB?(u.onerror=function(n){n.preventDefault()},u.transaction.abort(),u.result.close(),i=vi.deleteDatabase(n),i.onsuccess=i.onerror=function(){f(new nt("Database '"+n+"' doesnt exist"))}):(t.oldVersion===0&&(s=!0),u.transaction.onerror=o(f),r=t.oldVersion>Math.pow(2,62)?0:t.oldVersion,lr(r/10,u.transaction,f,u))},f);u.onsuccess=d(function(){pi=!1;it=u.result;ci?gr():it.objectStoreNames.length>0&&or(st,it.transaction(ot(it.objectStoreNames),ti));it.onversionchange=b.on("versionchange").fire;sr||ft(function(t){if(t.indexOf(n)===-1)return t.push(n)});r.newPSD(function(){function i(){hi=!1;ri.forEach(function(n){n.resume()});ri=[];t(b)}r.PSD.letThrough=!0;try{var n=b.on.ready.fire();n&&typeof n.then=="function"?n.then(i,function(n){it.close();it=null;f(n)}):y(i)}catch(u){f(u)}})},f)}catch(h){f(h)}})};this.close=function(){it&&(it.close(),it=null,hi=!0,ei=null)};this.delete=function(){var t=arguments;return new r(function(i,r){function u(){b.close();var t=vi.deleteDatabase(n);t.onsuccess=function(){sr||ft(function(t){var i=t.indexOf(n);if(i>=0)return t.splice(i,1)});i()};t.onerror=o(r,["deleting",n]);t.onblocked=function(){b.on("blocked").fire()}}if(t.length>0)throw new nt("Arguments not allowed in db.delete()");pi?ri.push({resume:u}):u()})};this.backendDB=function(){return it};this.isOpen=function(){return it!==null};this.hasFailed=function(){return ei!==null};this.dynamicallyOpened=function(){return ci};this.name=n;Object.defineProperty(this,"tables",{get:function(){return Object.keys(dt).map(function(n){return dt[n]})}});this.on=v(this,"error","populate","blocked",{ready:[bt,f],versionchange:[pt,f]});this.on.ready.subscribe=w(this.on.ready.subscribe,function(n){return function(t,i){function r(){return i||b.on.ready.unsubscribe(r),t.apply(this,arguments)}n.call(this,r);b.isOpen()&&(hi?ri.push({resume:r}):r())}});k(function(){b.on("populate").fire(b._createTransaction(yt,fi,st));b.on("error").fire(new nt)});this.transaction=function(n,t,i){function s(t,e){var s=null,c,a,h;try{if(f)throw f;s=b._createTransaction(n,o,st,u);c=o.map(function(n){return s.tables[n]});c.push(s);h=0;r.newPSD(function(){r.PSD.trans=s;s.scopeFunc=i;u&&(s.idbtrans=u.idbtrans,s._promise=w(s._promise,function(n){return function(t,i,u){function f(n){return function(t){var i;return r._rootExec(function(){i=n(t);r._tickFinalize(function(){--h==0&&s.active&&(s.active=!1,s.on.complete.fire())})}),i}}return++h,n.call(this,t,function(n,t,r){return i(f(n),f(t),r)},u)}}));s.complete(function(){t(a)});s.error(function(n){s.idbtrans&&(s.idbtrans.onerror=ht);try{s.abort()}catch(i){}u&&(u.active=!1,u.on.error.fire(n));var t=e(n);u||t||b.on.error.fire(n)});r._rootExec(function(){a=i.apply(s,c)})});(!s.idbtrans||u&&h===0)&&s._nop()}catch(l){s&&s.idbtrans&&(s.idbtrans.onerror=ht);s&&s.abort();u&&u.on.error.fire(l);y(function(){e(l)||b.on("error").fire(l)})}}var u,e;t=[].slice.call(arguments,1,arguments.length-1);i=arguments[arguments.length-1];u=r.PSD&&r.PSD.trans;u&&u.db===b&&n.indexOf("!")===-1||(u=null);e=n.indexOf("?")!==-1;n=n.replace("!","").replace("?","");var h=Array.isArray(t[0])?t.reduce(function(n,t){return n.concat(t)}):t,f=null,o=h.map(function(n){return typeof n=="string"?n:(n instanceof oi||(f=f||new yi("Invalid type. Arguments following mode must be instances of Table or String")),n.name)});return n=="r"||n==ti?n=ti:n=="rw"||n==yt?n=yt:f=new nt("Invalid transaction mode: "+n),u&&(f||(u&&u.mode===ti&&n===yt&&(e?u=null:f=f||new nt("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY")),u&&o.forEach(function(n){u.tables.hasOwnProperty(n)||(e?u=null:f=f||new nt("Table "+n+" not included in parent transaction. Parent Transaction function: "+u.scopeFunc.toString()))}))),u?u._promise(n,s,"lock"):b._whenReady(s)};this.table=function(n){if(e&&ci)return new wi(n);if(!dt.hasOwnProperty(n))throw new nt("Table does not exist");return dt[n]};s(oi.prototype,function(){function n(){throw new nt("Current Transaction is READONLY");}return{_trans:function(n,t,i){return this._tpf(n,[this.name],t,i)},_idbstore:function(n,t,i){if(e)return new r(t);var u=this;return this._tpf(n,[this.name],function(n,i,r){t(n,i,r.idbtrans.objectStore(u.name),r)},i)},get:function(n,t){var i=this;return this._idbstore(ti,function(t,r,u){e&&t(i.schema.instanceTemplate);var f=u.get(n);f.onerror=o(r,["getting",n,"from",i.name]);f.onsuccess=function(){t(i.hook.reading.fire(f.result))}}).then(t)},where:function(n){return new li(this,n)},count:function(n){return this.toCollection().count(n)},offset:function(n){return this.toCollection().offset(n)},limit:function(n){return this.toCollection().limit(n)},reverse:function(){return this.toCollection().reverse()},filter:function(n){return this.toCollection().and(n)},each:function(n){var t=this;return e&&n(t.schema.instanceTemplate),this._idbstore(ti,function(i,r,u){var f=u.openCursor();f.onerror=o(r,["calling","Table.each()","on",t.name]);bi(f,null,n,i,r,t.hook.reading.fire)})},toArray:function(n){var t=this;return this._idbstore(ti,function(n,i,r){e&&n([t.schema.instanceTemplate]);var u=[],f=r.openCursor();f.onerror=o(i,["calling","Table.toArray()","on",t.name]);bi(f,null,function(n){u.push(n)},function(){n(u)},i,t.hook.reading.fire)}).then(n)},orderBy:function(n){return new this._collClass(new li(this,n))},toCollection:function(){return new this._collClass(new li(this))},mapToClass:function(n,t){var i,r;return this.schema.mappedClass=n,i=Object.create(n.prototype),t&&ut(i,t),this.schema.instanceTemplate=i,r=function(t){var r,i;if(!t)return t;r=Object.create(n.prototype);for(i in t)t.hasOwnProperty(i)&&(r[i]=t[i]);return r},this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=r,this.hook("reading",r),n},defineClass:function(n){return this.mapToClass(u.defineClass(n),n)},add:n,put:n,"delete":n,clear:n,update:n}});p(wi).from(oi).extend(function(){return{add:function(n,t){var u=this,r=this.hook.creating.fire;return this._idbstore(yt,function(e,s,l,a){var v={},w,y,p;r!==f&&(w=t||(l.keyPath?c(n,l.keyPath):i),y=r.call(v,w,n,a),w===i&&y!==i&&(l.keyPath?h(n,l.keyPath,y):t=y));p=t?l.add(n,t):l.add(n);p.onerror=o(function(n){if(v.onerror)v.onerror(n);return s(n)},["adding",n,"into",u.name]);p.onsuccess=function(t){var i=l.keyPath;if(i&&h(n,i,t.target.result),v.onsuccess)v.onsuccess(t.target.result);e(p.result)}})},put:function(n,t){var r=this,u=this.hook.creating.fire,e=this.hook.updating.fire;return u!==f||e!==f?this._trans(yt,function(u,f,e){var o=t||r.schema.primKey.keyPath&&c(n,r.schema.primKey.keyPath);o===i?e.tables[r.name].add(n).then(u,f):(e._lock(),n=l(n),e.tables[r.name].where(":id").equals(o).modify(function(){this.value=n}).then(function(i){return i===0?e.tables[r.name].add(n,t):o}).finally(function(){e._unlock()}).then(u,f))}):this._idbstore(yt,function(i,u,f){var e=t?f.put(n,t):f.put(n);e.onerror=o(u,["putting",n,"into",r.name]);e.onsuccess=function(t){var r=f.keyPath;r&&h(n,r,t.target.result);i(e.result)}})},"delete":function(n){return this.hook.deleting.subscribers.length?this.where(":id").equals(n).delete():this._idbstore(yt,function(t,i,r){var u=r.delete(n);u.onerror=o(i,["deleting",n,"from",r.name]);u.onsuccess=function(){t(u.result)}})},clear:function(){return this.hook.deleting.subscribers.length?this.toCollection().delete():this._idbstore(yt,function(n,t,i){var r=i.clear();r.onerror=o(t,["clearing",i.name]);r.onsuccess=function(){n(r.result)}})},update:function(n,t){if(typeof t!="object"||Array.isArray(t))throw new nt("db.update(keyOrObject, modifications). modifications must be an object.");if(typeof n!="object"||Array.isArray(n))return this.where(":id").equals(n).modify(t);Object.keys(t).forEach(function(i){h(n,i,t[i])});var u=c(n,this.schema.primKey.keyPath);return u===i&&r.reject(new nt("Object does not contain its primary key")),this.where(":id").equals(u).modify(t)}}});s(ir.prototype,{_lock:function(){return++this._reculock,this._reculock===1&&r.PSD&&(r.PSD.lockOwnerFor=this),this},_unlock:function(){if(--this._reculock==0)for(r.PSD&&(r.PSD.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var n=this._blockedFuncs.shift();try{n()}catch(t){}}return this},_locked:function(){return this._reculock&&(!r.PSD||r.PSD.lockOwnerFor!==this)},_nop:function(n){this.tables[this.storeNames[0]].get(0).then(n)},_promise:function(n,t,i){var f=this;return r.newPSD(function(){var e;return f._locked()?e=new r(function(r,u){f._blockedFuncs.push(function(){f._promise(n,t,i).then(r,u)})}):(e=f.active?new r(function(r,e){if(!f.idbtrans&&n){if(!it)throw ei?new nt("Database not open. Following error in populate, ready or upgrade function made Dexie.open() fail: "+ei):new nt("Database not open");var o=f.idbtrans=it.transaction(ot(f.storeNames),f.mode);o.onerror=function(n){f.on("error").fire(n&&n.target.error);n.preventDefault();f.abort()};o.onabort=function(n){y(function(){f.on("error").fire(new nt("Transaction aborted for unknown reason"))});f.active=!1;f.on("abort").fire(n)};o.oncomplete=function(n){f.active=!1;f.on("complete").fire(n)}}i&&f._lock();try{t(r,e,f)}catch(s){u.ignoreTransaction(function(){f.on("error").fire(s)});f.abort();e(s)}}):r.reject(ni(new nt("Transaction is inactive. Original Scope Function Source: "+f.scopeFunc.toString()))),f.active&&i&&e.finally(function(){f._unlock()})),e.onuncatched=function(n){u.ignoreTransaction(function(){f.on("error").fire(n)});f.abort()},e})},complete:function(n){return this.on("complete",n)},error:function(n){return this.on("error",n)},abort:function(){if(this.idbtrans&&this.active)try{this.active=!1;this.idbtrans.abort();this.on.error.fire(new nt("Transaction Aborted"))}catch(n){}},table:function(n){if(!this.tables.hasOwnProperty(n))throw new nt("Table "+n+" not in transaction");return this.tables[n]}});s(li.prototype,function(){function n(n,t){try{throw t;}catch(i){n._ctx.error=i}return n}function t(n){return Array.prototype.slice.call(n.length===1&&Array.isArray(n[0])?n[0]:n)}function r(n){return n==="next"?function(n){return n.toUpperCase()}:function(n){return n.toLowerCase()}}function u(n){return n==="next"?function(n){return n.toLowerCase()}:function(n){return n.toUpperCase()}}function f(n,t,i,r,u,f){for(var h,s=Math.min(n.length,r.length),o=-1,e=0;e<s;++e){if(h=t[e],h!==r[e])return u(n[e],i[e])<0?n.substr(0,e)+i[e]+i.substr(e+1):u(n[e],r[e])<0?n.substr(0,e)+r[e]+i.substr(e+1):o>=0?n.substr(0,o)+t[o]+i.substr(o+1):null;u(n[e],h)<0&&(o=e)}return s<r.length&&f==="next"?n+i.substr(n.length):s<n.length&&f==="prev"?n.substr(0,i.length):o<0?null:n.substr(0,o)+r[o]+i.substr(o+1)}function i(n,t,i){function a(n){s=r(n);e=u(n);h=n==="next"?ii:fr;c=s(i);o=e(i);l=n}var s,e,h,c,o,l;a("next");n._ondirectionchange=function(n){a(n)};n._addAlgorithm(function(n,i,r){var u=n.key,s,a;return typeof u!="string"?!1:(s=e(u),t(s,o)?(i(function(){n.continue()}),!0):(a=f(u,s,c,o,h,l),a?i(function(){n.continue(a)}):i(r),!1))})}return{between:function(n,t,i,r){return(i=i!==!1,r=r===!0,n>t||n===t&&(i||r)&&!(i&&r))?new this._ctx.collClass(this,function(){return kt.only(n)}).limit(0):new this._ctx.collClass(this,function(){return kt.bound(n,t,!i,!r)})},equals:function(n){return new this._ctx.collClass(this,function(){return kt.only(n)})},above:function(n){return new this._ctx.collClass(this,function(){return kt.lowerBound(n,!0)})},aboveOrEqual:function(n){return new this._ctx.collClass(this,function(){return kt.lowerBound(n)})},below:function(n){return new this._ctx.collClass(this,function(){return kt.upperBound(n,!0)})},belowOrEqual:function(n){return new this._ctx.collClass(this,function(){return kt.upperBound(n)})},startsWith:function(t){return typeof t!="string"?n(new this._ctx.collClass(this),new yi("String expected")):this.between(t,t+String.fromCharCode(65535),!0,!0)},startsWithIgnoreCase:function(t){if(typeof t!="string")return n(new this._ctx.collClass(this),new yi("String expected"));if(t==="")return this.startsWith(t);var r=new this._ctx.collClass(this,function(){return kt.bound(t.toUpperCase(),t.toLowerCase()+String.fromCharCode(65535))});return i(r,function(n,t){return n.indexOf(t)===0},t),r._ondirectionchange=function(){n(r,new nt("reverse() not supported with WhereClause.startsWithIgnoreCase()"))},r},equalsIgnoreCase:function(t){if(typeof t!="string")return n(new this._ctx.collClass(this),new yi("String expected"));var r=new this._ctx.collClass(this,function(){return kt.bound(t.toUpperCase(),t.toLowerCase())});return i(r,function(n,t){return n===t},t),r},anyOf:function(){var f=this._ctx,e=f.table.schema,o=f.index?e.idxByName[f.index]:e.primKey,s=o&&o.compound,n=t(arguments),i=s?er(ii):ii,u,r;return(n.sort(i),n.length===0)?new this._ctx.collClass(this,function(){return kt.only("")}).limit(0):(u=new this._ctx.collClass(this,function(){return kt.bound(n[0],n[n.length-1])}),u._ondirectionchange=function(t){i=t==="next"?ii:fr;s&&(i=er(i));n.sort(i)},r=0,u._addAlgorithm(function(t,u,f){for(var e=t.key;i(e,n[r])>0;)if(++r,r===n.length)return u(f),!1;return i(e,n[r])===0?(u(function(){t.continue()}),!0):(u(function(){t.continue(n[r])}),!1)}),u)},notEqual:function(n){return this.below(n).or(this._ctx.index).above(n)},noneOf:function(){var i=this._ctx,f=i.table.schema,e=i.index?f.idxByName[i.index]:f.primKey,h=e&&e.compound,n=t(arguments),o,r,s,u;return n.length===0?new this._ctx.collClass(this):(o=h?er(ii):ii,n.sort(o),r=n.reduce(function(n,t){return n?n.concat([[n[n.length-1][1],t]]):[[null,t]]},null),r.push([n[n.length-1],null]),s=this,u=i.index,r.reduce(function(n,t){return n?t[1]===null?n.or(u).above(t[0]):n.or(u).between(t[0],t[1],!1,!1):s.below(t[1])},null))},startsWithAnyOf:function(){function h(n){return n>f[r]}function c(n){return n<i[r]}var s=this._ctx,i=t(arguments),f,u,r,e,o;return i.every(function(n){return typeof n=="string"})?i.length===0?new s.collClass(this,function(){return kt.only("")}).limit(0):(f=i.map(function(n){return n+String.fromCharCode(65535)}),u=ii,i.sort(u),r=0,e=h,o=new s.collClass(this,function(){return kt.bound(i[0],i[i.length-1]+String.fromCharCode(65535))}),o._ondirectionchange=function(n){n==="next"?(e=h,u=ii):(e=c,u=fr);i.sort(u);f.sort(u)},o._addAlgorithm(function(n,t,o){for(var s=n.key;e(s);)if(++r,r===i.length)return t(o),!1;return s>=i[r]&&s<=f[r]?(t(function(){n.continue()}),!0):(t(function(){u===ii?n.continue(i[r]):n.continue(f[r])}),!1)}),o):n(new s.collClass(this),new yi("startsWithAnyOf() only works with strings"))}}});s(ai.prototype,function(){function n(n,t){n.filter=ki(n.filter,t)}function s(n,t){n.isMatch=ki(n.isMatch,t)}function u(n,t){if(n.isPrimKey)return t;var i=n.table.schema.idxByName[n.index];if(!i)throw new nt("KeyPath "+n.index+" on object store "+t.name+" is not indexed");return n.isPrimKey?t:t.index(i.name)}function f(n,t){return u(n,t)[n.op](n.range||null,n.dir+n.unique)}function i(n,t,i,r,u){n.or?function(){function e(){++c==2&&i()}function h(n,i,u){if(!o||o(i,u,e,r)){var f=i.primaryKey.toString();s.hasOwnProperty(f)||(s[f]=!0,t(n,i,u))}}var o=n.filter,s={},l=n.table.schema.primKey.keyPath,c=0;n.or._iterate(h,e,r,u);bi(f(n,u),n.algorithm,h,e,r,n.table.hook.reading.fire)}():bi(f(n,u),ki(n.algorithm,n.filter),t,i,r,n.table.hook.reading.fire)}function t(n){return n.table.schema.instanceTemplate}return{_read:function(n,t){var i=this._ctx;return i.error?i.table._trans(null,function(n,t){t(i.error)}):i.table._idbstore(ti,n).then(t)},_write:function(n){var t=this._ctx;return t.error?t.table._trans(null,function(n,i){i(t.error)}):t.table._idbstore(yt,n,"locked")},_addAlgorithm:function(n){var t=this._ctx;t.algorithm=ki(t.algorithm,n)},_iterate:function(n,t,r,u){return i(this._ctx,n,t,r,u)},each:function(n){var r=this._ctx;return e&&n(t(r)),this._read(function(t,u,f){i(r,n,t,u,f)})},count:function(n){var s,t,f;return e?r.resolve(0).then(n):(s=this,t=this._ctx,t.filter||t.algorithm||t.or?(f=0,this._read(function(n,r,u){i(t,function(){return++f,!1},function(){n(f)},r,u)},n)):this._read(function(n,i,r){var f=u(t,r),e=t.range?f.count(t.range):f.count();e.onerror=o(i,["calling","count()","on",s.name]);e.onsuccess=function(i){n(Math.min(i.target.result,Math.max(0,t.limit-t.offset)))}},n))},sortBy:function(n,t){function r(n,t){return t?r(n[i[t]],t-1):n[e]}function o(n,t){var i=r(n,u),e=r(t,u);return i<e?-f:i>e?f:0}var s=this._ctx,i=n.split(".").reverse(),e=i[0],u=i.length-1,f=this._ctx.dir==="next"?1:-1;return this.toArray(function(n){return n.sort(o)}).then(t)},toArray:function(n){var r=this._ctx;return this._read(function(n,u,f){e&&n([t(r)]);var o=[];i(r,function(n){o.push(n)},function(){n(o)},u,f)},n)},offset:function(t){var i=this._ctx;return t<=0?this:(i.offset+=t,i.or||i.algorithm||i.filter?n(i,function(){return--t<0}):n(i,function(n,i){return t===0?!0:t===1?(--t,!1):(i(function(){n.advance(t);t=0}),!1)}),this)},limit:function(t){return this._ctx.limit=Math.min(this._ctx.limit,t),n(this._ctx,function(n,i,r){return--t<=0&&i(r),t>=0}),this},until:function(i,r){var u=this._ctx;return e&&i(t(u)),n(this._ctx,function(n,t,u){return i(n.value)?(t(u),r):!0}),this},first:function(n){return this.limit(1).toArray(function(n){return n[0]}).then(n)},last:function(n){return this.reverse().first(n)},and:function(i){return e&&i(t(this._ctx)),n(this._ctx,function(n){return i(n.value)}),s(this._ctx,i),this},or:function(n){return new li(this._ctx.table,n,this)},reverse:function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},desc:function(){return this.reverse()},eachKey:function(n){var i=this._ctx;return e&&n(c(t(this._ctx),this._ctx.index?this._ctx.table.schema.idxByName[this._ctx.index].keyPath:this._ctx.table.schema.primKey.keyPath)),i.isPrimKey||(i.op="openKeyCursor"),this.each(function(t,i){n(i.key,i)})},eachUniqueKey:function(n){return this._ctx.unique="unique",this.eachKey(n)},keys:function(n){var i=this._ctx,t;return(i.isPrimKey||(i.op="openKeyCursor"),t=[],e)?new r(this.eachKey.bind(this)).then(function(n){return[n]}).then(n):this.each(function(n,i){t.push(i.key)}).then(function(){return t}).then(n)},uniqueKeys:function(n){return this._ctx.unique="unique",this.keys(n)},firstKey:function(n){return this.limit(1).keys(function(n){return n[0]}).then(n)},lastKey:function(n){return this.reverse().firstKey(n)},distinct:function(){var t={};return n(this._ctx,function(n){var i=n.primaryKey.toString(),r=t.hasOwnProperty(i);return t[i]=!0,!r}),this}}});p(rr).from(ai).extend({modify:function(n){var a=this,t=this._ctx,r=t.table.hook,i=r.updating.fire,u=r.deleting.fire;return e&&typeof n=="function"&&n.call({value:t.table.schema.instanceTemplate},t.table.schema.instanceTemplate),this._write(function(r,e,v,y){function st(n,i){var r,u,f;if(et=i.primaryKey,r={primKey:i.primaryKey,value:n},w.call(r,n)!==!1)u=!r.hasOwnProperty("value"),f=u?i.delete():i.update(r.value),++ut,f.onerror=o(function(n){if(p.push(n),nt.push(r.primKey),r.onerror)r.onerror(n);return tt(),!0},u?["deleting",n,"from",t.table.name]:["modifying",n,"on",t.table.name]),f.onsuccess=function(){if(r.onsuccess)r.onsuccess(r.value);++b;tt()};else if(r.onsuccess)r.onsuccess(r.value)}function ot(n){return n&&(p.push(n),nt.push(et)),e(new g("Error modifying one or more objects",p,b,nt))}function tt(){ft&&b+p.length===ut&&(p.length>0?ot():r(b))}var w,k,it,d;typeof n=="function"?w=i===f&&u===f?n:function(t){var f=l(t),e,r;if(n.call(this,t)===!1)return!1;this.hasOwnProperty("value")?(e=gt(f,this.value),r=i.call(this,e,this.primKey,f,y),r&&(t=this.value,Object.keys(r).forEach(function(n){h(t,n,r[n])}))):u.call(this,this.primKey,t,y)}:i===f?(k=Object.keys(n),it=k.length,w=function(t){for(var i,u,f=!1,r=0;r<it;++r)i=k[r],u=n[i],c(t,i)!==u&&(h(t,i,u),f=!0);return f}):(d=n,n=rt(d),w=function(t){var u=!1,r=i.call(this,n,this.primKey,l(t),y);return r&&s(n,r),Object.keys(n).forEach(function(i){var r=n[i];c(t,i)!==r&&(h(t,i,r),u=!0)}),r&&(n=rt(d)),u});var ut=0,b=0,ft=!1,p=[],nt=[],et=null;a._iterate(st,function(){ft=!0;tt()},ot,v)})},"delete":function(){return this.modify(function(){delete this.value})}});s(this,{Collection:ai,Table:oi,Transaction:ir,Version:gi,WhereClause:li,WriteableCollection:rr,WriteableTable:wi});cr();hr.forEach(function(n){n(b)})}function f(){}function tt(n){return n}function lt(n,t){return n===tt?t:function(i){return t(n(i))}}function b(n,t){return function(){n.apply(this,arguments);t.apply(this,arguments)}}function at(n,t){return n===f?t:function(){var f=n.apply(this,arguments),r,u,e;return f!==i&&(arguments[0]=f),r=this.onsuccess,u=this.onerror,delete this.onsuccess,delete this.onerror,e=t.apply(this,arguments),r&&(this.onsuccess=this.onsuccess?b(r,this.onsuccess):r),u&&(this.onerror=this.onerror?b(u,this.onerror):u),e!==i?e:f}}function vt(n,t){return n===f?t:function(){var r=n.apply(this,arguments),f,e,u;return r!==i&&s(arguments[0],r),f=this.onsuccess,e=this.onerror,delete this.onsuccess,delete this.onerror,u=t.apply(this,arguments),f&&(this.onsuccess=this.onsuccess?b(f,this.onsuccess):f),e&&(this.onerror=this.onerror?b(e,this.onerror):e),r===i?u===i?i:u:u===i?r:s(r,u)}}function yt(n,t){return n===f?t:function(){return n.apply(this,arguments)===!1?!1:t.apply(this,arguments)}}function pt(n,t){return n===f?t:function(){return t.apply(this,arguments)===!1?!1:n.apply(this,arguments)}}function wt(n,t){return n===f?t:function(){n.apply(this,arguments);t.apply(this,arguments)}}function bt(n,t){return n===f?t:function(){var i=n.apply(this,arguments),r,u;return i&&typeof i.then=="function"?(r=this,u=arguments,i.then(function(){return t.apply(r,u)})):t.apply(this,arguments)}}function v(t){function i(n,t,i){if(Array.isArray(n))return c(n);if(typeof n=="object")return h(n);t||(t=yt);i||(i=f);var r={subscribers:[],fire:i,subscribe:function(n){r.subscribers.push(n);r.fire=t(r.fire,n)},unsubscribe:function(n){r.subscribers=r.subscribers.filter(function(t){return t!==n});r.fire=r.subscribers.reduce(t,i)}};return u[n]=e[n]=r,r}function h(t){Object.keys(t).forEach(function(r){var f=t[r],u;if(Array.isArray(f))i(r,t[r][0],t[r][1]);else if(f==="asap")u=i(r,null,function(){var t=arguments;u.subscribers.forEach(function(i){y(function(){i.apply(n,t)})})}),u.subscribe=function(n){u.subscribers.indexOf(n)===-1&&u.subscribers.push(n)},u.unsubscribe=function(n){var t=u.subscribers.indexOf(n);t!==-1&&u.subscribers.splice(t,1)};else throw new Error("Invalid event config");})}function c(n){function r(){if(t)return!1;t=!0}var t=!1;n.forEach(function(n){i(n).subscribe(r)})}var o=arguments,u={},e=function(n,i){if(i){var f=[].slice.call(arguments,1),r=u[n];return r.subscribe.apply(r,f),t}if(typeof n=="string")return u[n]},r,s;for(e.addEventType=i,r=1,s=o.length;r<s;++r)i(o[r]);return e}function kt(n){if(!n)throw new Error("Assertion failed");}function y(t){n.setImmediate?setImmediate(t):setTimeout(t,0)}function it(n){var t=setTimeout(n,1e3);clearTimeout(t)}function d(n,t,i){return function(){var u=r.PSD;r.PSD=i;try{n.apply(this,arguments)}catch(f){t(f)}finally{r.PSD=u}}}function c(n,t){var f,r,o,s,u,e;if(n.hasOwnProperty(t))return n[t];if(!t)return n;if(typeof t!="string"){for(f=[],r=0,o=t.length;r<o;++r)s=c(n,t[r]),f.push(s);return f}return(u=t.indexOf("."),u!==-1)?(e=n[t.substr(0,u)],e===i?i:c(e,t.substr(u+1))):i}function h(n,t,r){var u,c,e,f,s,o;if(n&&t!==i)if(typeof t!="string"&&"length"in t)for(kt(typeof r!="string"&&"length"in r),u=0,c=t.length;u<c;++u)h(n,t[u],r[u]);else e=t.indexOf("."),e!==-1?(f=t.substr(0,e),s=t.substr(e+1),s===""?r===i?delete n[f]:n[f]=r:(o=n[f],o||(o=n[f]={}),h(o,s,r))):r===i?delete n[t]:n[t]=r}function dt(n,t){typeof t=="string"?h(n,t,i):"length"in t&&[].map.call(t,function(t){h(n,t,i)})}function rt(n){var i={};for(var t in n)n.hasOwnProperty(t)&&(i[t]=n[t]);return i}function l(n){var t,i,u,r;if(!n||typeof n!="object")return n;if(Array.isArray(n))for(t=[],i=0,u=n.length;i<u;++i)t.push(l(n[i]));else if(n instanceof Date)t=new Date,t.setTime(n.getTime());else{t=n.constructor?Object.create(n.constructor.prototype):{};for(r in n)n.hasOwnProperty(r)&&(t[r]=l(n[r]))}return t}function gt(n,t){var u={};for(var r in n)n.hasOwnProperty(r)&&(t.hasOwnProperty(r)?n[r]!==t[r]&&JSON.stringify(n[r])!=JSON.stringify(t[r])&&(u[r]=t[r]):u[r]=i);for(r in t)t.hasOwnProperty(r)&&!n.hasOwnProperty(r)&&(u[r]=t[r]);return u}function st(n){if(typeof n=="function")return new n;if(Array.isArray(n))return[st(n[0])];if(n&&typeof n=="object"){var t={};return ut(t,n),t}return n}function ut(n,t){Object.keys(t).forEach(function(i){var r=st(t[i]);n[i]=r})}function o(n,t){return function(i){var r=i&&i.target.error||new Error,u;return t&&(u=" occurred when "+t.map(function(n){switch(typeof n){case"function":return n();case"string":return n;default:return JSON.stringify(n)}}).join(" "),r.name?r.toString=function(){return r.name+u+(r.message?". "+r.message:"")}:r=r+u),n(r),i&&(i.stopPropagation&&i.stopPropagation(),i.preventDefault&&i.preventDefault()),!1}}function ni(n){try{throw n;}catch(t){return t}}function ht(n){n.preventDefault()}function ft(n){var t,i=u.dependencies.localStorage;if(!i)return n([]);try{t=JSON.parse(i.getItem("Dexie.DatabaseNames")||"[]")}catch(r){t=[]}n(t)&&i.setItem("Dexie.DatabaseNames",JSON.stringify(t))}function a(n,t,i,r,u,f,e){this.name=n;this.keyPath=t;this.unique=i;this.multi=r;this.auto=u;this.compound=f;this.dotted=e;var o=typeof t=="string"?t:t&&"["+[].join.call(t,"+")+"]";this.src=(i?"&":"")+(r?"*":"")+(u?"++":"")+o}function et(n,t,i,r){this.name=n;this.primKey=t||new a;this.indexes=i||[new a];this.instanceTemplate=r;this.mappedClass=null;this.idxByName=i.reduce(function(n,t){return n[t.name]=t,n},{})}function g(n,t,i,r){this.name="ModifyError";this.failures=t;this.failedKeys=r;this.successCount=i;this.message=t.join("\n")}function ot(n){return n.length===1?n[0]:n}function ct(){var n=u.dependencies.indexedDB,t=n&&(n.getDatabaseNames||n.webkitGetDatabaseNames);return t&&t.bind(n)}var r=function(){function l(n){u.push([n,c.call(arguments,1)])}function p(){var r=u,t,f,i;for(u=[],t=0,f=r.length;t<f;++t)i=r[t],i[0].apply(n,i[1])}function t(n){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof n!="function")throw new TypeError("not a function");this._state=null;this._value=null;this._deferreds=[];this._catched=!1;var r=this,u=!0;this._PSD=t.PSD;try{k(this,n,function(n){u?i(a,r,n):a(r,n)},function(n){return u?(i(h,r,n),!1):h(r,n)})}finally{u=!1}}function s(n,f){var h,s,a,v,b,c;if(n._state===null){n._deferreds.push(f);return}if(h=n._state?f.onFulfilled:f.onRejected,h===null)return(n._state?f.resolve:f.reject)(n._value);a=r;r=!1;i=l;try{v=t.PSD;t.PSD=n._PSD;s=h(n._value);n._state||s&&typeof s.then=="function"&&s._state===!1||w(n);f.resolve(s)}catch(y){if(b=f.reject(y),!b&&n.onuncatched)try{n.onuncatched(y)}catch(y){}}finally{if(t.PSD=v,a){do{while(u.length>0)p();if(c=e.pop(),c)try{c()}catch(y){}}while(e.length>0||u.length>0);i=o;r=!0}}}function d(n){var f=r,t;r=!1;i=l;try{n()}finally{if(f){do{while(u.length>0)p();if(t=e.pop(),t)try{t()}catch(s){}}while(e.length>0||u.length>0);i=o;r=!0}}}function w(n){n._catched=!0;n._parent&&w(n._parent)}function a(n,i){var r=t.PSD;t.PSD=n._PSD;try{if(i===n)throw new TypeError("A promise cannot be resolved with itself.");if(i&&(typeof i=="object"||typeof i=="function")&&typeof i.then=="function"){k(n,function(n,t){i.then(n,t)},function(t){a(n,t)},function(t){h(n,t)});return}n._state=!0;n._value=i;b.call(n)}catch(u){h(u)}finally{t.PSD=r}}function h(n,i){var r=t.PSD;if(t.PSD=n._PSD,n._state=!1,n._value=i,b.call(n),!n._catched)try{if(n.onuncatched)n.onuncatched(n._value);t.on.error.fire(n._value)}catch(u){}return t.PSD=r,n._catched}function b(){for(var n=0,t=this._deferreds.length;n<t;n++)s(this,this._deferreds[n]);this._deferreds=[]}function y(n,t,i,r){this.onFulfilled=typeof n=="function"?n:null;this.onRejected=typeof t=="function"?t:null;this.resolve=i;this.reject=r}function k(n,t,i,r){var u=!1;try{t(function(n){u||(u=!0,i(n))},function(t){return u?n._catched:(u=!0,r(t))})}catch(f){return u?void 0:r(f)}}var c=[].slice,o=typeof setImmediate=="undefined"?function(t){var i=arguments;setTimeout(function(){t.apply(n,c.call(i,1))},0)}:setImmediate;it(function(){o=i=l=function(t){var i=arguments;setTimeout(function(){t.apply(n,c.call(i,1))},0)}});var i=o,r=!0,u=[],e=[];return t.on=v(null,"error"),t.all=function(){var n=Array.prototype.slice.call(arguments.length===1&&Array.isArray(arguments[0])?arguments[0]:arguments);return new t(function(t,i){function f(r,e){try{if(e&&(typeof e=="object"||typeof e=="function")){var o=e.then;if(typeof o=="function"){o.call(e,function(n){f(r,n)},i);return}}n[r]=e;--u==0&&t(n)}catch(s){i(s)}}var u,r;if(n.length===0)return t([]);for(u=n.length,r=0;r<n.length;r++)f(r,n[r])})},t.prototype.then=function(n,r){var f=this,u=new t(function(t,u){f._state===null?s(f,new y(n,r,t,u)):i(s,f,new y(n,r,t,u))});return u._PSD=this._PSD,u.onuncatched=this.onuncatched,u._parent=this,u},t.prototype._then=function(n,t){s(this,new y(n,t,f,f))},t.prototype["catch"]=function(n){if(arguments.length===1)return this.then(null,n);var i=arguments[0],r=arguments[1];return typeof i=="function"?this.then(null,function(n){return n instanceof i?r(n):t.reject(n)}):this.then(null,function(n){return n&&n.name===i?r(n):t.reject(n)})},t.prototype["finally"]=function(n){return this.then(function(t){return n(),t},function(i){return n(),t.reject(i)})},t.prototype.onuncatched=null,t.resolve=function(n){var i=new t(function(){});return i._state=!0,i._value=n,i},t.reject=function(n){var i=new t(function(){});return i._state=!1,i._value=n,i},t.race=function(n){return new t(function(t,i){n.map(function(n){n.then(t,i)})})},t.PSD=null,t.newPSD=function(n){var i=t.PSD;t.PSD=i?Object.create(i):{};try{return n()}finally{t.PSD=i}},t._rootExec=d,t._tickFinalize=function(n){if(r)throw new Error("Not in a virtual tick");e.push(n)},t}(),k=function(){},e=!1,nt;p(g).from(Error);u.delete=function(n){var t=new u(n),i=t.delete();return i.onblocked=function(n){t.on("blocked",n);return this},i};u.exists=function(n){return new u(n).open().then(function(n){return n.close(),!0},function(){return!1})};u.getDatabaseNames=function(n){return new r(function(n,t){var r=ct(),i;r?(i=r(),i.onsuccess=function(t){n([].slice.call(t.target.result,0))},i.onerror=o(t)):ft(function(t){return n(t),!1})}).then(n)};u.defineClass=function(n){function t(t){t?s(this,t):e&&ut(this,n)}return t};u.ignoreTransaction=function(n){return r.newPSD(function(){return r.PSD.trans=null,n()})};u.spawn=function(){return n.console&&console.warn("Dexie.spawn() is deprecated. Use Dexie.ignoreTransaction() instead."),u.ignoreTransaction.apply(this,arguments)};u.vip=function(n){return r.newPSD(function(){return r.PSD.letThrough=!0,n()})};Object.defineProperty(u,"currentTransaction",{get:function(){return r.PSD&&r.PSD.trans||null}});u.Promise=r;u.derive=p;u.extend=s;u.override=w;u.events=v;u.getByKeyPath=c;u.setByKeyPath=h;u.delByKeyPath=dt;u.shallowClone=rt;u.deepClone=l;u.addons=[];u.fakeAutoComplete=k;u.asap=y;u.ModifyError=g;u.MultiModifyError=g;u.IndexSpec=a;u.TableSchema=et;nt=n.idbModules&&n.idbModules.shimIndexedDB?n.idbModules:{};u.dependencies={indexedDB:nt.shimIndexedDB||n.indexedDB||n.mozIndexedDB||n.webkitIndexedDB||n.msIndexedDB,IDBKeyRange:nt.IDBKeyRange||n.IDBKeyRange||n.webkitIDBKeyRange,IDBTransaction:nt.IDBTransaction||n.IDBTransaction||n.webkitIDBTransaction,Error:n.Error||String,SyntaxError:n.SyntaxError||String,TypeError:n.TypeError||String,DOMError:n.DOMError||String,localStorage:(typeof chrome!="undefined"&&chrome!==null?chrome.storage:void 0)!=null?null:n.localStorage};u.version=1.2;t("Dexie",u);it(function(){u.fakeAutoComplete=k=it;u.fake=e=!0})}).apply(null,typeof define=="function"&&define.amd?[self||window,function(n,t){define(function(){return t})}]:typeof global!="undefined"&&typeof module!="undefined"&&module.exports?[global,function(n,t){module.exports=t}]:[self||window,function(n,t){(self||window)[n]=t}]);
//# sourceMappingURL=Dexie.min.js.map

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJEZXhpZS5taW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKG4sdCxpKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBzKG4sdCl7cmV0dXJuIHR5cGVvZiB0IT1cIm9iamVjdFwiJiYodD10KCkpLE9iamVjdC5rZXlzKHQpLmZvckVhY2goZnVuY3Rpb24oaSl7bltpXT10W2ldfSksbn1mdW5jdGlvbiBwKG4pe3JldHVybntmcm9tOmZ1bmN0aW9uKHQpe3JldHVybiBuLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQucHJvdG90eXBlKSxuLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1uLHtleHRlbmQ6ZnVuY3Rpb24oaSl7cyhuLnByb3RvdHlwZSx0eXBlb2YgaSE9XCJvYmplY3RcIj9pKHQucHJvdG90eXBlKTppKX19fX19ZnVuY3Rpb24gdyhuLHQpe3JldHVybiB0KG4pfWZ1bmN0aW9uIHUobix0KXtmdW5jdGlvbiBjcigpe2Iub24oXCJ2ZXJzaW9uY2hhbmdlXCIsZnVuY3Rpb24oKXtiLmNsb3NlKCk7Yi5vbihcImVycm9yXCIpLmZpcmUobmV3IG50KFwiRGF0YWJhc2UgdmVyc2lvbiBjaGFuZ2VkIGJ5IG90aGVyIGRhdGFiYXNlIGNvbm5lY3Rpb24uXCIpKX0pfWZ1bmN0aW9uIGdpKG4pe3RoaXMuX2NmZz17dmVyc2lvbjpuLHN0b3Jlc1NvdXJjZTpudWxsLGRic2NoZW1hOnt9LHRhYmxlczp7fSxjb250ZW50VXBncmFkZTpudWxsfTt0aGlzLnN0b3Jlcyh7fSl9ZnVuY3Rpb24gbHIobix0LGksdSl7dmFyIGUsZixzLGgsbCxjO2lmKG49PT0wKU9iamVjdC5rZXlzKHN0KS5mb3JFYWNoKGZ1bmN0aW9uKG4pe25yKHQsbixzdFtuXS5wcmltS2V5LHN0W25dLmluZGV4ZXMpfSksZT1iLl9jcmVhdGVUcmFuc2FjdGlvbih5dCxmaSxzdCksZS5pZGJ0cmFucz10LGUuaWRidHJhbnMub25lcnJvcj1vKGksW1wicG9wdWxhdGluZyBkYXRhYmFzZVwiXSksZS5vbihcImVycm9yXCIpLnN1YnNjcmliZShpKSxyLm5ld1BTRChmdW5jdGlvbigpe3IuUFNELnRyYW5zPWU7dHJ5e2Iub24oXCJwb3B1bGF0ZVwiKS5maXJlKGUpfWNhdGNoKG4pe3Uub25lcnJvcj10Lm9uZXJyb3I9ZnVuY3Rpb24obil7bi5wcmV2ZW50RGVmYXVsdCgpfTt0cnl7dC5hYm9ydCgpfWNhdGNoKGYpe310LmRiLmNsb3NlKCk7aShuKX19KTtlbHNle2lmKGY9W10scz11aS5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIHQuX2NmZy52ZXJzaW9uPT09bn0pWzBdLCFzKXRocm93IG5ldyBudChcIkRleGllIHNwZWNpZmljYXRpb24gb2YgY3VycmVudGx5IGluc3RhbGxlZCBEQiB2ZXJzaW9uIGlzIG1pc3NpbmdcIik7c3Q9Yi5fZGJTY2hlbWE9cy5fY2ZnLmRic2NoZW1hO2g9ITE7bD11aS5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIHQuX2NmZy52ZXJzaW9uPm59KTtsLmZvckVhY2goZnVuY3Rpb24obil7dmFyIGU9c3Qscj1uLl9jZmcuZGJzY2hlbWEsdTtvcihlLHQpO29yKHIsdCk7c3Q9Yi5fZGJTY2hlbWE9cjt1PWFyKGUscik7dS5hZGQuZm9yRWFjaChmdW5jdGlvbihuKXtmLnB1c2goZnVuY3Rpb24odCxpKXtucih0LG5bMF0sblsxXS5wcmltS2V5LG5bMV0uaW5kZXhlcyk7aSgpfSl9KTt1LmNoYW5nZS5mb3JFYWNoKGZ1bmN0aW9uKG4pe2lmKG4ucmVjcmVhdGUpdGhyb3cgbmV3IG50KFwiTm90IHlldCBzdXBwb3J0IGZvciBjaGFuZ2luZyBwcmltYXJ5IGtleVwiKTtlbHNlIGYucHVzaChmdW5jdGlvbih0LGkpe3ZhciByPXQub2JqZWN0U3RvcmUobi5uYW1lKTtuLmFkZC5mb3JFYWNoKGZ1bmN0aW9uKG4pe3RyKHIsbil9KTtuLmNoYW5nZS5mb3JFYWNoKGZ1bmN0aW9uKG4pe3IuZGVsZXRlSW5kZXgobi5uYW1lKTt0cihyLG4pfSk7bi5kZWwuZm9yRWFjaChmdW5jdGlvbihuKXtyLmRlbGV0ZUluZGV4KG4pfSk7aSgpfSl9KTtuLl9jZmcuY29udGVudFVwZ3JhZGUmJmYucHVzaChmdW5jdGlvbih0LHUpe3ZhciBmLGU7aD0hMDtmPWIuX2NyZWF0ZVRyYW5zYWN0aW9uKHl0LFtdLnNsaWNlLmNhbGwodC5kYi5vYmplY3RTdG9yZU5hbWVzLDApLHIpO2YuaWRidHJhbnM9dDtlPTA7Zi5fcHJvbWlzZT13KGYuX3Byb21pc2UsZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKHQsaSxyKXtmdW5jdGlvbiBmKG4pe3JldHVybiBmdW5jdGlvbigpe24uYXBwbHkodGhpcyxhcmd1bWVudHMpOy0tZT09MCYmdSgpfX1yZXR1cm4rK2Usbi5jYWxsKHRoaXMsdCxmdW5jdGlvbihuLHQpe2FyZ3VtZW50c1swXT1mKG4pO2FyZ3VtZW50c1sxXT1mKHQpO2kuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxyKX19KTt0Lm9uZXJyb3I9byhpLFtcInJ1bm5pbmcgdXBncmFkZXIgZnVuY3Rpb24gZm9yIHZlcnNpb25cIixuLl9jZmcudmVyc2lvbl0pO2Yub24oXCJlcnJvclwiKS5zdWJzY3JpYmUoaSk7bi5fY2ZnLmNvbnRlbnRVcGdyYWRlKGYpO2U9PT0wJiZ1KCl9KTtoJiZkcigpfHxmLnB1c2goZnVuY3Rpb24obix0KXt5cihyLG4pO3QoKX0pfSk7Yz1mdW5jdGlvbigpe3RyeXtmLmxlbmd0aD9mLnNoaWZ0KCkodCxjKTp2cihzdCx0KX1jYXRjaChuKXt1Lm9uZXJyb3I9dC5vbmVycm9yPWZ1bmN0aW9uKG4pe24ucHJldmVudERlZmF1bHQoKX07dHJ5e3QuYWJvcnQoKX1jYXRjaChyKXt9dC5kYi5jbG9zZSgpO2kobil9fTtjKCl9fWZ1bmN0aW9uIGFyKG4sdCl7dmFyIGY9e2RlbDpbXSxhZGQ6W10sY2hhbmdlOltdfSxyLGUsbyxpLGMscyx1LGwsaDtmb3IociBpbiBuKXRbcl18fGYuZGVsLnB1c2gocik7Zm9yKHIgaW4gdClpZihlPW5bcl0sbz10W3JdLGUpaWYoaT17bmFtZTpyLGRlZjp0W3JdLHJlY3JlYXRlOiExLGRlbDpbXSxhZGQ6W10sY2hhbmdlOltdfSxlLnByaW1LZXkuc3JjIT09by5wcmltS2V5LnNyYylpLnJlY3JlYXRlPSEwLGYuY2hhbmdlLnB1c2goaSk7ZWxzZXtjPWUuaW5kZXhlcy5yZWR1Y2UoZnVuY3Rpb24obix0KXtyZXR1cm4gblt0Lm5hbWVdPXQsbn0se30pO3M9by5pbmRleGVzLnJlZHVjZShmdW5jdGlvbihuLHQpe3JldHVybiBuW3QubmFtZV09dCxufSx7fSk7Zm9yKHUgaW4gYylzW3VdfHxpLmRlbC5wdXNoKHUpO2Zvcih1IGluIHMpbD1jW3VdLGg9c1t1XSxsP2wuc3JjIT09aC5zcmMmJmkuY2hhbmdlLnB1c2goaCk6aS5hZGQucHVzaChoKTsoaS5yZWNyZWF0ZXx8aS5kZWwubGVuZ3RoPjB8fGkuYWRkLmxlbmd0aD4wfHxpLmNoYW5nZS5sZW5ndGg+MCkmJmYuY2hhbmdlLnB1c2goaSl9ZWxzZSBmLmFkZC5wdXNoKFtyLG9dKTtyZXR1cm4gZn1mdW5jdGlvbiBucihuLHQsaSxyKXt2YXIgdT1uLmRiLmNyZWF0ZU9iamVjdFN0b3JlKHQsaS5rZXlQYXRoP3trZXlQYXRoOmkua2V5UGF0aCxhdXRvSW5jcmVtZW50OmkuYXV0b306e2F1dG9JbmNyZW1lbnQ6aS5hdXRvfSk7cmV0dXJuIHIuZm9yRWFjaChmdW5jdGlvbihuKXt0cih1LG4pfSksdX1mdW5jdGlvbiB2cihuLHQpe09iamVjdC5rZXlzKG4pLmZvckVhY2goZnVuY3Rpb24oaSl7dC5kYi5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKGkpfHxucih0LGksbltpXS5wcmltS2V5LG5baV0uaW5kZXhlcyl9KX1mdW5jdGlvbiB5cihuLHQpe2Zvcih2YXIgdSxyPTA7cjx0LmRiLm9iamVjdFN0b3JlTmFtZXMubGVuZ3RoOysrcil1PXQuZGIub2JqZWN0U3RvcmVOYW1lc1tyXSwoblt1XT09PW51bGx8fG5bdV09PT1pKSYmdC5kYi5kZWxldGVPYmplY3RTdG9yZSh1KX1mdW5jdGlvbiB0cihuLHQpe24uY3JlYXRlSW5kZXgodC5uYW1lLHQua2V5UGF0aCx7dW5pcXVlOnQudW5pcXVlLG11bHRpRW50cnk6dC5tdWx0aX0pfWZ1bmN0aW9uIHByKG4sdCl7dGhyb3cgbmV3IG50KFwiVGFibGUgXCIrdFswXStcIiBub3QgcGFydCBvZiB0cmFuc2FjdGlvbi4gT3JpZ2luYWwgU2NvcGUgRnVuY3Rpb24gU291cmNlOiBcIit1LlByb21pc2UuUFNELnRyYW5zLnNjb3BlRnVuYy50b1N0cmluZygpKTt9ZnVuY3Rpb24gb2kobix0LGkscil7dGhpcy5uYW1lPW47dGhpcy5zY2hlbWE9aTt0aGlzLmhvb2s9ZHRbbl0/ZHRbbl0uaG9vazp2KG51bGwse2NyZWF0aW5nOlthdCxmXSxyZWFkaW5nOltsdCx0dF0sdXBkYXRpbmc6W3Z0LGZdLGRlbGV0aW5nOlt3dCxmXX0pO3RoaXMuX3RwZj10O3RoaXMuX2NvbGxDbGFzcz1yfHxhaX1mdW5jdGlvbiB3aShuLHQsaSxyKXtvaS5jYWxsKHRoaXMsbix0LGkscnx8cnIpfWZ1bmN0aW9uIGlyKG4sdCxpLHIpe2Z1bmN0aW9uIG8obix0LGkscil7cmV0dXJuIHMuX3Byb21pc2UobixpLHIpfXZhciBzPXRoaXMsZix1LGU7Zm9yKHRoaXMuZGI9Yix0aGlzLm1vZGU9bix0aGlzLnN0b3JlTmFtZXM9dCx0aGlzLmlkYnRyYW5zPW51bGwsdGhpcy5vbj12KHRoaXMsW1wiY29tcGxldGVcIixcImVycm9yXCJdLFwiYWJvcnRcIiksdGhpcy5fcmVjdWxvY2s9MCx0aGlzLl9ibG9ja2VkRnVuY3M9W10sdGhpcy5fcHNkPW51bGwsdGhpcy5hY3RpdmU9ITAsdGhpcy5fZGJzY2hlbWE9aSxyJiYodGhpcy5wYXJlbnQ9ciksdGhpcy5fdHBmPW8sdGhpcy50YWJsZXM9T2JqZWN0LmNyZWF0ZShkaSksZj10Lmxlbmd0aC0xO2YhPT0tMTstLWYpdT10W2ZdLGU9Yi5fdGFibGVGYWN0b3J5KG4saVt1XSxvKSx0aGlzLnRhYmxlc1t1XT1lLHRoaXNbdV18fCh0aGlzW3VdPWUpfWZ1bmN0aW9uIGxpKG4sdCxpKXt0aGlzLl9jdHg9e3RhYmxlOm4saW5kZXg6dD09PVwiOmlkXCI/bnVsbDp0LGNvbGxDbGFzczpuLl9jb2xsQ2xhc3Msb3I6aX19ZnVuY3Rpb24gYWkobix0KXt2YXIgcj1udWxsLHU9bnVsbCxpO2lmKHQpdHJ5e3I9dCgpfWNhdGNoKGYpe3U9Zn1pPW4uX2N0eDt0aGlzLl9jdHg9e3RhYmxlOmkudGFibGUsaW5kZXg6aS5pbmRleCxpc1ByaW1LZXk6IWkuaW5kZXh8fGkudGFibGUuc2NoZW1hLnByaW1LZXkua2V5UGF0aCYmaS5pbmRleD09PWkudGFibGUuc2NoZW1hLnByaW1LZXkubmFtZSxyYW5nZTpyLG9wOlwib3BlbkN1cnNvclwiLGRpcjpcIm5leHRcIix1bmlxdWU6XCJcIixhbGdvcml0aG06bnVsbCxmaWx0ZXI6bnVsbCxpc01hdGNoOm51bGwsb2Zmc2V0OjAsbGltaXQ6SW5maW5pdHksZXJyb3I6dSxvcjppLm9yfX1mdW5jdGlvbiBycigpe2FpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiB3cihuLHQpe3JldHVybiBuLl9jZmcudmVyc2lvbi10Ll9jZmcudmVyc2lvbn1mdW5jdGlvbiB1cihuLHQsaSx1LGYsZSl7aS5mb3JFYWNoKGZ1bmN0aW9uKGkpe3ZhciBvPWIuX3RhYmxlRmFjdG9yeSh1LGZbaV0sdCk7bi5mb3JFYWNoKGZ1bmN0aW9uKG4pe25baV18fChlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLGkse2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3ZhciBuPXIuUFNEJiZyLlBTRC50cmFucztyZXR1cm4gbiYmbi5kYj09PWI/bi50YWJsZXNbaV06b319KTpuW2ldPW8pfSl9KX1mdW5jdGlvbiBicihuKXtuLmZvckVhY2goZnVuY3Rpb24obil7Zm9yKHZhciB0IGluIG4pblt0XWluc3RhbmNlb2Ygb2kmJmRlbGV0ZSBuW3RdfSl9ZnVuY3Rpb24gYmkobix0LGksdSxmLGUpe3ZhciBzPXIuUFNEO2U9ZXx8dHQ7bi5vbmVycm9yfHwobi5vbmVycm9yPW8oZikpO24ub25zdWNjZXNzPXQ/ZChmdW5jdGlvbigpe3ZhciByPW4ucmVzdWx0LG87cj8obz1mdW5jdGlvbigpe3IuY29udGludWUoKX0sdChyLGZ1bmN0aW9uKG4pe289bn0sdSxmKSYmaShlKHIudmFsdWUpLHIsZnVuY3Rpb24obil7bz1ufSksbygpKTp1KCl9LGYscyk6ZChmdW5jdGlvbigpe3ZhciB0PW4ucmVzdWx0LHI7dD8ocj1mdW5jdGlvbigpe3QuY29udGludWUoKX0saShlKHQudmFsdWUpLHQsZnVuY3Rpb24obil7cj1ufSkscigpKTp1KCl9LGYscyl9ZnVuY3Rpb24ga3Iobil7dmFyIHQ9W107cmV0dXJuIG4uc3BsaXQoXCIsXCIpLmZvckVhY2goZnVuY3Rpb24obil7bj1uLnRyaW0oKTt2YXIgaT1uLnJlcGxhY2UoXCImXCIsXCJcIikucmVwbGFjZShcIisrXCIsXCJcIikucmVwbGFjZShcIipcIixcIlwiKSxyPWkuaW5kZXhPZihcIltcIikhPT0wP2k6bi5zdWJzdHJpbmcobi5pbmRleE9mKFwiW1wiKSsxLG4uaW5kZXhPZihcIl1cIikpLnNwbGl0KFwiK1wiKTt0LnB1c2gobmV3IGEoaSxyfHxudWxsLG4uaW5kZXhPZihcIiZcIikhPT0tMSxuLmluZGV4T2YoXCIqXCIpIT09LTEsbi5pbmRleE9mKFwiKytcIikhPT0tMSxBcnJheS5pc0FycmF5KHIpLHIuaW5kZXhPZihcIi5cIikhPT0tMSkpfSksdH1mdW5jdGlvbiBpaShuLHQpe3JldHVybiBuPHQ/LTE6bj50PzE6MH1mdW5jdGlvbiBmcihuLHQpe3JldHVybiBuPHQ/MTpuPnQ/LTE6MH1mdW5jdGlvbiBlcihuKXtyZXR1cm4gZnVuY3Rpb24odCxpKXtmb3IodmFyIHI9MCx1Ozspe2lmKHU9bih0W3JdLGlbcl0pLHUhPT0wKXJldHVybiB1O2lmKCsrcixyPT09dC5sZW5ndGh8fHI9PT1pLmxlbmd0aClyZXR1cm4gbih0Lmxlbmd0aCxpLmxlbmd0aCl9fX1mdW5jdGlvbiBraShuLHQpe3JldHVybiBuP3Q/ZnVuY3Rpb24oKXtyZXR1cm4gbi5hcHBseSh0aGlzLGFyZ3VtZW50cykmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfTpuOnR9ZnVuY3Rpb24gZHIoKXtyZXR1cm4gbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiVHJpZGVudFwiKT49MHx8bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiTVNJRVwiKT49MH1mdW5jdGlvbiBncigpe2lmKGIudmVybm89aXQudmVyc2lvbi8xMCxiLl9kYlNjaGVtYT1zdD17fSxmaT1bXS5zbGljZS5jYWxsKGl0Lm9iamVjdFN0b3JlTmFtZXMsMCksZmkubGVuZ3RoIT09MCl7dmFyIG49aXQudHJhbnNhY3Rpb24ob3QoZmkpLFwicmVhZG9ubHlcIik7ZmkuZm9yRWFjaChmdW5jdGlvbih0KXtmb3IodmFyIHUscyxyPW4ub2JqZWN0U3RvcmUodCksaT1yLmtleVBhdGgsZj1pJiZ0eXBlb2YgaT09XCJzdHJpbmdcIiYmaS5pbmRleE9mKFwiLlwiKSE9PS0xLGg9bmV3IGEoaSxpfHxcIlwiLCExLCExLCEhci5hdXRvSW5jcmVtZW50LGkmJnR5cGVvZiBpIT1cInN0cmluZ1wiLGYpLG89W10sZT0wO2U8ci5pbmRleE5hbWVzLmxlbmd0aDsrK2UpdT1yLmluZGV4KHIuaW5kZXhOYW1lc1tlXSksaT11LmtleVBhdGgsZj1pJiZ0eXBlb2YgaT09XCJzdHJpbmdcIiYmaS5pbmRleE9mKFwiLlwiKSE9PS0xLHM9bmV3IGEodS5uYW1lLGksISF1LnVuaXF1ZSwhIXUubXVsdGlFbnRyeSwhMSxpJiZ0eXBlb2YgaSE9XCJzdHJpbmdcIixmKSxvLnB1c2gocyk7c3RbdF09bmV3IGV0KHQsaCxvLHt9KX0pO3VyKFtkdF0sYi5fdHJhbnNQcm9taXNlRmFjdG9yeSxPYmplY3Qua2V5cyhzdCkseXQsc3QpfX1mdW5jdGlvbiBvcihuLHQpe2Zvcih2YXIgaSxyLHUsbyxzPXQuZGIub2JqZWN0U3RvcmVOYW1lcyxmPTA7ZjxzLmxlbmd0aDsrK2YpZm9yKGk9c1tmXSxyPXQub2JqZWN0U3RvcmUoaSksdT0wO3U8ci5pbmRleE5hbWVzLmxlbmd0aDsrK3Upe3ZhciBoPXIuaW5kZXhOYW1lc1t1XSxlPXIuaW5kZXgoaCkua2V5UGF0aCxjPXR5cGVvZiBlPT1cInN0cmluZ1wiP2U6XCJbXCIrW10uc2xpY2UuY2FsbChlKS5qb2luKFwiK1wiKStcIl1cIjtuW2ldJiYobz1uW2ldLmlkeEJ5TmFtZVtjXSxvJiYoby5uYW1lPWgpKX19dmFyIGhyPXQmJnQuYWRkb25zfHx1LmFkZG9ucyxzaT11LmRlcGVuZGVuY2llcyx2aT1zaS5pbmRleGVkREIsa3Q9c2kuSURCS2V5UmFuZ2UsbnU9c2kuSURCVHJhbnNhY3Rpb24sdHU9c2kuRE9NRXJyb3IseWk9c2kuVHlwZUVycm9yLG50PXNpLkVycm9yLHN0PXRoaXMuX2RiU2NoZW1hPXt9LHVpPVtdLGZpPVtdLGR0PXt9LGRpPXt9LGl0PW51bGwsaGk9ITAsZWk9bnVsbCxwaT0hMSx0aT1cInJlYWRvbmx5XCIseXQ9XCJyZWFkd3JpdGVcIixiPXRoaXMscmk9W10sY2k9ITAsc3I9ISFjdCgpO3RoaXMudmVyc2lvbj1mdW5jdGlvbihuKXtpZihpdCl0aHJvdyBuZXcgbnQoXCJDYW5ub3QgYWRkIHZlcnNpb24gd2hlbiBkYXRhYmFzZSBpcyBvcGVuXCIpO3RoaXMudmVybm89TWF0aC5tYXgodGhpcy52ZXJubyxuKTt2YXIgdD11aS5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIHQuX2NmZy52ZXJzaW9uPT09bn0pWzBdO3JldHVybiB0P3Q6KHQ9bmV3IGdpKG4pLHVpLnB1c2godCksdWkuc29ydCh3ciksdCl9O3MoZ2kucHJvdG90eXBlLHtzdG9yZXM6ZnVuY3Rpb24obil7dmFyIGksdDtyZXR1cm4gdGhpcy5fY2ZnLnN0b3Jlc1NvdXJjZT10aGlzLl9jZmcuc3RvcmVzU291cmNlP3ModGhpcy5fY2ZnLnN0b3Jlc1NvdXJjZSxuKTpuLGk9e30sdWkuZm9yRWFjaChmdW5jdGlvbihuKXtzKGksbi5fY2ZnLnN0b3Jlc1NvdXJjZSl9KSx0PXRoaXMuX2NmZy5kYnNjaGVtYT17fSx0aGlzLl9wYXJzZVN0b3Jlc1NwZWMoaSx0KSxzdD1iLl9kYlNjaGVtYT10LGJyKFtkdCxiLGRpXSksdXIoW2RpXSxwcixPYmplY3Qua2V5cyh0KSx5dCx0KSx1cihbZHQsYix0aGlzLl9jZmcudGFibGVzXSxiLl90cmFuc1Byb21pc2VGYWN0b3J5LE9iamVjdC5rZXlzKHQpLHl0LHQsITApLGZpPU9iamVjdC5rZXlzKHQpLHRoaXN9LHVwZ3JhZGU6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcztyZXR1cm4gayhmdW5jdGlvbigpe24oYi5fY3JlYXRlVHJhbnNhY3Rpb24oeXQsT2JqZWN0LmtleXModC5fY2ZnLmRic2NoZW1hKSx0Ll9jZmcuZGJzY2hlbWEpKX0pLHRoaXMuX2NmZy5jb250ZW50VXBncmFkZT1uLHRoaXN9LF9wYXJzZVN0b3Jlc1NwZWM6ZnVuY3Rpb24obix0KXtPYmplY3Qua2V5cyhuKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe2lmKG5baV0hPT1udWxsKXt2YXIgdT17fSxmPWtyKG5baV0pLHI9Zi5zaGlmdCgpO2lmKHIubXVsdGkpdGhyb3cgbmV3IG50KFwiUHJpbWFyeSBrZXkgY2Fubm90IGJlIG11bHRpLXZhbHVlZFwiKTtyLmtleVBhdGgmJmgodSxyLmtleVBhdGgsci5hdXRvPzA6ci5rZXlQYXRoKTtmLmZvckVhY2goZnVuY3Rpb24obil7aWYobi5hdXRvKXRocm93IG5ldyBudChcIk9ubHkgcHJpbWFyeSBrZXkgY2FuIGJlIG1hcmtlZCBhcyBhdXRvSW5jcmVtZW50ICgrKylcIik7aWYoIW4ua2V5UGF0aCl0aHJvdyBuZXcgbnQoXCJJbmRleCBtdXN0IGhhdmUgYSBuYW1lIGFuZCBjYW5ub3QgYmUgYW4gZW1wdHkgc3RyaW5nXCIpO2godSxuLmtleVBhdGgsbi5jb21wb3VuZD9uLmtleVBhdGgubWFwKGZ1bmN0aW9uKCl7cmV0dXJuXCJcIn0pOlwiXCIpfSk7dFtpXT1uZXcgZXQoaSxyLGYsdSl9fSl9fSk7dGhpcy5fYWxsVGFibGVzPWR0O3RoaXMuX3RhYmxlRmFjdG9yeT1mdW5jdGlvbihuLHQsaSl7cmV0dXJuIG49PT10aT9uZXcgb2kodC5uYW1lLGksdCxhaSk6bmV3IHdpKHQubmFtZSxpLHQpfTt0aGlzLl9jcmVhdGVUcmFuc2FjdGlvbj1mdW5jdGlvbihuLHQsaSxyKXtyZXR1cm4gbmV3IGlyKG4sdCxpLHIpfTt0aGlzLl90cmFuc1Byb21pc2VGYWN0b3J5PWZ1bmN0aW9uKG4sdCxpKXt2YXIgZix1O3JldHVybiFoaXx8ci5QU0QmJnIuUFNELmxldFRocm91Z2g/KHU9Yi5fY3JlYXRlVHJhbnNhY3Rpb24obix0LHN0KSx1Ll9wcm9taXNlKG4sZnVuY3Rpb24obix0KXt1LmVycm9yKGZ1bmN0aW9uKG4pe2Iub24oXCJlcnJvclwiKS5maXJlKG4pfSk7aShmdW5jdGlvbih0KXt1LmNvbXBsZXRlKGZ1bmN0aW9uKCl7bih0KX0pfSx0LHUpfSkpOmY9bmV3IHIoZnVuY3Rpb24ocix1KXtyaS5wdXNoKHtyZXN1bWU6ZnVuY3Rpb24oKXt2YXIgZT1iLl90cmFuc1Byb21pc2VGYWN0b3J5KG4sdCxpKTtmLm9udW5jYXRjaGVkPWUub251bmNhdGNoZWQ7ZS50aGVuKHIsdSl9fSl9KX07dGhpcy5fd2hlblJlYWR5PWZ1bmN0aW9uKG4pe3JldHVybiFlJiZoaSYmKCFyLlBTRHx8IXIuUFNELmxldFRocm91Z2gpP25ldyByKGZ1bmN0aW9uKHQsaSl7cmkucHVzaCh7cmVzdW1lOmZ1bmN0aW9uKCl7bih0LGkpfX0pfSk6bmV3IHIobil9O3RoaXMudmVybm89MDt0aGlzLm9wZW49ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIoZnVuY3Rpb24odCxpKXtmdW5jdGlvbiBmKG4pe3RyeXt1LnRyYW5zYWN0aW9uLmFib3J0KCl9Y2F0Y2godCl7fXBpPSExO2VpPW47aGk9ITE7aShlaSk7cmkuZm9yRWFjaChmdW5jdGlvbihuKXtuLnJlc3VtZSgpfSk7cmk9W119aWYoZSYmdChiKSxpdHx8cGkpdGhyb3cgbmV3IG50KFwiRGF0YWJhc2UgYWxyZWFkeSBvcGVuZWQgb3IgYmVpbmcgb3BlbmVkXCIpO3ZhciB1LHM9ITE7dHJ5e2lmKGVpPW51bGwscGk9ITAsdWkubGVuZ3RoPjAmJihjaT0hMSksIXZpKXRocm93IG5ldyBudChcImluZGV4ZWREQiBBUEkgbm90IGZvdW5kLiBJZiB1c2luZyBJRTEwKywgbWFrZSBzdXJlIHRvIHJ1biB5b3VyIGNvZGUgb24gYSBzZXJ2ZXIgVVJMIChub3QgbG9jYWxseSkuIElmIHVzaW5nIFNhZmFyaSwgbWFrZSBzdXJlIHRvIGluY2x1ZGUgaW5kZXhlZERCIHBvbHlmaWxsLlwiKTtpZih1PWNpP3ZpLm9wZW4obik6dmkub3BlbihuLE1hdGgucm91bmQoYi52ZXJubyoxMCkpLCF1KXRocm93IG5ldyBudChcIkluZGV4ZWREQiBBUEkgbm90IGF2YWlsYWJsZVwiKTt1Lm9uZXJyb3I9byhmLFtcIm9wZW5pbmcgZGF0YWJhc2VcIixuXSk7dS5vbmJsb2NrZWQ9ZnVuY3Rpb24obil7Yi5vbihcImJsb2NrZWRcIikuZmlyZShuKX07dS5vbnVwZ3JhZGVuZWVkZWQ9ZChmdW5jdGlvbih0KXt2YXIgaSxyO2NpJiYhYi5fYWxsb3dFbXB0eURCPyh1Lm9uZXJyb3I9ZnVuY3Rpb24obil7bi5wcmV2ZW50RGVmYXVsdCgpfSx1LnRyYW5zYWN0aW9uLmFib3J0KCksdS5yZXN1bHQuY2xvc2UoKSxpPXZpLmRlbGV0ZURhdGFiYXNlKG4pLGkub25zdWNjZXNzPWkub25lcnJvcj1mdW5jdGlvbigpe2YobmV3IG50KFwiRGF0YWJhc2UgJ1wiK24rXCInIGRvZXNudCBleGlzdFwiKSl9KToodC5vbGRWZXJzaW9uPT09MCYmKHM9ITApLHUudHJhbnNhY3Rpb24ub25lcnJvcj1vKGYpLHI9dC5vbGRWZXJzaW9uPk1hdGgucG93KDIsNjIpPzA6dC5vbGRWZXJzaW9uLGxyKHIvMTAsdS50cmFuc2FjdGlvbixmLHUpKX0sZik7dS5vbnN1Y2Nlc3M9ZChmdW5jdGlvbigpe3BpPSExO2l0PXUucmVzdWx0O2NpP2dyKCk6aXQub2JqZWN0U3RvcmVOYW1lcy5sZW5ndGg+MCYmb3Ioc3QsaXQudHJhbnNhY3Rpb24ob3QoaXQub2JqZWN0U3RvcmVOYW1lcyksdGkpKTtpdC5vbnZlcnNpb25jaGFuZ2U9Yi5vbihcInZlcnNpb25jaGFuZ2VcIikuZmlyZTtzcnx8ZnQoZnVuY3Rpb24odCl7aWYodC5pbmRleE9mKG4pPT09LTEpcmV0dXJuIHQucHVzaChuKX0pO3IubmV3UFNEKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe2hpPSExO3JpLmZvckVhY2goZnVuY3Rpb24obil7bi5yZXN1bWUoKX0pO3JpPVtdO3QoYil9ci5QU0QubGV0VGhyb3VnaD0hMDt0cnl7dmFyIG49Yi5vbi5yZWFkeS5maXJlKCk7biYmdHlwZW9mIG4udGhlbj09XCJmdW5jdGlvblwiP24udGhlbihpLGZ1bmN0aW9uKG4pe2l0LmNsb3NlKCk7aXQ9bnVsbDtmKG4pfSk6eShpKX1jYXRjaCh1KXtmKHUpfX0pfSxmKX1jYXRjaChoKXtmKGgpfX0pfTt0aGlzLmNsb3NlPWZ1bmN0aW9uKCl7aXQmJihpdC5jbG9zZSgpLGl0PW51bGwsaGk9ITAsZWk9bnVsbCl9O3RoaXMuZGVsZXRlPWZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzO3JldHVybiBuZXcgcihmdW5jdGlvbihpLHIpe2Z1bmN0aW9uIHUoKXtiLmNsb3NlKCk7dmFyIHQ9dmkuZGVsZXRlRGF0YWJhc2Uobik7dC5vbnN1Y2Nlc3M9ZnVuY3Rpb24oKXtzcnx8ZnQoZnVuY3Rpb24odCl7dmFyIGk9dC5pbmRleE9mKG4pO2lmKGk+PTApcmV0dXJuIHQuc3BsaWNlKGksMSl9KTtpKCl9O3Qub25lcnJvcj1vKHIsW1wiZGVsZXRpbmdcIixuXSk7dC5vbmJsb2NrZWQ9ZnVuY3Rpb24oKXtiLm9uKFwiYmxvY2tlZFwiKS5maXJlKCl9fWlmKHQubGVuZ3RoPjApdGhyb3cgbmV3IG50KFwiQXJndW1lbnRzIG5vdCBhbGxvd2VkIGluIGRiLmRlbGV0ZSgpXCIpO3BpP3JpLnB1c2goe3Jlc3VtZTp1fSk6dSgpfSl9O3RoaXMuYmFja2VuZERCPWZ1bmN0aW9uKCl7cmV0dXJuIGl0fTt0aGlzLmlzT3Blbj1mdW5jdGlvbigpe3JldHVybiBpdCE9PW51bGx9O3RoaXMuaGFzRmFpbGVkPWZ1bmN0aW9uKCl7cmV0dXJuIGVpIT09bnVsbH07dGhpcy5keW5hbWljYWxseU9wZW5lZD1mdW5jdGlvbigpe3JldHVybiBjaX07dGhpcy5uYW1lPW47T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJ0YWJsZXNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5rZXlzKGR0KS5tYXAoZnVuY3Rpb24obil7cmV0dXJuIGR0W25dfSl9fSk7dGhpcy5vbj12KHRoaXMsXCJlcnJvclwiLFwicG9wdWxhdGVcIixcImJsb2NrZWRcIix7cmVhZHk6W2J0LGZdLHZlcnNpb25jaGFuZ2U6W3B0LGZdfSk7dGhpcy5vbi5yZWFkeS5zdWJzY3JpYmU9dyh0aGlzLm9uLnJlYWR5LnN1YnNjcmliZSxmdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24odCxpKXtmdW5jdGlvbiByKCl7cmV0dXJuIGl8fGIub24ucmVhZHkudW5zdWJzY3JpYmUociksdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9bi5jYWxsKHRoaXMscik7Yi5pc09wZW4oKSYmKGhpP3JpLnB1c2goe3Jlc3VtZTpyfSk6cigpKX19KTtrKGZ1bmN0aW9uKCl7Yi5vbihcInBvcHVsYXRlXCIpLmZpcmUoYi5fY3JlYXRlVHJhbnNhY3Rpb24oeXQsZmksc3QpKTtiLm9uKFwiZXJyb3JcIikuZmlyZShuZXcgbnQpfSk7dGhpcy50cmFuc2FjdGlvbj1mdW5jdGlvbihuLHQsaSl7ZnVuY3Rpb24gcyh0LGUpe3ZhciBzPW51bGwsYyxhLGg7dHJ5e2lmKGYpdGhyb3cgZjtzPWIuX2NyZWF0ZVRyYW5zYWN0aW9uKG4sbyxzdCx1KTtjPW8ubWFwKGZ1bmN0aW9uKG4pe3JldHVybiBzLnRhYmxlc1tuXX0pO2MucHVzaChzKTtoPTA7ci5uZXdQU0QoZnVuY3Rpb24oKXtyLlBTRC50cmFucz1zO3Muc2NvcGVGdW5jPWk7dSYmKHMuaWRidHJhbnM9dS5pZGJ0cmFucyxzLl9wcm9taXNlPXcocy5fcHJvbWlzZSxmdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24odCxpLHUpe2Z1bmN0aW9uIGYobil7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBpO3JldHVybiByLl9yb290RXhlYyhmdW5jdGlvbigpe2k9bih0KTtyLl90aWNrRmluYWxpemUoZnVuY3Rpb24oKXstLWg9PTAmJnMuYWN0aXZlJiYocy5hY3RpdmU9ITEscy5vbi5jb21wbGV0ZS5maXJlKCkpfSl9KSxpfX1yZXR1cm4rK2gsbi5jYWxsKHRoaXMsdCxmdW5jdGlvbihuLHQscil7cmV0dXJuIGkoZihuKSxmKHQpLHIpfSx1KX19KSk7cy5jb21wbGV0ZShmdW5jdGlvbigpe3QoYSl9KTtzLmVycm9yKGZ1bmN0aW9uKG4pe3MuaWRidHJhbnMmJihzLmlkYnRyYW5zLm9uZXJyb3I9aHQpO3RyeXtzLmFib3J0KCl9Y2F0Y2goaSl7fXUmJih1LmFjdGl2ZT0hMSx1Lm9uLmVycm9yLmZpcmUobikpO3ZhciB0PWUobik7dXx8dHx8Yi5vbi5lcnJvci5maXJlKG4pfSk7ci5fcm9vdEV4ZWMoZnVuY3Rpb24oKXthPWkuYXBwbHkocyxjKX0pfSk7KCFzLmlkYnRyYW5zfHx1JiZoPT09MCkmJnMuX25vcCgpfWNhdGNoKGwpe3MmJnMuaWRidHJhbnMmJihzLmlkYnRyYW5zLm9uZXJyb3I9aHQpO3MmJnMuYWJvcnQoKTt1JiZ1Lm9uLmVycm9yLmZpcmUobCk7eShmdW5jdGlvbigpe2UobCl8fGIub24oXCJlcnJvclwiKS5maXJlKGwpfSl9fXZhciB1LGU7dD1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cywxLGFyZ3VtZW50cy5sZW5ndGgtMSk7aT1hcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aC0xXTt1PXIuUFNEJiZyLlBTRC50cmFuczt1JiZ1LmRiPT09YiYmbi5pbmRleE9mKFwiIVwiKT09PS0xfHwodT1udWxsKTtlPW4uaW5kZXhPZihcIj9cIikhPT0tMTtuPW4ucmVwbGFjZShcIiFcIixcIlwiKS5yZXBsYWNlKFwiP1wiLFwiXCIpO3ZhciBoPUFycmF5LmlzQXJyYXkodFswXSk/dC5yZWR1Y2UoZnVuY3Rpb24obix0KXtyZXR1cm4gbi5jb25jYXQodCl9KTp0LGY9bnVsbCxvPWgubWFwKGZ1bmN0aW9uKG4pe3JldHVybiB0eXBlb2Ygbj09XCJzdHJpbmdcIj9uOihuIGluc3RhbmNlb2Ygb2l8fChmPWZ8fG5ldyB5aShcIkludmFsaWQgdHlwZS4gQXJndW1lbnRzIGZvbGxvd2luZyBtb2RlIG11c3QgYmUgaW5zdGFuY2VzIG9mIFRhYmxlIG9yIFN0cmluZ1wiKSksbi5uYW1lKX0pO3JldHVybiBuPT1cInJcInx8bj09dGk/bj10aTpuPT1cInJ3XCJ8fG49PXl0P249eXQ6Zj1uZXcgbnQoXCJJbnZhbGlkIHRyYW5zYWN0aW9uIG1vZGU6IFwiK24pLHUmJihmfHwodSYmdS5tb2RlPT09dGkmJm49PT15dCYmKGU/dT1udWxsOmY9Znx8bmV3IG50KFwiQ2Fubm90IGVudGVyIGEgc3ViLXRyYW5zYWN0aW9uIHdpdGggUkVBRFdSSVRFIG1vZGUgd2hlbiBwYXJlbnQgdHJhbnNhY3Rpb24gaXMgUkVBRE9OTFlcIikpLHUmJm8uZm9yRWFjaChmdW5jdGlvbihuKXt1LnRhYmxlcy5oYXNPd25Qcm9wZXJ0eShuKXx8KGU/dT1udWxsOmY9Znx8bmV3IG50KFwiVGFibGUgXCIrbitcIiBub3QgaW5jbHVkZWQgaW4gcGFyZW50IHRyYW5zYWN0aW9uLiBQYXJlbnQgVHJhbnNhY3Rpb24gZnVuY3Rpb246IFwiK3Uuc2NvcGVGdW5jLnRvU3RyaW5nKCkpKX0pKSksdT91Ll9wcm9taXNlKG4scyxcImxvY2tcIik6Yi5fd2hlblJlYWR5KHMpfTt0aGlzLnRhYmxlPWZ1bmN0aW9uKG4pe2lmKGUmJmNpKXJldHVybiBuZXcgd2kobik7aWYoIWR0Lmhhc093blByb3BlcnR5KG4pKXRocm93IG5ldyBudChcIlRhYmxlIGRvZXMgbm90IGV4aXN0XCIpO3JldHVybiBkdFtuXX07cyhvaS5wcm90b3R5cGUsZnVuY3Rpb24oKXtmdW5jdGlvbiBuKCl7dGhyb3cgbmV3IG50KFwiQ3VycmVudCBUcmFuc2FjdGlvbiBpcyBSRUFET05MWVwiKTt9cmV0dXJue190cmFuczpmdW5jdGlvbihuLHQsaSl7cmV0dXJuIHRoaXMuX3RwZihuLFt0aGlzLm5hbWVdLHQsaSl9LF9pZGJzdG9yZTpmdW5jdGlvbihuLHQsaSl7aWYoZSlyZXR1cm4gbmV3IHIodCk7dmFyIHU9dGhpcztyZXR1cm4gdGhpcy5fdHBmKG4sW3RoaXMubmFtZV0sZnVuY3Rpb24obixpLHIpe3QobixpLHIuaWRidHJhbnMub2JqZWN0U3RvcmUodS5uYW1lKSxyKX0saSl9LGdldDpmdW5jdGlvbihuLHQpe3ZhciBpPXRoaXM7cmV0dXJuIHRoaXMuX2lkYnN0b3JlKHRpLGZ1bmN0aW9uKHQscix1KXtlJiZ0KGkuc2NoZW1hLmluc3RhbmNlVGVtcGxhdGUpO3ZhciBmPXUuZ2V0KG4pO2Yub25lcnJvcj1vKHIsW1wiZ2V0dGluZ1wiLG4sXCJmcm9tXCIsaS5uYW1lXSk7Zi5vbnN1Y2Nlc3M9ZnVuY3Rpb24oKXt0KGkuaG9vay5yZWFkaW5nLmZpcmUoZi5yZXN1bHQpKX19KS50aGVuKHQpfSx3aGVyZTpmdW5jdGlvbihuKXtyZXR1cm4gbmV3IGxpKHRoaXMsbil9LGNvdW50OmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLnRvQ29sbGVjdGlvbigpLmNvdW50KG4pfSxvZmZzZXQ6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMudG9Db2xsZWN0aW9uKCkub2Zmc2V0KG4pfSxsaW1pdDpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy50b0NvbGxlY3Rpb24oKS5saW1pdChuKX0scmV2ZXJzZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRvQ29sbGVjdGlvbigpLnJldmVyc2UoKX0sZmlsdGVyOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLnRvQ29sbGVjdGlvbigpLmFuZChuKX0sZWFjaDpmdW5jdGlvbihuKXt2YXIgdD10aGlzO3JldHVybiBlJiZuKHQuc2NoZW1hLmluc3RhbmNlVGVtcGxhdGUpLHRoaXMuX2lkYnN0b3JlKHRpLGZ1bmN0aW9uKGkscix1KXt2YXIgZj11Lm9wZW5DdXJzb3IoKTtmLm9uZXJyb3I9byhyLFtcImNhbGxpbmdcIixcIlRhYmxlLmVhY2goKVwiLFwib25cIix0Lm5hbWVdKTtiaShmLG51bGwsbixpLHIsdC5ob29rLnJlYWRpbmcuZmlyZSl9KX0sdG9BcnJheTpmdW5jdGlvbihuKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLl9pZGJzdG9yZSh0aSxmdW5jdGlvbihuLGkscil7ZSYmbihbdC5zY2hlbWEuaW5zdGFuY2VUZW1wbGF0ZV0pO3ZhciB1PVtdLGY9ci5vcGVuQ3Vyc29yKCk7Zi5vbmVycm9yPW8oaSxbXCJjYWxsaW5nXCIsXCJUYWJsZS50b0FycmF5KClcIixcIm9uXCIsdC5uYW1lXSk7YmkoZixudWxsLGZ1bmN0aW9uKG4pe3UucHVzaChuKX0sZnVuY3Rpb24oKXtuKHUpfSxpLHQuaG9vay5yZWFkaW5nLmZpcmUpfSkudGhlbihuKX0sb3JkZXJCeTpmdW5jdGlvbihuKXtyZXR1cm4gbmV3IHRoaXMuX2NvbGxDbGFzcyhuZXcgbGkodGhpcyxuKSl9LHRvQ29sbGVjdGlvbjpmdW5jdGlvbigpe3JldHVybiBuZXcgdGhpcy5fY29sbENsYXNzKG5ldyBsaSh0aGlzKSl9LG1hcFRvQ2xhc3M6ZnVuY3Rpb24obix0KXt2YXIgaSxyO3JldHVybiB0aGlzLnNjaGVtYS5tYXBwZWRDbGFzcz1uLGk9T2JqZWN0LmNyZWF0ZShuLnByb3RvdHlwZSksdCYmdXQoaSx0KSx0aGlzLnNjaGVtYS5pbnN0YW5jZVRlbXBsYXRlPWkscj1mdW5jdGlvbih0KXt2YXIgcixpO2lmKCF0KXJldHVybiB0O3I9T2JqZWN0LmNyZWF0ZShuLnByb3RvdHlwZSk7Zm9yKGkgaW4gdCl0Lmhhc093blByb3BlcnR5KGkpJiYocltpXT10W2ldKTtyZXR1cm4gcn0sdGhpcy5zY2hlbWEucmVhZEhvb2smJnRoaXMuaG9vay5yZWFkaW5nLnVuc3Vic2NyaWJlKHRoaXMuc2NoZW1hLnJlYWRIb29rKSx0aGlzLnNjaGVtYS5yZWFkSG9vaz1yLHRoaXMuaG9vayhcInJlYWRpbmdcIixyKSxufSxkZWZpbmVDbGFzczpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5tYXBUb0NsYXNzKHUuZGVmaW5lQ2xhc3Mobiksbil9LGFkZDpuLHB1dDpuLFwiZGVsZXRlXCI6bixjbGVhcjpuLHVwZGF0ZTpufX0pO3Aod2kpLmZyb20ob2kpLmV4dGVuZChmdW5jdGlvbigpe3JldHVybnthZGQ6ZnVuY3Rpb24obix0KXt2YXIgdT10aGlzLHI9dGhpcy5ob29rLmNyZWF0aW5nLmZpcmU7cmV0dXJuIHRoaXMuX2lkYnN0b3JlKHl0LGZ1bmN0aW9uKGUscyxsLGEpe3ZhciB2PXt9LHcseSxwO3IhPT1mJiYodz10fHwobC5rZXlQYXRoP2MobixsLmtleVBhdGgpOmkpLHk9ci5jYWxsKHYsdyxuLGEpLHc9PT1pJiZ5IT09aSYmKGwua2V5UGF0aD9oKG4sbC5rZXlQYXRoLHkpOnQ9eSkpO3A9dD9sLmFkZChuLHQpOmwuYWRkKG4pO3Aub25lcnJvcj1vKGZ1bmN0aW9uKG4pe2lmKHYub25lcnJvcil2Lm9uZXJyb3Iobik7cmV0dXJuIHMobil9LFtcImFkZGluZ1wiLG4sXCJpbnRvXCIsdS5uYW1lXSk7cC5vbnN1Y2Nlc3M9ZnVuY3Rpb24odCl7dmFyIGk9bC5rZXlQYXRoO2lmKGkmJmgobixpLHQudGFyZ2V0LnJlc3VsdCksdi5vbnN1Y2Nlc3Mpdi5vbnN1Y2Nlc3ModC50YXJnZXQucmVzdWx0KTtlKHAucmVzdWx0KX19KX0scHV0OmZ1bmN0aW9uKG4sdCl7dmFyIHI9dGhpcyx1PXRoaXMuaG9vay5jcmVhdGluZy5maXJlLGU9dGhpcy5ob29rLnVwZGF0aW5nLmZpcmU7cmV0dXJuIHUhPT1mfHxlIT09Zj90aGlzLl90cmFucyh5dCxmdW5jdGlvbih1LGYsZSl7dmFyIG89dHx8ci5zY2hlbWEucHJpbUtleS5rZXlQYXRoJiZjKG4sci5zY2hlbWEucHJpbUtleS5rZXlQYXRoKTtvPT09aT9lLnRhYmxlc1tyLm5hbWVdLmFkZChuKS50aGVuKHUsZik6KGUuX2xvY2soKSxuPWwobiksZS50YWJsZXNbci5uYW1lXS53aGVyZShcIjppZFwiKS5lcXVhbHMobykubW9kaWZ5KGZ1bmN0aW9uKCl7dGhpcy52YWx1ZT1ufSkudGhlbihmdW5jdGlvbihpKXtyZXR1cm4gaT09PTA/ZS50YWJsZXNbci5uYW1lXS5hZGQobix0KTpvfSkuZmluYWxseShmdW5jdGlvbigpe2UuX3VubG9jaygpfSkudGhlbih1LGYpKX0pOnRoaXMuX2lkYnN0b3JlKHl0LGZ1bmN0aW9uKGksdSxmKXt2YXIgZT10P2YucHV0KG4sdCk6Zi5wdXQobik7ZS5vbmVycm9yPW8odSxbXCJwdXR0aW5nXCIsbixcImludG9cIixyLm5hbWVdKTtlLm9uc3VjY2Vzcz1mdW5jdGlvbih0KXt2YXIgcj1mLmtleVBhdGg7ciYmaChuLHIsdC50YXJnZXQucmVzdWx0KTtpKGUucmVzdWx0KX19KX0sXCJkZWxldGVcIjpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5ob29rLmRlbGV0aW5nLnN1YnNjcmliZXJzLmxlbmd0aD90aGlzLndoZXJlKFwiOmlkXCIpLmVxdWFscyhuKS5kZWxldGUoKTp0aGlzLl9pZGJzdG9yZSh5dCxmdW5jdGlvbih0LGkscil7dmFyIHU9ci5kZWxldGUobik7dS5vbmVycm9yPW8oaSxbXCJkZWxldGluZ1wiLG4sXCJmcm9tXCIsci5uYW1lXSk7dS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oKXt0KHUucmVzdWx0KX19KX0sY2xlYXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ob29rLmRlbGV0aW5nLnN1YnNjcmliZXJzLmxlbmd0aD90aGlzLnRvQ29sbGVjdGlvbigpLmRlbGV0ZSgpOnRoaXMuX2lkYnN0b3JlKHl0LGZ1bmN0aW9uKG4sdCxpKXt2YXIgcj1pLmNsZWFyKCk7ci5vbmVycm9yPW8odCxbXCJjbGVhcmluZ1wiLGkubmFtZV0pO3Iub25zdWNjZXNzPWZ1bmN0aW9uKCl7bihyLnJlc3VsdCl9fSl9LHVwZGF0ZTpmdW5jdGlvbihuLHQpe2lmKHR5cGVvZiB0IT1cIm9iamVjdFwifHxBcnJheS5pc0FycmF5KHQpKXRocm93IG5ldyBudChcImRiLnVwZGF0ZShrZXlPck9iamVjdCwgbW9kaWZpY2F0aW9ucykuIG1vZGlmaWNhdGlvbnMgbXVzdCBiZSBhbiBvYmplY3QuXCIpO2lmKHR5cGVvZiBuIT1cIm9iamVjdFwifHxBcnJheS5pc0FycmF5KG4pKXJldHVybiB0aGlzLndoZXJlKFwiOmlkXCIpLmVxdWFscyhuKS5tb2RpZnkodCk7T2JqZWN0LmtleXModCkuZm9yRWFjaChmdW5jdGlvbihpKXtoKG4saSx0W2ldKX0pO3ZhciB1PWMobix0aGlzLnNjaGVtYS5wcmltS2V5LmtleVBhdGgpO3JldHVybiB1PT09aSYmci5yZWplY3QobmV3IG50KFwiT2JqZWN0IGRvZXMgbm90IGNvbnRhaW4gaXRzIHByaW1hcnkga2V5XCIpKSx0aGlzLndoZXJlKFwiOmlkXCIpLmVxdWFscyh1KS5tb2RpZnkodCl9fX0pO3MoaXIucHJvdG90eXBlLHtfbG9jazpmdW5jdGlvbigpe3JldHVybisrdGhpcy5fcmVjdWxvY2ssdGhpcy5fcmVjdWxvY2s9PT0xJiZyLlBTRCYmKHIuUFNELmxvY2tPd25lckZvcj10aGlzKSx0aGlzfSxfdW5sb2NrOmZ1bmN0aW9uKCl7aWYoLS10aGlzLl9yZWN1bG9jaz09MClmb3Ioci5QU0QmJihyLlBTRC5sb2NrT3duZXJGb3I9bnVsbCk7dGhpcy5fYmxvY2tlZEZ1bmNzLmxlbmd0aD4wJiYhdGhpcy5fbG9ja2VkKCk7KXt2YXIgbj10aGlzLl9ibG9ja2VkRnVuY3Muc2hpZnQoKTt0cnl7bigpfWNhdGNoKHQpe319cmV0dXJuIHRoaXN9LF9sb2NrZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVjdWxvY2smJighci5QU0R8fHIuUFNELmxvY2tPd25lckZvciE9PXRoaXMpfSxfbm9wOmZ1bmN0aW9uKG4pe3RoaXMudGFibGVzW3RoaXMuc3RvcmVOYW1lc1swXV0uZ2V0KDApLnRoZW4obil9LF9wcm9taXNlOmZ1bmN0aW9uKG4sdCxpKXt2YXIgZj10aGlzO3JldHVybiByLm5ld1BTRChmdW5jdGlvbigpe3ZhciBlO3JldHVybiBmLl9sb2NrZWQoKT9lPW5ldyByKGZ1bmN0aW9uKHIsdSl7Zi5fYmxvY2tlZEZ1bmNzLnB1c2goZnVuY3Rpb24oKXtmLl9wcm9taXNlKG4sdCxpKS50aGVuKHIsdSl9KX0pOihlPWYuYWN0aXZlP25ldyByKGZ1bmN0aW9uKHIsZSl7aWYoIWYuaWRidHJhbnMmJm4pe2lmKCFpdCl0aHJvdyBlaT9uZXcgbnQoXCJEYXRhYmFzZSBub3Qgb3Blbi4gRm9sbG93aW5nIGVycm9yIGluIHBvcHVsYXRlLCByZWFkeSBvciB1cGdyYWRlIGZ1bmN0aW9uIG1hZGUgRGV4aWUub3BlbigpIGZhaWw6IFwiK2VpKTpuZXcgbnQoXCJEYXRhYmFzZSBub3Qgb3BlblwiKTt2YXIgbz1mLmlkYnRyYW5zPWl0LnRyYW5zYWN0aW9uKG90KGYuc3RvcmVOYW1lcyksZi5tb2RlKTtvLm9uZXJyb3I9ZnVuY3Rpb24obil7Zi5vbihcImVycm9yXCIpLmZpcmUobiYmbi50YXJnZXQuZXJyb3IpO24ucHJldmVudERlZmF1bHQoKTtmLmFib3J0KCl9O28ub25hYm9ydD1mdW5jdGlvbihuKXt5KGZ1bmN0aW9uKCl7Zi5vbihcImVycm9yXCIpLmZpcmUobmV3IG50KFwiVHJhbnNhY3Rpb24gYWJvcnRlZCBmb3IgdW5rbm93biByZWFzb25cIikpfSk7Zi5hY3RpdmU9ITE7Zi5vbihcImFib3J0XCIpLmZpcmUobil9O28ub25jb21wbGV0ZT1mdW5jdGlvbihuKXtmLmFjdGl2ZT0hMTtmLm9uKFwiY29tcGxldGVcIikuZmlyZShuKX19aSYmZi5fbG9jaygpO3RyeXt0KHIsZSxmKX1jYXRjaChzKXt1Lmlnbm9yZVRyYW5zYWN0aW9uKGZ1bmN0aW9uKCl7Zi5vbihcImVycm9yXCIpLmZpcmUocyl9KTtmLmFib3J0KCk7ZShzKX19KTpyLnJlamVjdChuaShuZXcgbnQoXCJUcmFuc2FjdGlvbiBpcyBpbmFjdGl2ZS4gT3JpZ2luYWwgU2NvcGUgRnVuY3Rpb24gU291cmNlOiBcIitmLnNjb3BlRnVuYy50b1N0cmluZygpKSkpLGYuYWN0aXZlJiZpJiZlLmZpbmFsbHkoZnVuY3Rpb24oKXtmLl91bmxvY2soKX0pKSxlLm9udW5jYXRjaGVkPWZ1bmN0aW9uKG4pe3UuaWdub3JlVHJhbnNhY3Rpb24oZnVuY3Rpb24oKXtmLm9uKFwiZXJyb3JcIikuZmlyZShuKX0pO2YuYWJvcnQoKX0sZX0pfSxjb21wbGV0ZTpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5vbihcImNvbXBsZXRlXCIsbil9LGVycm9yOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLm9uKFwiZXJyb3JcIixuKX0sYWJvcnQ6ZnVuY3Rpb24oKXtpZih0aGlzLmlkYnRyYW5zJiZ0aGlzLmFjdGl2ZSl0cnl7dGhpcy5hY3RpdmU9ITE7dGhpcy5pZGJ0cmFucy5hYm9ydCgpO3RoaXMub24uZXJyb3IuZmlyZShuZXcgbnQoXCJUcmFuc2FjdGlvbiBBYm9ydGVkXCIpKX1jYXRjaChuKXt9fSx0YWJsZTpmdW5jdGlvbihuKXtpZighdGhpcy50YWJsZXMuaGFzT3duUHJvcGVydHkobikpdGhyb3cgbmV3IG50KFwiVGFibGUgXCIrbitcIiBub3QgaW4gdHJhbnNhY3Rpb25cIik7cmV0dXJuIHRoaXMudGFibGVzW25dfX0pO3MobGkucHJvdG90eXBlLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gbihuLHQpe3RyeXt0aHJvdyB0O31jYXRjaChpKXtuLl9jdHguZXJyb3I9aX1yZXR1cm4gbn1mdW5jdGlvbiB0KG4pe3JldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChuLmxlbmd0aD09PTEmJkFycmF5LmlzQXJyYXkoblswXSk/blswXTpuKX1mdW5jdGlvbiByKG4pe3JldHVybiBuPT09XCJuZXh0XCI/ZnVuY3Rpb24obil7cmV0dXJuIG4udG9VcHBlckNhc2UoKX06ZnVuY3Rpb24obil7cmV0dXJuIG4udG9Mb3dlckNhc2UoKX19ZnVuY3Rpb24gdShuKXtyZXR1cm4gbj09PVwibmV4dFwiP2Z1bmN0aW9uKG4pe3JldHVybiBuLnRvTG93ZXJDYXNlKCl9OmZ1bmN0aW9uKG4pe3JldHVybiBuLnRvVXBwZXJDYXNlKCl9fWZ1bmN0aW9uIGYobix0LGkscix1LGYpe2Zvcih2YXIgaCxzPU1hdGgubWluKG4ubGVuZ3RoLHIubGVuZ3RoKSxvPS0xLGU9MDtlPHM7KytlKXtpZihoPXRbZV0saCE9PXJbZV0pcmV0dXJuIHUobltlXSxpW2VdKTwwP24uc3Vic3RyKDAsZSkraVtlXStpLnN1YnN0cihlKzEpOnUobltlXSxyW2VdKTwwP24uc3Vic3RyKDAsZSkrcltlXStpLnN1YnN0cihlKzEpOm8+PTA/bi5zdWJzdHIoMCxvKSt0W29dK2kuc3Vic3RyKG8rMSk6bnVsbDt1KG5bZV0saCk8MCYmKG89ZSl9cmV0dXJuIHM8ci5sZW5ndGgmJmY9PT1cIm5leHRcIj9uK2kuc3Vic3RyKG4ubGVuZ3RoKTpzPG4ubGVuZ3RoJiZmPT09XCJwcmV2XCI/bi5zdWJzdHIoMCxpLmxlbmd0aCk6bzwwP251bGw6bi5zdWJzdHIoMCxvKStyW29dK2kuc3Vic3RyKG8rMSl9ZnVuY3Rpb24gaShuLHQsaSl7ZnVuY3Rpb24gYShuKXtzPXIobik7ZT11KG4pO2g9bj09PVwibmV4dFwiP2lpOmZyO2M9cyhpKTtvPWUoaSk7bD1ufXZhciBzLGUsaCxjLG8sbDthKFwibmV4dFwiKTtuLl9vbmRpcmVjdGlvbmNoYW5nZT1mdW5jdGlvbihuKXthKG4pfTtuLl9hZGRBbGdvcml0aG0oZnVuY3Rpb24obixpLHIpe3ZhciB1PW4ua2V5LHMsYTtyZXR1cm4gdHlwZW9mIHUhPVwic3RyaW5nXCI/ITE6KHM9ZSh1KSx0KHMsbyk/KGkoZnVuY3Rpb24oKXtuLmNvbnRpbnVlKCl9KSwhMCk6KGE9Zih1LHMsYyxvLGgsbCksYT9pKGZ1bmN0aW9uKCl7bi5jb250aW51ZShhKX0pOmkociksITEpKX0pfXJldHVybntiZXR3ZWVuOmZ1bmN0aW9uKG4sdCxpLHIpe3JldHVybihpPWkhPT0hMSxyPXI9PT0hMCxuPnR8fG49PT10JiYoaXx8cikmJiEoaSYmcikpP25ldyB0aGlzLl9jdHguY29sbENsYXNzKHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4ga3Qub25seShuKX0pLmxpbWl0KDApOm5ldyB0aGlzLl9jdHguY29sbENsYXNzKHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4ga3QuYm91bmQobix0LCFpLCFyKX0pfSxlcXVhbHM6ZnVuY3Rpb24obil7cmV0dXJuIG5ldyB0aGlzLl9jdHguY29sbENsYXNzKHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4ga3Qub25seShuKX0pfSxhYm92ZTpmdW5jdGlvbihuKXtyZXR1cm4gbmV3IHRoaXMuX2N0eC5jb2xsQ2xhc3ModGhpcyxmdW5jdGlvbigpe3JldHVybiBrdC5sb3dlckJvdW5kKG4sITApfSl9LGFib3ZlT3JFcXVhbDpmdW5jdGlvbihuKXtyZXR1cm4gbmV3IHRoaXMuX2N0eC5jb2xsQ2xhc3ModGhpcyxmdW5jdGlvbigpe3JldHVybiBrdC5sb3dlckJvdW5kKG4pfSl9LGJlbG93OmZ1bmN0aW9uKG4pe3JldHVybiBuZXcgdGhpcy5fY3R4LmNvbGxDbGFzcyh0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIGt0LnVwcGVyQm91bmQobiwhMCl9KX0sYmVsb3dPckVxdWFsOmZ1bmN0aW9uKG4pe3JldHVybiBuZXcgdGhpcy5fY3R4LmNvbGxDbGFzcyh0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIGt0LnVwcGVyQm91bmQobil9KX0sc3RhcnRzV2l0aDpmdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHQhPVwic3RyaW5nXCI/bihuZXcgdGhpcy5fY3R4LmNvbGxDbGFzcyh0aGlzKSxuZXcgeWkoXCJTdHJpbmcgZXhwZWN0ZWRcIikpOnRoaXMuYmV0d2Vlbih0LHQrU3RyaW5nLmZyb21DaGFyQ29kZSg2NTUzNSksITAsITApfSxzdGFydHNXaXRoSWdub3JlQ2FzZTpmdW5jdGlvbih0KXtpZih0eXBlb2YgdCE9XCJzdHJpbmdcIilyZXR1cm4gbihuZXcgdGhpcy5fY3R4LmNvbGxDbGFzcyh0aGlzKSxuZXcgeWkoXCJTdHJpbmcgZXhwZWN0ZWRcIikpO2lmKHQ9PT1cIlwiKXJldHVybiB0aGlzLnN0YXJ0c1dpdGgodCk7dmFyIHI9bmV3IHRoaXMuX2N0eC5jb2xsQ2xhc3ModGhpcyxmdW5jdGlvbigpe3JldHVybiBrdC5ib3VuZCh0LnRvVXBwZXJDYXNlKCksdC50b0xvd2VyQ2FzZSgpK1N0cmluZy5mcm9tQ2hhckNvZGUoNjU1MzUpKX0pO3JldHVybiBpKHIsZnVuY3Rpb24obix0KXtyZXR1cm4gbi5pbmRleE9mKHQpPT09MH0sdCksci5fb25kaXJlY3Rpb25jaGFuZ2U9ZnVuY3Rpb24oKXtuKHIsbmV3IG50KFwicmV2ZXJzZSgpIG5vdCBzdXBwb3J0ZWQgd2l0aCBXaGVyZUNsYXVzZS5zdGFydHNXaXRoSWdub3JlQ2FzZSgpXCIpKX0scn0sZXF1YWxzSWdub3JlQ2FzZTpmdW5jdGlvbih0KXtpZih0eXBlb2YgdCE9XCJzdHJpbmdcIilyZXR1cm4gbihuZXcgdGhpcy5fY3R4LmNvbGxDbGFzcyh0aGlzKSxuZXcgeWkoXCJTdHJpbmcgZXhwZWN0ZWRcIikpO3ZhciByPW5ldyB0aGlzLl9jdHguY29sbENsYXNzKHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4ga3QuYm91bmQodC50b1VwcGVyQ2FzZSgpLHQudG9Mb3dlckNhc2UoKSl9KTtyZXR1cm4gaShyLGZ1bmN0aW9uKG4sdCl7cmV0dXJuIG49PT10fSx0KSxyfSxhbnlPZjpmdW5jdGlvbigpe3ZhciBmPXRoaXMuX2N0eCxlPWYudGFibGUuc2NoZW1hLG89Zi5pbmRleD9lLmlkeEJ5TmFtZVtmLmluZGV4XTplLnByaW1LZXkscz1vJiZvLmNvbXBvdW5kLG49dChhcmd1bWVudHMpLGk9cz9lcihpaSk6aWksdSxyO3JldHVybihuLnNvcnQoaSksbi5sZW5ndGg9PT0wKT9uZXcgdGhpcy5fY3R4LmNvbGxDbGFzcyh0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIGt0Lm9ubHkoXCJcIil9KS5saW1pdCgwKToodT1uZXcgdGhpcy5fY3R4LmNvbGxDbGFzcyh0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIGt0LmJvdW5kKG5bMF0sbltuLmxlbmd0aC0xXSl9KSx1Ll9vbmRpcmVjdGlvbmNoYW5nZT1mdW5jdGlvbih0KXtpPXQ9PT1cIm5leHRcIj9paTpmcjtzJiYoaT1lcihpKSk7bi5zb3J0KGkpfSxyPTAsdS5fYWRkQWxnb3JpdGhtKGZ1bmN0aW9uKHQsdSxmKXtmb3IodmFyIGU9dC5rZXk7aShlLG5bcl0pPjA7KWlmKCsrcixyPT09bi5sZW5ndGgpcmV0dXJuIHUoZiksITE7cmV0dXJuIGkoZSxuW3JdKT09PTA/KHUoZnVuY3Rpb24oKXt0LmNvbnRpbnVlKCl9KSwhMCk6KHUoZnVuY3Rpb24oKXt0LmNvbnRpbnVlKG5bcl0pfSksITEpfSksdSl9LG5vdEVxdWFsOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLmJlbG93KG4pLm9yKHRoaXMuX2N0eC5pbmRleCkuYWJvdmUobil9LG5vbmVPZjpmdW5jdGlvbigpe3ZhciBpPXRoaXMuX2N0eCxmPWkudGFibGUuc2NoZW1hLGU9aS5pbmRleD9mLmlkeEJ5TmFtZVtpLmluZGV4XTpmLnByaW1LZXksaD1lJiZlLmNvbXBvdW5kLG49dChhcmd1bWVudHMpLG8scixzLHU7cmV0dXJuIG4ubGVuZ3RoPT09MD9uZXcgdGhpcy5fY3R4LmNvbGxDbGFzcyh0aGlzKToobz1oP2VyKGlpKTppaSxuLnNvcnQobykscj1uLnJlZHVjZShmdW5jdGlvbihuLHQpe3JldHVybiBuP24uY29uY2F0KFtbbltuLmxlbmd0aC0xXVsxXSx0XV0pOltbbnVsbCx0XV19LG51bGwpLHIucHVzaChbbltuLmxlbmd0aC0xXSxudWxsXSkscz10aGlzLHU9aS5pbmRleCxyLnJlZHVjZShmdW5jdGlvbihuLHQpe3JldHVybiBuP3RbMV09PT1udWxsP24ub3IodSkuYWJvdmUodFswXSk6bi5vcih1KS5iZXR3ZWVuKHRbMF0sdFsxXSwhMSwhMSk6cy5iZWxvdyh0WzFdKX0sbnVsbCkpfSxzdGFydHNXaXRoQW55T2Y6ZnVuY3Rpb24oKXtmdW5jdGlvbiBoKG4pe3JldHVybiBuPmZbcl19ZnVuY3Rpb24gYyhuKXtyZXR1cm4gbjxpW3JdfXZhciBzPXRoaXMuX2N0eCxpPXQoYXJndW1lbnRzKSxmLHUscixlLG87cmV0dXJuIGkuZXZlcnkoZnVuY3Rpb24obil7cmV0dXJuIHR5cGVvZiBuPT1cInN0cmluZ1wifSk/aS5sZW5ndGg9PT0wP25ldyBzLmNvbGxDbGFzcyh0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIGt0Lm9ubHkoXCJcIil9KS5saW1pdCgwKTooZj1pLm1hcChmdW5jdGlvbihuKXtyZXR1cm4gbitTdHJpbmcuZnJvbUNoYXJDb2RlKDY1NTM1KX0pLHU9aWksaS5zb3J0KHUpLHI9MCxlPWgsbz1uZXcgcy5jb2xsQ2xhc3ModGhpcyxmdW5jdGlvbigpe3JldHVybiBrdC5ib3VuZChpWzBdLGlbaS5sZW5ndGgtMV0rU3RyaW5nLmZyb21DaGFyQ29kZSg2NTUzNSkpfSksby5fb25kaXJlY3Rpb25jaGFuZ2U9ZnVuY3Rpb24obil7bj09PVwibmV4dFwiPyhlPWgsdT1paSk6KGU9Yyx1PWZyKTtpLnNvcnQodSk7Zi5zb3J0KHUpfSxvLl9hZGRBbGdvcml0aG0oZnVuY3Rpb24obix0LG8pe2Zvcih2YXIgcz1uLmtleTtlKHMpOylpZigrK3Iscj09PWkubGVuZ3RoKXJldHVybiB0KG8pLCExO3JldHVybiBzPj1pW3JdJiZzPD1mW3JdPyh0KGZ1bmN0aW9uKCl7bi5jb250aW51ZSgpfSksITApOih0KGZ1bmN0aW9uKCl7dT09PWlpP24uY29udGludWUoaVtyXSk6bi5jb250aW51ZShmW3JdKX0pLCExKX0pLG8pOm4obmV3IHMuY29sbENsYXNzKHRoaXMpLG5ldyB5aShcInN0YXJ0c1dpdGhBbnlPZigpIG9ubHkgd29ya3Mgd2l0aCBzdHJpbmdzXCIpKX19fSk7cyhhaS5wcm90b3R5cGUsZnVuY3Rpb24oKXtmdW5jdGlvbiBuKG4sdCl7bi5maWx0ZXI9a2kobi5maWx0ZXIsdCl9ZnVuY3Rpb24gcyhuLHQpe24uaXNNYXRjaD1raShuLmlzTWF0Y2gsdCl9ZnVuY3Rpb24gdShuLHQpe2lmKG4uaXNQcmltS2V5KXJldHVybiB0O3ZhciBpPW4udGFibGUuc2NoZW1hLmlkeEJ5TmFtZVtuLmluZGV4XTtpZighaSl0aHJvdyBuZXcgbnQoXCJLZXlQYXRoIFwiK24uaW5kZXgrXCIgb24gb2JqZWN0IHN0b3JlIFwiK3QubmFtZStcIiBpcyBub3QgaW5kZXhlZFwiKTtyZXR1cm4gbi5pc1ByaW1LZXk/dDp0LmluZGV4KGkubmFtZSl9ZnVuY3Rpb24gZihuLHQpe3JldHVybiB1KG4sdClbbi5vcF0obi5yYW5nZXx8bnVsbCxuLmRpcituLnVuaXF1ZSl9ZnVuY3Rpb24gaShuLHQsaSxyLHUpe24ub3I/ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7KytjPT0yJiZpKCl9ZnVuY3Rpb24gaChuLGksdSl7aWYoIW98fG8oaSx1LGUscikpe3ZhciBmPWkucHJpbWFyeUtleS50b1N0cmluZygpO3MuaGFzT3duUHJvcGVydHkoZil8fChzW2ZdPSEwLHQobixpLHUpKX19dmFyIG89bi5maWx0ZXIscz17fSxsPW4udGFibGUuc2NoZW1hLnByaW1LZXkua2V5UGF0aCxjPTA7bi5vci5faXRlcmF0ZShoLGUscix1KTtiaShmKG4sdSksbi5hbGdvcml0aG0saCxlLHIsbi50YWJsZS5ob29rLnJlYWRpbmcuZmlyZSl9KCk6YmkoZihuLHUpLGtpKG4uYWxnb3JpdGhtLG4uZmlsdGVyKSx0LGkscixuLnRhYmxlLmhvb2sucmVhZGluZy5maXJlKX1mdW5jdGlvbiB0KG4pe3JldHVybiBuLnRhYmxlLnNjaGVtYS5pbnN0YW5jZVRlbXBsYXRlfXJldHVybntfcmVhZDpmdW5jdGlvbihuLHQpe3ZhciBpPXRoaXMuX2N0eDtyZXR1cm4gaS5lcnJvcj9pLnRhYmxlLl90cmFucyhudWxsLGZ1bmN0aW9uKG4sdCl7dChpLmVycm9yKX0pOmkudGFibGUuX2lkYnN0b3JlKHRpLG4pLnRoZW4odCl9LF93cml0ZTpmdW5jdGlvbihuKXt2YXIgdD10aGlzLl9jdHg7cmV0dXJuIHQuZXJyb3I/dC50YWJsZS5fdHJhbnMobnVsbCxmdW5jdGlvbihuLGkpe2kodC5lcnJvcil9KTp0LnRhYmxlLl9pZGJzdG9yZSh5dCxuLFwibG9ja2VkXCIpfSxfYWRkQWxnb3JpdGhtOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMuX2N0eDt0LmFsZ29yaXRobT1raSh0LmFsZ29yaXRobSxuKX0sX2l0ZXJhdGU6ZnVuY3Rpb24obix0LHIsdSl7cmV0dXJuIGkodGhpcy5fY3R4LG4sdCxyLHUpfSxlYWNoOmZ1bmN0aW9uKG4pe3ZhciByPXRoaXMuX2N0eDtyZXR1cm4gZSYmbih0KHIpKSx0aGlzLl9yZWFkKGZ1bmN0aW9uKHQsdSxmKXtpKHIsbix0LHUsZil9KX0sY291bnQ6ZnVuY3Rpb24obil7dmFyIHMsdCxmO3JldHVybiBlP3IucmVzb2x2ZSgwKS50aGVuKG4pOihzPXRoaXMsdD10aGlzLl9jdHgsdC5maWx0ZXJ8fHQuYWxnb3JpdGhtfHx0Lm9yPyhmPTAsdGhpcy5fcmVhZChmdW5jdGlvbihuLHIsdSl7aSh0LGZ1bmN0aW9uKCl7cmV0dXJuKytmLCExfSxmdW5jdGlvbigpe24oZil9LHIsdSl9LG4pKTp0aGlzLl9yZWFkKGZ1bmN0aW9uKG4saSxyKXt2YXIgZj11KHQsciksZT10LnJhbmdlP2YuY291bnQodC5yYW5nZSk6Zi5jb3VudCgpO2Uub25lcnJvcj1vKGksW1wiY2FsbGluZ1wiLFwiY291bnQoKVwiLFwib25cIixzLm5hbWVdKTtlLm9uc3VjY2Vzcz1mdW5jdGlvbihpKXtuKE1hdGgubWluKGkudGFyZ2V0LnJlc3VsdCxNYXRoLm1heCgwLHQubGltaXQtdC5vZmZzZXQpKSl9fSxuKSl9LHNvcnRCeTpmdW5jdGlvbihuLHQpe2Z1bmN0aW9uIHIobix0KXtyZXR1cm4gdD9yKG5baVt0XV0sdC0xKTpuW2VdfWZ1bmN0aW9uIG8obix0KXt2YXIgaT1yKG4sdSksZT1yKHQsdSk7cmV0dXJuIGk8ZT8tZjppPmU/ZjowfXZhciBzPXRoaXMuX2N0eCxpPW4uc3BsaXQoXCIuXCIpLnJldmVyc2UoKSxlPWlbMF0sdT1pLmxlbmd0aC0xLGY9dGhpcy5fY3R4LmRpcj09PVwibmV4dFwiPzE6LTE7cmV0dXJuIHRoaXMudG9BcnJheShmdW5jdGlvbihuKXtyZXR1cm4gbi5zb3J0KG8pfSkudGhlbih0KX0sdG9BcnJheTpmdW5jdGlvbihuKXt2YXIgcj10aGlzLl9jdHg7cmV0dXJuIHRoaXMuX3JlYWQoZnVuY3Rpb24obix1LGYpe2UmJm4oW3QocildKTt2YXIgbz1bXTtpKHIsZnVuY3Rpb24obil7by5wdXNoKG4pfSxmdW5jdGlvbigpe24obyl9LHUsZil9LG4pfSxvZmZzZXQ6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5fY3R4O3JldHVybiB0PD0wP3RoaXM6KGkub2Zmc2V0Kz10LGkub3J8fGkuYWxnb3JpdGhtfHxpLmZpbHRlcj9uKGksZnVuY3Rpb24oKXtyZXR1cm4tLXQ8MH0pOm4oaSxmdW5jdGlvbihuLGkpe3JldHVybiB0PT09MD8hMDp0PT09MT8oLS10LCExKTooaShmdW5jdGlvbigpe24uYWR2YW5jZSh0KTt0PTB9KSwhMSl9KSx0aGlzKX0sbGltaXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2N0eC5saW1pdD1NYXRoLm1pbih0aGlzLl9jdHgubGltaXQsdCksbih0aGlzLl9jdHgsZnVuY3Rpb24obixpLHIpe3JldHVybi0tdDw9MCYmaShyKSx0Pj0wfSksdGhpc30sdW50aWw6ZnVuY3Rpb24oaSxyKXt2YXIgdT10aGlzLl9jdHg7cmV0dXJuIGUmJmkodCh1KSksbih0aGlzLl9jdHgsZnVuY3Rpb24obix0LHUpe3JldHVybiBpKG4udmFsdWUpPyh0KHUpLHIpOiEwfSksdGhpc30sZmlyc3Q6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMubGltaXQoMSkudG9BcnJheShmdW5jdGlvbihuKXtyZXR1cm4gblswXX0pLnRoZW4obil9LGxhc3Q6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMucmV2ZXJzZSgpLmZpcnN0KG4pfSxhbmQ6ZnVuY3Rpb24oaSl7cmV0dXJuIGUmJmkodCh0aGlzLl9jdHgpKSxuKHRoaXMuX2N0eCxmdW5jdGlvbihuKXtyZXR1cm4gaShuLnZhbHVlKX0pLHModGhpcy5fY3R4LGkpLHRoaXN9LG9yOmZ1bmN0aW9uKG4pe3JldHVybiBuZXcgbGkodGhpcy5fY3R4LnRhYmxlLG4sdGhpcyl9LHJldmVyc2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY3R4LmRpcj10aGlzLl9jdHguZGlyPT09XCJwcmV2XCI/XCJuZXh0XCI6XCJwcmV2XCIsdGhpcy5fb25kaXJlY3Rpb25jaGFuZ2UmJnRoaXMuX29uZGlyZWN0aW9uY2hhbmdlKHRoaXMuX2N0eC5kaXIpLHRoaXN9LGRlc2M6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZXZlcnNlKCl9LGVhY2hLZXk6ZnVuY3Rpb24obil7dmFyIGk9dGhpcy5fY3R4O3JldHVybiBlJiZuKGModCh0aGlzLl9jdHgpLHRoaXMuX2N0eC5pbmRleD90aGlzLl9jdHgudGFibGUuc2NoZW1hLmlkeEJ5TmFtZVt0aGlzLl9jdHguaW5kZXhdLmtleVBhdGg6dGhpcy5fY3R4LnRhYmxlLnNjaGVtYS5wcmltS2V5LmtleVBhdGgpKSxpLmlzUHJpbUtleXx8KGkub3A9XCJvcGVuS2V5Q3Vyc29yXCIpLHRoaXMuZWFjaChmdW5jdGlvbih0LGkpe24oaS5rZXksaSl9KX0sZWFjaFVuaXF1ZUtleTpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5fY3R4LnVuaXF1ZT1cInVuaXF1ZVwiLHRoaXMuZWFjaEtleShuKX0sa2V5czpmdW5jdGlvbihuKXt2YXIgaT10aGlzLl9jdHgsdDtyZXR1cm4oaS5pc1ByaW1LZXl8fChpLm9wPVwib3BlbktleUN1cnNvclwiKSx0PVtdLGUpP25ldyByKHRoaXMuZWFjaEtleS5iaW5kKHRoaXMpKS50aGVuKGZ1bmN0aW9uKG4pe3JldHVybltuXX0pLnRoZW4obik6dGhpcy5lYWNoKGZ1bmN0aW9uKG4saSl7dC5wdXNoKGkua2V5KX0pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gdH0pLnRoZW4obil9LHVuaXF1ZUtleXM6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX2N0eC51bmlxdWU9XCJ1bmlxdWVcIix0aGlzLmtleXMobil9LGZpcnN0S2V5OmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLmxpbWl0KDEpLmtleXMoZnVuY3Rpb24obil7cmV0dXJuIG5bMF19KS50aGVuKG4pfSxsYXN0S2V5OmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLnJldmVyc2UoKS5maXJzdEtleShuKX0sZGlzdGluY3Q6ZnVuY3Rpb24oKXt2YXIgdD17fTtyZXR1cm4gbih0aGlzLl9jdHgsZnVuY3Rpb24obil7dmFyIGk9bi5wcmltYXJ5S2V5LnRvU3RyaW5nKCkscj10Lmhhc093blByb3BlcnR5KGkpO3JldHVybiB0W2ldPSEwLCFyfSksdGhpc319fSk7cChycikuZnJvbShhaSkuZXh0ZW5kKHttb2RpZnk6ZnVuY3Rpb24obil7dmFyIGE9dGhpcyx0PXRoaXMuX2N0eCxyPXQudGFibGUuaG9vayxpPXIudXBkYXRpbmcuZmlyZSx1PXIuZGVsZXRpbmcuZmlyZTtyZXR1cm4gZSYmdHlwZW9mIG49PVwiZnVuY3Rpb25cIiYmbi5jYWxsKHt2YWx1ZTp0LnRhYmxlLnNjaGVtYS5pbnN0YW5jZVRlbXBsYXRlfSx0LnRhYmxlLnNjaGVtYS5pbnN0YW5jZVRlbXBsYXRlKSx0aGlzLl93cml0ZShmdW5jdGlvbihyLGUsdix5KXtmdW5jdGlvbiBzdChuLGkpe3ZhciByLHUsZjtpZihldD1pLnByaW1hcnlLZXkscj17cHJpbUtleTppLnByaW1hcnlLZXksdmFsdWU6bn0sdy5jYWxsKHIsbikhPT0hMSl1PSFyLmhhc093blByb3BlcnR5KFwidmFsdWVcIiksZj11P2kuZGVsZXRlKCk6aS51cGRhdGUoci52YWx1ZSksKyt1dCxmLm9uZXJyb3I9byhmdW5jdGlvbihuKXtpZihwLnB1c2gobiksbnQucHVzaChyLnByaW1LZXkpLHIub25lcnJvcilyLm9uZXJyb3Iobik7cmV0dXJuIHR0KCksITB9LHU/W1wiZGVsZXRpbmdcIixuLFwiZnJvbVwiLHQudGFibGUubmFtZV06W1wibW9kaWZ5aW5nXCIsbixcIm9uXCIsdC50YWJsZS5uYW1lXSksZi5vbnN1Y2Nlc3M9ZnVuY3Rpb24oKXtpZihyLm9uc3VjY2VzcylyLm9uc3VjY2VzcyhyLnZhbHVlKTsrK2I7dHQoKX07ZWxzZSBpZihyLm9uc3VjY2VzcylyLm9uc3VjY2VzcyhyLnZhbHVlKX1mdW5jdGlvbiBvdChuKXtyZXR1cm4gbiYmKHAucHVzaChuKSxudC5wdXNoKGV0KSksZShuZXcgZyhcIkVycm9yIG1vZGlmeWluZyBvbmUgb3IgbW9yZSBvYmplY3RzXCIscCxiLG50KSl9ZnVuY3Rpb24gdHQoKXtmdCYmYitwLmxlbmd0aD09PXV0JiYocC5sZW5ndGg+MD9vdCgpOnIoYikpfXZhciB3LGssaXQsZDt0eXBlb2Ygbj09XCJmdW5jdGlvblwiP3c9aT09PWYmJnU9PT1mP246ZnVuY3Rpb24odCl7dmFyIGY9bCh0KSxlLHI7aWYobi5jYWxsKHRoaXMsdCk9PT0hMSlyZXR1cm4hMTt0aGlzLmhhc093blByb3BlcnR5KFwidmFsdWVcIik/KGU9Z3QoZix0aGlzLnZhbHVlKSxyPWkuY2FsbCh0aGlzLGUsdGhpcy5wcmltS2V5LGYseSksciYmKHQ9dGhpcy52YWx1ZSxPYmplY3Qua2V5cyhyKS5mb3JFYWNoKGZ1bmN0aW9uKG4pe2godCxuLHJbbl0pfSkpKTp1LmNhbGwodGhpcyx0aGlzLnByaW1LZXksdCx5KX06aT09PWY/KGs9T2JqZWN0LmtleXMobiksaXQ9ay5sZW5ndGgsdz1mdW5jdGlvbih0KXtmb3IodmFyIGksdSxmPSExLHI9MDtyPGl0OysrcilpPWtbcl0sdT1uW2ldLGModCxpKSE9PXUmJihoKHQsaSx1KSxmPSEwKTtyZXR1cm4gZn0pOihkPW4sbj1ydChkKSx3PWZ1bmN0aW9uKHQpe3ZhciB1PSExLHI9aS5jYWxsKHRoaXMsbix0aGlzLnByaW1LZXksbCh0KSx5KTtyZXR1cm4gciYmcyhuLHIpLE9iamVjdC5rZXlzKG4pLmZvckVhY2goZnVuY3Rpb24oaSl7dmFyIHI9bltpXTtjKHQsaSkhPT1yJiYoaCh0LGksciksdT0hMCl9KSxyJiYobj1ydChkKSksdX0pO3ZhciB1dD0wLGI9MCxmdD0hMSxwPVtdLG50PVtdLGV0PW51bGw7YS5faXRlcmF0ZShzdCxmdW5jdGlvbigpe2Z0PSEwO3R0KCl9LG90LHYpfSl9LFwiZGVsZXRlXCI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tb2RpZnkoZnVuY3Rpb24oKXtkZWxldGUgdGhpcy52YWx1ZX0pfX0pO3ModGhpcyx7Q29sbGVjdGlvbjphaSxUYWJsZTpvaSxUcmFuc2FjdGlvbjppcixWZXJzaW9uOmdpLFdoZXJlQ2xhdXNlOmxpLFdyaXRlYWJsZUNvbGxlY3Rpb246cnIsV3JpdGVhYmxlVGFibGU6d2l9KTtjcigpO2hyLmZvckVhY2goZnVuY3Rpb24obil7bihiKX0pfWZ1bmN0aW9uIGYoKXt9ZnVuY3Rpb24gdHQobil7cmV0dXJuIG59ZnVuY3Rpb24gbHQobix0KXtyZXR1cm4gbj09PXR0P3Q6ZnVuY3Rpb24oaSl7cmV0dXJuIHQobihpKSl9fWZ1bmN0aW9uIGIobix0KXtyZXR1cm4gZnVuY3Rpb24oKXtuLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19ZnVuY3Rpb24gYXQobix0KXtyZXR1cm4gbj09PWY/dDpmdW5jdGlvbigpe3ZhciBmPW4uYXBwbHkodGhpcyxhcmd1bWVudHMpLHIsdSxlO3JldHVybiBmIT09aSYmKGFyZ3VtZW50c1swXT1mKSxyPXRoaXMub25zdWNjZXNzLHU9dGhpcy5vbmVycm9yLGRlbGV0ZSB0aGlzLm9uc3VjY2VzcyxkZWxldGUgdGhpcy5vbmVycm9yLGU9dC5hcHBseSh0aGlzLGFyZ3VtZW50cyksciYmKHRoaXMub25zdWNjZXNzPXRoaXMub25zdWNjZXNzP2Iocix0aGlzLm9uc3VjY2Vzcyk6ciksdSYmKHRoaXMub25lcnJvcj10aGlzLm9uZXJyb3I/Yih1LHRoaXMub25lcnJvcik6dSksZSE9PWk/ZTpmfX1mdW5jdGlvbiB2dChuLHQpe3JldHVybiBuPT09Zj90OmZ1bmN0aW9uKCl7dmFyIHI9bi5hcHBseSh0aGlzLGFyZ3VtZW50cyksZixlLHU7cmV0dXJuIHIhPT1pJiZzKGFyZ3VtZW50c1swXSxyKSxmPXRoaXMub25zdWNjZXNzLGU9dGhpcy5vbmVycm9yLGRlbGV0ZSB0aGlzLm9uc3VjY2VzcyxkZWxldGUgdGhpcy5vbmVycm9yLHU9dC5hcHBseSh0aGlzLGFyZ3VtZW50cyksZiYmKHRoaXMub25zdWNjZXNzPXRoaXMub25zdWNjZXNzP2IoZix0aGlzLm9uc3VjY2Vzcyk6ZiksZSYmKHRoaXMub25lcnJvcj10aGlzLm9uZXJyb3I/YihlLHRoaXMub25lcnJvcik6ZSkscj09PWk/dT09PWk/aTp1OnU9PT1pP3I6cyhyLHUpfX1mdW5jdGlvbiB5dChuLHQpe3JldHVybiBuPT09Zj90OmZ1bmN0aW9uKCl7cmV0dXJuIG4uYXBwbHkodGhpcyxhcmd1bWVudHMpPT09ITE/ITE6dC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fWZ1bmN0aW9uIHB0KG4sdCl7cmV0dXJuIG49PT1mP3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyk9PT0hMT8hMTpuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19ZnVuY3Rpb24gd3Qobix0KXtyZXR1cm4gbj09PWY/dDpmdW5jdGlvbigpe24uYXBwbHkodGhpcyxhcmd1bWVudHMpO3QuYXBwbHkodGhpcyxhcmd1bWVudHMpfX1mdW5jdGlvbiBidChuLHQpe3JldHVybiBuPT09Zj90OmZ1bmN0aW9uKCl7dmFyIGk9bi5hcHBseSh0aGlzLGFyZ3VtZW50cykscix1O3JldHVybiBpJiZ0eXBlb2YgaS50aGVuPT1cImZ1bmN0aW9uXCI/KHI9dGhpcyx1PWFyZ3VtZW50cyxpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseShyLHUpfSkpOnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfX1mdW5jdGlvbiB2KHQpe2Z1bmN0aW9uIGkobix0LGkpe2lmKEFycmF5LmlzQXJyYXkobikpcmV0dXJuIGMobik7aWYodHlwZW9mIG49PVwib2JqZWN0XCIpcmV0dXJuIGgobik7dHx8KHQ9eXQpO2l8fChpPWYpO3ZhciByPXtzdWJzY3JpYmVyczpbXSxmaXJlOmksc3Vic2NyaWJlOmZ1bmN0aW9uKG4pe3Iuc3Vic2NyaWJlcnMucHVzaChuKTtyLmZpcmU9dChyLmZpcmUsbil9LHVuc3Vic2NyaWJlOmZ1bmN0aW9uKG4pe3Iuc3Vic2NyaWJlcnM9ci5zdWJzY3JpYmVycy5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIHQhPT1ufSk7ci5maXJlPXIuc3Vic2NyaWJlcnMucmVkdWNlKHQsaSl9fTtyZXR1cm4gdVtuXT1lW25dPXIscn1mdW5jdGlvbiBoKHQpe09iamVjdC5rZXlzKHQpLmZvckVhY2goZnVuY3Rpb24ocil7dmFyIGY9dFtyXSx1O2lmKEFycmF5LmlzQXJyYXkoZikpaShyLHRbcl1bMF0sdFtyXVsxXSk7ZWxzZSBpZihmPT09XCJhc2FwXCIpdT1pKHIsbnVsbCxmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50czt1LnN1YnNjcmliZXJzLmZvckVhY2goZnVuY3Rpb24oaSl7eShmdW5jdGlvbigpe2kuYXBwbHkobix0KX0pfSl9KSx1LnN1YnNjcmliZT1mdW5jdGlvbihuKXt1LnN1YnNjcmliZXJzLmluZGV4T2Yobik9PT0tMSYmdS5zdWJzY3JpYmVycy5wdXNoKG4pfSx1LnVuc3Vic2NyaWJlPWZ1bmN0aW9uKG4pe3ZhciB0PXUuc3Vic2NyaWJlcnMuaW5kZXhPZihuKTt0IT09LTEmJnUuc3Vic2NyaWJlcnMuc3BsaWNlKHQsMSl9O2Vsc2UgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBldmVudCBjb25maWdcIik7fSl9ZnVuY3Rpb24gYyhuKXtmdW5jdGlvbiByKCl7aWYodClyZXR1cm4hMTt0PSEwfXZhciB0PSExO24uZm9yRWFjaChmdW5jdGlvbihuKXtpKG4pLnN1YnNjcmliZShyKX0pfXZhciBvPWFyZ3VtZW50cyx1PXt9LGU9ZnVuY3Rpb24obixpKXtpZihpKXt2YXIgZj1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxyPXVbbl07cmV0dXJuIHIuc3Vic2NyaWJlLmFwcGx5KHIsZiksdH1pZih0eXBlb2Ygbj09XCJzdHJpbmdcIilyZXR1cm4gdVtuXX0scixzO2ZvcihlLmFkZEV2ZW50VHlwZT1pLHI9MSxzPW8ubGVuZ3RoO3I8czsrK3IpaShvW3JdKTtyZXR1cm4gZX1mdW5jdGlvbiBrdChuKXtpZighbil0aHJvdyBuZXcgRXJyb3IoXCJBc3NlcnRpb24gZmFpbGVkXCIpO31mdW5jdGlvbiB5KHQpe24uc2V0SW1tZWRpYXRlP3NldEltbWVkaWF0ZSh0KTpzZXRUaW1lb3V0KHQsMCl9ZnVuY3Rpb24gaXQobil7dmFyIHQ9c2V0VGltZW91dChuLDFlMyk7Y2xlYXJUaW1lb3V0KHQpfWZ1bmN0aW9uIGQobix0LGkpe3JldHVybiBmdW5jdGlvbigpe3ZhciB1PXIuUFNEO3IuUFNEPWk7dHJ5e24uYXBwbHkodGhpcyxhcmd1bWVudHMpfWNhdGNoKGYpe3QoZil9ZmluYWxseXtyLlBTRD11fX19ZnVuY3Rpb24gYyhuLHQpe3ZhciBmLHIsbyxzLHUsZTtpZihuLmhhc093blByb3BlcnR5KHQpKXJldHVybiBuW3RdO2lmKCF0KXJldHVybiBuO2lmKHR5cGVvZiB0IT1cInN0cmluZ1wiKXtmb3IoZj1bXSxyPTAsbz10Lmxlbmd0aDtyPG87KytyKXM9YyhuLHRbcl0pLGYucHVzaChzKTtyZXR1cm4gZn1yZXR1cm4odT10LmluZGV4T2YoXCIuXCIpLHUhPT0tMSk/KGU9blt0LnN1YnN0cigwLHUpXSxlPT09aT9pOmMoZSx0LnN1YnN0cih1KzEpKSk6aX1mdW5jdGlvbiBoKG4sdCxyKXt2YXIgdSxjLGUsZixzLG87aWYobiYmdCE9PWkpaWYodHlwZW9mIHQhPVwic3RyaW5nXCImJlwibGVuZ3RoXCJpbiB0KWZvcihrdCh0eXBlb2YgciE9XCJzdHJpbmdcIiYmXCJsZW5ndGhcImluIHIpLHU9MCxjPXQubGVuZ3RoO3U8YzsrK3UpaChuLHRbdV0sclt1XSk7ZWxzZSBlPXQuaW5kZXhPZihcIi5cIiksZSE9PS0xPyhmPXQuc3Vic3RyKDAsZSkscz10LnN1YnN0cihlKzEpLHM9PT1cIlwiP3I9PT1pP2RlbGV0ZSBuW2ZdOm5bZl09cjoobz1uW2ZdLG98fChvPW5bZl09e30pLGgobyxzLHIpKSk6cj09PWk/ZGVsZXRlIG5bdF06blt0XT1yfWZ1bmN0aW9uIGR0KG4sdCl7dHlwZW9mIHQ9PVwic3RyaW5nXCI/aChuLHQsaSk6XCJsZW5ndGhcImluIHQmJltdLm1hcC5jYWxsKHQsZnVuY3Rpb24odCl7aChuLHQsaSl9KX1mdW5jdGlvbiBydChuKXt2YXIgaT17fTtmb3IodmFyIHQgaW4gbiluLmhhc093blByb3BlcnR5KHQpJiYoaVt0XT1uW3RdKTtyZXR1cm4gaX1mdW5jdGlvbiBsKG4pe3ZhciB0LGksdSxyO2lmKCFufHx0eXBlb2YgbiE9XCJvYmplY3RcIilyZXR1cm4gbjtpZihBcnJheS5pc0FycmF5KG4pKWZvcih0PVtdLGk9MCx1PW4ubGVuZ3RoO2k8dTsrK2kpdC5wdXNoKGwobltpXSkpO2Vsc2UgaWYobiBpbnN0YW5jZW9mIERhdGUpdD1uZXcgRGF0ZSx0LnNldFRpbWUobi5nZXRUaW1lKCkpO2Vsc2V7dD1uLmNvbnN0cnVjdG9yP09iamVjdC5jcmVhdGUobi5jb25zdHJ1Y3Rvci5wcm90b3R5cGUpOnt9O2ZvcihyIGluIG4pbi5oYXNPd25Qcm9wZXJ0eShyKSYmKHRbcl09bChuW3JdKSl9cmV0dXJuIHR9ZnVuY3Rpb24gZ3Qobix0KXt2YXIgdT17fTtmb3IodmFyIHIgaW4gbiluLmhhc093blByb3BlcnR5KHIpJiYodC5oYXNPd25Qcm9wZXJ0eShyKT9uW3JdIT09dFtyXSYmSlNPTi5zdHJpbmdpZnkobltyXSkhPUpTT04uc3RyaW5naWZ5KHRbcl0pJiYodVtyXT10W3JdKTp1W3JdPWkpO2ZvcihyIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShyKSYmIW4uaGFzT3duUHJvcGVydHkocikmJih1W3JdPXRbcl0pO3JldHVybiB1fWZ1bmN0aW9uIHN0KG4pe2lmKHR5cGVvZiBuPT1cImZ1bmN0aW9uXCIpcmV0dXJuIG5ldyBuO2lmKEFycmF5LmlzQXJyYXkobikpcmV0dXJuW3N0KG5bMF0pXTtpZihuJiZ0eXBlb2Ygbj09XCJvYmplY3RcIil7dmFyIHQ9e307cmV0dXJuIHV0KHQsbiksdH1yZXR1cm4gbn1mdW5jdGlvbiB1dChuLHQpe09iamVjdC5rZXlzKHQpLmZvckVhY2goZnVuY3Rpb24oaSl7dmFyIHI9c3QodFtpXSk7bltpXT1yfSl9ZnVuY3Rpb24gbyhuLHQpe3JldHVybiBmdW5jdGlvbihpKXt2YXIgcj1pJiZpLnRhcmdldC5lcnJvcnx8bmV3IEVycm9yLHU7cmV0dXJuIHQmJih1PVwiIG9jY3VycmVkIHdoZW4gXCIrdC5tYXAoZnVuY3Rpb24obil7c3dpdGNoKHR5cGVvZiBuKXtjYXNlXCJmdW5jdGlvblwiOnJldHVybiBuKCk7Y2FzZVwic3RyaW5nXCI6cmV0dXJuIG47ZGVmYXVsdDpyZXR1cm4gSlNPTi5zdHJpbmdpZnkobil9fSkuam9pbihcIiBcIiksci5uYW1lP3IudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gci5uYW1lK3UrKHIubWVzc2FnZT9cIi4gXCIrci5tZXNzYWdlOlwiXCIpfTpyPXIrdSksbihyKSxpJiYoaS5zdG9wUHJvcGFnYXRpb24mJmkuc3RvcFByb3BhZ2F0aW9uKCksaS5wcmV2ZW50RGVmYXVsdCYmaS5wcmV2ZW50RGVmYXVsdCgpKSwhMX19ZnVuY3Rpb24gbmkobil7dHJ5e3Rocm93IG47fWNhdGNoKHQpe3JldHVybiB0fX1mdW5jdGlvbiBodChuKXtuLnByZXZlbnREZWZhdWx0KCl9ZnVuY3Rpb24gZnQobil7dmFyIHQsaT11LmRlcGVuZGVuY2llcy5sb2NhbFN0b3JhZ2U7aWYoIWkpcmV0dXJuIG4oW10pO3RyeXt0PUpTT04ucGFyc2UoaS5nZXRJdGVtKFwiRGV4aWUuRGF0YWJhc2VOYW1lc1wiKXx8XCJbXVwiKX1jYXRjaChyKXt0PVtdfW4odCkmJmkuc2V0SXRlbShcIkRleGllLkRhdGFiYXNlTmFtZXNcIixKU09OLnN0cmluZ2lmeSh0KSl9ZnVuY3Rpb24gYShuLHQsaSxyLHUsZixlKXt0aGlzLm5hbWU9bjt0aGlzLmtleVBhdGg9dDt0aGlzLnVuaXF1ZT1pO3RoaXMubXVsdGk9cjt0aGlzLmF1dG89dTt0aGlzLmNvbXBvdW5kPWY7dGhpcy5kb3R0ZWQ9ZTt2YXIgbz10eXBlb2YgdD09XCJzdHJpbmdcIj90OnQmJlwiW1wiK1tdLmpvaW4uY2FsbCh0LFwiK1wiKStcIl1cIjt0aGlzLnNyYz0oaT9cIiZcIjpcIlwiKSsocj9cIipcIjpcIlwiKSsodT9cIisrXCI6XCJcIikrb31mdW5jdGlvbiBldChuLHQsaSxyKXt0aGlzLm5hbWU9bjt0aGlzLnByaW1LZXk9dHx8bmV3IGE7dGhpcy5pbmRleGVzPWl8fFtuZXcgYV07dGhpcy5pbnN0YW5jZVRlbXBsYXRlPXI7dGhpcy5tYXBwZWRDbGFzcz1udWxsO3RoaXMuaWR4QnlOYW1lPWkucmVkdWNlKGZ1bmN0aW9uKG4sdCl7cmV0dXJuIG5bdC5uYW1lXT10LG59LHt9KX1mdW5jdGlvbiBnKG4sdCxpLHIpe3RoaXMubmFtZT1cIk1vZGlmeUVycm9yXCI7dGhpcy5mYWlsdXJlcz10O3RoaXMuZmFpbGVkS2V5cz1yO3RoaXMuc3VjY2Vzc0NvdW50PWk7dGhpcy5tZXNzYWdlPXQuam9pbihcIlxcblwiKX1mdW5jdGlvbiBvdChuKXtyZXR1cm4gbi5sZW5ndGg9PT0xP25bMF06bn1mdW5jdGlvbiBjdCgpe3ZhciBuPXUuZGVwZW5kZW5jaWVzLmluZGV4ZWREQix0PW4mJihuLmdldERhdGFiYXNlTmFtZXN8fG4ud2Via2l0R2V0RGF0YWJhc2VOYW1lcyk7cmV0dXJuIHQmJnQuYmluZChuKX12YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGwobil7dS5wdXNoKFtuLGMuY2FsbChhcmd1bWVudHMsMSldKX1mdW5jdGlvbiBwKCl7dmFyIHI9dSx0LGYsaTtmb3IodT1bXSx0PTAsZj1yLmxlbmd0aDt0PGY7Kyt0KWk9clt0XSxpWzBdLmFwcGx5KG4saVsxXSl9ZnVuY3Rpb24gdChuKXtpZih0eXBlb2YgdGhpcyE9XCJvYmplY3RcIil0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJvbWlzZXMgbXVzdCBiZSBjb25zdHJ1Y3RlZCB2aWEgbmV3XCIpO2lmKHR5cGVvZiBuIT1cImZ1bmN0aW9uXCIpdGhyb3cgbmV3IFR5cGVFcnJvcihcIm5vdCBhIGZ1bmN0aW9uXCIpO3RoaXMuX3N0YXRlPW51bGw7dGhpcy5fdmFsdWU9bnVsbDt0aGlzLl9kZWZlcnJlZHM9W107dGhpcy5fY2F0Y2hlZD0hMTt2YXIgcj10aGlzLHU9ITA7dGhpcy5fUFNEPXQuUFNEO3RyeXtrKHRoaXMsbixmdW5jdGlvbihuKXt1P2koYSxyLG4pOmEocixuKX0sZnVuY3Rpb24obil7cmV0dXJuIHU/KGkoaCxyLG4pLCExKTpoKHIsbil9KX1maW5hbGx5e3U9ITF9fWZ1bmN0aW9uIHMobixmKXt2YXIgaCxzLGEsdixiLGM7aWYobi5fc3RhdGU9PT1udWxsKXtuLl9kZWZlcnJlZHMucHVzaChmKTtyZXR1cm59aWYoaD1uLl9zdGF0ZT9mLm9uRnVsZmlsbGVkOmYub25SZWplY3RlZCxoPT09bnVsbClyZXR1cm4obi5fc3RhdGU/Zi5yZXNvbHZlOmYucmVqZWN0KShuLl92YWx1ZSk7YT1yO3I9ITE7aT1sO3RyeXt2PXQuUFNEO3QuUFNEPW4uX1BTRDtzPWgobi5fdmFsdWUpO24uX3N0YXRlfHxzJiZ0eXBlb2Ygcy50aGVuPT1cImZ1bmN0aW9uXCImJnMuX3N0YXRlPT09ITF8fHcobik7Zi5yZXNvbHZlKHMpfWNhdGNoKHkpe2lmKGI9Zi5yZWplY3QoeSksIWImJm4ub251bmNhdGNoZWQpdHJ5e24ub251bmNhdGNoZWQoeSl9Y2F0Y2goeSl7fX1maW5hbGx5e2lmKHQuUFNEPXYsYSl7ZG97d2hpbGUodS5sZW5ndGg+MClwKCk7aWYoYz1lLnBvcCgpLGMpdHJ5e2MoKX1jYXRjaCh5KXt9fXdoaWxlKGUubGVuZ3RoPjB8fHUubGVuZ3RoPjApO2k9bztyPSEwfX19ZnVuY3Rpb24gZChuKXt2YXIgZj1yLHQ7cj0hMTtpPWw7dHJ5e24oKX1maW5hbGx5e2lmKGYpe2Rve3doaWxlKHUubGVuZ3RoPjApcCgpO2lmKHQ9ZS5wb3AoKSx0KXRyeXt0KCl9Y2F0Y2gocyl7fX13aGlsZShlLmxlbmd0aD4wfHx1Lmxlbmd0aD4wKTtpPW87cj0hMH19fWZ1bmN0aW9uIHcobil7bi5fY2F0Y2hlZD0hMDtuLl9wYXJlbnQmJncobi5fcGFyZW50KX1mdW5jdGlvbiBhKG4saSl7dmFyIHI9dC5QU0Q7dC5QU0Q9bi5fUFNEO3RyeXtpZihpPT09bil0aHJvdyBuZXcgVHlwZUVycm9yKFwiQSBwcm9taXNlIGNhbm5vdCBiZSByZXNvbHZlZCB3aXRoIGl0c2VsZi5cIik7aWYoaSYmKHR5cGVvZiBpPT1cIm9iamVjdFwifHx0eXBlb2YgaT09XCJmdW5jdGlvblwiKSYmdHlwZW9mIGkudGhlbj09XCJmdW5jdGlvblwiKXtrKG4sZnVuY3Rpb24obix0KXtpLnRoZW4obix0KX0sZnVuY3Rpb24odCl7YShuLHQpfSxmdW5jdGlvbih0KXtoKG4sdCl9KTtyZXR1cm59bi5fc3RhdGU9ITA7bi5fdmFsdWU9aTtiLmNhbGwobil9Y2F0Y2godSl7aCh1KX1maW5hbGx5e3QuUFNEPXJ9fWZ1bmN0aW9uIGgobixpKXt2YXIgcj10LlBTRDtpZih0LlBTRD1uLl9QU0Qsbi5fc3RhdGU9ITEsbi5fdmFsdWU9aSxiLmNhbGwobiksIW4uX2NhdGNoZWQpdHJ5e2lmKG4ub251bmNhdGNoZWQpbi5vbnVuY2F0Y2hlZChuLl92YWx1ZSk7dC5vbi5lcnJvci5maXJlKG4uX3ZhbHVlKX1jYXRjaCh1KXt9cmV0dXJuIHQuUFNEPXIsbi5fY2F0Y2hlZH1mdW5jdGlvbiBiKCl7Zm9yKHZhciBuPTAsdD10aGlzLl9kZWZlcnJlZHMubGVuZ3RoO248dDtuKyspcyh0aGlzLHRoaXMuX2RlZmVycmVkc1tuXSk7dGhpcy5fZGVmZXJyZWRzPVtdfWZ1bmN0aW9uIHkobix0LGkscil7dGhpcy5vbkZ1bGZpbGxlZD10eXBlb2Ygbj09XCJmdW5jdGlvblwiP246bnVsbDt0aGlzLm9uUmVqZWN0ZWQ9dHlwZW9mIHQ9PVwiZnVuY3Rpb25cIj90Om51bGw7dGhpcy5yZXNvbHZlPWk7dGhpcy5yZWplY3Q9cn1mdW5jdGlvbiBrKG4sdCxpLHIpe3ZhciB1PSExO3RyeXt0KGZ1bmN0aW9uKG4pe3V8fCh1PSEwLGkobikpfSxmdW5jdGlvbih0KXtyZXR1cm4gdT9uLl9jYXRjaGVkOih1PSEwLHIodCkpfSl9Y2F0Y2goZil7cmV0dXJuIHU/dm9pZCAwOnIoZil9fXZhciBjPVtdLnNsaWNlLG89dHlwZW9mIHNldEltbWVkaWF0ZT09XCJ1bmRlZmluZWRcIj9mdW5jdGlvbih0KXt2YXIgaT1hcmd1bWVudHM7c2V0VGltZW91dChmdW5jdGlvbigpe3QuYXBwbHkobixjLmNhbGwoaSwxKSl9LDApfTpzZXRJbW1lZGlhdGU7aXQoZnVuY3Rpb24oKXtvPWk9bD1mdW5jdGlvbih0KXt2YXIgaT1hcmd1bWVudHM7c2V0VGltZW91dChmdW5jdGlvbigpe3QuYXBwbHkobixjLmNhbGwoaSwxKSl9LDApfX0pO3ZhciBpPW8scj0hMCx1PVtdLGU9W107cmV0dXJuIHQub249dihudWxsLFwiZXJyb3JcIiksdC5hbGw9ZnVuY3Rpb24oKXt2YXIgbj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMubGVuZ3RoPT09MSYmQXJyYXkuaXNBcnJheShhcmd1bWVudHNbMF0pP2FyZ3VtZW50c1swXTphcmd1bWVudHMpO3JldHVybiBuZXcgdChmdW5jdGlvbih0LGkpe2Z1bmN0aW9uIGYocixlKXt0cnl7aWYoZSYmKHR5cGVvZiBlPT1cIm9iamVjdFwifHx0eXBlb2YgZT09XCJmdW5jdGlvblwiKSl7dmFyIG89ZS50aGVuO2lmKHR5cGVvZiBvPT1cImZ1bmN0aW9uXCIpe28uY2FsbChlLGZ1bmN0aW9uKG4pe2YocixuKX0saSk7cmV0dXJufX1uW3JdPWU7LS11PT0wJiZ0KG4pfWNhdGNoKHMpe2kocyl9fXZhciB1LHI7aWYobi5sZW5ndGg9PT0wKXJldHVybiB0KFtdKTtmb3IodT1uLmxlbmd0aCxyPTA7cjxuLmxlbmd0aDtyKyspZihyLG5bcl0pfSl9LHQucHJvdG90eXBlLnRoZW49ZnVuY3Rpb24obixyKXt2YXIgZj10aGlzLHU9bmV3IHQoZnVuY3Rpb24odCx1KXtmLl9zdGF0ZT09PW51bGw/cyhmLG5ldyB5KG4scix0LHUpKTppKHMsZixuZXcgeShuLHIsdCx1KSl9KTtyZXR1cm4gdS5fUFNEPXRoaXMuX1BTRCx1Lm9udW5jYXRjaGVkPXRoaXMub251bmNhdGNoZWQsdS5fcGFyZW50PXRoaXMsdX0sdC5wcm90b3R5cGUuX3RoZW49ZnVuY3Rpb24obix0KXtzKHRoaXMsbmV3IHkobix0LGYsZikpfSx0LnByb3RvdHlwZVtcImNhdGNoXCJdPWZ1bmN0aW9uKG4pe2lmKGFyZ3VtZW50cy5sZW5ndGg9PT0xKXJldHVybiB0aGlzLnRoZW4obnVsbCxuKTt2YXIgaT1hcmd1bWVudHNbMF0scj1hcmd1bWVudHNbMV07cmV0dXJuIHR5cGVvZiBpPT1cImZ1bmN0aW9uXCI/dGhpcy50aGVuKG51bGwsZnVuY3Rpb24obil7cmV0dXJuIG4gaW5zdGFuY2VvZiBpP3Iobik6dC5yZWplY3Qobil9KTp0aGlzLnRoZW4obnVsbCxmdW5jdGlvbihuKXtyZXR1cm4gbiYmbi5uYW1lPT09aT9yKG4pOnQucmVqZWN0KG4pfSl9LHQucHJvdG90eXBlW1wiZmluYWxseVwiXT1mdW5jdGlvbihuKXtyZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBuKCksdH0sZnVuY3Rpb24oaSl7cmV0dXJuIG4oKSx0LnJlamVjdChpKX0pfSx0LnByb3RvdHlwZS5vbnVuY2F0Y2hlZD1udWxsLHQucmVzb2x2ZT1mdW5jdGlvbihuKXt2YXIgaT1uZXcgdChmdW5jdGlvbigpe30pO3JldHVybiBpLl9zdGF0ZT0hMCxpLl92YWx1ZT1uLGl9LHQucmVqZWN0PWZ1bmN0aW9uKG4pe3ZhciBpPW5ldyB0KGZ1bmN0aW9uKCl7fSk7cmV0dXJuIGkuX3N0YXRlPSExLGkuX3ZhbHVlPW4saX0sdC5yYWNlPWZ1bmN0aW9uKG4pe3JldHVybiBuZXcgdChmdW5jdGlvbih0LGkpe24ubWFwKGZ1bmN0aW9uKG4pe24udGhlbih0LGkpfSl9KX0sdC5QU0Q9bnVsbCx0Lm5ld1BTRD1mdW5jdGlvbihuKXt2YXIgaT10LlBTRDt0LlBTRD1pP09iamVjdC5jcmVhdGUoaSk6e307dHJ5e3JldHVybiBuKCl9ZmluYWxseXt0LlBTRD1pfX0sdC5fcm9vdEV4ZWM9ZCx0Ll90aWNrRmluYWxpemU9ZnVuY3Rpb24obil7aWYocil0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW4gYSB2aXJ0dWFsIHRpY2tcIik7ZS5wdXNoKG4pfSx0fSgpLGs9ZnVuY3Rpb24oKXt9LGU9ITEsbnQ7cChnKS5mcm9tKEVycm9yKTt1LmRlbGV0ZT1mdW5jdGlvbihuKXt2YXIgdD1uZXcgdShuKSxpPXQuZGVsZXRlKCk7cmV0dXJuIGkub25ibG9ja2VkPWZ1bmN0aW9uKG4pe3Qub24oXCJibG9ja2VkXCIsbik7cmV0dXJuIHRoaXN9LGl9O3UuZXhpc3RzPWZ1bmN0aW9uKG4pe3JldHVybiBuZXcgdShuKS5vcGVuKCkudGhlbihmdW5jdGlvbihuKXtyZXR1cm4gbi5jbG9zZSgpLCEwfSxmdW5jdGlvbigpe3JldHVybiExfSl9O3UuZ2V0RGF0YWJhc2VOYW1lcz1mdW5jdGlvbihuKXtyZXR1cm4gbmV3IHIoZnVuY3Rpb24obix0KXt2YXIgcj1jdCgpLGk7cj8oaT1yKCksaS5vbnN1Y2Nlc3M9ZnVuY3Rpb24odCl7bihbXS5zbGljZS5jYWxsKHQudGFyZ2V0LnJlc3VsdCwwKSl9LGkub25lcnJvcj1vKHQpKTpmdChmdW5jdGlvbih0KXtyZXR1cm4gbih0KSwhMX0pfSkudGhlbihuKX07dS5kZWZpbmVDbGFzcz1mdW5jdGlvbihuKXtmdW5jdGlvbiB0KHQpe3Q/cyh0aGlzLHQpOmUmJnV0KHRoaXMsbil9cmV0dXJuIHR9O3UuaWdub3JlVHJhbnNhY3Rpb249ZnVuY3Rpb24obil7cmV0dXJuIHIubmV3UFNEKGZ1bmN0aW9uKCl7cmV0dXJuIHIuUFNELnRyYW5zPW51bGwsbigpfSl9O3Uuc3Bhd249ZnVuY3Rpb24oKXtyZXR1cm4gbi5jb25zb2xlJiZjb25zb2xlLndhcm4oXCJEZXhpZS5zcGF3bigpIGlzIGRlcHJlY2F0ZWQuIFVzZSBEZXhpZS5pZ25vcmVUcmFuc2FjdGlvbigpIGluc3RlYWQuXCIpLHUuaWdub3JlVHJhbnNhY3Rpb24uYXBwbHkodGhpcyxhcmd1bWVudHMpfTt1LnZpcD1mdW5jdGlvbihuKXtyZXR1cm4gci5uZXdQU0QoZnVuY3Rpb24oKXtyZXR1cm4gci5QU0QubGV0VGhyb3VnaD0hMCxuKCl9KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHUsXCJjdXJyZW50VHJhbnNhY3Rpb25cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHIuUFNEJiZyLlBTRC50cmFuc3x8bnVsbH19KTt1LlByb21pc2U9cjt1LmRlcml2ZT1wO3UuZXh0ZW5kPXM7dS5vdmVycmlkZT13O3UuZXZlbnRzPXY7dS5nZXRCeUtleVBhdGg9Yzt1LnNldEJ5S2V5UGF0aD1oO3UuZGVsQnlLZXlQYXRoPWR0O3Uuc2hhbGxvd0Nsb25lPXJ0O3UuZGVlcENsb25lPWw7dS5hZGRvbnM9W107dS5mYWtlQXV0b0NvbXBsZXRlPWs7dS5hc2FwPXk7dS5Nb2RpZnlFcnJvcj1nO3UuTXVsdGlNb2RpZnlFcnJvcj1nO3UuSW5kZXhTcGVjPWE7dS5UYWJsZVNjaGVtYT1ldDtudD1uLmlkYk1vZHVsZXMmJm4uaWRiTW9kdWxlcy5zaGltSW5kZXhlZERCP24uaWRiTW9kdWxlczp7fTt1LmRlcGVuZGVuY2llcz17aW5kZXhlZERCOm50LnNoaW1JbmRleGVkREJ8fG4uaW5kZXhlZERCfHxuLm1vekluZGV4ZWREQnx8bi53ZWJraXRJbmRleGVkREJ8fG4ubXNJbmRleGVkREIsSURCS2V5UmFuZ2U6bnQuSURCS2V5UmFuZ2V8fG4uSURCS2V5UmFuZ2V8fG4ud2Via2l0SURCS2V5UmFuZ2UsSURCVHJhbnNhY3Rpb246bnQuSURCVHJhbnNhY3Rpb258fG4uSURCVHJhbnNhY3Rpb258fG4ud2Via2l0SURCVHJhbnNhY3Rpb24sRXJyb3I6bi5FcnJvcnx8U3RyaW5nLFN5bnRheEVycm9yOm4uU3ludGF4RXJyb3J8fFN0cmluZyxUeXBlRXJyb3I6bi5UeXBlRXJyb3J8fFN0cmluZyxET01FcnJvcjpuLkRPTUVycm9yfHxTdHJpbmcsbG9jYWxTdG9yYWdlOih0eXBlb2YgY2hyb21lIT1cInVuZGVmaW5lZFwiJiZjaHJvbWUhPT1udWxsP2Nocm9tZS5zdG9yYWdlOnZvaWQgMCkhPW51bGw/bnVsbDpuLmxvY2FsU3RvcmFnZX07dS52ZXJzaW9uPTEuMjt0KFwiRGV4aWVcIix1KTtpdChmdW5jdGlvbigpe3UuZmFrZUF1dG9Db21wbGV0ZT1rPWl0O3UuZmFrZT1lPSEwfSl9KS5hcHBseShudWxsLHR5cGVvZiBkZWZpbmU9PVwiZnVuY3Rpb25cIiYmZGVmaW5lLmFtZD9bc2VsZnx8d2luZG93LGZ1bmN0aW9uKG4sdCl7ZGVmaW5lKGZ1bmN0aW9uKCl7cmV0dXJuIHR9KX1dOnR5cGVvZiBnbG9iYWwhPVwidW5kZWZpbmVkXCImJnR5cGVvZiBtb2R1bGUhPVwidW5kZWZpbmVkXCImJm1vZHVsZS5leHBvcnRzP1tnbG9iYWwsZnVuY3Rpb24obix0KXttb2R1bGUuZXhwb3J0cz10fV06W3NlbGZ8fHdpbmRvdyxmdW5jdGlvbihuLHQpeyhzZWxmfHx3aW5kb3cpW25dPXR9XSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURleGllLm1pbi5qcy5tYXBcclxuIl0sImZpbGUiOiJEZXhpZS5taW4uanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

/**
 * material-design-lite - Material Design Components in CSS, JS and HTML
 * @version v1.1.0
 * @license Apache-2.0
 * @copyright 2015 Google, Inc.
 * @link https://github.com/google/material-design-lite
 */
!function(){"use strict";function e(e,t){if(e){if(t.element_.classList.contains(t.CssClasses_.MDL_JS_RIPPLE_EFFECT)){var s=document.createElement("span");s.classList.add(t.CssClasses_.MDL_RIPPLE_CONTAINER),s.classList.add(t.CssClasses_.MDL_JS_RIPPLE_EFFECT);var i=document.createElement("span");i.classList.add(t.CssClasses_.MDL_RIPPLE),s.appendChild(i),e.appendChild(s)}e.addEventListener("click",function(s){s.preventDefault();var i=e.href.split("#")[1],n=t.element_.querySelector("#"+i);t.resetTabState_(),t.resetPanelState_(),e.classList.add(t.CssClasses_.ACTIVE_CLASS),n.classList.add(t.CssClasses_.ACTIVE_CLASS)})}}function t(e,t,s,i){function n(){var n=e.href.split("#")[1],a=i.content_.querySelector("#"+n);i.resetTabState_(t),i.resetPanelState_(s),e.classList.add(i.CssClasses_.IS_ACTIVE),a.classList.add(i.CssClasses_.IS_ACTIVE)}if(i.tabBar_.classList.contains(i.CssClasses_.JS_RIPPLE_EFFECT)){var a=document.createElement("span");a.classList.add(i.CssClasses_.RIPPLE_CONTAINER),a.classList.add(i.CssClasses_.JS_RIPPLE_EFFECT);var l=document.createElement("span");l.classList.add(i.CssClasses_.RIPPLE),a.appendChild(l),e.appendChild(a)}e.addEventListener("click",function(t){"#"===e.getAttribute("href").charAt(0)&&(t.preventDefault(),n())}),e.show=n,e.addEventListener("click",function(n){n.preventDefault();var a=e.href.split("#")[1],l=i.content_.querySelector("#"+a);i.resetTabState_(t),i.resetPanelState_(s),e.classList.add(i.CssClasses_.IS_ACTIVE),l.classList.add(i.CssClasses_.IS_ACTIVE)})}var s={upgradeDom:function(e,t){},upgradeElement:function(e,t){},upgradeElements:function(e){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(e,t){},register:function(e){},downgradeElements:function(e){}};s=function(){function e(e,t){for(var s=0;s<h.length;s++)if(h[s].className===e)return"undefined"!=typeof t&&(h[s]=t),h[s];return!1}function t(e){var t=e.getAttribute("data-upgraded");return null===t?[""]:t.split(",")}function s(e,s){var i=t(e);return-1!==i.indexOf(s)}function i(t,s){if("undefined"==typeof t&&"undefined"==typeof s)for(var a=0;a<h.length;a++)i(h[a].className,h[a].cssClass);else{var l=t;if("undefined"==typeof s){var o=e(l);o&&(s=o.cssClass)}for(var r=document.querySelectorAll("."+s),_=0;_<r.length;_++)n(r[_],l)}}function n(i,n){if(!("object"==typeof i&&i instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var a=t(i),l=[];if(n)s(i,n)||l.push(e(n));else{var o=i.classList;h.forEach(function(e){o.contains(e.cssClass)&&-1===l.indexOf(e)&&!s(i,e.className)&&l.push(e)})}for(var r,_=0,d=l.length;d>_;_++){if(r=l[_],!r)throw new Error("Unable to find a registered component for the given class.");a.push(r.className),i.setAttribute("data-upgraded",a.join(","));var C=new r.classConstructor(i);C[p]=r,c.push(C);for(var u=0,E=r.callbacks.length;E>u;u++)r.callbacks[u](i);r.widget&&(i[r.className]=C);var m=document.createEvent("Events");m.initEvent("mdl-componentupgraded",!0,!0),i.dispatchEvent(m)}}function a(e){Array.isArray(e)||(e="function"==typeof e.item?Array.prototype.slice.call(e):[e]);for(var t,s=0,i=e.length;i>s;s++)t=e[s],t instanceof HTMLElement&&(n(t),t.children.length>0&&a(t.children))}function l(t){var s="undefined"==typeof t.widget&&"undefined"==typeof t.widget,i=!0;s||(i=t.widget||t.widget);var n={classConstructor:t.constructor||t.constructor,className:t.classAsString||t.classAsString,cssClass:t.cssClass||t.cssClass,widget:i,callbacks:[]};if(h.forEach(function(e){if(e.cssClass===n.cssClass)throw new Error("The provided cssClass has already been registered: "+e.cssClass);if(e.className===n.className)throw new Error("The provided className has already been registered")}),t.constructor.prototype.hasOwnProperty(p))throw new Error("MDL component classes must not have "+p+" defined as a property.");var a=e(t.classAsString,n);a||h.push(n)}function o(t,s){var i=e(t);i&&i.callbacks.push(s)}function r(){for(var e=0;e<h.length;e++)i(h[e].className)}function _(e){var t=c.indexOf(e);c.splice(t,1);var s=e.element_.getAttribute("data-upgraded").split(","),i=s.indexOf(e[p].classAsString);s.splice(i,1),e.element_.setAttribute("data-upgraded",s.join(","));var n=document.createEvent("Events");n.initEvent("mdl-componentdowngraded",!0,!0),e.element_.dispatchEvent(n)}function d(e){var t=function(e){c.filter(function(t){return t.element_===e}).forEach(_)};if(e instanceof Array||e instanceof NodeList)for(var s=0;s<e.length;s++)t(e[s]);else{if(!(e instanceof Node))throw new Error("Invalid argument provided to downgrade MDL nodes.");t(e)}}var h=[],c=[],p="mdlComponentConfigInternal_";return{upgradeDom:i,upgradeElement:n,upgradeElements:a,upgradeAllRegistered:r,registerUpgradedCallback:o,register:l,downgradeElements:d}}(),s.ComponentConfigPublic,s.ComponentConfig,s.Component,s.upgradeDom=s.upgradeDom,s.upgradeElement=s.upgradeElement,s.upgradeElements=s.upgradeElements,s.upgradeAllRegistered=s.upgradeAllRegistered,s.registerUpgradedCallback=s.registerUpgradedCallback,s.register=s.register,s.downgradeElements=s.downgradeElements,window.componentHandler=s,window.componentHandler=s,window.addEventListener("load",function(){"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),s.upgradeAllRegistered()):(s.upgradeElement=function(){},s.register=function(){})}),Date.now||(Date.now=function(){return(new Date).getTime()},Date.now=Date.now);for(var i=["webkit","moz"],n=0;n<i.length&&!window.requestAnimationFrame;++n){var a=i[n];window.requestAnimationFrame=window[a+"RequestAnimationFrame"],window.cancelAnimationFrame=window[a+"CancelAnimationFrame"]||window[a+"CancelRequestAnimationFrame"],window.requestAnimationFrame=window.requestAnimationFrame,window.cancelAnimationFrame=window.cancelAnimationFrame}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var l=0;window.requestAnimationFrame=function(e){var t=Date.now(),s=Math.max(l+16,t);return setTimeout(function(){e(l=s)},s-t)},window.cancelAnimationFrame=clearTimeout,window.requestAnimationFrame=window.requestAnimationFrame,window.cancelAnimationFrame=window.cancelAnimationFrame}var o=function(e){this.element_=e,this.init()};window.MaterialButton=o,o.prototype.Constant_={},o.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},o.prototype.blurHandler_=function(e){e&&this.element_.blur()},o.prototype.disable=function(){this.element_.disabled=!0},o.prototype.disable=o.prototype.disable,o.prototype.enable=function(){this.element_.disabled=!1},o.prototype.enable=o.prototype.enable,o.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var e=document.createElement("span");e.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),e.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(e)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},s.register({constructor:o,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0});var r=function(e){this.element_=e,this.init()};window.MaterialCheckbox=r,r.prototype.Constant_={TINY_TIMEOUT:.001},r.prototype.CssClasses_={INPUT:"mdl-checkbox__input",BOX_OUTLINE:"mdl-checkbox__box-outline",FOCUS_HELPER:"mdl-checkbox__focus-helper",TICK_OUTLINE:"mdl-checkbox__tick-outline",RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",RIPPLE_CONTAINER:"mdl-checkbox__ripple-container",RIPPLE_CENTER:"mdl-ripple--center",RIPPLE:"mdl-ripple",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_CHECKED:"is-checked",IS_UPGRADED:"is-upgraded"},r.prototype.onChange_=function(e){this.updateClasses_()},r.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},r.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},r.prototype.onMouseUp_=function(e){this.blur_()},r.prototype.updateClasses_=function(){this.checkDisabled(),this.checkToggleState()},r.prototype.blur_=function(){window.setTimeout(function(){this.inputElement_.blur()}.bind(this),this.Constant_.TINY_TIMEOUT)},r.prototype.checkToggleState=function(){this.inputElement_.checked?this.element_.classList.add(this.CssClasses_.IS_CHECKED):this.element_.classList.remove(this.CssClasses_.IS_CHECKED)},r.prototype.checkToggleState=r.prototype.checkToggleState,r.prototype.checkDisabled=function(){this.inputElement_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},r.prototype.checkDisabled=r.prototype.checkDisabled,r.prototype.disable=function(){this.inputElement_.disabled=!0,this.updateClasses_()},r.prototype.disable=r.prototype.disable,r.prototype.enable=function(){this.inputElement_.disabled=!1,this.updateClasses_()},r.prototype.enable=r.prototype.enable,r.prototype.check=function(){this.inputElement_.checked=!0,this.updateClasses_()},r.prototype.check=r.prototype.check,r.prototype.uncheck=function(){this.inputElement_.checked=!1,this.updateClasses_()},r.prototype.uncheck=r.prototype.uncheck,r.prototype.init=function(){if(this.element_){this.inputElement_=this.element_.querySelector("."+this.CssClasses_.INPUT);var e=document.createElement("span");e.classList.add(this.CssClasses_.BOX_OUTLINE);var t=document.createElement("span");t.classList.add(this.CssClasses_.FOCUS_HELPER);var s=document.createElement("span");if(s.classList.add(this.CssClasses_.TICK_OUTLINE),e.appendChild(s),this.element_.appendChild(t),this.element_.appendChild(e),this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS),this.rippleContainerElement_=document.createElement("span"),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_EFFECT),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CENTER),this.boundRippleMouseUp=this.onMouseUp_.bind(this),this.rippleContainerElement_.addEventListener("mouseup",this.boundRippleMouseUp);var i=document.createElement("span");i.classList.add(this.CssClasses_.RIPPLE),this.rippleContainerElement_.appendChild(i),this.element_.appendChild(this.rippleContainerElement_)}this.boundInputOnChange=this.onChange_.bind(this),this.boundInputOnFocus=this.onFocus_.bind(this),this.boundInputOnBlur=this.onBlur_.bind(this),this.boundElementMouseUp=this.onMouseUp_.bind(this),this.inputElement_.addEventListener("change",this.boundInputOnChange),this.inputElement_.addEventListener("focus",this.boundInputOnFocus),this.inputElement_.addEventListener("blur",this.boundInputOnBlur),this.element_.addEventListener("mouseup",this.boundElementMouseUp),this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED)}},s.register({constructor:r,classAsString:"MaterialCheckbox",cssClass:"mdl-js-checkbox",widget:!0});var _=function(e){this.element_=e,this.init()};window.MaterialIconToggle=_,_.prototype.Constant_={TINY_TIMEOUT:.001},_.prototype.CssClasses_={INPUT:"mdl-icon-toggle__input",JS_RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",RIPPLE_CONTAINER:"mdl-icon-toggle__ripple-container",RIPPLE_CENTER:"mdl-ripple--center",RIPPLE:"mdl-ripple",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_CHECKED:"is-checked"},_.prototype.onChange_=function(e){this.updateClasses_()},_.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},_.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},_.prototype.onMouseUp_=function(e){this.blur_()},_.prototype.updateClasses_=function(){this.checkDisabled(),this.checkToggleState()},_.prototype.blur_=function(){window.setTimeout(function(){this.inputElement_.blur()}.bind(this),this.Constant_.TINY_TIMEOUT)},_.prototype.checkToggleState=function(){this.inputElement_.checked?this.element_.classList.add(this.CssClasses_.IS_CHECKED):this.element_.classList.remove(this.CssClasses_.IS_CHECKED)},_.prototype.checkToggleState=_.prototype.checkToggleState,_.prototype.checkDisabled=function(){this.inputElement_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},_.prototype.checkDisabled=_.prototype.checkDisabled,_.prototype.disable=function(){this.inputElement_.disabled=!0,this.updateClasses_()},_.prototype.disable=_.prototype.disable,_.prototype.enable=function(){this.inputElement_.disabled=!1,this.updateClasses_()},_.prototype.enable=_.prototype.enable,_.prototype.check=function(){this.inputElement_.checked=!0,this.updateClasses_()},_.prototype.check=_.prototype.check,_.prototype.uncheck=function(){this.inputElement_.checked=!1,this.updateClasses_()},_.prototype.uncheck=_.prototype.uncheck,_.prototype.init=function(){if(this.element_){if(this.inputElement_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.element_.classList.contains(this.CssClasses_.JS_RIPPLE_EFFECT)){this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS),this.rippleContainerElement_=document.createElement("span"),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleContainerElement_.classList.add(this.CssClasses_.JS_RIPPLE_EFFECT),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CENTER),this.boundRippleMouseUp=this.onMouseUp_.bind(this),this.rippleContainerElement_.addEventListener("mouseup",this.boundRippleMouseUp);var e=document.createElement("span");e.classList.add(this.CssClasses_.RIPPLE),this.rippleContainerElement_.appendChild(e),this.element_.appendChild(this.rippleContainerElement_)}this.boundInputOnChange=this.onChange_.bind(this),this.boundInputOnFocus=this.onFocus_.bind(this),this.boundInputOnBlur=this.onBlur_.bind(this),this.boundElementOnMouseUp=this.onMouseUp_.bind(this),this.inputElement_.addEventListener("change",this.boundInputOnChange),this.inputElement_.addEventListener("focus",this.boundInputOnFocus),this.inputElement_.addEventListener("blur",this.boundInputOnBlur),this.element_.addEventListener("mouseup",this.boundElementOnMouseUp),this.updateClasses_(),this.element_.classList.add("is-upgraded")}},s.register({constructor:_,classAsString:"MaterialIconToggle",cssClass:"mdl-js-icon-toggle",widget:!0});var d=function(e){this.element_=e,this.init()};window.MaterialMenu=d,d.prototype.Constant_={TRANSITION_DURATION_SECONDS:.3,TRANSITION_DURATION_FRACTION:.8,CLOSE_TIMEOUT:150},d.prototype.Keycodes_={ENTER:13,ESCAPE:27,SPACE:32,UP_ARROW:38,DOWN_ARROW:40},d.prototype.CssClasses_={CONTAINER:"mdl-menu__container",OUTLINE:"mdl-menu__outline",ITEM:"mdl-menu__item",ITEM_RIPPLE_CONTAINER:"mdl-menu__item-ripple-container",RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",RIPPLE:"mdl-ripple",IS_UPGRADED:"is-upgraded",IS_VISIBLE:"is-visible",IS_ANIMATING:"is-animating",BOTTOM_LEFT:"mdl-menu--bottom-left",BOTTOM_RIGHT:"mdl-menu--bottom-right",TOP_LEFT:"mdl-menu--top-left",TOP_RIGHT:"mdl-menu--top-right",UNALIGNED:"mdl-menu--unaligned"},d.prototype.init=function(){if(this.element_){var e=document.createElement("div");e.classList.add(this.CssClasses_.CONTAINER),this.element_.parentElement.insertBefore(e,this.element_),this.element_.parentElement.removeChild(this.element_),e.appendChild(this.element_),this.container_=e;var t=document.createElement("div");t.classList.add(this.CssClasses_.OUTLINE),this.outline_=t,e.insertBefore(t,this.element_);var s=this.element_.getAttribute("for")||this.element_.getAttribute("data-mdl-for"),i=null;s&&(i=document.getElementById(s),i&&(this.forElement_=i,i.addEventListener("click",this.handleForClick_.bind(this)),i.addEventListener("keydown",this.handleForKeyboardEvent_.bind(this))));var n=this.element_.querySelectorAll("."+this.CssClasses_.ITEM);this.boundItemKeydown_=this.handleItemKeyboardEvent_.bind(this),this.boundItemClick_=this.handleItemClick_.bind(this);for(var a=0;a<n.length;a++)n[a].addEventListener("click",this.boundItemClick_),n[a].tabIndex="-1",n[a].addEventListener("keydown",this.boundItemKeydown_);if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT))for(this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS),a=0;a<n.length;a++){var l=n[a],o=document.createElement("span");o.classList.add(this.CssClasses_.ITEM_RIPPLE_CONTAINER);var r=document.createElement("span");r.classList.add(this.CssClasses_.RIPPLE),o.appendChild(r),l.appendChild(o),l.classList.add(this.CssClasses_.RIPPLE_EFFECT)}this.element_.classList.contains(this.CssClasses_.BOTTOM_LEFT)&&this.outline_.classList.add(this.CssClasses_.BOTTOM_LEFT),this.element_.classList.contains(this.CssClasses_.BOTTOM_RIGHT)&&this.outline_.classList.add(this.CssClasses_.BOTTOM_RIGHT),this.element_.classList.contains(this.CssClasses_.TOP_LEFT)&&this.outline_.classList.add(this.CssClasses_.TOP_LEFT),this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)&&this.outline_.classList.add(this.CssClasses_.TOP_RIGHT),this.element_.classList.contains(this.CssClasses_.UNALIGNED)&&this.outline_.classList.add(this.CssClasses_.UNALIGNED),e.classList.add(this.CssClasses_.IS_UPGRADED)}},d.prototype.handleForClick_=function(e){if(this.element_&&this.forElement_){var t=this.forElement_.getBoundingClientRect(),s=this.forElement_.parentElement.getBoundingClientRect();this.element_.classList.contains(this.CssClasses_.UNALIGNED)||(this.element_.classList.contains(this.CssClasses_.BOTTOM_RIGHT)?(this.container_.style.right=s.right-t.right+"px",this.container_.style.top=this.forElement_.offsetTop+this.forElement_.offsetHeight+"px"):this.element_.classList.contains(this.CssClasses_.TOP_LEFT)?(this.container_.style.left=this.forElement_.offsetLeft+"px",this.container_.style.bottom=s.bottom-t.top+"px"):this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)?(this.container_.style.right=s.right-t.right+"px",this.container_.style.bottom=s.bottom-t.top+"px"):(this.container_.style.left=this.forElement_.offsetLeft+"px",this.container_.style.top=this.forElement_.offsetTop+this.forElement_.offsetHeight+"px"))}this.toggle(e)},d.prototype.handleForKeyboardEvent_=function(e){if(this.element_&&this.container_&&this.forElement_){var t=this.element_.querySelectorAll("."+this.CssClasses_.ITEM+":not([disabled])");t&&t.length>0&&this.container_.classList.contains(this.CssClasses_.IS_VISIBLE)&&(e.keyCode===this.Keycodes_.UP_ARROW?(e.preventDefault(),t[t.length-1].focus()):e.keyCode===this.Keycodes_.DOWN_ARROW&&(e.preventDefault(),t[0].focus()))}},d.prototype.handleItemKeyboardEvent_=function(e){if(this.element_&&this.container_){var t=this.element_.querySelectorAll("."+this.CssClasses_.ITEM+":not([disabled])");if(t&&t.length>0&&this.container_.classList.contains(this.CssClasses_.IS_VISIBLE)){var s=Array.prototype.slice.call(t).indexOf(e.target);if(e.keyCode===this.Keycodes_.UP_ARROW)e.preventDefault(),s>0?t[s-1].focus():t[t.length-1].focus();else if(e.keyCode===this.Keycodes_.DOWN_ARROW)e.preventDefault(),t.length>s+1?t[s+1].focus():t[0].focus();else if(e.keyCode===this.Keycodes_.SPACE||e.keyCode===this.Keycodes_.ENTER){e.preventDefault();var i=new MouseEvent("mousedown");e.target.dispatchEvent(i),i=new MouseEvent("mouseup"),e.target.dispatchEvent(i),e.target.click()}else e.keyCode===this.Keycodes_.ESCAPE&&(e.preventDefault(),this.hide())}}},d.prototype.handleItemClick_=function(e){e.target.hasAttribute("disabled")?e.stopPropagation():(this.closing_=!0,window.setTimeout(function(e){this.hide(),this.closing_=!1}.bind(this),this.Constant_.CLOSE_TIMEOUT))},d.prototype.applyClip_=function(e,t){this.element_.classList.contains(this.CssClasses_.UNALIGNED)?this.element_.style.clip="":this.element_.classList.contains(this.CssClasses_.BOTTOM_RIGHT)?this.element_.style.clip="rect(0 "+t+"px 0 "+t+"px)":this.element_.classList.contains(this.CssClasses_.TOP_LEFT)?this.element_.style.clip="rect("+e+"px 0 "+e+"px 0)":this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)?this.element_.style.clip="rect("+e+"px "+t+"px "+e+"px "+t+"px)":this.element_.style.clip=""},d.prototype.removeAnimationEndListener_=function(e){e.target.classList.remove(d.prototype.CssClasses_.IS_ANIMATING)},d.prototype.addAnimationEndListener_=function(){this.element_.addEventListener("transitionend",this.removeAnimationEndListener_),this.element_.addEventListener("webkitTransitionEnd",this.removeAnimationEndListener_)},d.prototype.show=function(e){if(this.element_&&this.container_&&this.outline_){var t=this.element_.getBoundingClientRect().height,s=this.element_.getBoundingClientRect().width;this.container_.style.width=s+"px",this.container_.style.height=t+"px",this.outline_.style.width=s+"px",this.outline_.style.height=t+"px";for(var i=this.Constant_.TRANSITION_DURATION_SECONDS*this.Constant_.TRANSITION_DURATION_FRACTION,n=this.element_.querySelectorAll("."+this.CssClasses_.ITEM),a=0;a<n.length;a++){var l=null;l=this.element_.classList.contains(this.CssClasses_.TOP_LEFT)||this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)?(t-n[a].offsetTop-n[a].offsetHeight)/t*i+"s":n[a].offsetTop/t*i+"s",n[a].style.transitionDelay=l}this.applyClip_(t,s),window.requestAnimationFrame(function(){this.element_.classList.add(this.CssClasses_.IS_ANIMATING),this.element_.style.clip="rect(0 "+s+"px "+t+"px 0)",this.container_.classList.add(this.CssClasses_.IS_VISIBLE)}.bind(this)),this.addAnimationEndListener_();var o=function(t){t===e||this.closing_||t.target.parentNode===this.element_||(document.removeEventListener("click",o),this.hide())}.bind(this);document.addEventListener("click",o)}},d.prototype.show=d.prototype.show,d.prototype.hide=function(){if(this.element_&&this.container_&&this.outline_){for(var e=this.element_.querySelectorAll("."+this.CssClasses_.ITEM),t=0;t<e.length;t++)e[t].style.removeProperty("transition-delay");var s=this.element_.getBoundingClientRect(),i=s.height,n=s.width;this.element_.classList.add(this.CssClasses_.IS_ANIMATING),this.applyClip_(i,n),this.container_.classList.remove(this.CssClasses_.IS_VISIBLE),this.addAnimationEndListener_()}},d.prototype.hide=d.prototype.hide,d.prototype.toggle=function(e){this.container_.classList.contains(this.CssClasses_.IS_VISIBLE)?this.hide():this.show(e)},d.prototype.toggle=d.prototype.toggle,s.register({constructor:d,classAsString:"MaterialMenu",cssClass:"mdl-js-menu",widget:!0});var h=function(e){this.element_=e,this.init()};window.MaterialProgress=h,h.prototype.Constant_={},h.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},h.prototype.setProgress=function(e){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=e+"%")},h.prototype.setProgress=h.prototype.setProgress,h.prototype.setBuffer=function(e){this.bufferbar_.style.width=e+"%",this.auxbar_.style.width=100-e+"%"},h.prototype.setBuffer=h.prototype.setBuffer,h.prototype.init=function(){if(this.element_){var e=document.createElement("div");e.className="progressbar bar bar1",this.element_.appendChild(e),this.progressbar_=e,e=document.createElement("div"),e.className="bufferbar bar bar2",this.element_.appendChild(e),this.bufferbar_=e,e=document.createElement("div"),e.className="auxbar bar bar3",this.element_.appendChild(e),this.auxbar_=e,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},s.register({constructor:h,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0});var c=function(e){this.element_=e,this.init()};window.MaterialRadio=c,c.prototype.Constant_={TINY_TIMEOUT:.001},c.prototype.CssClasses_={IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_CHECKED:"is-checked",IS_UPGRADED:"is-upgraded",JS_RADIO:"mdl-js-radio",RADIO_BTN:"mdl-radio__button",RADIO_OUTER_CIRCLE:"mdl-radio__outer-circle",RADIO_INNER_CIRCLE:"mdl-radio__inner-circle",RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",RIPPLE_CONTAINER:"mdl-radio__ripple-container",RIPPLE_CENTER:"mdl-ripple--center",RIPPLE:"mdl-ripple"},c.prototype.onChange_=function(e){for(var t=document.getElementsByClassName(this.CssClasses_.JS_RADIO),s=0;s<t.length;s++){var i=t[s].querySelector("."+this.CssClasses_.RADIO_BTN);i.getAttribute("name")===this.btnElement_.getAttribute("name")&&t[s].MaterialRadio.updateClasses_()}},c.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},c.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},c.prototype.onMouseup_=function(e){this.blur_()},c.prototype.updateClasses_=function(){this.checkDisabled(),this.checkToggleState()},c.prototype.blur_=function(){window.setTimeout(function(){this.btnElement_.blur()}.bind(this),this.Constant_.TINY_TIMEOUT)},c.prototype.checkDisabled=function(){this.btnElement_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},c.prototype.checkDisabled=c.prototype.checkDisabled,c.prototype.checkToggleState=function(){this.btnElement_.checked?this.element_.classList.add(this.CssClasses_.IS_CHECKED):this.element_.classList.remove(this.CssClasses_.IS_CHECKED)},c.prototype.checkToggleState=c.prototype.checkToggleState,c.prototype.disable=function(){this.btnElement_.disabled=!0,this.updateClasses_()},c.prototype.disable=c.prototype.disable,c.prototype.enable=function(){this.btnElement_.disabled=!1,this.updateClasses_()},c.prototype.enable=c.prototype.enable,c.prototype.check=function(){this.btnElement_.checked=!0,this.updateClasses_()},c.prototype.check=c.prototype.check,c.prototype.uncheck=function(){this.btnElement_.checked=!1,this.updateClasses_()},c.prototype.uncheck=c.prototype.uncheck,c.prototype.init=function(){if(this.element_){this.btnElement_=this.element_.querySelector("."+this.CssClasses_.RADIO_BTN),this.boundChangeHandler_=this.onChange_.bind(this),this.boundFocusHandler_=this.onChange_.bind(this),this.boundBlurHandler_=this.onBlur_.bind(this),this.boundMouseUpHandler_=this.onMouseup_.bind(this);var e=document.createElement("span");e.classList.add(this.CssClasses_.RADIO_OUTER_CIRCLE);var t=document.createElement("span");t.classList.add(this.CssClasses_.RADIO_INNER_CIRCLE),this.element_.appendChild(e),this.element_.appendChild(t);var s;if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS),s=document.createElement("span"),s.classList.add(this.CssClasses_.RIPPLE_CONTAINER),s.classList.add(this.CssClasses_.RIPPLE_EFFECT),s.classList.add(this.CssClasses_.RIPPLE_CENTER),s.addEventListener("mouseup",this.boundMouseUpHandler_);var i=document.createElement("span");i.classList.add(this.CssClasses_.RIPPLE),s.appendChild(i),this.element_.appendChild(s)}this.btnElement_.addEventListener("change",this.boundChangeHandler_),this.btnElement_.addEventListener("focus",this.boundFocusHandler_),this.btnElement_.addEventListener("blur",this.boundBlurHandler_),this.element_.addEventListener("mouseup",this.boundMouseUpHandler_),this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED)}},s.register({constructor:c,classAsString:"MaterialRadio",cssClass:"mdl-js-radio",widget:!0});var p=function(e){this.element_=e,this.isIE_=window.navigator.msPointerEnabled,this.init()};window.MaterialSlider=p,p.prototype.Constant_={},p.prototype.CssClasses_={IE_CONTAINER:"mdl-slider__ie-container",SLIDER_CONTAINER:"mdl-slider__container",BACKGROUND_FLEX:"mdl-slider__background-flex",BACKGROUND_LOWER:"mdl-slider__background-lower",BACKGROUND_UPPER:"mdl-slider__background-upper",IS_LOWEST_VALUE:"is-lowest-value",IS_UPGRADED:"is-upgraded"},p.prototype.onInput_=function(e){this.updateValueStyles_()},p.prototype.onChange_=function(e){this.updateValueStyles_()},p.prototype.onMouseUp_=function(e){e.target.blur()},p.prototype.onContainerMouseDown_=function(e){if(e.target===this.element_.parentElement){e.preventDefault();var t=new MouseEvent("mousedown",{target:e.target,buttons:e.buttons,clientX:e.clientX,clientY:this.element_.getBoundingClientRect().y});this.element_.dispatchEvent(t)}},p.prototype.updateValueStyles_=function(){var e=(this.element_.value-this.element_.min)/(this.element_.max-this.element_.min);0===e?this.element_.classList.add(this.CssClasses_.IS_LOWEST_VALUE):this.element_.classList.remove(this.CssClasses_.IS_LOWEST_VALUE),this.isIE_||(this.backgroundLower_.style.flex=e,this.backgroundLower_.style.webkitFlex=e,this.backgroundUpper_.style.flex=1-e,this.backgroundUpper_.style.webkitFlex=1-e)},p.prototype.disable=function(){this.element_.disabled=!0},p.prototype.disable=p.prototype.disable,p.prototype.enable=function(){this.element_.disabled=!1},p.prototype.enable=p.prototype.enable,p.prototype.change=function(e){"undefined"!=typeof e&&(this.element_.value=e),this.updateValueStyles_()},p.prototype.change=p.prototype.change,p.prototype.init=function(){if(this.element_){if(this.isIE_){var e=document.createElement("div");e.classList.add(this.CssClasses_.IE_CONTAINER),this.element_.parentElement.insertBefore(e,this.element_),this.element_.parentElement.removeChild(this.element_),e.appendChild(this.element_)}else{var t=document.createElement("div");t.classList.add(this.CssClasses_.SLIDER_CONTAINER),this.element_.parentElement.insertBefore(t,this.element_),this.element_.parentElement.removeChild(this.element_),t.appendChild(this.element_);var s=document.createElement("div");s.classList.add(this.CssClasses_.BACKGROUND_FLEX),t.appendChild(s),this.backgroundLower_=document.createElement("div"),this.backgroundLower_.classList.add(this.CssClasses_.BACKGROUND_LOWER),s.appendChild(this.backgroundLower_),this.backgroundUpper_=document.createElement("div"),this.backgroundUpper_.classList.add(this.CssClasses_.BACKGROUND_UPPER),s.appendChild(this.backgroundUpper_)}this.boundInputHandler=this.onInput_.bind(this),this.boundChangeHandler=this.onChange_.bind(this),this.boundMouseUpHandler=this.onMouseUp_.bind(this),this.boundContainerMouseDownHandler=this.onContainerMouseDown_.bind(this),this.element_.addEventListener("input",this.boundInputHandler),this.element_.addEventListener("change",this.boundChangeHandler),this.element_.addEventListener("mouseup",this.boundMouseUpHandler),this.element_.parentElement.addEventListener("mousedown",this.boundContainerMouseDownHandler),this.updateValueStyles_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED)}},s.register({constructor:p,classAsString:"MaterialSlider",cssClass:"mdl-js-slider",widget:!0});var C=function(e){if(this.element_=e,this.textElement_=this.element_.querySelector("."+this.cssClasses_.MESSAGE),this.actionElement_=this.element_.querySelector("."+this.cssClasses_.ACTION),!this.textElement_)throw new Error("There must be a message element for a snackbar.");if(!this.actionElement_)throw new Error("There must be an action element for a snackbar.");this.active=!1,this.actionHandler_=void 0,this.message_=void 0,this.actionText_=void 0,this.queuedNotifications_=[],this.setActionHidden_(!0)};window.MaterialSnackbar=C,C.prototype.Constant_={ANIMATION_LENGTH:250},C.prototype.cssClasses_={SNACKBAR:"mdl-snackbar",MESSAGE:"mdl-snackbar__text",ACTION:"mdl-snackbar__action",ACTIVE:"mdl-snackbar--active"},C.prototype.displaySnackbar_=function(){this.element_.setAttribute("aria-hidden","true"),this.actionHandler_&&(this.actionElement_.textContent=this.actionText_,
this.actionElement_.addEventListener("click",this.actionHandler_),this.setActionHidden_(!1)),this.textElement_.textContent=this.message_,this.element_.classList.add(this.cssClasses_.ACTIVE),this.element_.setAttribute("aria-hidden","false"),setTimeout(this.cleanup_.bind(this),this.timeout_)},C.prototype.showSnackbar=function(e){if(void 0===e)throw new Error("Please provide a data object with at least a message to display.");if(void 0===e.message)throw new Error("Please provide a message to be displayed.");if(e.actionHandler&&!e.actionText)throw new Error("Please provide action text with the handler.");this.active?this.queuedNotifications_.push(e):(this.active=!0,this.message_=e.message,e.timeout?this.timeout_=e.timeout:this.timeout_=2750,e.actionHandler&&(this.actionHandler_=e.actionHandler),e.actionText&&(this.actionText_=e.actionText),this.displaySnackbar_())},C.prototype.showSnackbar=C.prototype.showSnackbar,C.prototype.checkQueue_=function(){this.queuedNotifications_.length>0&&this.showSnackbar(this.queuedNotifications_.shift())},C.prototype.cleanup_=function(){this.element_.classList.remove(this.cssClasses_.ACTIVE),setTimeout(function(){this.element_.setAttribute("aria-hidden","true"),this.textElement_.textContent="",Boolean(this.actionElement_.getAttribute("aria-hidden"))||(this.setActionHidden_(!0),this.actionElement_.textContent="",this.actionElement_.removeEventListener("click",this.actionHandler_)),this.actionHandler_=void 0,this.message_=void 0,this.actionText_=void 0,this.active=!1,this.checkQueue_()}.bind(this),this.Constant_.ANIMATION_LENGTH)},C.prototype.setActionHidden_=function(e){e?this.actionElement_.setAttribute("aria-hidden","true"):this.actionElement_.removeAttribute("aria-hidden")},s.register({constructor:C,classAsString:"MaterialSnackbar",cssClass:"mdl-js-snackbar",widget:!0});var u=function(e){this.element_=e,this.init()};window.MaterialSpinner=u,u.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},u.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},u.prototype.createLayer=function(e){var t=document.createElement("div");t.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),t.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+e);var s=document.createElement("div");s.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),s.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var i=document.createElement("div");i.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),n.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var a=[s,i,n],l=0;l<a.length;l++){var o=document.createElement("div");o.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),a[l].appendChild(o)}t.appendChild(s),t.appendChild(i),t.appendChild(n),this.element_.appendChild(t)},u.prototype.createLayer=u.prototype.createLayer,u.prototype.stop=function(){this.element_.classList.remove("is-active")},u.prototype.stop=u.prototype.stop,u.prototype.start=function(){this.element_.classList.add("is-active")},u.prototype.start=u.prototype.start,u.prototype.init=function(){if(this.element_){for(var e=1;e<=this.Constant_.MDL_SPINNER_LAYER_COUNT;e++)this.createLayer(e);this.element_.classList.add("is-upgraded")}},s.register({constructor:u,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0});var E=function(e){this.element_=e,this.init()};window.MaterialSwitch=E,E.prototype.Constant_={TINY_TIMEOUT:.001},E.prototype.CssClasses_={INPUT:"mdl-switch__input",TRACK:"mdl-switch__track",THUMB:"mdl-switch__thumb",FOCUS_HELPER:"mdl-switch__focus-helper",RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",RIPPLE_CONTAINER:"mdl-switch__ripple-container",RIPPLE_CENTER:"mdl-ripple--center",RIPPLE:"mdl-ripple",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_CHECKED:"is-checked"},E.prototype.onChange_=function(e){this.updateClasses_()},E.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},E.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},E.prototype.onMouseUp_=function(e){this.blur_()},E.prototype.updateClasses_=function(){this.checkDisabled(),this.checkToggleState()},E.prototype.blur_=function(){window.setTimeout(function(){this.inputElement_.blur()}.bind(this),this.Constant_.TINY_TIMEOUT)},E.prototype.checkDisabled=function(){this.inputElement_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},E.prototype.checkDisabled=E.prototype.checkDisabled,E.prototype.checkToggleState=function(){this.inputElement_.checked?this.element_.classList.add(this.CssClasses_.IS_CHECKED):this.element_.classList.remove(this.CssClasses_.IS_CHECKED)},E.prototype.checkToggleState=E.prototype.checkToggleState,E.prototype.disable=function(){this.inputElement_.disabled=!0,this.updateClasses_()},E.prototype.disable=E.prototype.disable,E.prototype.enable=function(){this.inputElement_.disabled=!1,this.updateClasses_()},E.prototype.enable=E.prototype.enable,E.prototype.on=function(){this.inputElement_.checked=!0,this.updateClasses_()},E.prototype.on=E.prototype.on,E.prototype.off=function(){this.inputElement_.checked=!1,this.updateClasses_()},E.prototype.off=E.prototype.off,E.prototype.init=function(){if(this.element_){this.inputElement_=this.element_.querySelector("."+this.CssClasses_.INPUT);var e=document.createElement("div");e.classList.add(this.CssClasses_.TRACK);var t=document.createElement("div");t.classList.add(this.CssClasses_.THUMB);var s=document.createElement("span");if(s.classList.add(this.CssClasses_.FOCUS_HELPER),t.appendChild(s),this.element_.appendChild(e),this.element_.appendChild(t),this.boundMouseUpHandler=this.onMouseUp_.bind(this),this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS),this.rippleContainerElement_=document.createElement("span"),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_EFFECT),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CENTER),this.rippleContainerElement_.addEventListener("mouseup",this.boundMouseUpHandler);var i=document.createElement("span");i.classList.add(this.CssClasses_.RIPPLE),this.rippleContainerElement_.appendChild(i),this.element_.appendChild(this.rippleContainerElement_)}this.boundChangeHandler=this.onChange_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.inputElement_.addEventListener("change",this.boundChangeHandler),this.inputElement_.addEventListener("focus",this.boundFocusHandler),this.inputElement_.addEventListener("blur",this.boundBlurHandler),this.element_.addEventListener("mouseup",this.boundMouseUpHandler),this.updateClasses_(),this.element_.classList.add("is-upgraded")}},s.register({constructor:E,classAsString:"MaterialSwitch",cssClass:"mdl-js-switch",widget:!0});var m=function(e){this.element_=e,this.init()};window.MaterialTabs=m,m.prototype.Constant_={},m.prototype.CssClasses_={TAB_CLASS:"mdl-tabs__tab",PANEL_CLASS:"mdl-tabs__panel",ACTIVE_CLASS:"is-active",UPGRADED_CLASS:"is-upgraded",MDL_JS_RIPPLE_EFFECT:"mdl-js-ripple-effect",MDL_RIPPLE_CONTAINER:"mdl-tabs__ripple-container",MDL_RIPPLE:"mdl-ripple",MDL_JS_RIPPLE_EFFECT_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events"},m.prototype.initTabs_=function(){this.element_.classList.contains(this.CssClasses_.MDL_JS_RIPPLE_EFFECT)&&this.element_.classList.add(this.CssClasses_.MDL_JS_RIPPLE_EFFECT_IGNORE_EVENTS),this.tabs_=this.element_.querySelectorAll("."+this.CssClasses_.TAB_CLASS),this.panels_=this.element_.querySelectorAll("."+this.CssClasses_.PANEL_CLASS);for(var t=0;t<this.tabs_.length;t++)new e(this.tabs_[t],this);this.element_.classList.add(this.CssClasses_.UPGRADED_CLASS)},m.prototype.resetTabState_=function(){for(var e=0;e<this.tabs_.length;e++)this.tabs_[e].classList.remove(this.CssClasses_.ACTIVE_CLASS)},m.prototype.resetPanelState_=function(){for(var e=0;e<this.panels_.length;e++)this.panels_[e].classList.remove(this.CssClasses_.ACTIVE_CLASS)},m.prototype.init=function(){this.element_&&this.initTabs_()},s.register({constructor:m,classAsString:"MaterialTabs",cssClass:"mdl-js-tabs"});var L=function(e){this.element_=e,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()};window.MaterialTextfield=L,L.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},L.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded"},L.prototype.onKeyDown_=function(e){var t=e.target.value.split("\n").length;13===e.keyCode&&t>=this.maxRows&&e.preventDefault()},L.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},L.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},L.prototype.onReset_=function(e){this.updateClasses_()},L.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},L.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},L.prototype.checkDisabled=L.prototype.checkDisabled,L.prototype.checkFocus=function(){Boolean(this.element_.querySelector(":focus"))?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},L.prototype.checkFocus=L.prototype.checkFocus,L.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},L.prototype.checkValidity=L.prototype.checkValidity,L.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},L.prototype.checkDirty=L.prototype.checkDirty,L.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},L.prototype.disable=L.prototype.disable,L.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},L.prototype.enable=L.prototype.enable,L.prototype.change=function(e){this.input_.value=e||"",this.updateClasses_()},L.prototype.change=L.prototype.change,L.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var e=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),e&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},s.register({constructor:L,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0});var I=function(e){this.element_=e,this.init()};window.MaterialTooltip=I,I.prototype.Constant_={},I.prototype.CssClasses_={IS_ACTIVE:"is-active",BOTTOM:"mdl-tooltip--bottom",LEFT:"mdl-tooltip--left",RIGHT:"mdl-tooltip--right",TOP:"mdl-tooltip--top"},I.prototype.handleMouseEnter_=function(e){var t=e.target.getBoundingClientRect(),s=t.left+t.width/2,i=t.top+t.height/2,n=-1*(this.element_.offsetWidth/2),a=-1*(this.element_.offsetHeight/2);this.element_.classList.contains(this.CssClasses_.LEFT)||this.element_.classList.contains(this.CssClasses_.RIGHT)?(s=t.width/2,0>i+a?(this.element_.style.top=0,this.element_.style.marginTop=0):(this.element_.style.top=i+"px",this.element_.style.marginTop=a+"px")):0>s+n?(this.element_.style.left=0,this.element_.style.marginLeft=0):(this.element_.style.left=s+"px",this.element_.style.marginLeft=n+"px"),this.element_.classList.contains(this.CssClasses_.TOP)?this.element_.style.top=t.top-this.element_.offsetHeight-10+"px":this.element_.classList.contains(this.CssClasses_.RIGHT)?this.element_.style.left=t.left+t.width+10+"px":this.element_.classList.contains(this.CssClasses_.LEFT)?this.element_.style.left=t.left-this.element_.offsetWidth-10+"px":this.element_.style.top=t.top+t.height+10+"px",this.element_.classList.add(this.CssClasses_.IS_ACTIVE)},I.prototype.handleMouseLeave_=function(){this.element_.classList.remove(this.CssClasses_.IS_ACTIVE)},I.prototype.init=function(){if(this.element_){var e=this.element_.getAttribute("for");e&&(this.forElement_=document.getElementById(e)),this.forElement_&&(this.forElement_.hasAttribute("tabindex")||this.forElement_.setAttribute("tabindex","0"),this.boundMouseEnterHandler=this.handleMouseEnter_.bind(this),this.boundMouseLeaveHandler=this.handleMouseLeave_.bind(this),this.forElement_.addEventListener("mouseenter",this.boundMouseEnterHandler,!1),this.forElement_.addEventListener("touchend",this.boundMouseEnterHandler,!1),this.forElement_.addEventListener("mouseleave",this.boundMouseLeaveHandler,!1),window.addEventListener("touchstart",this.boundMouseLeaveHandler))}},s.register({constructor:I,classAsString:"MaterialTooltip",cssClass:"mdl-tooltip"});var f=function(e){this.element_=e,this.init()};window.MaterialLayout=f,f.prototype.Constant_={MAX_WIDTH:"(max-width: 1024px)",TAB_SCROLL_PIXELS:100,MENU_ICON:"&#xE5D2;",CHEVRON_LEFT:"chevron_left",CHEVRON_RIGHT:"chevron_right"},f.prototype.Keycodes_={ENTER:13,ESCAPE:27,SPACE:32},f.prototype.Mode_={STANDARD:0,SEAMED:1,WATERFALL:2,SCROLL:3},f.prototype.CssClasses_={CONTAINER:"mdl-layout__container",HEADER:"mdl-layout__header",DRAWER:"mdl-layout__drawer",CONTENT:"mdl-layout__content",DRAWER_BTN:"mdl-layout__drawer-button",ICON:"material-icons",JS_RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-layout__tab-ripple-container",RIPPLE:"mdl-ripple",RIPPLE_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",HEADER_SEAMED:"mdl-layout__header--seamed",HEADER_WATERFALL:"mdl-layout__header--waterfall",HEADER_SCROLL:"mdl-layout__header--scroll",FIXED_HEADER:"mdl-layout--fixed-header",OBFUSCATOR:"mdl-layout__obfuscator",TAB_BAR:"mdl-layout__tab-bar",TAB_CONTAINER:"mdl-layout__tab-bar-container",TAB:"mdl-layout__tab",TAB_BAR_BUTTON:"mdl-layout__tab-bar-button",TAB_BAR_LEFT_BUTTON:"mdl-layout__tab-bar-left-button",TAB_BAR_RIGHT_BUTTON:"mdl-layout__tab-bar-right-button",PANEL:"mdl-layout__tab-panel",HAS_DRAWER:"has-drawer",HAS_TABS:"has-tabs",HAS_SCROLLING_HEADER:"has-scrolling-header",CASTING_SHADOW:"is-casting-shadow",IS_COMPACT:"is-compact",IS_SMALL_SCREEN:"is-small-screen",IS_DRAWER_OPEN:"is-visible",IS_ACTIVE:"is-active",IS_UPGRADED:"is-upgraded",IS_ANIMATING:"is-animating",ON_LARGE_SCREEN:"mdl-layout--large-screen-only",ON_SMALL_SCREEN:"mdl-layout--small-screen-only"},f.prototype.contentScrollHandler_=function(){this.header_.classList.contains(this.CssClasses_.IS_ANIMATING)||(this.content_.scrollTop>0&&!this.header_.classList.contains(this.CssClasses_.IS_COMPACT)?(this.header_.classList.add(this.CssClasses_.CASTING_SHADOW),this.header_.classList.add(this.CssClasses_.IS_COMPACT),this.header_.classList.add(this.CssClasses_.IS_ANIMATING)):this.content_.scrollTop<=0&&this.header_.classList.contains(this.CssClasses_.IS_COMPACT)&&(this.header_.classList.remove(this.CssClasses_.CASTING_SHADOW),this.header_.classList.remove(this.CssClasses_.IS_COMPACT),this.header_.classList.add(this.CssClasses_.IS_ANIMATING)))},f.prototype.keyboardEventHandler_=function(e){e.keyCode===this.Keycodes_.ESCAPE&&this.toggleDrawer()},f.prototype.screenSizeHandler_=function(){this.screenSizeMediaQuery_.matches?this.element_.classList.add(this.CssClasses_.IS_SMALL_SCREEN):(this.element_.classList.remove(this.CssClasses_.IS_SMALL_SCREEN),this.drawer_&&(this.drawer_.classList.remove(this.CssClasses_.IS_DRAWER_OPEN),this.obfuscator_.classList.remove(this.CssClasses_.IS_DRAWER_OPEN)))},f.prototype.drawerToggleHandler_=function(e){if(e&&"keydown"===e.type){if(e.keyCode!==this.Keycodes_.SPACE&&e.keyCode!==this.Keycodes_.ENTER)return;e.preventDefault()}this.toggleDrawer()},f.prototype.headerTransitionEndHandler_=function(){this.header_.classList.remove(this.CssClasses_.IS_ANIMATING)},f.prototype.headerClickHandler_=function(){this.header_.classList.contains(this.CssClasses_.IS_COMPACT)&&(this.header_.classList.remove(this.CssClasses_.IS_COMPACT),this.header_.classList.add(this.CssClasses_.IS_ANIMATING))},f.prototype.resetTabState_=function(e){for(var t=0;t<e.length;t++)e[t].classList.remove(this.CssClasses_.IS_ACTIVE)},f.prototype.resetPanelState_=function(e){for(var t=0;t<e.length;t++)e[t].classList.remove(this.CssClasses_.IS_ACTIVE)},f.prototype.toggleDrawer=function(){var e=this.element_.querySelector("."+this.CssClasses_.DRAWER_BTN);this.drawer_.classList.toggle(this.CssClasses_.IS_DRAWER_OPEN),this.obfuscator_.classList.toggle(this.CssClasses_.IS_DRAWER_OPEN),this.drawer_.classList.contains(this.CssClasses_.IS_DRAWER_OPEN)?(this.drawer_.setAttribute("aria-hidden","false"),e.setAttribute("aria-expanded","true")):(this.drawer_.setAttribute("aria-hidden","true"),e.setAttribute("aria-expanded","false"))},f.prototype.toggleDrawer=f.prototype.toggleDrawer,f.prototype.init=function(){if(this.element_){var e=document.createElement("div");e.classList.add(this.CssClasses_.CONTAINER),this.element_.parentElement.insertBefore(e,this.element_),this.element_.parentElement.removeChild(this.element_),e.appendChild(this.element_);for(var s=this.element_.childNodes,i=s.length,n=0;i>n;n++){var a=s[n];a.classList&&a.classList.contains(this.CssClasses_.HEADER)&&(this.header_=a),a.classList&&a.classList.contains(this.CssClasses_.DRAWER)&&(this.drawer_=a),a.classList&&a.classList.contains(this.CssClasses_.CONTENT)&&(this.content_=a)}window.addEventListener("pageshow",function(e){e.persisted&&(this.element_.style.overflowY="hidden",requestAnimationFrame(function(){this.element_.style.overflowY=""}.bind(this)))}.bind(this),!1),this.header_&&(this.tabBar_=this.header_.querySelector("."+this.CssClasses_.TAB_BAR));var l=this.Mode_.STANDARD;if(this.header_&&(this.header_.classList.contains(this.CssClasses_.HEADER_SEAMED)?l=this.Mode_.SEAMED:this.header_.classList.contains(this.CssClasses_.HEADER_WATERFALL)?(l=this.Mode_.WATERFALL,this.header_.addEventListener("transitionend",this.headerTransitionEndHandler_.bind(this)),this.header_.addEventListener("click",this.headerClickHandler_.bind(this))):this.header_.classList.contains(this.CssClasses_.HEADER_SCROLL)&&(l=this.Mode_.SCROLL,e.classList.add(this.CssClasses_.HAS_SCROLLING_HEADER)),l===this.Mode_.STANDARD?(this.header_.classList.add(this.CssClasses_.CASTING_SHADOW),this.tabBar_&&this.tabBar_.classList.add(this.CssClasses_.CASTING_SHADOW)):l===this.Mode_.SEAMED||l===this.Mode_.SCROLL?(this.header_.classList.remove(this.CssClasses_.CASTING_SHADOW),this.tabBar_&&this.tabBar_.classList.remove(this.CssClasses_.CASTING_SHADOW)):l===this.Mode_.WATERFALL&&(this.content_.addEventListener("scroll",this.contentScrollHandler_.bind(this)),this.contentScrollHandler_())),this.drawer_){var o=this.element_.querySelector("."+this.CssClasses_.DRAWER_BTN);if(!o){o=document.createElement("div"),o.setAttribute("aria-expanded","false"),o.setAttribute("role","button"),o.setAttribute("tabindex","0"),o.classList.add(this.CssClasses_.DRAWER_BTN);var r=document.createElement("i");r.classList.add(this.CssClasses_.ICON),r.innerHTML=this.Constant_.MENU_ICON,o.appendChild(r)}this.drawer_.classList.contains(this.CssClasses_.ON_LARGE_SCREEN)?o.classList.add(this.CssClasses_.ON_LARGE_SCREEN):this.drawer_.classList.contains(this.CssClasses_.ON_SMALL_SCREEN)&&o.classList.add(this.CssClasses_.ON_SMALL_SCREEN),o.addEventListener("click",this.drawerToggleHandler_.bind(this)),o.addEventListener("keydown",this.drawerToggleHandler_.bind(this)),this.element_.classList.add(this.CssClasses_.HAS_DRAWER),this.element_.classList.contains(this.CssClasses_.FIXED_HEADER)?this.header_.insertBefore(o,this.header_.firstChild):this.element_.insertBefore(o,this.content_);var _=document.createElement("div");_.classList.add(this.CssClasses_.OBFUSCATOR),this.element_.appendChild(_),_.addEventListener("click",this.drawerToggleHandler_.bind(this)),this.obfuscator_=_,this.drawer_.addEventListener("keydown",this.keyboardEventHandler_.bind(this)),this.drawer_.setAttribute("aria-hidden","true")}if(this.screenSizeMediaQuery_=window.matchMedia(this.Constant_.MAX_WIDTH),this.screenSizeMediaQuery_.addListener(this.screenSizeHandler_.bind(this)),this.screenSizeHandler_(),this.header_&&this.tabBar_){this.element_.classList.add(this.CssClasses_.HAS_TABS);var d=document.createElement("div");d.classList.add(this.CssClasses_.TAB_CONTAINER),this.header_.insertBefore(d,this.tabBar_),this.header_.removeChild(this.tabBar_);var h=document.createElement("div");h.classList.add(this.CssClasses_.TAB_BAR_BUTTON),h.classList.add(this.CssClasses_.TAB_BAR_LEFT_BUTTON);var c=document.createElement("i");c.classList.add(this.CssClasses_.ICON),c.textContent=this.Constant_.CHEVRON_LEFT,h.appendChild(c),h.addEventListener("click",function(){this.tabBar_.scrollLeft-=this.Constant_.TAB_SCROLL_PIXELS}.bind(this));var p=document.createElement("div");p.classList.add(this.CssClasses_.TAB_BAR_BUTTON),p.classList.add(this.CssClasses_.TAB_BAR_RIGHT_BUTTON);var C=document.createElement("i");C.classList.add(this.CssClasses_.ICON),C.textContent=this.Constant_.CHEVRON_RIGHT,p.appendChild(C),p.addEventListener("click",function(){this.tabBar_.scrollLeft+=this.Constant_.TAB_SCROLL_PIXELS}.bind(this)),d.appendChild(h),d.appendChild(this.tabBar_),d.appendChild(p);var u=function(){this.tabBar_.scrollLeft>0?h.classList.add(this.CssClasses_.IS_ACTIVE):h.classList.remove(this.CssClasses_.IS_ACTIVE),this.tabBar_.scrollLeft<this.tabBar_.scrollWidth-this.tabBar_.offsetWidth?p.classList.add(this.CssClasses_.IS_ACTIVE):p.classList.remove(this.CssClasses_.IS_ACTIVE)}.bind(this);this.tabBar_.addEventListener("scroll",u),u(),this.tabBar_.classList.contains(this.CssClasses_.JS_RIPPLE_EFFECT)&&this.tabBar_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS);for(var E=this.tabBar_.querySelectorAll("."+this.CssClasses_.TAB),m=this.content_.querySelectorAll("."+this.CssClasses_.PANEL),L=0;L<E.length;L++)new t(E[L],E,m,this)}this.element_.classList.add(this.CssClasses_.IS_UPGRADED)}},window.MaterialLayoutTab=t,s.register({constructor:f,classAsString:"MaterialLayout",cssClass:"mdl-js-layout"});var b=function(e){this.element_=e,this.init()};window.MaterialDataTable=b,b.prototype.Constant_={},b.prototype.CssClasses_={DATA_TABLE:"mdl-data-table",SELECTABLE:"mdl-data-table--selectable",SELECT_ELEMENT:"mdl-data-table__select",IS_SELECTED:"is-selected",IS_UPGRADED:"is-upgraded"},b.prototype.selectRow_=function(e,t,s){return t?function(){e.checked?t.classList.add(this.CssClasses_.IS_SELECTED):t.classList.remove(this.CssClasses_.IS_SELECTED)}.bind(this):s?function(){var t,i;if(e.checked)for(t=0;t<s.length;t++)i=s[t].querySelector("td").querySelector(".mdl-checkbox"),i.MaterialCheckbox.check(),s[t].classList.add(this.CssClasses_.IS_SELECTED);else for(t=0;t<s.length;t++)i=s[t].querySelector("td").querySelector(".mdl-checkbox"),i.MaterialCheckbox.uncheck(),s[t].classList.remove(this.CssClasses_.IS_SELECTED)}.bind(this):void 0},b.prototype.createCheckbox_=function(e,t){var i=document.createElement("label"),n=["mdl-checkbox","mdl-js-checkbox","mdl-js-ripple-effect",this.CssClasses_.SELECT_ELEMENT];i.className=n.join(" ");var a=document.createElement("input");return a.type="checkbox",a.classList.add("mdl-checkbox__input"),e?(a.checked=e.classList.contains(this.CssClasses_.IS_SELECTED),a.addEventListener("change",this.selectRow_(a,e))):t&&a.addEventListener("change",this.selectRow_(a,null,t)),i.appendChild(a),s.upgradeElement(i,"MaterialCheckbox"),i},b.prototype.init=function(){if(this.element_){var e=this.element_.querySelector("th"),t=Array.prototype.slice.call(this.element_.querySelectorAll("tbody tr")),s=Array.prototype.slice.call(this.element_.querySelectorAll("tfoot tr")),i=t.concat(s);if(this.element_.classList.contains(this.CssClasses_.SELECTABLE)){var n=document.createElement("th"),a=this.createCheckbox_(null,i);n.appendChild(a),e.parentElement.insertBefore(n,e);for(var l=0;l<i.length;l++){var o=i[l].querySelector("td");if(o){var r=document.createElement("td");if("TBODY"===i[l].parentNode.nodeName.toUpperCase()){var _=this.createCheckbox_(i[l]);r.appendChild(_)}i[l].insertBefore(r,o)}}this.element_.classList.add(this.CssClasses_.IS_UPGRADED)}}},s.register({constructor:b,classAsString:"MaterialDataTable",cssClass:"mdl-js-data-table"});var y=function(e){this.element_=e,this.init()};window.MaterialRipple=y,y.prototype.Constant_={INITIAL_SCALE:"scale(0.0001, 0.0001)",INITIAL_SIZE:"1px",INITIAL_OPACITY:"0.4",FINAL_OPACITY:"0",FINAL_SCALE:""},y.prototype.CssClasses_={RIPPLE_CENTER:"mdl-ripple--center",RIPPLE_EFFECT_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",RIPPLE:"mdl-ripple",IS_ANIMATING:"is-animating",IS_VISIBLE:"is-visible"},y.prototype.downHandler_=function(e){if(!this.rippleElement_.style.width&&!this.rippleElement_.style.height){var t=this.element_.getBoundingClientRect();this.boundHeight=t.height,this.boundWidth=t.width,this.rippleSize_=2*Math.sqrt(t.width*t.width+t.height*t.height)+2,this.rippleElement_.style.width=this.rippleSize_+"px",this.rippleElement_.style.height=this.rippleSize_+"px"}if(this.rippleElement_.classList.add(this.CssClasses_.IS_VISIBLE),"mousedown"===e.type&&this.ignoringMouseDown_)this.ignoringMouseDown_=!1;else{"touchstart"===e.type&&(this.ignoringMouseDown_=!0);var s=this.getFrameCount();if(s>0)return;this.setFrameCount(1);var i,n,a=e.currentTarget.getBoundingClientRect();if(0===e.clientX&&0===e.clientY)i=Math.round(a.width/2),n=Math.round(a.height/2);else{var l=e.clientX?e.clientX:e.touches[0].clientX,o=e.clientY?e.clientY:e.touches[0].clientY;i=Math.round(l-a.left),n=Math.round(o-a.top)}this.setRippleXY(i,n),this.setRippleStyles(!0),window.requestAnimationFrame(this.animFrameHandler.bind(this))}},y.prototype.upHandler_=function(e){e&&2!==e.detail&&window.setTimeout(function(){this.rippleElement_.classList.remove(this.CssClasses_.IS_VISIBLE)}.bind(this),0)},y.prototype.init=function(){if(this.element_){var e=this.element_.classList.contains(this.CssClasses_.RIPPLE_CENTER);this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT_IGNORE_EVENTS)||(this.rippleElement_=this.element_.querySelector("."+this.CssClasses_.RIPPLE),this.frameCount_=0,this.rippleSize_=0,this.x_=0,this.y_=0,this.ignoringMouseDown_=!1,this.boundDownHandler=this.downHandler_.bind(this),this.element_.addEventListener("mousedown",this.boundDownHandler),this.element_.addEventListener("touchstart",this.boundDownHandler),this.boundUpHandler=this.upHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundUpHandler),this.element_.addEventListener("mouseleave",this.boundUpHandler),this.element_.addEventListener("touchend",this.boundUpHandler),this.element_.addEventListener("blur",this.boundUpHandler),this.getFrameCount=function(){return this.frameCount_},this.setFrameCount=function(e){this.frameCount_=e},this.getRippleElement=function(){return this.rippleElement_},this.setRippleXY=function(e,t){this.x_=e,this.y_=t},this.setRippleStyles=function(t){if(null!==this.rippleElement_){var s,i,n,a="translate("+this.x_+"px, "+this.y_+"px)";t?(i=this.Constant_.INITIAL_SCALE,n=this.Constant_.INITIAL_SIZE):(i=this.Constant_.FINAL_SCALE,n=this.rippleSize_+"px",e&&(a="translate("+this.boundWidth/2+"px, "+this.boundHeight/2+"px)")),s="translate(-50%, -50%) "+a+i,this.rippleElement_.style.webkitTransform=s,this.rippleElement_.style.msTransform=s,this.rippleElement_.style.transform=s,t?this.rippleElement_.classList.remove(this.CssClasses_.IS_ANIMATING):this.rippleElement_.classList.add(this.CssClasses_.IS_ANIMATING)}},this.animFrameHandler=function(){this.frameCount_-- >0?window.requestAnimationFrame(this.animFrameHandler.bind(this)):this.setRippleStyles(!1)})}},s.register({constructor:y,classAsString:"MaterialRipple",cssClass:"mdl-js-ripple-effect",widget:!1})}();
//# sourceMappingURL=material.min.js.map

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJtYXRlcmlhbC5taW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIG1hdGVyaWFsLWRlc2lnbi1saXRlIC0gTWF0ZXJpYWwgRGVzaWduIENvbXBvbmVudHMgaW4gQ1NTLCBKUyBhbmQgSFRNTFxyXG4gKiBAdmVyc2lvbiB2MS4xLjBcclxuICogQGxpY2Vuc2UgQXBhY2hlLTIuMFxyXG4gKiBAY29weXJpZ2h0IDIwMTUgR29vZ2xlLCBJbmMuXHJcbiAqIEBsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvbWF0ZXJpYWwtZGVzaWduLWxpdGVcclxuICovXHJcbiFmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGUoZSx0KXtpZihlKXtpZih0LmVsZW1lbnRfLmNsYXNzTGlzdC5jb250YWlucyh0LkNzc0NsYXNzZXNfLk1ETF9KU19SSVBQTEVfRUZGRUNUKSl7dmFyIHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7cy5jbGFzc0xpc3QuYWRkKHQuQ3NzQ2xhc3Nlc18uTURMX1JJUFBMRV9DT05UQUlORVIpLHMuY2xhc3NMaXN0LmFkZCh0LkNzc0NsYXNzZXNfLk1ETF9KU19SSVBQTEVfRUZGRUNUKTt2YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtpLmNsYXNzTGlzdC5hZGQodC5Dc3NDbGFzc2VzXy5NRExfUklQUExFKSxzLmFwcGVuZENoaWxkKGkpLGUuYXBwZW5kQ2hpbGQocyl9ZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbihzKXtzLnByZXZlbnREZWZhdWx0KCk7dmFyIGk9ZS5ocmVmLnNwbGl0KFwiI1wiKVsxXSxuPXQuZWxlbWVudF8ucXVlcnlTZWxlY3RvcihcIiNcIitpKTt0LnJlc2V0VGFiU3RhdGVfKCksdC5yZXNldFBhbmVsU3RhdGVfKCksZS5jbGFzc0xpc3QuYWRkKHQuQ3NzQ2xhc3Nlc18uQUNUSVZFX0NMQVNTKSxuLmNsYXNzTGlzdC5hZGQodC5Dc3NDbGFzc2VzXy5BQ1RJVkVfQ0xBU1MpfSl9fWZ1bmN0aW9uIHQoZSx0LHMsaSl7ZnVuY3Rpb24gbigpe3ZhciBuPWUuaHJlZi5zcGxpdChcIiNcIilbMV0sYT1pLmNvbnRlbnRfLnF1ZXJ5U2VsZWN0b3IoXCIjXCIrbik7aS5yZXNldFRhYlN0YXRlXyh0KSxpLnJlc2V0UGFuZWxTdGF0ZV8ocyksZS5jbGFzc0xpc3QuYWRkKGkuQ3NzQ2xhc3Nlc18uSVNfQUNUSVZFKSxhLmNsYXNzTGlzdC5hZGQoaS5Dc3NDbGFzc2VzXy5JU19BQ1RJVkUpfWlmKGkudGFiQmFyXy5jbGFzc0xpc3QuY29udGFpbnMoaS5Dc3NDbGFzc2VzXy5KU19SSVBQTEVfRUZGRUNUKSl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7YS5jbGFzc0xpc3QuYWRkKGkuQ3NzQ2xhc3Nlc18uUklQUExFX0NPTlRBSU5FUiksYS5jbGFzc0xpc3QuYWRkKGkuQ3NzQ2xhc3Nlc18uSlNfUklQUExFX0VGRkVDVCk7dmFyIGw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7bC5jbGFzc0xpc3QuYWRkKGkuQ3NzQ2xhc3Nlc18uUklQUExFKSxhLmFwcGVuZENoaWxkKGwpLGUuYXBwZW5kQ2hpbGQoYSl9ZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbih0KXtcIiNcIj09PWUuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKS5jaGFyQXQoMCkmJih0LnByZXZlbnREZWZhdWx0KCksbigpKX0pLGUuc2hvdz1uLGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24obil7bi5wcmV2ZW50RGVmYXVsdCgpO3ZhciBhPWUuaHJlZi5zcGxpdChcIiNcIilbMV0sbD1pLmNvbnRlbnRfLnF1ZXJ5U2VsZWN0b3IoXCIjXCIrYSk7aS5yZXNldFRhYlN0YXRlXyh0KSxpLnJlc2V0UGFuZWxTdGF0ZV8ocyksZS5jbGFzc0xpc3QuYWRkKGkuQ3NzQ2xhc3Nlc18uSVNfQUNUSVZFKSxsLmNsYXNzTGlzdC5hZGQoaS5Dc3NDbGFzc2VzXy5JU19BQ1RJVkUpfSl9dmFyIHM9e3VwZ3JhZGVEb206ZnVuY3Rpb24oZSx0KXt9LHVwZ3JhZGVFbGVtZW50OmZ1bmN0aW9uKGUsdCl7fSx1cGdyYWRlRWxlbWVudHM6ZnVuY3Rpb24oZSl7fSx1cGdyYWRlQWxsUmVnaXN0ZXJlZDpmdW5jdGlvbigpe30scmVnaXN0ZXJVcGdyYWRlZENhbGxiYWNrOmZ1bmN0aW9uKGUsdCl7fSxyZWdpc3RlcjpmdW5jdGlvbihlKXt9LGRvd25ncmFkZUVsZW1lbnRzOmZ1bmN0aW9uKGUpe319O3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBzPTA7czxoLmxlbmd0aDtzKyspaWYoaFtzXS5jbGFzc05hbWU9PT1lKXJldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiB0JiYoaFtzXT10KSxoW3NdO3JldHVybiExfWZ1bmN0aW9uIHQoZSl7dmFyIHQ9ZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXVwZ3JhZGVkXCIpO3JldHVybiBudWxsPT09dD9bXCJcIl06dC5zcGxpdChcIixcIil9ZnVuY3Rpb24gcyhlLHMpe3ZhciBpPXQoZSk7cmV0dXJuLTEhPT1pLmluZGV4T2Yocyl9ZnVuY3Rpb24gaSh0LHMpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiB0JiZcInVuZGVmaW5lZFwiPT10eXBlb2Ygcylmb3IodmFyIGE9MDthPGgubGVuZ3RoO2ErKylpKGhbYV0uY2xhc3NOYW1lLGhbYV0uY3NzQ2xhc3MpO2Vsc2V7dmFyIGw9dDtpZihcInVuZGVmaW5lZFwiPT10eXBlb2Ygcyl7dmFyIG89ZShsKTtvJiYocz1vLmNzc0NsYXNzKX1mb3IodmFyIHI9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5cIitzKSxfPTA7XzxyLmxlbmd0aDtfKyspbihyW19dLGwpfX1mdW5jdGlvbiBuKGksbil7aWYoIShcIm9iamVjdFwiPT10eXBlb2YgaSYmaSBpbnN0YW5jZW9mIEVsZW1lbnQpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYXJndW1lbnQgcHJvdmlkZWQgdG8gdXBncmFkZSBNREwgZWxlbWVudC5cIik7dmFyIGE9dChpKSxsPVtdO2lmKG4pcyhpLG4pfHxsLnB1c2goZShuKSk7ZWxzZXt2YXIgbz1pLmNsYXNzTGlzdDtoLmZvckVhY2goZnVuY3Rpb24oZSl7by5jb250YWlucyhlLmNzc0NsYXNzKSYmLTE9PT1sLmluZGV4T2YoZSkmJiFzKGksZS5jbGFzc05hbWUpJiZsLnB1c2goZSl9KX1mb3IodmFyIHIsXz0wLGQ9bC5sZW5ndGg7ZD5fO18rKyl7aWYocj1sW19dLCFyKXRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBmaW5kIGEgcmVnaXN0ZXJlZCBjb21wb25lbnQgZm9yIHRoZSBnaXZlbiBjbGFzcy5cIik7YS5wdXNoKHIuY2xhc3NOYW1lKSxpLnNldEF0dHJpYnV0ZShcImRhdGEtdXBncmFkZWRcIixhLmpvaW4oXCIsXCIpKTt2YXIgQz1uZXcgci5jbGFzc0NvbnN0cnVjdG9yKGkpO0NbcF09cixjLnB1c2goQyk7Zm9yKHZhciB1PTAsRT1yLmNhbGxiYWNrcy5sZW5ndGg7RT51O3UrKylyLmNhbGxiYWNrc1t1XShpKTtyLndpZGdldCYmKGlbci5jbGFzc05hbWVdPUMpO3ZhciBtPWRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiRXZlbnRzXCIpO20uaW5pdEV2ZW50KFwibWRsLWNvbXBvbmVudHVwZ3JhZGVkXCIsITAsITApLGkuZGlzcGF0Y2hFdmVudChtKX19ZnVuY3Rpb24gYShlKXtBcnJheS5pc0FycmF5KGUpfHwoZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlLml0ZW0/QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZSk6W2VdKTtmb3IodmFyIHQscz0wLGk9ZS5sZW5ndGg7aT5zO3MrKyl0PWVbc10sdCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50JiYobih0KSx0LmNoaWxkcmVuLmxlbmd0aD4wJiZhKHQuY2hpbGRyZW4pKX1mdW5jdGlvbiBsKHQpe3ZhciBzPVwidW5kZWZpbmVkXCI9PXR5cGVvZiB0LndpZGdldCYmXCJ1bmRlZmluZWRcIj09dHlwZW9mIHQud2lkZ2V0LGk9ITA7c3x8KGk9dC53aWRnZXR8fHQud2lkZ2V0KTt2YXIgbj17Y2xhc3NDb25zdHJ1Y3Rvcjp0LmNvbnN0cnVjdG9yfHx0LmNvbnN0cnVjdG9yLGNsYXNzTmFtZTp0LmNsYXNzQXNTdHJpbmd8fHQuY2xhc3NBc1N0cmluZyxjc3NDbGFzczp0LmNzc0NsYXNzfHx0LmNzc0NsYXNzLHdpZGdldDppLGNhbGxiYWNrczpbXX07aWYoaC5mb3JFYWNoKGZ1bmN0aW9uKGUpe2lmKGUuY3NzQ2xhc3M9PT1uLmNzc0NsYXNzKXRocm93IG5ldyBFcnJvcihcIlRoZSBwcm92aWRlZCBjc3NDbGFzcyBoYXMgYWxyZWFkeSBiZWVuIHJlZ2lzdGVyZWQ6IFwiK2UuY3NzQ2xhc3MpO2lmKGUuY2xhc3NOYW1lPT09bi5jbGFzc05hbWUpdGhyb3cgbmV3IEVycm9yKFwiVGhlIHByb3ZpZGVkIGNsYXNzTmFtZSBoYXMgYWxyZWFkeSBiZWVuIHJlZ2lzdGVyZWRcIil9KSx0LmNvbnN0cnVjdG9yLnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eShwKSl0aHJvdyBuZXcgRXJyb3IoXCJNREwgY29tcG9uZW50IGNsYXNzZXMgbXVzdCBub3QgaGF2ZSBcIitwK1wiIGRlZmluZWQgYXMgYSBwcm9wZXJ0eS5cIik7dmFyIGE9ZSh0LmNsYXNzQXNTdHJpbmcsbik7YXx8aC5wdXNoKG4pfWZ1bmN0aW9uIG8odCxzKXt2YXIgaT1lKHQpO2kmJmkuY2FsbGJhY2tzLnB1c2gocyl9ZnVuY3Rpb24gcigpe2Zvcih2YXIgZT0wO2U8aC5sZW5ndGg7ZSsrKWkoaFtlXS5jbGFzc05hbWUpfWZ1bmN0aW9uIF8oZSl7dmFyIHQ9Yy5pbmRleE9mKGUpO2Muc3BsaWNlKHQsMSk7dmFyIHM9ZS5lbGVtZW50Xy5nZXRBdHRyaWJ1dGUoXCJkYXRhLXVwZ3JhZGVkXCIpLnNwbGl0KFwiLFwiKSxpPXMuaW5kZXhPZihlW3BdLmNsYXNzQXNTdHJpbmcpO3Muc3BsaWNlKGksMSksZS5lbGVtZW50Xy5zZXRBdHRyaWJ1dGUoXCJkYXRhLXVwZ3JhZGVkXCIscy5qb2luKFwiLFwiKSk7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJFdmVudHNcIik7bi5pbml0RXZlbnQoXCJtZGwtY29tcG9uZW50ZG93bmdyYWRlZFwiLCEwLCEwKSxlLmVsZW1lbnRfLmRpc3BhdGNoRXZlbnQobil9ZnVuY3Rpb24gZChlKXt2YXIgdD1mdW5jdGlvbihlKXtjLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gdC5lbGVtZW50Xz09PWV9KS5mb3JFYWNoKF8pfTtpZihlIGluc3RhbmNlb2YgQXJyYXl8fGUgaW5zdGFuY2VvZiBOb2RlTGlzdClmb3IodmFyIHM9MDtzPGUubGVuZ3RoO3MrKyl0KGVbc10pO2Vsc2V7aWYoIShlIGluc3RhbmNlb2YgTm9kZSkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudCBwcm92aWRlZCB0byBkb3duZ3JhZGUgTURMIG5vZGVzLlwiKTt0KGUpfX12YXIgaD1bXSxjPVtdLHA9XCJtZGxDb21wb25lbnRDb25maWdJbnRlcm5hbF9cIjtyZXR1cm57dXBncmFkZURvbTppLHVwZ3JhZGVFbGVtZW50Om4sdXBncmFkZUVsZW1lbnRzOmEsdXBncmFkZUFsbFJlZ2lzdGVyZWQ6cixyZWdpc3RlclVwZ3JhZGVkQ2FsbGJhY2s6byxyZWdpc3RlcjpsLGRvd25ncmFkZUVsZW1lbnRzOmR9fSgpLHMuQ29tcG9uZW50Q29uZmlnUHVibGljLHMuQ29tcG9uZW50Q29uZmlnLHMuQ29tcG9uZW50LHMudXBncmFkZURvbT1zLnVwZ3JhZGVEb20scy51cGdyYWRlRWxlbWVudD1zLnVwZ3JhZGVFbGVtZW50LHMudXBncmFkZUVsZW1lbnRzPXMudXBncmFkZUVsZW1lbnRzLHMudXBncmFkZUFsbFJlZ2lzdGVyZWQ9cy51cGdyYWRlQWxsUmVnaXN0ZXJlZCxzLnJlZ2lzdGVyVXBncmFkZWRDYWxsYmFjaz1zLnJlZ2lzdGVyVXBncmFkZWRDYWxsYmFjayxzLnJlZ2lzdGVyPXMucmVnaXN0ZXIscy5kb3duZ3JhZGVFbGVtZW50cz1zLmRvd25ncmFkZUVsZW1lbnRzLHdpbmRvdy5jb21wb25lbnRIYW5kbGVyPXMsd2luZG93LmNvbXBvbmVudEhhbmRsZXI9cyx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixmdW5jdGlvbigpe1wiY2xhc3NMaXN0XCJpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpJiZcInF1ZXJ5U2VsZWN0b3JcImluIGRvY3VtZW50JiZcImFkZEV2ZW50TGlzdGVuZXJcImluIHdpbmRvdyYmQXJyYXkucHJvdG90eXBlLmZvckVhY2g/KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibWRsLWpzXCIpLHMudXBncmFkZUFsbFJlZ2lzdGVyZWQoKSk6KHMudXBncmFkZUVsZW1lbnQ9ZnVuY3Rpb24oKXt9LHMucmVnaXN0ZXI9ZnVuY3Rpb24oKXt9KX0pLERhdGUubm93fHwoRGF0ZS5ub3c9ZnVuY3Rpb24oKXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKX0sRGF0ZS5ub3c9RGF0ZS5ub3cpO2Zvcih2YXIgaT1bXCJ3ZWJraXRcIixcIm1velwiXSxuPTA7bjxpLmxlbmd0aCYmIXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU7KytuKXt2YXIgYT1pW25dO3dpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU9d2luZG93W2ErXCJSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcIl0sd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lPXdpbmRvd1thK1wiQ2FuY2VsQW5pbWF0aW9uRnJhbWVcIl18fHdpbmRvd1thK1wiQ2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lXCJdLHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU9d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSx3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWU9d2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lfWlmKC9pUChhZHxob25lfG9kKS4qT1MgNi8udGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCl8fCF3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHwhd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKXt2YXIgbD0wO3dpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU9ZnVuY3Rpb24oZSl7dmFyIHQ9RGF0ZS5ub3coKSxzPU1hdGgubWF4KGwrMTYsdCk7cmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtlKGw9cyl9LHMtdCl9LHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZT1jbGVhclRpbWVvdXQsd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZT13aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lLHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZT13aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWV9dmFyIG89ZnVuY3Rpb24oZSl7dGhpcy5lbGVtZW50Xz1lLHRoaXMuaW5pdCgpfTt3aW5kb3cuTWF0ZXJpYWxCdXR0b249byxvLnByb3RvdHlwZS5Db25zdGFudF89e30sby5wcm90b3R5cGUuQ3NzQ2xhc3Nlc189e1JJUFBMRV9FRkZFQ1Q6XCJtZGwtanMtcmlwcGxlLWVmZmVjdFwiLFJJUFBMRV9DT05UQUlORVI6XCJtZGwtYnV0dG9uX19yaXBwbGUtY29udGFpbmVyXCIsUklQUExFOlwibWRsLXJpcHBsZVwifSxvLnByb3RvdHlwZS5ibHVySGFuZGxlcl89ZnVuY3Rpb24oZSl7ZSYmdGhpcy5lbGVtZW50Xy5ibHVyKCl9LG8ucHJvdG90eXBlLmRpc2FibGU9ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnRfLmRpc2FibGVkPSEwfSxvLnByb3RvdHlwZS5kaXNhYmxlPW8ucHJvdG90eXBlLmRpc2FibGUsby5wcm90b3R5cGUuZW5hYmxlPWZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50Xy5kaXNhYmxlZD0hMX0sby5wcm90b3R5cGUuZW5hYmxlPW8ucHJvdG90eXBlLmVuYWJsZSxvLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7aWYodGhpcy5lbGVtZW50Xyl7aWYodGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuY29udGFpbnModGhpcy5Dc3NDbGFzc2VzXy5SSVBQTEVfRUZGRUNUKSl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7ZS5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uUklQUExFX0NPTlRBSU5FUiksdGhpcy5yaXBwbGVFbGVtZW50Xz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKSx0aGlzLnJpcHBsZUVsZW1lbnRfLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5SSVBQTEUpLGUuYXBwZW5kQ2hpbGQodGhpcy5yaXBwbGVFbGVtZW50XyksdGhpcy5ib3VuZFJpcHBsZUJsdXJIYW5kbGVyPXRoaXMuYmx1ckhhbmRsZXJfLmJpbmQodGhpcyksdGhpcy5yaXBwbGVFbGVtZW50Xy5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLHRoaXMuYm91bmRSaXBwbGVCbHVySGFuZGxlciksdGhpcy5lbGVtZW50Xy5hcHBlbmRDaGlsZChlKX10aGlzLmJvdW5kQnV0dG9uQmx1ckhhbmRsZXI9dGhpcy5ibHVySGFuZGxlcl8uYmluZCh0aGlzKSx0aGlzLmVsZW1lbnRfLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsdGhpcy5ib3VuZEJ1dHRvbkJsdXJIYW5kbGVyKSx0aGlzLmVsZW1lbnRfLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsdGhpcy5ib3VuZEJ1dHRvbkJsdXJIYW5kbGVyKX19LHMucmVnaXN0ZXIoe2NvbnN0cnVjdG9yOm8sY2xhc3NBc1N0cmluZzpcIk1hdGVyaWFsQnV0dG9uXCIsY3NzQ2xhc3M6XCJtZGwtanMtYnV0dG9uXCIsd2lkZ2V0OiEwfSk7dmFyIHI9ZnVuY3Rpb24oZSl7dGhpcy5lbGVtZW50Xz1lLHRoaXMuaW5pdCgpfTt3aW5kb3cuTWF0ZXJpYWxDaGVja2JveD1yLHIucHJvdG90eXBlLkNvbnN0YW50Xz17VElOWV9USU1FT1VUOi4wMDF9LHIucHJvdG90eXBlLkNzc0NsYXNzZXNfPXtJTlBVVDpcIm1kbC1jaGVja2JveF9faW5wdXRcIixCT1hfT1VUTElORTpcIm1kbC1jaGVja2JveF9fYm94LW91dGxpbmVcIixGT0NVU19IRUxQRVI6XCJtZGwtY2hlY2tib3hfX2ZvY3VzLWhlbHBlclwiLFRJQ0tfT1VUTElORTpcIm1kbC1jaGVja2JveF9fdGljay1vdXRsaW5lXCIsUklQUExFX0VGRkVDVDpcIm1kbC1qcy1yaXBwbGUtZWZmZWN0XCIsUklQUExFX0lHTk9SRV9FVkVOVFM6XCJtZGwtanMtcmlwcGxlLWVmZmVjdC0taWdub3JlLWV2ZW50c1wiLFJJUFBMRV9DT05UQUlORVI6XCJtZGwtY2hlY2tib3hfX3JpcHBsZS1jb250YWluZXJcIixSSVBQTEVfQ0VOVEVSOlwibWRsLXJpcHBsZS0tY2VudGVyXCIsUklQUExFOlwibWRsLXJpcHBsZVwiLElTX0ZPQ1VTRUQ6XCJpcy1mb2N1c2VkXCIsSVNfRElTQUJMRUQ6XCJpcy1kaXNhYmxlZFwiLElTX0NIRUNLRUQ6XCJpcy1jaGVja2VkXCIsSVNfVVBHUkFERUQ6XCJpcy11cGdyYWRlZFwifSxyLnByb3RvdHlwZS5vbkNoYW5nZV89ZnVuY3Rpb24oZSl7dGhpcy51cGRhdGVDbGFzc2VzXygpfSxyLnByb3RvdHlwZS5vbkZvY3VzXz1mdW5jdGlvbihlKXt0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5JU19GT0NVU0VEKX0sci5wcm90b3R5cGUub25CbHVyXz1mdW5jdGlvbihlKXt0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5Dc3NDbGFzc2VzXy5JU19GT0NVU0VEKX0sci5wcm90b3R5cGUub25Nb3VzZVVwXz1mdW5jdGlvbihlKXt0aGlzLmJsdXJfKCl9LHIucHJvdG90eXBlLnVwZGF0ZUNsYXNzZXNfPWZ1bmN0aW9uKCl7dGhpcy5jaGVja0Rpc2FibGVkKCksdGhpcy5jaGVja1RvZ2dsZVN0YXRlKCl9LHIucHJvdG90eXBlLmJsdXJfPWZ1bmN0aW9uKCl7d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGlzLmlucHV0RWxlbWVudF8uYmx1cigpfS5iaW5kKHRoaXMpLHRoaXMuQ29uc3RhbnRfLlRJTllfVElNRU9VVCl9LHIucHJvdG90eXBlLmNoZWNrVG9nZ2xlU3RhdGU9ZnVuY3Rpb24oKXt0aGlzLmlucHV0RWxlbWVudF8uY2hlY2tlZD90aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5JU19DSEVDS0VEKTp0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5Dc3NDbGFzc2VzXy5JU19DSEVDS0VEKX0sci5wcm90b3R5cGUuY2hlY2tUb2dnbGVTdGF0ZT1yLnByb3RvdHlwZS5jaGVja1RvZ2dsZVN0YXRlLHIucHJvdG90eXBlLmNoZWNrRGlzYWJsZWQ9ZnVuY3Rpb24oKXt0aGlzLmlucHV0RWxlbWVudF8uZGlzYWJsZWQ/dGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfRElTQUJMRUQpOnRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNzc0NsYXNzZXNfLklTX0RJU0FCTEVEKX0sci5wcm90b3R5cGUuY2hlY2tEaXNhYmxlZD1yLnByb3RvdHlwZS5jaGVja0Rpc2FibGVkLHIucHJvdG90eXBlLmRpc2FibGU9ZnVuY3Rpb24oKXt0aGlzLmlucHV0RWxlbWVudF8uZGlzYWJsZWQ9ITAsdGhpcy51cGRhdGVDbGFzc2VzXygpfSxyLnByb3RvdHlwZS5kaXNhYmxlPXIucHJvdG90eXBlLmRpc2FibGUsci5wcm90b3R5cGUuZW5hYmxlPWZ1bmN0aW9uKCl7dGhpcy5pbnB1dEVsZW1lbnRfLmRpc2FibGVkPSExLHRoaXMudXBkYXRlQ2xhc3Nlc18oKX0sci5wcm90b3R5cGUuZW5hYmxlPXIucHJvdG90eXBlLmVuYWJsZSxyLnByb3RvdHlwZS5jaGVjaz1mdW5jdGlvbigpe3RoaXMuaW5wdXRFbGVtZW50Xy5jaGVja2VkPSEwLHRoaXMudXBkYXRlQ2xhc3Nlc18oKX0sci5wcm90b3R5cGUuY2hlY2s9ci5wcm90b3R5cGUuY2hlY2ssci5wcm90b3R5cGUudW5jaGVjaz1mdW5jdGlvbigpe3RoaXMuaW5wdXRFbGVtZW50Xy5jaGVja2VkPSExLHRoaXMudXBkYXRlQ2xhc3Nlc18oKX0sci5wcm90b3R5cGUudW5jaGVjaz1yLnByb3RvdHlwZS51bmNoZWNrLHIucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXtpZih0aGlzLmVsZW1lbnRfKXt0aGlzLmlucHV0RWxlbWVudF89dGhpcy5lbGVtZW50Xy5xdWVyeVNlbGVjdG9yKFwiLlwiK3RoaXMuQ3NzQ2xhc3Nlc18uSU5QVVQpO3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO2UuY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLkJPWF9PVVRMSU5FKTt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTt0LmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5GT0NVU19IRUxQRVIpO3ZhciBzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO2lmKHMuY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLlRJQ0tfT1VUTElORSksZS5hcHBlbmRDaGlsZChzKSx0aGlzLmVsZW1lbnRfLmFwcGVuZENoaWxkKHQpLHRoaXMuZWxlbWVudF8uYXBwZW5kQ2hpbGQoZSksdGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuY29udGFpbnModGhpcy5Dc3NDbGFzc2VzXy5SSVBQTEVfRUZGRUNUKSl7dGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uUklQUExFX0lHTk9SRV9FVkVOVFMpLHRoaXMucmlwcGxlQ29udGFpbmVyRWxlbWVudF89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIiksdGhpcy5yaXBwbGVDb250YWluZXJFbGVtZW50Xy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uUklQUExFX0NPTlRBSU5FUiksdGhpcy5yaXBwbGVDb250YWluZXJFbGVtZW50Xy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uUklQUExFX0VGRkVDVCksdGhpcy5yaXBwbGVDb250YWluZXJFbGVtZW50Xy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uUklQUExFX0NFTlRFUiksdGhpcy5ib3VuZFJpcHBsZU1vdXNlVXA9dGhpcy5vbk1vdXNlVXBfLmJpbmQodGhpcyksdGhpcy5yaXBwbGVDb250YWluZXJFbGVtZW50Xy5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLHRoaXMuYm91bmRSaXBwbGVNb3VzZVVwKTt2YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtpLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5SSVBQTEUpLHRoaXMucmlwcGxlQ29udGFpbmVyRWxlbWVudF8uYXBwZW5kQ2hpbGQoaSksdGhpcy5lbGVtZW50Xy5hcHBlbmRDaGlsZCh0aGlzLnJpcHBsZUNvbnRhaW5lckVsZW1lbnRfKX10aGlzLmJvdW5kSW5wdXRPbkNoYW5nZT10aGlzLm9uQ2hhbmdlXy5iaW5kKHRoaXMpLHRoaXMuYm91bmRJbnB1dE9uRm9jdXM9dGhpcy5vbkZvY3VzXy5iaW5kKHRoaXMpLHRoaXMuYm91bmRJbnB1dE9uQmx1cj10aGlzLm9uQmx1cl8uYmluZCh0aGlzKSx0aGlzLmJvdW5kRWxlbWVudE1vdXNlVXA9dGhpcy5vbk1vdXNlVXBfLmJpbmQodGhpcyksdGhpcy5pbnB1dEVsZW1lbnRfLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIix0aGlzLmJvdW5kSW5wdXRPbkNoYW5nZSksdGhpcy5pbnB1dEVsZW1lbnRfLmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLHRoaXMuYm91bmRJbnB1dE9uRm9jdXMpLHRoaXMuaW5wdXRFbGVtZW50Xy5hZGRFdmVudExpc3RlbmVyKFwiYmx1clwiLHRoaXMuYm91bmRJbnB1dE9uQmx1ciksdGhpcy5lbGVtZW50Xy5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLHRoaXMuYm91bmRFbGVtZW50TW91c2VVcCksdGhpcy51cGRhdGVDbGFzc2VzXygpLHRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLklTX1VQR1JBREVEKX19LHMucmVnaXN0ZXIoe2NvbnN0cnVjdG9yOnIsY2xhc3NBc1N0cmluZzpcIk1hdGVyaWFsQ2hlY2tib3hcIixjc3NDbGFzczpcIm1kbC1qcy1jaGVja2JveFwiLHdpZGdldDohMH0pO3ZhciBfPWZ1bmN0aW9uKGUpe3RoaXMuZWxlbWVudF89ZSx0aGlzLmluaXQoKX07d2luZG93Lk1hdGVyaWFsSWNvblRvZ2dsZT1fLF8ucHJvdG90eXBlLkNvbnN0YW50Xz17VElOWV9USU1FT1VUOi4wMDF9LF8ucHJvdG90eXBlLkNzc0NsYXNzZXNfPXtJTlBVVDpcIm1kbC1pY29uLXRvZ2dsZV9faW5wdXRcIixKU19SSVBQTEVfRUZGRUNUOlwibWRsLWpzLXJpcHBsZS1lZmZlY3RcIixSSVBQTEVfSUdOT1JFX0VWRU5UUzpcIm1kbC1qcy1yaXBwbGUtZWZmZWN0LS1pZ25vcmUtZXZlbnRzXCIsUklQUExFX0NPTlRBSU5FUjpcIm1kbC1pY29uLXRvZ2dsZV9fcmlwcGxlLWNvbnRhaW5lclwiLFJJUFBMRV9DRU5URVI6XCJtZGwtcmlwcGxlLS1jZW50ZXJcIixSSVBQTEU6XCJtZGwtcmlwcGxlXCIsSVNfRk9DVVNFRDpcImlzLWZvY3VzZWRcIixJU19ESVNBQkxFRDpcImlzLWRpc2FibGVkXCIsSVNfQ0hFQ0tFRDpcImlzLWNoZWNrZWRcIn0sXy5wcm90b3R5cGUub25DaGFuZ2VfPWZ1bmN0aW9uKGUpe3RoaXMudXBkYXRlQ2xhc3Nlc18oKX0sXy5wcm90b3R5cGUub25Gb2N1c189ZnVuY3Rpb24oZSl7dGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfRk9DVVNFRCl9LF8ucHJvdG90eXBlLm9uQmx1cl89ZnVuY3Rpb24oZSl7dGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfRk9DVVNFRCl9LF8ucHJvdG90eXBlLm9uTW91c2VVcF89ZnVuY3Rpb24oZSl7dGhpcy5ibHVyXygpfSxfLnByb3RvdHlwZS51cGRhdGVDbGFzc2VzXz1mdW5jdGlvbigpe3RoaXMuY2hlY2tEaXNhYmxlZCgpLHRoaXMuY2hlY2tUb2dnbGVTdGF0ZSgpfSxfLnByb3RvdHlwZS5ibHVyXz1mdW5jdGlvbigpe3dpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhpcy5pbnB1dEVsZW1lbnRfLmJsdXIoKX0uYmluZCh0aGlzKSx0aGlzLkNvbnN0YW50Xy5USU5ZX1RJTUVPVVQpfSxfLnByb3RvdHlwZS5jaGVja1RvZ2dsZVN0YXRlPWZ1bmN0aW9uKCl7dGhpcy5pbnB1dEVsZW1lbnRfLmNoZWNrZWQ/dGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfQ0hFQ0tFRCk6dGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfQ0hFQ0tFRCl9LF8ucHJvdG90eXBlLmNoZWNrVG9nZ2xlU3RhdGU9Xy5wcm90b3R5cGUuY2hlY2tUb2dnbGVTdGF0ZSxfLnByb3RvdHlwZS5jaGVja0Rpc2FibGVkPWZ1bmN0aW9uKCl7dGhpcy5pbnB1dEVsZW1lbnRfLmRpc2FibGVkP3RoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLklTX0RJU0FCTEVEKTp0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5Dc3NDbGFzc2VzXy5JU19ESVNBQkxFRCl9LF8ucHJvdG90eXBlLmNoZWNrRGlzYWJsZWQ9Xy5wcm90b3R5cGUuY2hlY2tEaXNhYmxlZCxfLnByb3RvdHlwZS5kaXNhYmxlPWZ1bmN0aW9uKCl7dGhpcy5pbnB1dEVsZW1lbnRfLmRpc2FibGVkPSEwLHRoaXMudXBkYXRlQ2xhc3Nlc18oKX0sXy5wcm90b3R5cGUuZGlzYWJsZT1fLnByb3RvdHlwZS5kaXNhYmxlLF8ucHJvdG90eXBlLmVuYWJsZT1mdW5jdGlvbigpe3RoaXMuaW5wdXRFbGVtZW50Xy5kaXNhYmxlZD0hMSx0aGlzLnVwZGF0ZUNsYXNzZXNfKCl9LF8ucHJvdG90eXBlLmVuYWJsZT1fLnByb3RvdHlwZS5lbmFibGUsXy5wcm90b3R5cGUuY2hlY2s9ZnVuY3Rpb24oKXt0aGlzLmlucHV0RWxlbWVudF8uY2hlY2tlZD0hMCx0aGlzLnVwZGF0ZUNsYXNzZXNfKCl9LF8ucHJvdG90eXBlLmNoZWNrPV8ucHJvdG90eXBlLmNoZWNrLF8ucHJvdG90eXBlLnVuY2hlY2s9ZnVuY3Rpb24oKXt0aGlzLmlucHV0RWxlbWVudF8uY2hlY2tlZD0hMSx0aGlzLnVwZGF0ZUNsYXNzZXNfKCl9LF8ucHJvdG90eXBlLnVuY2hlY2s9Xy5wcm90b3R5cGUudW5jaGVjayxfLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7aWYodGhpcy5lbGVtZW50Xyl7aWYodGhpcy5pbnB1dEVsZW1lbnRfPXRoaXMuZWxlbWVudF8ucXVlcnlTZWxlY3RvcihcIi5cIit0aGlzLkNzc0NsYXNzZXNfLklOUFVUKSx0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLkNzc0NsYXNzZXNfLkpTX1JJUFBMRV9FRkZFQ1QpKXt0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5SSVBQTEVfSUdOT1JFX0VWRU5UUyksdGhpcy5yaXBwbGVDb250YWluZXJFbGVtZW50Xz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKSx0aGlzLnJpcHBsZUNvbnRhaW5lckVsZW1lbnRfLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5SSVBQTEVfQ09OVEFJTkVSKSx0aGlzLnJpcHBsZUNvbnRhaW5lckVsZW1lbnRfLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5KU19SSVBQTEVfRUZGRUNUKSx0aGlzLnJpcHBsZUNvbnRhaW5lckVsZW1lbnRfLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5SSVBQTEVfQ0VOVEVSKSx0aGlzLmJvdW5kUmlwcGxlTW91c2VVcD10aGlzLm9uTW91c2VVcF8uYmluZCh0aGlzKSx0aGlzLnJpcHBsZUNvbnRhaW5lckVsZW1lbnRfLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsdGhpcy5ib3VuZFJpcHBsZU1vdXNlVXApO3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO2UuY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLlJJUFBMRSksdGhpcy5yaXBwbGVDb250YWluZXJFbGVtZW50Xy5hcHBlbmRDaGlsZChlKSx0aGlzLmVsZW1lbnRfLmFwcGVuZENoaWxkKHRoaXMucmlwcGxlQ29udGFpbmVyRWxlbWVudF8pfXRoaXMuYm91bmRJbnB1dE9uQ2hhbmdlPXRoaXMub25DaGFuZ2VfLmJpbmQodGhpcyksdGhpcy5ib3VuZElucHV0T25Gb2N1cz10aGlzLm9uRm9jdXNfLmJpbmQodGhpcyksdGhpcy5ib3VuZElucHV0T25CbHVyPXRoaXMub25CbHVyXy5iaW5kKHRoaXMpLHRoaXMuYm91bmRFbGVtZW50T25Nb3VzZVVwPXRoaXMub25Nb3VzZVVwXy5iaW5kKHRoaXMpLHRoaXMuaW5wdXRFbGVtZW50Xy5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsdGhpcy5ib3VuZElucHV0T25DaGFuZ2UpLHRoaXMuaW5wdXRFbGVtZW50Xy5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNcIix0aGlzLmJvdW5kSW5wdXRPbkZvY3VzKSx0aGlzLmlucHV0RWxlbWVudF8uYWRkRXZlbnRMaXN0ZW5lcihcImJsdXJcIix0aGlzLmJvdW5kSW5wdXRPbkJsdXIpLHRoaXMuZWxlbWVudF8uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIix0aGlzLmJvdW5kRWxlbWVudE9uTW91c2VVcCksdGhpcy51cGRhdGVDbGFzc2VzXygpLHRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmFkZChcImlzLXVwZ3JhZGVkXCIpfX0scy5yZWdpc3Rlcih7Y29uc3RydWN0b3I6XyxjbGFzc0FzU3RyaW5nOlwiTWF0ZXJpYWxJY29uVG9nZ2xlXCIsY3NzQ2xhc3M6XCJtZGwtanMtaWNvbi10b2dnbGVcIix3aWRnZXQ6ITB9KTt2YXIgZD1mdW5jdGlvbihlKXt0aGlzLmVsZW1lbnRfPWUsdGhpcy5pbml0KCl9O3dpbmRvdy5NYXRlcmlhbE1lbnU9ZCxkLnByb3RvdHlwZS5Db25zdGFudF89e1RSQU5TSVRJT05fRFVSQVRJT05fU0VDT05EUzouMyxUUkFOU0lUSU9OX0RVUkFUSU9OX0ZSQUNUSU9OOi44LENMT1NFX1RJTUVPVVQ6MTUwfSxkLnByb3RvdHlwZS5LZXljb2Rlc189e0VOVEVSOjEzLEVTQ0FQRToyNyxTUEFDRTozMixVUF9BUlJPVzozOCxET1dOX0FSUk9XOjQwfSxkLnByb3RvdHlwZS5Dc3NDbGFzc2VzXz17Q09OVEFJTkVSOlwibWRsLW1lbnVfX2NvbnRhaW5lclwiLE9VVExJTkU6XCJtZGwtbWVudV9fb3V0bGluZVwiLElURU06XCJtZGwtbWVudV9faXRlbVwiLElURU1fUklQUExFX0NPTlRBSU5FUjpcIm1kbC1tZW51X19pdGVtLXJpcHBsZS1jb250YWluZXJcIixSSVBQTEVfRUZGRUNUOlwibWRsLWpzLXJpcHBsZS1lZmZlY3RcIixSSVBQTEVfSUdOT1JFX0VWRU5UUzpcIm1kbC1qcy1yaXBwbGUtZWZmZWN0LS1pZ25vcmUtZXZlbnRzXCIsUklQUExFOlwibWRsLXJpcHBsZVwiLElTX1VQR1JBREVEOlwiaXMtdXBncmFkZWRcIixJU19WSVNJQkxFOlwiaXMtdmlzaWJsZVwiLElTX0FOSU1BVElORzpcImlzLWFuaW1hdGluZ1wiLEJPVFRPTV9MRUZUOlwibWRsLW1lbnUtLWJvdHRvbS1sZWZ0XCIsQk9UVE9NX1JJR0hUOlwibWRsLW1lbnUtLWJvdHRvbS1yaWdodFwiLFRPUF9MRUZUOlwibWRsLW1lbnUtLXRvcC1sZWZ0XCIsVE9QX1JJR0hUOlwibWRsLW1lbnUtLXRvcC1yaWdodFwiLFVOQUxJR05FRDpcIm1kbC1tZW51LS11bmFsaWduZWRcIn0sZC5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe2lmKHRoaXMuZWxlbWVudF8pe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ZS5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uQ09OVEFJTkVSKSx0aGlzLmVsZW1lbnRfLnBhcmVudEVsZW1lbnQuaW5zZXJ0QmVmb3JlKGUsdGhpcy5lbGVtZW50XyksdGhpcy5lbGVtZW50Xy5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKHRoaXMuZWxlbWVudF8pLGUuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50XyksdGhpcy5jb250YWluZXJfPWU7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTt0LmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5PVVRMSU5FKSx0aGlzLm91dGxpbmVfPXQsZS5pbnNlcnRCZWZvcmUodCx0aGlzLmVsZW1lbnRfKTt2YXIgcz10aGlzLmVsZW1lbnRfLmdldEF0dHJpYnV0ZShcImZvclwiKXx8dGhpcy5lbGVtZW50Xy5nZXRBdHRyaWJ1dGUoXCJkYXRhLW1kbC1mb3JcIiksaT1udWxsO3MmJihpPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHMpLGkmJih0aGlzLmZvckVsZW1lbnRfPWksaS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLmhhbmRsZUZvckNsaWNrXy5iaW5kKHRoaXMpKSxpLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsdGhpcy5oYW5kbGVGb3JLZXlib2FyZEV2ZW50Xy5iaW5kKHRoaXMpKSkpO3ZhciBuPXRoaXMuZWxlbWVudF8ucXVlcnlTZWxlY3RvckFsbChcIi5cIit0aGlzLkNzc0NsYXNzZXNfLklURU0pO3RoaXMuYm91bmRJdGVtS2V5ZG93bl89dGhpcy5oYW5kbGVJdGVtS2V5Ym9hcmRFdmVudF8uYmluZCh0aGlzKSx0aGlzLmJvdW5kSXRlbUNsaWNrXz10aGlzLmhhbmRsZUl0ZW1DbGlja18uYmluZCh0aGlzKTtmb3IodmFyIGE9MDthPG4ubGVuZ3RoO2ErKyluW2FdLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMuYm91bmRJdGVtQ2xpY2tfKSxuW2FdLnRhYkluZGV4PVwiLTFcIixuW2FdLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsdGhpcy5ib3VuZEl0ZW1LZXlkb3duXyk7aWYodGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuY29udGFpbnModGhpcy5Dc3NDbGFzc2VzXy5SSVBQTEVfRUZGRUNUKSlmb3IodGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uUklQUExFX0lHTk9SRV9FVkVOVFMpLGE9MDthPG4ubGVuZ3RoO2ErKyl7dmFyIGw9blthXSxvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO28uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLklURU1fUklQUExFX0NPTlRBSU5FUik7dmFyIHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7ci5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uUklQUExFKSxvLmFwcGVuZENoaWxkKHIpLGwuYXBwZW5kQ2hpbGQobyksbC5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uUklQUExFX0VGRkVDVCl9dGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuY29udGFpbnModGhpcy5Dc3NDbGFzc2VzXy5CT1RUT01fTEVGVCkmJnRoaXMub3V0bGluZV8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLkJPVFRPTV9MRUZUKSx0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLkNzc0NsYXNzZXNfLkJPVFRPTV9SSUdIVCkmJnRoaXMub3V0bGluZV8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLkJPVFRPTV9SSUdIVCksdGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuY29udGFpbnModGhpcy5Dc3NDbGFzc2VzXy5UT1BfTEVGVCkmJnRoaXMub3V0bGluZV8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLlRPUF9MRUZUKSx0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLkNzc0NsYXNzZXNfLlRPUF9SSUdIVCkmJnRoaXMub3V0bGluZV8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLlRPUF9SSUdIVCksdGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuY29udGFpbnModGhpcy5Dc3NDbGFzc2VzXy5VTkFMSUdORUQpJiZ0aGlzLm91dGxpbmVfLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5VTkFMSUdORUQpLGUuY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLklTX1VQR1JBREVEKX19LGQucHJvdG90eXBlLmhhbmRsZUZvckNsaWNrXz1mdW5jdGlvbihlKXtpZih0aGlzLmVsZW1lbnRfJiZ0aGlzLmZvckVsZW1lbnRfKXt2YXIgdD10aGlzLmZvckVsZW1lbnRfLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHM9dGhpcy5mb3JFbGVtZW50Xy5wYXJlbnRFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3RoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuQ3NzQ2xhc3Nlc18uVU5BTElHTkVEKXx8KHRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuQ3NzQ2xhc3Nlc18uQk9UVE9NX1JJR0hUKT8odGhpcy5jb250YWluZXJfLnN0eWxlLnJpZ2h0PXMucmlnaHQtdC5yaWdodCtcInB4XCIsdGhpcy5jb250YWluZXJfLnN0eWxlLnRvcD10aGlzLmZvckVsZW1lbnRfLm9mZnNldFRvcCt0aGlzLmZvckVsZW1lbnRfLm9mZnNldEhlaWdodCtcInB4XCIpOnRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuQ3NzQ2xhc3Nlc18uVE9QX0xFRlQpPyh0aGlzLmNvbnRhaW5lcl8uc3R5bGUubGVmdD10aGlzLmZvckVsZW1lbnRfLm9mZnNldExlZnQrXCJweFwiLHRoaXMuY29udGFpbmVyXy5zdHlsZS5ib3R0b209cy5ib3R0b20tdC50b3ArXCJweFwiKTp0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLkNzc0NsYXNzZXNfLlRPUF9SSUdIVCk/KHRoaXMuY29udGFpbmVyXy5zdHlsZS5yaWdodD1zLnJpZ2h0LXQucmlnaHQrXCJweFwiLHRoaXMuY29udGFpbmVyXy5zdHlsZS5ib3R0b209cy5ib3R0b20tdC50b3ArXCJweFwiKToodGhpcy5jb250YWluZXJfLnN0eWxlLmxlZnQ9dGhpcy5mb3JFbGVtZW50Xy5vZmZzZXRMZWZ0K1wicHhcIix0aGlzLmNvbnRhaW5lcl8uc3R5bGUudG9wPXRoaXMuZm9yRWxlbWVudF8ub2Zmc2V0VG9wK3RoaXMuZm9yRWxlbWVudF8ub2Zmc2V0SGVpZ2h0K1wicHhcIikpfXRoaXMudG9nZ2xlKGUpfSxkLnByb3RvdHlwZS5oYW5kbGVGb3JLZXlib2FyZEV2ZW50Xz1mdW5jdGlvbihlKXtpZih0aGlzLmVsZW1lbnRfJiZ0aGlzLmNvbnRhaW5lcl8mJnRoaXMuZm9yRWxlbWVudF8pe3ZhciB0PXRoaXMuZWxlbWVudF8ucXVlcnlTZWxlY3RvckFsbChcIi5cIit0aGlzLkNzc0NsYXNzZXNfLklURU0rXCI6bm90KFtkaXNhYmxlZF0pXCIpO3QmJnQubGVuZ3RoPjAmJnRoaXMuY29udGFpbmVyXy5jbGFzc0xpc3QuY29udGFpbnModGhpcy5Dc3NDbGFzc2VzXy5JU19WSVNJQkxFKSYmKGUua2V5Q29kZT09PXRoaXMuS2V5Y29kZXNfLlVQX0FSUk9XPyhlLnByZXZlbnREZWZhdWx0KCksdFt0Lmxlbmd0aC0xXS5mb2N1cygpKTplLmtleUNvZGU9PT10aGlzLktleWNvZGVzXy5ET1dOX0FSUk9XJiYoZS5wcmV2ZW50RGVmYXVsdCgpLHRbMF0uZm9jdXMoKSkpfX0sZC5wcm90b3R5cGUuaGFuZGxlSXRlbUtleWJvYXJkRXZlbnRfPWZ1bmN0aW9uKGUpe2lmKHRoaXMuZWxlbWVudF8mJnRoaXMuY29udGFpbmVyXyl7dmFyIHQ9dGhpcy5lbGVtZW50Xy5xdWVyeVNlbGVjdG9yQWxsKFwiLlwiK3RoaXMuQ3NzQ2xhc3Nlc18uSVRFTStcIjpub3QoW2Rpc2FibGVkXSlcIik7aWYodCYmdC5sZW5ndGg+MCYmdGhpcy5jb250YWluZXJfLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLkNzc0NsYXNzZXNfLklTX1ZJU0lCTEUpKXt2YXIgcz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0KS5pbmRleE9mKGUudGFyZ2V0KTtpZihlLmtleUNvZGU9PT10aGlzLktleWNvZGVzXy5VUF9BUlJPVyllLnByZXZlbnREZWZhdWx0KCkscz4wP3Rbcy0xXS5mb2N1cygpOnRbdC5sZW5ndGgtMV0uZm9jdXMoKTtlbHNlIGlmKGUua2V5Q29kZT09PXRoaXMuS2V5Y29kZXNfLkRPV05fQVJST1cpZS5wcmV2ZW50RGVmYXVsdCgpLHQubGVuZ3RoPnMrMT90W3MrMV0uZm9jdXMoKTp0WzBdLmZvY3VzKCk7ZWxzZSBpZihlLmtleUNvZGU9PT10aGlzLktleWNvZGVzXy5TUEFDRXx8ZS5rZXlDb2RlPT09dGhpcy5LZXljb2Rlc18uRU5URVIpe2UucHJldmVudERlZmF1bHQoKTt2YXIgaT1uZXcgTW91c2VFdmVudChcIm1vdXNlZG93blwiKTtlLnRhcmdldC5kaXNwYXRjaEV2ZW50KGkpLGk9bmV3IE1vdXNlRXZlbnQoXCJtb3VzZXVwXCIpLGUudGFyZ2V0LmRpc3BhdGNoRXZlbnQoaSksZS50YXJnZXQuY2xpY2soKX1lbHNlIGUua2V5Q29kZT09PXRoaXMuS2V5Y29kZXNfLkVTQ0FQRSYmKGUucHJldmVudERlZmF1bHQoKSx0aGlzLmhpZGUoKSl9fX0sZC5wcm90b3R5cGUuaGFuZGxlSXRlbUNsaWNrXz1mdW5jdGlvbihlKXtlLnRhcmdldC5oYXNBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKT9lLnN0b3BQcm9wYWdhdGlvbigpOih0aGlzLmNsb3NpbmdfPSEwLHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKGUpe3RoaXMuaGlkZSgpLHRoaXMuY2xvc2luZ189ITF9LmJpbmQodGhpcyksdGhpcy5Db25zdGFudF8uQ0xPU0VfVElNRU9VVCkpfSxkLnByb3RvdHlwZS5hcHBseUNsaXBfPWZ1bmN0aW9uKGUsdCl7dGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuY29udGFpbnModGhpcy5Dc3NDbGFzc2VzXy5VTkFMSUdORUQpP3RoaXMuZWxlbWVudF8uc3R5bGUuY2xpcD1cIlwiOnRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuQ3NzQ2xhc3Nlc18uQk9UVE9NX1JJR0hUKT90aGlzLmVsZW1lbnRfLnN0eWxlLmNsaXA9XCJyZWN0KDAgXCIrdCtcInB4IDAgXCIrdCtcInB4KVwiOnRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuQ3NzQ2xhc3Nlc18uVE9QX0xFRlQpP3RoaXMuZWxlbWVudF8uc3R5bGUuY2xpcD1cInJlY3QoXCIrZStcInB4IDAgXCIrZStcInB4IDApXCI6dGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuY29udGFpbnModGhpcy5Dc3NDbGFzc2VzXy5UT1BfUklHSFQpP3RoaXMuZWxlbWVudF8uc3R5bGUuY2xpcD1cInJlY3QoXCIrZStcInB4IFwiK3QrXCJweCBcIitlK1wicHggXCIrdCtcInB4KVwiOnRoaXMuZWxlbWVudF8uc3R5bGUuY2xpcD1cIlwifSxkLnByb3RvdHlwZS5yZW1vdmVBbmltYXRpb25FbmRMaXN0ZW5lcl89ZnVuY3Rpb24oZSl7ZS50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZShkLnByb3RvdHlwZS5Dc3NDbGFzc2VzXy5JU19BTklNQVRJTkcpfSxkLnByb3RvdHlwZS5hZGRBbmltYXRpb25FbmRMaXN0ZW5lcl89ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnRfLmFkZEV2ZW50TGlzdGVuZXIoXCJ0cmFuc2l0aW9uZW5kXCIsdGhpcy5yZW1vdmVBbmltYXRpb25FbmRMaXN0ZW5lcl8pLHRoaXMuZWxlbWVudF8uYWRkRXZlbnRMaXN0ZW5lcihcIndlYmtpdFRyYW5zaXRpb25FbmRcIix0aGlzLnJlbW92ZUFuaW1hdGlvbkVuZExpc3RlbmVyXyl9LGQucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24oZSl7aWYodGhpcy5lbGVtZW50XyYmdGhpcy5jb250YWluZXJfJiZ0aGlzLm91dGxpbmVfKXt2YXIgdD10aGlzLmVsZW1lbnRfLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodCxzPXRoaXMuZWxlbWVudF8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7dGhpcy5jb250YWluZXJfLnN0eWxlLndpZHRoPXMrXCJweFwiLHRoaXMuY29udGFpbmVyXy5zdHlsZS5oZWlnaHQ9dCtcInB4XCIsdGhpcy5vdXRsaW5lXy5zdHlsZS53aWR0aD1zK1wicHhcIix0aGlzLm91dGxpbmVfLnN0eWxlLmhlaWdodD10K1wicHhcIjtmb3IodmFyIGk9dGhpcy5Db25zdGFudF8uVFJBTlNJVElPTl9EVVJBVElPTl9TRUNPTkRTKnRoaXMuQ29uc3RhbnRfLlRSQU5TSVRJT05fRFVSQVRJT05fRlJBQ1RJT04sbj10aGlzLmVsZW1lbnRfLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuXCIrdGhpcy5Dc3NDbGFzc2VzXy5JVEVNKSxhPTA7YTxuLmxlbmd0aDthKyspe3ZhciBsPW51bGw7bD10aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLkNzc0NsYXNzZXNfLlRPUF9MRUZUKXx8dGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuY29udGFpbnModGhpcy5Dc3NDbGFzc2VzXy5UT1BfUklHSFQpPyh0LW5bYV0ub2Zmc2V0VG9wLW5bYV0ub2Zmc2V0SGVpZ2h0KS90KmkrXCJzXCI6blthXS5vZmZzZXRUb3AvdCppK1wic1wiLG5bYV0uc3R5bGUudHJhbnNpdGlvbkRlbGF5PWx9dGhpcy5hcHBseUNsaXBfKHQscyksd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbigpe3RoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLklTX0FOSU1BVElORyksdGhpcy5lbGVtZW50Xy5zdHlsZS5jbGlwPVwicmVjdCgwIFwiK3MrXCJweCBcIit0K1wicHggMClcIix0aGlzLmNvbnRhaW5lcl8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLklTX1ZJU0lCTEUpfS5iaW5kKHRoaXMpKSx0aGlzLmFkZEFuaW1hdGlvbkVuZExpc3RlbmVyXygpO3ZhciBvPWZ1bmN0aW9uKHQpe3Q9PT1lfHx0aGlzLmNsb3NpbmdffHx0LnRhcmdldC5wYXJlbnROb2RlPT09dGhpcy5lbGVtZW50X3x8KGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLG8pLHRoaXMuaGlkZSgpKX0uYmluZCh0aGlzKTtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixvKX19LGQucHJvdG90eXBlLnNob3c9ZC5wcm90b3R5cGUuc2hvdyxkLnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKCl7aWYodGhpcy5lbGVtZW50XyYmdGhpcy5jb250YWluZXJfJiZ0aGlzLm91dGxpbmVfKXtmb3IodmFyIGU9dGhpcy5lbGVtZW50Xy5xdWVyeVNlbGVjdG9yQWxsKFwiLlwiK3RoaXMuQ3NzQ2xhc3Nlc18uSVRFTSksdD0wO3Q8ZS5sZW5ndGg7dCsrKWVbdF0uc3R5bGUucmVtb3ZlUHJvcGVydHkoXCJ0cmFuc2l0aW9uLWRlbGF5XCIpO3ZhciBzPXRoaXMuZWxlbWVudF8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksaT1zLmhlaWdodCxuPXMud2lkdGg7dGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfQU5JTUFUSU5HKSx0aGlzLmFwcGx5Q2xpcF8oaSxuKSx0aGlzLmNvbnRhaW5lcl8uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNzc0NsYXNzZXNfLklTX1ZJU0lCTEUpLHRoaXMuYWRkQW5pbWF0aW9uRW5kTGlzdGVuZXJfKCl9fSxkLnByb3RvdHlwZS5oaWRlPWQucHJvdG90eXBlLmhpZGUsZC5wcm90b3R5cGUudG9nZ2xlPWZ1bmN0aW9uKGUpe3RoaXMuY29udGFpbmVyXy5jbGFzc0xpc3QuY29udGFpbnModGhpcy5Dc3NDbGFzc2VzXy5JU19WSVNJQkxFKT90aGlzLmhpZGUoKTp0aGlzLnNob3coZSl9LGQucHJvdG90eXBlLnRvZ2dsZT1kLnByb3RvdHlwZS50b2dnbGUscy5yZWdpc3Rlcih7Y29uc3RydWN0b3I6ZCxjbGFzc0FzU3RyaW5nOlwiTWF0ZXJpYWxNZW51XCIsY3NzQ2xhc3M6XCJtZGwtanMtbWVudVwiLHdpZGdldDohMH0pO3ZhciBoPWZ1bmN0aW9uKGUpe3RoaXMuZWxlbWVudF89ZSx0aGlzLmluaXQoKX07d2luZG93Lk1hdGVyaWFsUHJvZ3Jlc3M9aCxoLnByb3RvdHlwZS5Db25zdGFudF89e30saC5wcm90b3R5cGUuQ3NzQ2xhc3Nlc189e0lOREVURVJNSU5BVEVfQ0xBU1M6XCJtZGwtcHJvZ3Jlc3NfX2luZGV0ZXJtaW5hdGVcIn0saC5wcm90b3R5cGUuc2V0UHJvZ3Jlc3M9ZnVuY3Rpb24oZSl7dGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuY29udGFpbnModGhpcy5Dc3NDbGFzc2VzXy5JTkRFVEVSTUlOQVRFX0NMQVNTKXx8KHRoaXMucHJvZ3Jlc3NiYXJfLnN0eWxlLndpZHRoPWUrXCIlXCIpfSxoLnByb3RvdHlwZS5zZXRQcm9ncmVzcz1oLnByb3RvdHlwZS5zZXRQcm9ncmVzcyxoLnByb3RvdHlwZS5zZXRCdWZmZXI9ZnVuY3Rpb24oZSl7dGhpcy5idWZmZXJiYXJfLnN0eWxlLndpZHRoPWUrXCIlXCIsdGhpcy5hdXhiYXJfLnN0eWxlLndpZHRoPTEwMC1lK1wiJVwifSxoLnByb3RvdHlwZS5zZXRCdWZmZXI9aC5wcm90b3R5cGUuc2V0QnVmZmVyLGgucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXtpZih0aGlzLmVsZW1lbnRfKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2UuY2xhc3NOYW1lPVwicHJvZ3Jlc3NiYXIgYmFyIGJhcjFcIix0aGlzLmVsZW1lbnRfLmFwcGVuZENoaWxkKGUpLHRoaXMucHJvZ3Jlc3NiYXJfPWUsZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGUuY2xhc3NOYW1lPVwiYnVmZmVyYmFyIGJhciBiYXIyXCIsdGhpcy5lbGVtZW50Xy5hcHBlbmRDaGlsZChlKSx0aGlzLmJ1ZmZlcmJhcl89ZSxlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksZS5jbGFzc05hbWU9XCJhdXhiYXIgYmFyIGJhcjNcIix0aGlzLmVsZW1lbnRfLmFwcGVuZENoaWxkKGUpLHRoaXMuYXV4YmFyXz1lLHRoaXMucHJvZ3Jlc3NiYXJfLnN0eWxlLndpZHRoPVwiMCVcIix0aGlzLmJ1ZmZlcmJhcl8uc3R5bGUud2lkdGg9XCIxMDAlXCIsdGhpcy5hdXhiYXJfLnN0eWxlLndpZHRoPVwiMCVcIix0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5hZGQoXCJpcy11cGdyYWRlZFwiKX19LHMucmVnaXN0ZXIoe2NvbnN0cnVjdG9yOmgsY2xhc3NBc1N0cmluZzpcIk1hdGVyaWFsUHJvZ3Jlc3NcIixjc3NDbGFzczpcIm1kbC1qcy1wcm9ncmVzc1wiLHdpZGdldDohMH0pO3ZhciBjPWZ1bmN0aW9uKGUpe3RoaXMuZWxlbWVudF89ZSx0aGlzLmluaXQoKX07d2luZG93Lk1hdGVyaWFsUmFkaW89YyxjLnByb3RvdHlwZS5Db25zdGFudF89e1RJTllfVElNRU9VVDouMDAxfSxjLnByb3RvdHlwZS5Dc3NDbGFzc2VzXz17SVNfRk9DVVNFRDpcImlzLWZvY3VzZWRcIixJU19ESVNBQkxFRDpcImlzLWRpc2FibGVkXCIsSVNfQ0hFQ0tFRDpcImlzLWNoZWNrZWRcIixJU19VUEdSQURFRDpcImlzLXVwZ3JhZGVkXCIsSlNfUkFESU86XCJtZGwtanMtcmFkaW9cIixSQURJT19CVE46XCJtZGwtcmFkaW9fX2J1dHRvblwiLFJBRElPX09VVEVSX0NJUkNMRTpcIm1kbC1yYWRpb19fb3V0ZXItY2lyY2xlXCIsUkFESU9fSU5ORVJfQ0lSQ0xFOlwibWRsLXJhZGlvX19pbm5lci1jaXJjbGVcIixSSVBQTEVfRUZGRUNUOlwibWRsLWpzLXJpcHBsZS1lZmZlY3RcIixSSVBQTEVfSUdOT1JFX0VWRU5UUzpcIm1kbC1qcy1yaXBwbGUtZWZmZWN0LS1pZ25vcmUtZXZlbnRzXCIsUklQUExFX0NPTlRBSU5FUjpcIm1kbC1yYWRpb19fcmlwcGxlLWNvbnRhaW5lclwiLFJJUFBMRV9DRU5URVI6XCJtZGwtcmlwcGxlLS1jZW50ZXJcIixSSVBQTEU6XCJtZGwtcmlwcGxlXCJ9LGMucHJvdG90eXBlLm9uQ2hhbmdlXz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSh0aGlzLkNzc0NsYXNzZXNfLkpTX1JBRElPKSxzPTA7czx0Lmxlbmd0aDtzKyspe3ZhciBpPXRbc10ucXVlcnlTZWxlY3RvcihcIi5cIit0aGlzLkNzc0NsYXNzZXNfLlJBRElPX0JUTik7aS5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpPT09dGhpcy5idG5FbGVtZW50Xy5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpJiZ0W3NdLk1hdGVyaWFsUmFkaW8udXBkYXRlQ2xhc3Nlc18oKX19LGMucHJvdG90eXBlLm9uRm9jdXNfPWZ1bmN0aW9uKGUpe3RoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLklTX0ZPQ1VTRUQpfSxjLnByb3RvdHlwZS5vbkJsdXJfPWZ1bmN0aW9uKGUpe3RoaXMuZWxlbWVudF8uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNzc0NsYXNzZXNfLklTX0ZPQ1VTRUQpfSxjLnByb3RvdHlwZS5vbk1vdXNldXBfPWZ1bmN0aW9uKGUpe3RoaXMuYmx1cl8oKX0sYy5wcm90b3R5cGUudXBkYXRlQ2xhc3Nlc189ZnVuY3Rpb24oKXt0aGlzLmNoZWNrRGlzYWJsZWQoKSx0aGlzLmNoZWNrVG9nZ2xlU3RhdGUoKX0sYy5wcm90b3R5cGUuYmx1cl89ZnVuY3Rpb24oKXt3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe3RoaXMuYnRuRWxlbWVudF8uYmx1cigpfS5iaW5kKHRoaXMpLHRoaXMuQ29uc3RhbnRfLlRJTllfVElNRU9VVCl9LGMucHJvdG90eXBlLmNoZWNrRGlzYWJsZWQ9ZnVuY3Rpb24oKXt0aGlzLmJ0bkVsZW1lbnRfLmRpc2FibGVkP3RoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLklTX0RJU0FCTEVEKTp0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5Dc3NDbGFzc2VzXy5JU19ESVNBQkxFRCl9LGMucHJvdG90eXBlLmNoZWNrRGlzYWJsZWQ9Yy5wcm90b3R5cGUuY2hlY2tEaXNhYmxlZCxjLnByb3RvdHlwZS5jaGVja1RvZ2dsZVN0YXRlPWZ1bmN0aW9uKCl7dGhpcy5idG5FbGVtZW50Xy5jaGVja2VkP3RoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLklTX0NIRUNLRUQpOnRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNzc0NsYXNzZXNfLklTX0NIRUNLRUQpfSxjLnByb3RvdHlwZS5jaGVja1RvZ2dsZVN0YXRlPWMucHJvdG90eXBlLmNoZWNrVG9nZ2xlU3RhdGUsYy5wcm90b3R5cGUuZGlzYWJsZT1mdW5jdGlvbigpe3RoaXMuYnRuRWxlbWVudF8uZGlzYWJsZWQ9ITAsdGhpcy51cGRhdGVDbGFzc2VzXygpfSxjLnByb3RvdHlwZS5kaXNhYmxlPWMucHJvdG90eXBlLmRpc2FibGUsYy5wcm90b3R5cGUuZW5hYmxlPWZ1bmN0aW9uKCl7dGhpcy5idG5FbGVtZW50Xy5kaXNhYmxlZD0hMSx0aGlzLnVwZGF0ZUNsYXNzZXNfKCl9LGMucHJvdG90eXBlLmVuYWJsZT1jLnByb3RvdHlwZS5lbmFibGUsYy5wcm90b3R5cGUuY2hlY2s9ZnVuY3Rpb24oKXt0aGlzLmJ0bkVsZW1lbnRfLmNoZWNrZWQ9ITAsdGhpcy51cGRhdGVDbGFzc2VzXygpfSxjLnByb3RvdHlwZS5jaGVjaz1jLnByb3RvdHlwZS5jaGVjayxjLnByb3RvdHlwZS51bmNoZWNrPWZ1bmN0aW9uKCl7dGhpcy5idG5FbGVtZW50Xy5jaGVja2VkPSExLHRoaXMudXBkYXRlQ2xhc3Nlc18oKX0sYy5wcm90b3R5cGUudW5jaGVjaz1jLnByb3RvdHlwZS51bmNoZWNrLGMucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXtpZih0aGlzLmVsZW1lbnRfKXt0aGlzLmJ0bkVsZW1lbnRfPXRoaXMuZWxlbWVudF8ucXVlcnlTZWxlY3RvcihcIi5cIit0aGlzLkNzc0NsYXNzZXNfLlJBRElPX0JUTiksdGhpcy5ib3VuZENoYW5nZUhhbmRsZXJfPXRoaXMub25DaGFuZ2VfLmJpbmQodGhpcyksdGhpcy5ib3VuZEZvY3VzSGFuZGxlcl89dGhpcy5vbkNoYW5nZV8uYmluZCh0aGlzKSx0aGlzLmJvdW5kQmx1ckhhbmRsZXJfPXRoaXMub25CbHVyXy5iaW5kKHRoaXMpLHRoaXMuYm91bmRNb3VzZVVwSGFuZGxlcl89dGhpcy5vbk1vdXNldXBfLmJpbmQodGhpcyk7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7ZS5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uUkFESU9fT1VURVJfQ0lSQ0xFKTt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTt0LmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5SQURJT19JTk5FUl9DSVJDTEUpLHRoaXMuZWxlbWVudF8uYXBwZW5kQ2hpbGQoZSksdGhpcy5lbGVtZW50Xy5hcHBlbmRDaGlsZCh0KTt2YXIgcztpZih0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLkNzc0NsYXNzZXNfLlJJUFBMRV9FRkZFQ1QpKXt0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5SSVBQTEVfSUdOT1JFX0VWRU5UUykscz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKSxzLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5SSVBQTEVfQ09OVEFJTkVSKSxzLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5SSVBQTEVfRUZGRUNUKSxzLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5SSVBQTEVfQ0VOVEVSKSxzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsdGhpcy5ib3VuZE1vdXNlVXBIYW5kbGVyXyk7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7aS5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uUklQUExFKSxzLmFwcGVuZENoaWxkKGkpLHRoaXMuZWxlbWVudF8uYXBwZW5kQ2hpbGQocyl9dGhpcy5idG5FbGVtZW50Xy5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsdGhpcy5ib3VuZENoYW5nZUhhbmRsZXJfKSx0aGlzLmJ0bkVsZW1lbnRfLmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLHRoaXMuYm91bmRGb2N1c0hhbmRsZXJfKSx0aGlzLmJ0bkVsZW1lbnRfLmFkZEV2ZW50TGlzdGVuZXIoXCJibHVyXCIsdGhpcy5ib3VuZEJsdXJIYW5kbGVyXyksdGhpcy5lbGVtZW50Xy5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLHRoaXMuYm91bmRNb3VzZVVwSGFuZGxlcl8pLHRoaXMudXBkYXRlQ2xhc3Nlc18oKSx0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5JU19VUEdSQURFRCl9fSxzLnJlZ2lzdGVyKHtjb25zdHJ1Y3RvcjpjLGNsYXNzQXNTdHJpbmc6XCJNYXRlcmlhbFJhZGlvXCIsY3NzQ2xhc3M6XCJtZGwtanMtcmFkaW9cIix3aWRnZXQ6ITB9KTt2YXIgcD1mdW5jdGlvbihlKXt0aGlzLmVsZW1lbnRfPWUsdGhpcy5pc0lFXz13aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQsdGhpcy5pbml0KCl9O3dpbmRvdy5NYXRlcmlhbFNsaWRlcj1wLHAucHJvdG90eXBlLkNvbnN0YW50Xz17fSxwLnByb3RvdHlwZS5Dc3NDbGFzc2VzXz17SUVfQ09OVEFJTkVSOlwibWRsLXNsaWRlcl9faWUtY29udGFpbmVyXCIsU0xJREVSX0NPTlRBSU5FUjpcIm1kbC1zbGlkZXJfX2NvbnRhaW5lclwiLEJBQ0tHUk9VTkRfRkxFWDpcIm1kbC1zbGlkZXJfX2JhY2tncm91bmQtZmxleFwiLEJBQ0tHUk9VTkRfTE9XRVI6XCJtZGwtc2xpZGVyX19iYWNrZ3JvdW5kLWxvd2VyXCIsQkFDS0dST1VORF9VUFBFUjpcIm1kbC1zbGlkZXJfX2JhY2tncm91bmQtdXBwZXJcIixJU19MT1dFU1RfVkFMVUU6XCJpcy1sb3dlc3QtdmFsdWVcIixJU19VUEdSQURFRDpcImlzLXVwZ3JhZGVkXCJ9LHAucHJvdG90eXBlLm9uSW5wdXRfPWZ1bmN0aW9uKGUpe3RoaXMudXBkYXRlVmFsdWVTdHlsZXNfKCl9LHAucHJvdG90eXBlLm9uQ2hhbmdlXz1mdW5jdGlvbihlKXt0aGlzLnVwZGF0ZVZhbHVlU3R5bGVzXygpfSxwLnByb3RvdHlwZS5vbk1vdXNlVXBfPWZ1bmN0aW9uKGUpe2UudGFyZ2V0LmJsdXIoKX0scC5wcm90b3R5cGUub25Db250YWluZXJNb3VzZURvd25fPWZ1bmN0aW9uKGUpe2lmKGUudGFyZ2V0PT09dGhpcy5lbGVtZW50Xy5wYXJlbnRFbGVtZW50KXtlLnByZXZlbnREZWZhdWx0KCk7dmFyIHQ9bmV3IE1vdXNlRXZlbnQoXCJtb3VzZWRvd25cIix7dGFyZ2V0OmUudGFyZ2V0LGJ1dHRvbnM6ZS5idXR0b25zLGNsaWVudFg6ZS5jbGllbnRYLGNsaWVudFk6dGhpcy5lbGVtZW50Xy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS55fSk7dGhpcy5lbGVtZW50Xy5kaXNwYXRjaEV2ZW50KHQpfX0scC5wcm90b3R5cGUudXBkYXRlVmFsdWVTdHlsZXNfPWZ1bmN0aW9uKCl7dmFyIGU9KHRoaXMuZWxlbWVudF8udmFsdWUtdGhpcy5lbGVtZW50Xy5taW4pLyh0aGlzLmVsZW1lbnRfLm1heC10aGlzLmVsZW1lbnRfLm1pbik7MD09PWU/dGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfTE9XRVNUX1ZBTFVFKTp0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5Dc3NDbGFzc2VzXy5JU19MT1dFU1RfVkFMVUUpLHRoaXMuaXNJRV98fCh0aGlzLmJhY2tncm91bmRMb3dlcl8uc3R5bGUuZmxleD1lLHRoaXMuYmFja2dyb3VuZExvd2VyXy5zdHlsZS53ZWJraXRGbGV4PWUsdGhpcy5iYWNrZ3JvdW5kVXBwZXJfLnN0eWxlLmZsZXg9MS1lLHRoaXMuYmFja2dyb3VuZFVwcGVyXy5zdHlsZS53ZWJraXRGbGV4PTEtZSl9LHAucHJvdG90eXBlLmRpc2FibGU9ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnRfLmRpc2FibGVkPSEwfSxwLnByb3RvdHlwZS5kaXNhYmxlPXAucHJvdG90eXBlLmRpc2FibGUscC5wcm90b3R5cGUuZW5hYmxlPWZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50Xy5kaXNhYmxlZD0hMX0scC5wcm90b3R5cGUuZW5hYmxlPXAucHJvdG90eXBlLmVuYWJsZSxwLnByb3RvdHlwZS5jaGFuZ2U9ZnVuY3Rpb24oZSl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGUmJih0aGlzLmVsZW1lbnRfLnZhbHVlPWUpLHRoaXMudXBkYXRlVmFsdWVTdHlsZXNfKCl9LHAucHJvdG90eXBlLmNoYW5nZT1wLnByb3RvdHlwZS5jaGFuZ2UscC5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe2lmKHRoaXMuZWxlbWVudF8pe2lmKHRoaXMuaXNJRV8pe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ZS5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uSUVfQ09OVEFJTkVSKSx0aGlzLmVsZW1lbnRfLnBhcmVudEVsZW1lbnQuaW5zZXJ0QmVmb3JlKGUsdGhpcy5lbGVtZW50XyksdGhpcy5lbGVtZW50Xy5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKHRoaXMuZWxlbWVudF8pLGUuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50Xyl9ZWxzZXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3QuY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLlNMSURFUl9DT05UQUlORVIpLHRoaXMuZWxlbWVudF8ucGFyZW50RWxlbWVudC5pbnNlcnRCZWZvcmUodCx0aGlzLmVsZW1lbnRfKSx0aGlzLmVsZW1lbnRfLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQodGhpcy5lbGVtZW50XyksdC5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnRfKTt2YXIgcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3MuY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLkJBQ0tHUk9VTkRfRkxFWCksdC5hcHBlbmRDaGlsZChzKSx0aGlzLmJhY2tncm91bmRMb3dlcl89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLmJhY2tncm91bmRMb3dlcl8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLkJBQ0tHUk9VTkRfTE9XRVIpLHMuYXBwZW5kQ2hpbGQodGhpcy5iYWNrZ3JvdW5kTG93ZXJfKSx0aGlzLmJhY2tncm91bmRVcHBlcl89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLmJhY2tncm91bmRVcHBlcl8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLkJBQ0tHUk9VTkRfVVBQRVIpLHMuYXBwZW5kQ2hpbGQodGhpcy5iYWNrZ3JvdW5kVXBwZXJfKX10aGlzLmJvdW5kSW5wdXRIYW5kbGVyPXRoaXMub25JbnB1dF8uYmluZCh0aGlzKSx0aGlzLmJvdW5kQ2hhbmdlSGFuZGxlcj10aGlzLm9uQ2hhbmdlXy5iaW5kKHRoaXMpLHRoaXMuYm91bmRNb3VzZVVwSGFuZGxlcj10aGlzLm9uTW91c2VVcF8uYmluZCh0aGlzKSx0aGlzLmJvdW5kQ29udGFpbmVyTW91c2VEb3duSGFuZGxlcj10aGlzLm9uQ29udGFpbmVyTW91c2VEb3duXy5iaW5kKHRoaXMpLHRoaXMuZWxlbWVudF8uYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsdGhpcy5ib3VuZElucHV0SGFuZGxlciksdGhpcy5lbGVtZW50Xy5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsdGhpcy5ib3VuZENoYW5nZUhhbmRsZXIpLHRoaXMuZWxlbWVudF8uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIix0aGlzLmJvdW5kTW91c2VVcEhhbmRsZXIpLHRoaXMuZWxlbWVudF8ucGFyZW50RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsdGhpcy5ib3VuZENvbnRhaW5lck1vdXNlRG93bkhhbmRsZXIpLHRoaXMudXBkYXRlVmFsdWVTdHlsZXNfKCksdGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfVVBHUkFERUQpfX0scy5yZWdpc3Rlcih7Y29uc3RydWN0b3I6cCxjbGFzc0FzU3RyaW5nOlwiTWF0ZXJpYWxTbGlkZXJcIixjc3NDbGFzczpcIm1kbC1qcy1zbGlkZXJcIix3aWRnZXQ6ITB9KTt2YXIgQz1mdW5jdGlvbihlKXtpZih0aGlzLmVsZW1lbnRfPWUsdGhpcy50ZXh0RWxlbWVudF89dGhpcy5lbGVtZW50Xy5xdWVyeVNlbGVjdG9yKFwiLlwiK3RoaXMuY3NzQ2xhc3Nlc18uTUVTU0FHRSksdGhpcy5hY3Rpb25FbGVtZW50Xz10aGlzLmVsZW1lbnRfLnF1ZXJ5U2VsZWN0b3IoXCIuXCIrdGhpcy5jc3NDbGFzc2VzXy5BQ1RJT04pLCF0aGlzLnRleHRFbGVtZW50Xyl0aHJvdyBuZXcgRXJyb3IoXCJUaGVyZSBtdXN0IGJlIGEgbWVzc2FnZSBlbGVtZW50IGZvciBhIHNuYWNrYmFyLlwiKTtpZighdGhpcy5hY3Rpb25FbGVtZW50Xyl0aHJvdyBuZXcgRXJyb3IoXCJUaGVyZSBtdXN0IGJlIGFuIGFjdGlvbiBlbGVtZW50IGZvciBhIHNuYWNrYmFyLlwiKTt0aGlzLmFjdGl2ZT0hMSx0aGlzLmFjdGlvbkhhbmRsZXJfPXZvaWQgMCx0aGlzLm1lc3NhZ2VfPXZvaWQgMCx0aGlzLmFjdGlvblRleHRfPXZvaWQgMCx0aGlzLnF1ZXVlZE5vdGlmaWNhdGlvbnNfPVtdLHRoaXMuc2V0QWN0aW9uSGlkZGVuXyghMCl9O3dpbmRvdy5NYXRlcmlhbFNuYWNrYmFyPUMsQy5wcm90b3R5cGUuQ29uc3RhbnRfPXtBTklNQVRJT05fTEVOR1RIOjI1MH0sQy5wcm90b3R5cGUuY3NzQ2xhc3Nlc189e1NOQUNLQkFSOlwibWRsLXNuYWNrYmFyXCIsTUVTU0FHRTpcIm1kbC1zbmFja2Jhcl9fdGV4dFwiLEFDVElPTjpcIm1kbC1zbmFja2Jhcl9fYWN0aW9uXCIsQUNUSVZFOlwibWRsLXNuYWNrYmFyLS1hY3RpdmVcIn0sQy5wcm90b3R5cGUuZGlzcGxheVNuYWNrYmFyXz1mdW5jdGlvbigpe3RoaXMuZWxlbWVudF8uc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIixcInRydWVcIiksdGhpcy5hY3Rpb25IYW5kbGVyXyYmKHRoaXMuYWN0aW9uRWxlbWVudF8udGV4dENvbnRlbnQ9dGhpcy5hY3Rpb25UZXh0XyxcclxudGhpcy5hY3Rpb25FbGVtZW50Xy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLmFjdGlvbkhhbmRsZXJfKSx0aGlzLnNldEFjdGlvbkhpZGRlbl8oITEpKSx0aGlzLnRleHRFbGVtZW50Xy50ZXh0Q29udGVudD10aGlzLm1lc3NhZ2VfLHRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmFkZCh0aGlzLmNzc0NsYXNzZXNfLkFDVElWRSksdGhpcy5lbGVtZW50Xy5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLFwiZmFsc2VcIiksc2V0VGltZW91dCh0aGlzLmNsZWFudXBfLmJpbmQodGhpcyksdGhpcy50aW1lb3V0Xyl9LEMucHJvdG90eXBlLnNob3dTbmFja2Jhcj1mdW5jdGlvbihlKXtpZih2b2lkIDA9PT1lKXRocm93IG5ldyBFcnJvcihcIlBsZWFzZSBwcm92aWRlIGEgZGF0YSBvYmplY3Qgd2l0aCBhdCBsZWFzdCBhIG1lc3NhZ2UgdG8gZGlzcGxheS5cIik7aWYodm9pZCAwPT09ZS5tZXNzYWdlKXRocm93IG5ldyBFcnJvcihcIlBsZWFzZSBwcm92aWRlIGEgbWVzc2FnZSB0byBiZSBkaXNwbGF5ZWQuXCIpO2lmKGUuYWN0aW9uSGFuZGxlciYmIWUuYWN0aW9uVGV4dCl0aHJvdyBuZXcgRXJyb3IoXCJQbGVhc2UgcHJvdmlkZSBhY3Rpb24gdGV4dCB3aXRoIHRoZSBoYW5kbGVyLlwiKTt0aGlzLmFjdGl2ZT90aGlzLnF1ZXVlZE5vdGlmaWNhdGlvbnNfLnB1c2goZSk6KHRoaXMuYWN0aXZlPSEwLHRoaXMubWVzc2FnZV89ZS5tZXNzYWdlLGUudGltZW91dD90aGlzLnRpbWVvdXRfPWUudGltZW91dDp0aGlzLnRpbWVvdXRfPTI3NTAsZS5hY3Rpb25IYW5kbGVyJiYodGhpcy5hY3Rpb25IYW5kbGVyXz1lLmFjdGlvbkhhbmRsZXIpLGUuYWN0aW9uVGV4dCYmKHRoaXMuYWN0aW9uVGV4dF89ZS5hY3Rpb25UZXh0KSx0aGlzLmRpc3BsYXlTbmFja2Jhcl8oKSl9LEMucHJvdG90eXBlLnNob3dTbmFja2Jhcj1DLnByb3RvdHlwZS5zaG93U25hY2tiYXIsQy5wcm90b3R5cGUuY2hlY2tRdWV1ZV89ZnVuY3Rpb24oKXt0aGlzLnF1ZXVlZE5vdGlmaWNhdGlvbnNfLmxlbmd0aD4wJiZ0aGlzLnNob3dTbmFja2Jhcih0aGlzLnF1ZXVlZE5vdGlmaWNhdGlvbnNfLnNoaWZ0KCkpfSxDLnByb3RvdHlwZS5jbGVhbnVwXz1mdW5jdGlvbigpe3RoaXMuZWxlbWVudF8uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmNzc0NsYXNzZXNfLkFDVElWRSksc2V0VGltZW91dChmdW5jdGlvbigpe3RoaXMuZWxlbWVudF8uc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIixcInRydWVcIiksdGhpcy50ZXh0RWxlbWVudF8udGV4dENvbnRlbnQ9XCJcIixCb29sZWFuKHRoaXMuYWN0aW9uRWxlbWVudF8uZ2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIikpfHwodGhpcy5zZXRBY3Rpb25IaWRkZW5fKCEwKSx0aGlzLmFjdGlvbkVsZW1lbnRfLnRleHRDb250ZW50PVwiXCIsdGhpcy5hY3Rpb25FbGVtZW50Xy5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLmFjdGlvbkhhbmRsZXJfKSksdGhpcy5hY3Rpb25IYW5kbGVyXz12b2lkIDAsdGhpcy5tZXNzYWdlXz12b2lkIDAsdGhpcy5hY3Rpb25UZXh0Xz12b2lkIDAsdGhpcy5hY3RpdmU9ITEsdGhpcy5jaGVja1F1ZXVlXygpfS5iaW5kKHRoaXMpLHRoaXMuQ29uc3RhbnRfLkFOSU1BVElPTl9MRU5HVEgpfSxDLnByb3RvdHlwZS5zZXRBY3Rpb25IaWRkZW5fPWZ1bmN0aW9uKGUpe2U/dGhpcy5hY3Rpb25FbGVtZW50Xy5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLFwidHJ1ZVwiKTp0aGlzLmFjdGlvbkVsZW1lbnRfLnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIpfSxzLnJlZ2lzdGVyKHtjb25zdHJ1Y3RvcjpDLGNsYXNzQXNTdHJpbmc6XCJNYXRlcmlhbFNuYWNrYmFyXCIsY3NzQ2xhc3M6XCJtZGwtanMtc25hY2tiYXJcIix3aWRnZXQ6ITB9KTt2YXIgdT1mdW5jdGlvbihlKXt0aGlzLmVsZW1lbnRfPWUsdGhpcy5pbml0KCl9O3dpbmRvdy5NYXRlcmlhbFNwaW5uZXI9dSx1LnByb3RvdHlwZS5Db25zdGFudF89e01ETF9TUElOTkVSX0xBWUVSX0NPVU5UOjR9LHUucHJvdG90eXBlLkNzc0NsYXNzZXNfPXtNRExfU1BJTk5FUl9MQVlFUjpcIm1kbC1zcGlubmVyX19sYXllclwiLE1ETF9TUElOTkVSX0NJUkNMRV9DTElQUEVSOlwibWRsLXNwaW5uZXJfX2NpcmNsZS1jbGlwcGVyXCIsTURMX1NQSU5ORVJfQ0lSQ0xFOlwibWRsLXNwaW5uZXJfX2NpcmNsZVwiLE1ETF9TUElOTkVSX0dBUF9QQVRDSDpcIm1kbC1zcGlubmVyX19nYXAtcGF0Y2hcIixNRExfU1BJTk5FUl9MRUZUOlwibWRsLXNwaW5uZXJfX2xlZnRcIixNRExfU1BJTk5FUl9SSUdIVDpcIm1kbC1zcGlubmVyX19yaWdodFwifSx1LnByb3RvdHlwZS5jcmVhdGVMYXllcj1mdW5jdGlvbihlKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3QuY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLk1ETF9TUElOTkVSX0xBWUVSKSx0LmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5NRExfU1BJTk5FUl9MQVlFUitcIi1cIitlKTt2YXIgcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3MuY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLk1ETF9TUElOTkVSX0NJUkNMRV9DTElQUEVSKSxzLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5NRExfU1BJTk5FUl9MRUZUKTt2YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2kuY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLk1ETF9TUElOTkVSX0dBUF9QQVRDSCk7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtuLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5NRExfU1BJTk5FUl9DSVJDTEVfQ0xJUFBFUiksbi5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uTURMX1NQSU5ORVJfUklHSFQpO2Zvcih2YXIgYT1bcyxpLG5dLGw9MDtsPGEubGVuZ3RoO2wrKyl7dmFyIG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtvLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5NRExfU1BJTk5FUl9DSVJDTEUpLGFbbF0uYXBwZW5kQ2hpbGQobyl9dC5hcHBlbmRDaGlsZChzKSx0LmFwcGVuZENoaWxkKGkpLHQuYXBwZW5kQ2hpbGQobiksdGhpcy5lbGVtZW50Xy5hcHBlbmRDaGlsZCh0KX0sdS5wcm90b3R5cGUuY3JlYXRlTGF5ZXI9dS5wcm90b3R5cGUuY3JlYXRlTGF5ZXIsdS5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3RoaXMuZWxlbWVudF8uY2xhc3NMaXN0LnJlbW92ZShcImlzLWFjdGl2ZVwiKX0sdS5wcm90b3R5cGUuc3RvcD11LnByb3RvdHlwZS5zdG9wLHUucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuYWRkKFwiaXMtYWN0aXZlXCIpfSx1LnByb3RvdHlwZS5zdGFydD11LnByb3RvdHlwZS5zdGFydCx1LnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7aWYodGhpcy5lbGVtZW50Xyl7Zm9yKHZhciBlPTE7ZTw9dGhpcy5Db25zdGFudF8uTURMX1NQSU5ORVJfTEFZRVJfQ09VTlQ7ZSsrKXRoaXMuY3JlYXRlTGF5ZXIoZSk7dGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuYWRkKFwiaXMtdXBncmFkZWRcIil9fSxzLnJlZ2lzdGVyKHtjb25zdHJ1Y3Rvcjp1LGNsYXNzQXNTdHJpbmc6XCJNYXRlcmlhbFNwaW5uZXJcIixjc3NDbGFzczpcIm1kbC1qcy1zcGlubmVyXCIsd2lkZ2V0OiEwfSk7dmFyIEU9ZnVuY3Rpb24oZSl7dGhpcy5lbGVtZW50Xz1lLHRoaXMuaW5pdCgpfTt3aW5kb3cuTWF0ZXJpYWxTd2l0Y2g9RSxFLnByb3RvdHlwZS5Db25zdGFudF89e1RJTllfVElNRU9VVDouMDAxfSxFLnByb3RvdHlwZS5Dc3NDbGFzc2VzXz17SU5QVVQ6XCJtZGwtc3dpdGNoX19pbnB1dFwiLFRSQUNLOlwibWRsLXN3aXRjaF9fdHJhY2tcIixUSFVNQjpcIm1kbC1zd2l0Y2hfX3RodW1iXCIsRk9DVVNfSEVMUEVSOlwibWRsLXN3aXRjaF9fZm9jdXMtaGVscGVyXCIsUklQUExFX0VGRkVDVDpcIm1kbC1qcy1yaXBwbGUtZWZmZWN0XCIsUklQUExFX0lHTk9SRV9FVkVOVFM6XCJtZGwtanMtcmlwcGxlLWVmZmVjdC0taWdub3JlLWV2ZW50c1wiLFJJUFBMRV9DT05UQUlORVI6XCJtZGwtc3dpdGNoX19yaXBwbGUtY29udGFpbmVyXCIsUklQUExFX0NFTlRFUjpcIm1kbC1yaXBwbGUtLWNlbnRlclwiLFJJUFBMRTpcIm1kbC1yaXBwbGVcIixJU19GT0NVU0VEOlwiaXMtZm9jdXNlZFwiLElTX0RJU0FCTEVEOlwiaXMtZGlzYWJsZWRcIixJU19DSEVDS0VEOlwiaXMtY2hlY2tlZFwifSxFLnByb3RvdHlwZS5vbkNoYW5nZV89ZnVuY3Rpb24oZSl7dGhpcy51cGRhdGVDbGFzc2VzXygpfSxFLnByb3RvdHlwZS5vbkZvY3VzXz1mdW5jdGlvbihlKXt0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5JU19GT0NVU0VEKX0sRS5wcm90b3R5cGUub25CbHVyXz1mdW5jdGlvbihlKXt0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5Dc3NDbGFzc2VzXy5JU19GT0NVU0VEKX0sRS5wcm90b3R5cGUub25Nb3VzZVVwXz1mdW5jdGlvbihlKXt0aGlzLmJsdXJfKCl9LEUucHJvdG90eXBlLnVwZGF0ZUNsYXNzZXNfPWZ1bmN0aW9uKCl7dGhpcy5jaGVja0Rpc2FibGVkKCksdGhpcy5jaGVja1RvZ2dsZVN0YXRlKCl9LEUucHJvdG90eXBlLmJsdXJfPWZ1bmN0aW9uKCl7d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGlzLmlucHV0RWxlbWVudF8uYmx1cigpfS5iaW5kKHRoaXMpLHRoaXMuQ29uc3RhbnRfLlRJTllfVElNRU9VVCl9LEUucHJvdG90eXBlLmNoZWNrRGlzYWJsZWQ9ZnVuY3Rpb24oKXt0aGlzLmlucHV0RWxlbWVudF8uZGlzYWJsZWQ/dGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfRElTQUJMRUQpOnRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNzc0NsYXNzZXNfLklTX0RJU0FCTEVEKX0sRS5wcm90b3R5cGUuY2hlY2tEaXNhYmxlZD1FLnByb3RvdHlwZS5jaGVja0Rpc2FibGVkLEUucHJvdG90eXBlLmNoZWNrVG9nZ2xlU3RhdGU9ZnVuY3Rpb24oKXt0aGlzLmlucHV0RWxlbWVudF8uY2hlY2tlZD90aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5JU19DSEVDS0VEKTp0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5Dc3NDbGFzc2VzXy5JU19DSEVDS0VEKX0sRS5wcm90b3R5cGUuY2hlY2tUb2dnbGVTdGF0ZT1FLnByb3RvdHlwZS5jaGVja1RvZ2dsZVN0YXRlLEUucHJvdG90eXBlLmRpc2FibGU9ZnVuY3Rpb24oKXt0aGlzLmlucHV0RWxlbWVudF8uZGlzYWJsZWQ9ITAsdGhpcy51cGRhdGVDbGFzc2VzXygpfSxFLnByb3RvdHlwZS5kaXNhYmxlPUUucHJvdG90eXBlLmRpc2FibGUsRS5wcm90b3R5cGUuZW5hYmxlPWZ1bmN0aW9uKCl7dGhpcy5pbnB1dEVsZW1lbnRfLmRpc2FibGVkPSExLHRoaXMudXBkYXRlQ2xhc3Nlc18oKX0sRS5wcm90b3R5cGUuZW5hYmxlPUUucHJvdG90eXBlLmVuYWJsZSxFLnByb3RvdHlwZS5vbj1mdW5jdGlvbigpe3RoaXMuaW5wdXRFbGVtZW50Xy5jaGVja2VkPSEwLHRoaXMudXBkYXRlQ2xhc3Nlc18oKX0sRS5wcm90b3R5cGUub249RS5wcm90b3R5cGUub24sRS5wcm90b3R5cGUub2ZmPWZ1bmN0aW9uKCl7dGhpcy5pbnB1dEVsZW1lbnRfLmNoZWNrZWQ9ITEsdGhpcy51cGRhdGVDbGFzc2VzXygpfSxFLnByb3RvdHlwZS5vZmY9RS5wcm90b3R5cGUub2ZmLEUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXtpZih0aGlzLmVsZW1lbnRfKXt0aGlzLmlucHV0RWxlbWVudF89dGhpcy5lbGVtZW50Xy5xdWVyeVNlbGVjdG9yKFwiLlwiK3RoaXMuQ3NzQ2xhc3Nlc18uSU5QVVQpO3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ZS5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uVFJBQ0spO3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dC5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uVEhVTUIpO3ZhciBzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO2lmKHMuY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLkZPQ1VTX0hFTFBFUiksdC5hcHBlbmRDaGlsZChzKSx0aGlzLmVsZW1lbnRfLmFwcGVuZENoaWxkKGUpLHRoaXMuZWxlbWVudF8uYXBwZW5kQ2hpbGQodCksdGhpcy5ib3VuZE1vdXNlVXBIYW5kbGVyPXRoaXMub25Nb3VzZVVwXy5iaW5kKHRoaXMpLHRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuQ3NzQ2xhc3Nlc18uUklQUExFX0VGRkVDVCkpe3RoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLlJJUFBMRV9JR05PUkVfRVZFTlRTKSx0aGlzLnJpcHBsZUNvbnRhaW5lckVsZW1lbnRfPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpLHRoaXMucmlwcGxlQ29udGFpbmVyRWxlbWVudF8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLlJJUFBMRV9DT05UQUlORVIpLHRoaXMucmlwcGxlQ29udGFpbmVyRWxlbWVudF8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLlJJUFBMRV9FRkZFQ1QpLHRoaXMucmlwcGxlQ29udGFpbmVyRWxlbWVudF8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLlJJUFBMRV9DRU5URVIpLHRoaXMucmlwcGxlQ29udGFpbmVyRWxlbWVudF8uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIix0aGlzLmJvdW5kTW91c2VVcEhhbmRsZXIpO3ZhciBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO2kuY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLlJJUFBMRSksdGhpcy5yaXBwbGVDb250YWluZXJFbGVtZW50Xy5hcHBlbmRDaGlsZChpKSx0aGlzLmVsZW1lbnRfLmFwcGVuZENoaWxkKHRoaXMucmlwcGxlQ29udGFpbmVyRWxlbWVudF8pfXRoaXMuYm91bmRDaGFuZ2VIYW5kbGVyPXRoaXMub25DaGFuZ2VfLmJpbmQodGhpcyksdGhpcy5ib3VuZEZvY3VzSGFuZGxlcj10aGlzLm9uRm9jdXNfLmJpbmQodGhpcyksdGhpcy5ib3VuZEJsdXJIYW5kbGVyPXRoaXMub25CbHVyXy5iaW5kKHRoaXMpLHRoaXMuaW5wdXRFbGVtZW50Xy5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsdGhpcy5ib3VuZENoYW5nZUhhbmRsZXIpLHRoaXMuaW5wdXRFbGVtZW50Xy5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNcIix0aGlzLmJvdW5kRm9jdXNIYW5kbGVyKSx0aGlzLmlucHV0RWxlbWVudF8uYWRkRXZlbnRMaXN0ZW5lcihcImJsdXJcIix0aGlzLmJvdW5kQmx1ckhhbmRsZXIpLHRoaXMuZWxlbWVudF8uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIix0aGlzLmJvdW5kTW91c2VVcEhhbmRsZXIpLHRoaXMudXBkYXRlQ2xhc3Nlc18oKSx0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5hZGQoXCJpcy11cGdyYWRlZFwiKX19LHMucmVnaXN0ZXIoe2NvbnN0cnVjdG9yOkUsY2xhc3NBc1N0cmluZzpcIk1hdGVyaWFsU3dpdGNoXCIsY3NzQ2xhc3M6XCJtZGwtanMtc3dpdGNoXCIsd2lkZ2V0OiEwfSk7dmFyIG09ZnVuY3Rpb24oZSl7dGhpcy5lbGVtZW50Xz1lLHRoaXMuaW5pdCgpfTt3aW5kb3cuTWF0ZXJpYWxUYWJzPW0sbS5wcm90b3R5cGUuQ29uc3RhbnRfPXt9LG0ucHJvdG90eXBlLkNzc0NsYXNzZXNfPXtUQUJfQ0xBU1M6XCJtZGwtdGFic19fdGFiXCIsUEFORUxfQ0xBU1M6XCJtZGwtdGFic19fcGFuZWxcIixBQ1RJVkVfQ0xBU1M6XCJpcy1hY3RpdmVcIixVUEdSQURFRF9DTEFTUzpcImlzLXVwZ3JhZGVkXCIsTURMX0pTX1JJUFBMRV9FRkZFQ1Q6XCJtZGwtanMtcmlwcGxlLWVmZmVjdFwiLE1ETF9SSVBQTEVfQ09OVEFJTkVSOlwibWRsLXRhYnNfX3JpcHBsZS1jb250YWluZXJcIixNRExfUklQUExFOlwibWRsLXJpcHBsZVwiLE1ETF9KU19SSVBQTEVfRUZGRUNUX0lHTk9SRV9FVkVOVFM6XCJtZGwtanMtcmlwcGxlLWVmZmVjdC0taWdub3JlLWV2ZW50c1wifSxtLnByb3RvdHlwZS5pbml0VGFic189ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLkNzc0NsYXNzZXNfLk1ETF9KU19SSVBQTEVfRUZGRUNUKSYmdGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uTURMX0pTX1JJUFBMRV9FRkZFQ1RfSUdOT1JFX0VWRU5UUyksdGhpcy50YWJzXz10aGlzLmVsZW1lbnRfLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuXCIrdGhpcy5Dc3NDbGFzc2VzXy5UQUJfQ0xBU1MpLHRoaXMucGFuZWxzXz10aGlzLmVsZW1lbnRfLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuXCIrdGhpcy5Dc3NDbGFzc2VzXy5QQU5FTF9DTEFTUyk7Zm9yKHZhciB0PTA7dDx0aGlzLnRhYnNfLmxlbmd0aDt0KyspbmV3IGUodGhpcy50YWJzX1t0XSx0aGlzKTt0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5VUEdSQURFRF9DTEFTUyl9LG0ucHJvdG90eXBlLnJlc2V0VGFiU3RhdGVfPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPTA7ZTx0aGlzLnRhYnNfLmxlbmd0aDtlKyspdGhpcy50YWJzX1tlXS5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ3NzQ2xhc3Nlc18uQUNUSVZFX0NMQVNTKX0sbS5wcm90b3R5cGUucmVzZXRQYW5lbFN0YXRlXz1mdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8dGhpcy5wYW5lbHNfLmxlbmd0aDtlKyspdGhpcy5wYW5lbHNfW2VdLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5Dc3NDbGFzc2VzXy5BQ1RJVkVfQ0xBU1MpfSxtLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50XyYmdGhpcy5pbml0VGFic18oKX0scy5yZWdpc3Rlcih7Y29uc3RydWN0b3I6bSxjbGFzc0FzU3RyaW5nOlwiTWF0ZXJpYWxUYWJzXCIsY3NzQ2xhc3M6XCJtZGwtanMtdGFic1wifSk7dmFyIEw9ZnVuY3Rpb24oZSl7dGhpcy5lbGVtZW50Xz1lLHRoaXMubWF4Um93cz10aGlzLkNvbnN0YW50Xy5OT19NQVhfUk9XUyx0aGlzLmluaXQoKX07d2luZG93Lk1hdGVyaWFsVGV4dGZpZWxkPUwsTC5wcm90b3R5cGUuQ29uc3RhbnRfPXtOT19NQVhfUk9XUzotMSxNQVhfUk9XU19BVFRSSUJVVEU6XCJtYXhyb3dzXCJ9LEwucHJvdG90eXBlLkNzc0NsYXNzZXNfPXtMQUJFTDpcIm1kbC10ZXh0ZmllbGRfX2xhYmVsXCIsSU5QVVQ6XCJtZGwtdGV4dGZpZWxkX19pbnB1dFwiLElTX0RJUlRZOlwiaXMtZGlydHlcIixJU19GT0NVU0VEOlwiaXMtZm9jdXNlZFwiLElTX0RJU0FCTEVEOlwiaXMtZGlzYWJsZWRcIixJU19JTlZBTElEOlwiaXMtaW52YWxpZFwiLElTX1VQR1JBREVEOlwiaXMtdXBncmFkZWRcIn0sTC5wcm90b3R5cGUub25LZXlEb3duXz1mdW5jdGlvbihlKXt2YXIgdD1lLnRhcmdldC52YWx1ZS5zcGxpdChcIlxcblwiKS5sZW5ndGg7MTM9PT1lLmtleUNvZGUmJnQ+PXRoaXMubWF4Um93cyYmZS5wcmV2ZW50RGVmYXVsdCgpfSxMLnByb3RvdHlwZS5vbkZvY3VzXz1mdW5jdGlvbihlKXt0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5JU19GT0NVU0VEKX0sTC5wcm90b3R5cGUub25CbHVyXz1mdW5jdGlvbihlKXt0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5Dc3NDbGFzc2VzXy5JU19GT0NVU0VEKX0sTC5wcm90b3R5cGUub25SZXNldF89ZnVuY3Rpb24oZSl7dGhpcy51cGRhdGVDbGFzc2VzXygpfSxMLnByb3RvdHlwZS51cGRhdGVDbGFzc2VzXz1mdW5jdGlvbigpe3RoaXMuY2hlY2tEaXNhYmxlZCgpLHRoaXMuY2hlY2tWYWxpZGl0eSgpLHRoaXMuY2hlY2tEaXJ0eSgpLHRoaXMuY2hlY2tGb2N1cygpfSxMLnByb3RvdHlwZS5jaGVja0Rpc2FibGVkPWZ1bmN0aW9uKCl7dGhpcy5pbnB1dF8uZGlzYWJsZWQ/dGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfRElTQUJMRUQpOnRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNzc0NsYXNzZXNfLklTX0RJU0FCTEVEKX0sTC5wcm90b3R5cGUuY2hlY2tEaXNhYmxlZD1MLnByb3RvdHlwZS5jaGVja0Rpc2FibGVkLEwucHJvdG90eXBlLmNoZWNrRm9jdXM9ZnVuY3Rpb24oKXtCb29sZWFuKHRoaXMuZWxlbWVudF8ucXVlcnlTZWxlY3RvcihcIjpmb2N1c1wiKSk/dGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfRk9DVVNFRCk6dGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfRk9DVVNFRCl9LEwucHJvdG90eXBlLmNoZWNrRm9jdXM9TC5wcm90b3R5cGUuY2hlY2tGb2N1cyxMLnByb3RvdHlwZS5jaGVja1ZhbGlkaXR5PWZ1bmN0aW9uKCl7dGhpcy5pbnB1dF8udmFsaWRpdHkmJih0aGlzLmlucHV0Xy52YWxpZGl0eS52YWxpZD90aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5Dc3NDbGFzc2VzXy5JU19JTlZBTElEKTp0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5JU19JTlZBTElEKSl9LEwucHJvdG90eXBlLmNoZWNrVmFsaWRpdHk9TC5wcm90b3R5cGUuY2hlY2tWYWxpZGl0eSxMLnByb3RvdHlwZS5jaGVja0RpcnR5PWZ1bmN0aW9uKCl7dGhpcy5pbnB1dF8udmFsdWUmJnRoaXMuaW5wdXRfLnZhbHVlLmxlbmd0aD4wP3RoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLklTX0RJUlRZKTp0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5Dc3NDbGFzc2VzXy5JU19ESVJUWSl9LEwucHJvdG90eXBlLmNoZWNrRGlydHk9TC5wcm90b3R5cGUuY2hlY2tEaXJ0eSxMLnByb3RvdHlwZS5kaXNhYmxlPWZ1bmN0aW9uKCl7dGhpcy5pbnB1dF8uZGlzYWJsZWQ9ITAsdGhpcy51cGRhdGVDbGFzc2VzXygpfSxMLnByb3RvdHlwZS5kaXNhYmxlPUwucHJvdG90eXBlLmRpc2FibGUsTC5wcm90b3R5cGUuZW5hYmxlPWZ1bmN0aW9uKCl7dGhpcy5pbnB1dF8uZGlzYWJsZWQ9ITEsdGhpcy51cGRhdGVDbGFzc2VzXygpfSxMLnByb3RvdHlwZS5lbmFibGU9TC5wcm90b3R5cGUuZW5hYmxlLEwucHJvdG90eXBlLmNoYW5nZT1mdW5jdGlvbihlKXt0aGlzLmlucHV0Xy52YWx1ZT1lfHxcIlwiLHRoaXMudXBkYXRlQ2xhc3Nlc18oKX0sTC5wcm90b3R5cGUuY2hhbmdlPUwucHJvdG90eXBlLmNoYW5nZSxMLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7aWYodGhpcy5lbGVtZW50XyYmKHRoaXMubGFiZWxfPXRoaXMuZWxlbWVudF8ucXVlcnlTZWxlY3RvcihcIi5cIit0aGlzLkNzc0NsYXNzZXNfLkxBQkVMKSx0aGlzLmlucHV0Xz10aGlzLmVsZW1lbnRfLnF1ZXJ5U2VsZWN0b3IoXCIuXCIrdGhpcy5Dc3NDbGFzc2VzXy5JTlBVVCksdGhpcy5pbnB1dF8pKXt0aGlzLmlucHV0Xy5oYXNBdHRyaWJ1dGUodGhpcy5Db25zdGFudF8uTUFYX1JPV1NfQVRUUklCVVRFKSYmKHRoaXMubWF4Um93cz1wYXJzZUludCh0aGlzLmlucHV0Xy5nZXRBdHRyaWJ1dGUodGhpcy5Db25zdGFudF8uTUFYX1JPV1NfQVRUUklCVVRFKSwxMCksaXNOYU4odGhpcy5tYXhSb3dzKSYmKHRoaXMubWF4Um93cz10aGlzLkNvbnN0YW50Xy5OT19NQVhfUk9XUykpLHRoaXMuYm91bmRVcGRhdGVDbGFzc2VzSGFuZGxlcj10aGlzLnVwZGF0ZUNsYXNzZXNfLmJpbmQodGhpcyksdGhpcy5ib3VuZEZvY3VzSGFuZGxlcj10aGlzLm9uRm9jdXNfLmJpbmQodGhpcyksdGhpcy5ib3VuZEJsdXJIYW5kbGVyPXRoaXMub25CbHVyXy5iaW5kKHRoaXMpLHRoaXMuYm91bmRSZXNldEhhbmRsZXI9dGhpcy5vblJlc2V0Xy5iaW5kKHRoaXMpLHRoaXMuaW5wdXRfLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLHRoaXMuYm91bmRVcGRhdGVDbGFzc2VzSGFuZGxlciksdGhpcy5pbnB1dF8uYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsdGhpcy5ib3VuZEZvY3VzSGFuZGxlciksdGhpcy5pbnB1dF8uYWRkRXZlbnRMaXN0ZW5lcihcImJsdXJcIix0aGlzLmJvdW5kQmx1ckhhbmRsZXIpLHRoaXMuaW5wdXRfLmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNldFwiLHRoaXMuYm91bmRSZXNldEhhbmRsZXIpLHRoaXMubWF4Um93cyE9PXRoaXMuQ29uc3RhbnRfLk5PX01BWF9ST1dTJiYodGhpcy5ib3VuZEtleURvd25IYW5kbGVyPXRoaXMub25LZXlEb3duXy5iaW5kKHRoaXMpLHRoaXMuaW5wdXRfLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsdGhpcy5ib3VuZEtleURvd25IYW5kbGVyKSk7dmFyIGU9dGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuY29udGFpbnModGhpcy5Dc3NDbGFzc2VzXy5JU19JTlZBTElEKTt0aGlzLnVwZGF0ZUNsYXNzZXNfKCksdGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfVVBHUkFERUQpLGUmJnRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLklTX0lOVkFMSUQpLHRoaXMuaW5wdXRfLmhhc0F0dHJpYnV0ZShcImF1dG9mb2N1c1wiKSYmKHRoaXMuZWxlbWVudF8uZm9jdXMoKSx0aGlzLmNoZWNrRm9jdXMoKSl9fSxzLnJlZ2lzdGVyKHtjb25zdHJ1Y3RvcjpMLGNsYXNzQXNTdHJpbmc6XCJNYXRlcmlhbFRleHRmaWVsZFwiLGNzc0NsYXNzOlwibWRsLWpzLXRleHRmaWVsZFwiLHdpZGdldDohMH0pO3ZhciBJPWZ1bmN0aW9uKGUpe3RoaXMuZWxlbWVudF89ZSx0aGlzLmluaXQoKX07d2luZG93Lk1hdGVyaWFsVG9vbHRpcD1JLEkucHJvdG90eXBlLkNvbnN0YW50Xz17fSxJLnByb3RvdHlwZS5Dc3NDbGFzc2VzXz17SVNfQUNUSVZFOlwiaXMtYWN0aXZlXCIsQk9UVE9NOlwibWRsLXRvb2x0aXAtLWJvdHRvbVwiLExFRlQ6XCJtZGwtdG9vbHRpcC0tbGVmdFwiLFJJR0hUOlwibWRsLXRvb2x0aXAtLXJpZ2h0XCIsVE9QOlwibWRsLXRvb2x0aXAtLXRvcFwifSxJLnByb3RvdHlwZS5oYW5kbGVNb3VzZUVudGVyXz1mdW5jdGlvbihlKXt2YXIgdD1lLnRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxzPXQubGVmdCt0LndpZHRoLzIsaT10LnRvcCt0LmhlaWdodC8yLG49LTEqKHRoaXMuZWxlbWVudF8ub2Zmc2V0V2lkdGgvMiksYT0tMSoodGhpcy5lbGVtZW50Xy5vZmZzZXRIZWlnaHQvMik7dGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuY29udGFpbnModGhpcy5Dc3NDbGFzc2VzXy5MRUZUKXx8dGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuY29udGFpbnModGhpcy5Dc3NDbGFzc2VzXy5SSUdIVCk/KHM9dC53aWR0aC8yLDA+aSthPyh0aGlzLmVsZW1lbnRfLnN0eWxlLnRvcD0wLHRoaXMuZWxlbWVudF8uc3R5bGUubWFyZ2luVG9wPTApOih0aGlzLmVsZW1lbnRfLnN0eWxlLnRvcD1pK1wicHhcIix0aGlzLmVsZW1lbnRfLnN0eWxlLm1hcmdpblRvcD1hK1wicHhcIikpOjA+cytuPyh0aGlzLmVsZW1lbnRfLnN0eWxlLmxlZnQ9MCx0aGlzLmVsZW1lbnRfLnN0eWxlLm1hcmdpbkxlZnQ9MCk6KHRoaXMuZWxlbWVudF8uc3R5bGUubGVmdD1zK1wicHhcIix0aGlzLmVsZW1lbnRfLnN0eWxlLm1hcmdpbkxlZnQ9bitcInB4XCIpLHRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuQ3NzQ2xhc3Nlc18uVE9QKT90aGlzLmVsZW1lbnRfLnN0eWxlLnRvcD10LnRvcC10aGlzLmVsZW1lbnRfLm9mZnNldEhlaWdodC0xMCtcInB4XCI6dGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuY29udGFpbnModGhpcy5Dc3NDbGFzc2VzXy5SSUdIVCk/dGhpcy5lbGVtZW50Xy5zdHlsZS5sZWZ0PXQubGVmdCt0LndpZHRoKzEwK1wicHhcIjp0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLkNzc0NsYXNzZXNfLkxFRlQpP3RoaXMuZWxlbWVudF8uc3R5bGUubGVmdD10LmxlZnQtdGhpcy5lbGVtZW50Xy5vZmZzZXRXaWR0aC0xMCtcInB4XCI6dGhpcy5lbGVtZW50Xy5zdHlsZS50b3A9dC50b3ArdC5oZWlnaHQrMTArXCJweFwiLHRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLklTX0FDVElWRSl9LEkucHJvdG90eXBlLmhhbmRsZU1vdXNlTGVhdmVfPWZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfQUNUSVZFKX0sSS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe2lmKHRoaXMuZWxlbWVudF8pe3ZhciBlPXRoaXMuZWxlbWVudF8uZ2V0QXR0cmlidXRlKFwiZm9yXCIpO2UmJih0aGlzLmZvckVsZW1lbnRfPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUpKSx0aGlzLmZvckVsZW1lbnRfJiYodGhpcy5mb3JFbGVtZW50Xy5oYXNBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiKXx8dGhpcy5mb3JFbGVtZW50Xy5zZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiLFwiMFwiKSx0aGlzLmJvdW5kTW91c2VFbnRlckhhbmRsZXI9dGhpcy5oYW5kbGVNb3VzZUVudGVyXy5iaW5kKHRoaXMpLHRoaXMuYm91bmRNb3VzZUxlYXZlSGFuZGxlcj10aGlzLmhhbmRsZU1vdXNlTGVhdmVfLmJpbmQodGhpcyksdGhpcy5mb3JFbGVtZW50Xy5hZGRFdmVudExpc3RlbmVyKFwibW91c2VlbnRlclwiLHRoaXMuYm91bmRNb3VzZUVudGVySGFuZGxlciwhMSksdGhpcy5mb3JFbGVtZW50Xy5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIix0aGlzLmJvdW5kTW91c2VFbnRlckhhbmRsZXIsITEpLHRoaXMuZm9yRWxlbWVudF8uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIix0aGlzLmJvdW5kTW91c2VMZWF2ZUhhbmRsZXIsITEpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLHRoaXMuYm91bmRNb3VzZUxlYXZlSGFuZGxlcikpfX0scy5yZWdpc3Rlcih7Y29uc3RydWN0b3I6SSxjbGFzc0FzU3RyaW5nOlwiTWF0ZXJpYWxUb29sdGlwXCIsY3NzQ2xhc3M6XCJtZGwtdG9vbHRpcFwifSk7dmFyIGY9ZnVuY3Rpb24oZSl7dGhpcy5lbGVtZW50Xz1lLHRoaXMuaW5pdCgpfTt3aW5kb3cuTWF0ZXJpYWxMYXlvdXQ9ZixmLnByb3RvdHlwZS5Db25zdGFudF89e01BWF9XSURUSDpcIihtYXgtd2lkdGg6IDEwMjRweClcIixUQUJfU0NST0xMX1BJWEVMUzoxMDAsTUVOVV9JQ09OOlwiJiN4RTVEMjtcIixDSEVWUk9OX0xFRlQ6XCJjaGV2cm9uX2xlZnRcIixDSEVWUk9OX1JJR0hUOlwiY2hldnJvbl9yaWdodFwifSxmLnByb3RvdHlwZS5LZXljb2Rlc189e0VOVEVSOjEzLEVTQ0FQRToyNyxTUEFDRTozMn0sZi5wcm90b3R5cGUuTW9kZV89e1NUQU5EQVJEOjAsU0VBTUVEOjEsV0FURVJGQUxMOjIsU0NST0xMOjN9LGYucHJvdG90eXBlLkNzc0NsYXNzZXNfPXtDT05UQUlORVI6XCJtZGwtbGF5b3V0X19jb250YWluZXJcIixIRUFERVI6XCJtZGwtbGF5b3V0X19oZWFkZXJcIixEUkFXRVI6XCJtZGwtbGF5b3V0X19kcmF3ZXJcIixDT05URU5UOlwibWRsLWxheW91dF9fY29udGVudFwiLERSQVdFUl9CVE46XCJtZGwtbGF5b3V0X19kcmF3ZXItYnV0dG9uXCIsSUNPTjpcIm1hdGVyaWFsLWljb25zXCIsSlNfUklQUExFX0VGRkVDVDpcIm1kbC1qcy1yaXBwbGUtZWZmZWN0XCIsUklQUExFX0NPTlRBSU5FUjpcIm1kbC1sYXlvdXRfX3RhYi1yaXBwbGUtY29udGFpbmVyXCIsUklQUExFOlwibWRsLXJpcHBsZVwiLFJJUFBMRV9JR05PUkVfRVZFTlRTOlwibWRsLWpzLXJpcHBsZS1lZmZlY3QtLWlnbm9yZS1ldmVudHNcIixIRUFERVJfU0VBTUVEOlwibWRsLWxheW91dF9faGVhZGVyLS1zZWFtZWRcIixIRUFERVJfV0FURVJGQUxMOlwibWRsLWxheW91dF9faGVhZGVyLS13YXRlcmZhbGxcIixIRUFERVJfU0NST0xMOlwibWRsLWxheW91dF9faGVhZGVyLS1zY3JvbGxcIixGSVhFRF9IRUFERVI6XCJtZGwtbGF5b3V0LS1maXhlZC1oZWFkZXJcIixPQkZVU0NBVE9SOlwibWRsLWxheW91dF9fb2JmdXNjYXRvclwiLFRBQl9CQVI6XCJtZGwtbGF5b3V0X190YWItYmFyXCIsVEFCX0NPTlRBSU5FUjpcIm1kbC1sYXlvdXRfX3RhYi1iYXItY29udGFpbmVyXCIsVEFCOlwibWRsLWxheW91dF9fdGFiXCIsVEFCX0JBUl9CVVRUT046XCJtZGwtbGF5b3V0X190YWItYmFyLWJ1dHRvblwiLFRBQl9CQVJfTEVGVF9CVVRUT046XCJtZGwtbGF5b3V0X190YWItYmFyLWxlZnQtYnV0dG9uXCIsVEFCX0JBUl9SSUdIVF9CVVRUT046XCJtZGwtbGF5b3V0X190YWItYmFyLXJpZ2h0LWJ1dHRvblwiLFBBTkVMOlwibWRsLWxheW91dF9fdGFiLXBhbmVsXCIsSEFTX0RSQVdFUjpcImhhcy1kcmF3ZXJcIixIQVNfVEFCUzpcImhhcy10YWJzXCIsSEFTX1NDUk9MTElOR19IRUFERVI6XCJoYXMtc2Nyb2xsaW5nLWhlYWRlclwiLENBU1RJTkdfU0hBRE9XOlwiaXMtY2FzdGluZy1zaGFkb3dcIixJU19DT01QQUNUOlwiaXMtY29tcGFjdFwiLElTX1NNQUxMX1NDUkVFTjpcImlzLXNtYWxsLXNjcmVlblwiLElTX0RSQVdFUl9PUEVOOlwiaXMtdmlzaWJsZVwiLElTX0FDVElWRTpcImlzLWFjdGl2ZVwiLElTX1VQR1JBREVEOlwiaXMtdXBncmFkZWRcIixJU19BTklNQVRJTkc6XCJpcy1hbmltYXRpbmdcIixPTl9MQVJHRV9TQ1JFRU46XCJtZGwtbGF5b3V0LS1sYXJnZS1zY3JlZW4tb25seVwiLE9OX1NNQUxMX1NDUkVFTjpcIm1kbC1sYXlvdXQtLXNtYWxsLXNjcmVlbi1vbmx5XCJ9LGYucHJvdG90eXBlLmNvbnRlbnRTY3JvbGxIYW5kbGVyXz1mdW5jdGlvbigpe3RoaXMuaGVhZGVyXy5jbGFzc0xpc3QuY29udGFpbnModGhpcy5Dc3NDbGFzc2VzXy5JU19BTklNQVRJTkcpfHwodGhpcy5jb250ZW50Xy5zY3JvbGxUb3A+MCYmIXRoaXMuaGVhZGVyXy5jbGFzc0xpc3QuY29udGFpbnModGhpcy5Dc3NDbGFzc2VzXy5JU19DT01QQUNUKT8odGhpcy5oZWFkZXJfLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5DQVNUSU5HX1NIQURPVyksdGhpcy5oZWFkZXJfLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5JU19DT01QQUNUKSx0aGlzLmhlYWRlcl8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLklTX0FOSU1BVElORykpOnRoaXMuY29udGVudF8uc2Nyb2xsVG9wPD0wJiZ0aGlzLmhlYWRlcl8uY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfQ09NUEFDVCkmJih0aGlzLmhlYWRlcl8uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNzc0NsYXNzZXNfLkNBU1RJTkdfU0hBRE9XKSx0aGlzLmhlYWRlcl8uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNzc0NsYXNzZXNfLklTX0NPTVBBQ1QpLHRoaXMuaGVhZGVyXy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfQU5JTUFUSU5HKSkpfSxmLnByb3RvdHlwZS5rZXlib2FyZEV2ZW50SGFuZGxlcl89ZnVuY3Rpb24oZSl7ZS5rZXlDb2RlPT09dGhpcy5LZXljb2Rlc18uRVNDQVBFJiZ0aGlzLnRvZ2dsZURyYXdlcigpfSxmLnByb3RvdHlwZS5zY3JlZW5TaXplSGFuZGxlcl89ZnVuY3Rpb24oKXt0aGlzLnNjcmVlblNpemVNZWRpYVF1ZXJ5Xy5tYXRjaGVzP3RoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLklTX1NNQUxMX1NDUkVFTik6KHRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNzc0NsYXNzZXNfLklTX1NNQUxMX1NDUkVFTiksdGhpcy5kcmF3ZXJfJiYodGhpcy5kcmF3ZXJfLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5Dc3NDbGFzc2VzXy5JU19EUkFXRVJfT1BFTiksdGhpcy5vYmZ1c2NhdG9yXy5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfRFJBV0VSX09QRU4pKSl9LGYucHJvdG90eXBlLmRyYXdlclRvZ2dsZUhhbmRsZXJfPWZ1bmN0aW9uKGUpe2lmKGUmJlwia2V5ZG93blwiPT09ZS50eXBlKXtpZihlLmtleUNvZGUhPT10aGlzLktleWNvZGVzXy5TUEFDRSYmZS5rZXlDb2RlIT09dGhpcy5LZXljb2Rlc18uRU5URVIpcmV0dXJuO2UucHJldmVudERlZmF1bHQoKX10aGlzLnRvZ2dsZURyYXdlcigpfSxmLnByb3RvdHlwZS5oZWFkZXJUcmFuc2l0aW9uRW5kSGFuZGxlcl89ZnVuY3Rpb24oKXt0aGlzLmhlYWRlcl8uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNzc0NsYXNzZXNfLklTX0FOSU1BVElORyl9LGYucHJvdG90eXBlLmhlYWRlckNsaWNrSGFuZGxlcl89ZnVuY3Rpb24oKXt0aGlzLmhlYWRlcl8uY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfQ09NUEFDVCkmJih0aGlzLmhlYWRlcl8uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNzc0NsYXNzZXNfLklTX0NPTVBBQ1QpLHRoaXMuaGVhZGVyXy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfQU5JTUFUSU5HKSl9LGYucHJvdG90eXBlLnJlc2V0VGFiU3RhdGVfPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKWVbdF0uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNzc0NsYXNzZXNfLklTX0FDVElWRSl9LGYucHJvdG90eXBlLnJlc2V0UGFuZWxTdGF0ZV89ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0KyspZVt0XS5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfQUNUSVZFKX0sZi5wcm90b3R5cGUudG9nZ2xlRHJhd2VyPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5lbGVtZW50Xy5xdWVyeVNlbGVjdG9yKFwiLlwiK3RoaXMuQ3NzQ2xhc3Nlc18uRFJBV0VSX0JUTik7dGhpcy5kcmF3ZXJfLmNsYXNzTGlzdC50b2dnbGUodGhpcy5Dc3NDbGFzc2VzXy5JU19EUkFXRVJfT1BFTiksdGhpcy5vYmZ1c2NhdG9yXy5jbGFzc0xpc3QudG9nZ2xlKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfRFJBV0VSX09QRU4pLHRoaXMuZHJhd2VyXy5jbGFzc0xpc3QuY29udGFpbnModGhpcy5Dc3NDbGFzc2VzXy5JU19EUkFXRVJfT1BFTik/KHRoaXMuZHJhd2VyXy5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLFwiZmFsc2VcIiksZS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsXCJ0cnVlXCIpKToodGhpcy5kcmF3ZXJfLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsXCJ0cnVlXCIpLGUuc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLFwiZmFsc2VcIikpfSxmLnByb3RvdHlwZS50b2dnbGVEcmF3ZXI9Zi5wcm90b3R5cGUudG9nZ2xlRHJhd2VyLGYucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXtpZih0aGlzLmVsZW1lbnRfKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2UuY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLkNPTlRBSU5FUiksdGhpcy5lbGVtZW50Xy5wYXJlbnRFbGVtZW50Lmluc2VydEJlZm9yZShlLHRoaXMuZWxlbWVudF8pLHRoaXMuZWxlbWVudF8ucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzLmVsZW1lbnRfKSxlLmFwcGVuZENoaWxkKHRoaXMuZWxlbWVudF8pO2Zvcih2YXIgcz10aGlzLmVsZW1lbnRfLmNoaWxkTm9kZXMsaT1zLmxlbmd0aCxuPTA7aT5uO24rKyl7dmFyIGE9c1tuXTthLmNsYXNzTGlzdCYmYS5jbGFzc0xpc3QuY29udGFpbnModGhpcy5Dc3NDbGFzc2VzXy5IRUFERVIpJiYodGhpcy5oZWFkZXJfPWEpLGEuY2xhc3NMaXN0JiZhLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLkNzc0NsYXNzZXNfLkRSQVdFUikmJih0aGlzLmRyYXdlcl89YSksYS5jbGFzc0xpc3QmJmEuY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuQ3NzQ2xhc3Nlc18uQ09OVEVOVCkmJih0aGlzLmNvbnRlbnRfPWEpfXdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicGFnZXNob3dcIixmdW5jdGlvbihlKXtlLnBlcnNpc3RlZCYmKHRoaXMuZWxlbWVudF8uc3R5bGUub3ZlcmZsb3dZPVwiaGlkZGVuXCIscmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50Xy5zdHlsZS5vdmVyZmxvd1k9XCJcIn0uYmluZCh0aGlzKSkpfS5iaW5kKHRoaXMpLCExKSx0aGlzLmhlYWRlcl8mJih0aGlzLnRhYkJhcl89dGhpcy5oZWFkZXJfLnF1ZXJ5U2VsZWN0b3IoXCIuXCIrdGhpcy5Dc3NDbGFzc2VzXy5UQUJfQkFSKSk7dmFyIGw9dGhpcy5Nb2RlXy5TVEFOREFSRDtpZih0aGlzLmhlYWRlcl8mJih0aGlzLmhlYWRlcl8uY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuQ3NzQ2xhc3Nlc18uSEVBREVSX1NFQU1FRCk/bD10aGlzLk1vZGVfLlNFQU1FRDp0aGlzLmhlYWRlcl8uY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuQ3NzQ2xhc3Nlc18uSEVBREVSX1dBVEVSRkFMTCk/KGw9dGhpcy5Nb2RlXy5XQVRFUkZBTEwsdGhpcy5oZWFkZXJfLmFkZEV2ZW50TGlzdGVuZXIoXCJ0cmFuc2l0aW9uZW5kXCIsdGhpcy5oZWFkZXJUcmFuc2l0aW9uRW5kSGFuZGxlcl8uYmluZCh0aGlzKSksdGhpcy5oZWFkZXJfLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMuaGVhZGVyQ2xpY2tIYW5kbGVyXy5iaW5kKHRoaXMpKSk6dGhpcy5oZWFkZXJfLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLkNzc0NsYXNzZXNfLkhFQURFUl9TQ1JPTEwpJiYobD10aGlzLk1vZGVfLlNDUk9MTCxlLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5IQVNfU0NST0xMSU5HX0hFQURFUikpLGw9PT10aGlzLk1vZGVfLlNUQU5EQVJEPyh0aGlzLmhlYWRlcl8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLkNBU1RJTkdfU0hBRE9XKSx0aGlzLnRhYkJhcl8mJnRoaXMudGFiQmFyXy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uQ0FTVElOR19TSEFET1cpKTpsPT09dGhpcy5Nb2RlXy5TRUFNRUR8fGw9PT10aGlzLk1vZGVfLlNDUk9MTD8odGhpcy5oZWFkZXJfLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5Dc3NDbGFzc2VzXy5DQVNUSU5HX1NIQURPVyksdGhpcy50YWJCYXJfJiZ0aGlzLnRhYkJhcl8uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNzc0NsYXNzZXNfLkNBU1RJTkdfU0hBRE9XKSk6bD09PXRoaXMuTW9kZV8uV0FURVJGQUxMJiYodGhpcy5jb250ZW50Xy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsdGhpcy5jb250ZW50U2Nyb2xsSGFuZGxlcl8uYmluZCh0aGlzKSksdGhpcy5jb250ZW50U2Nyb2xsSGFuZGxlcl8oKSkpLHRoaXMuZHJhd2VyXyl7dmFyIG89dGhpcy5lbGVtZW50Xy5xdWVyeVNlbGVjdG9yKFwiLlwiK3RoaXMuQ3NzQ2xhc3Nlc18uRFJBV0VSX0JUTik7aWYoIW8pe289ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxvLnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIixcImZhbHNlXCIpLG8uc2V0QXR0cmlidXRlKFwicm9sZVwiLFwiYnV0dG9uXCIpLG8uc2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIixcIjBcIiksby5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uRFJBV0VSX0JUTik7dmFyIHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlcIik7ci5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uSUNPTiksci5pbm5lckhUTUw9dGhpcy5Db25zdGFudF8uTUVOVV9JQ09OLG8uYXBwZW5kQ2hpbGQocil9dGhpcy5kcmF3ZXJfLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLkNzc0NsYXNzZXNfLk9OX0xBUkdFX1NDUkVFTik/by5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uT05fTEFSR0VfU0NSRUVOKTp0aGlzLmRyYXdlcl8uY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuQ3NzQ2xhc3Nlc18uT05fU01BTExfU0NSRUVOKSYmby5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uT05fU01BTExfU0NSRUVOKSxvLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMuZHJhd2VyVG9nZ2xlSGFuZGxlcl8uYmluZCh0aGlzKSksby5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLHRoaXMuZHJhd2VyVG9nZ2xlSGFuZGxlcl8uYmluZCh0aGlzKSksdGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uSEFTX0RSQVdFUiksdGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuY29udGFpbnModGhpcy5Dc3NDbGFzc2VzXy5GSVhFRF9IRUFERVIpP3RoaXMuaGVhZGVyXy5pbnNlcnRCZWZvcmUobyx0aGlzLmhlYWRlcl8uZmlyc3RDaGlsZCk6dGhpcy5lbGVtZW50Xy5pbnNlcnRCZWZvcmUobyx0aGlzLmNvbnRlbnRfKTt2YXIgXz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO18uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLk9CRlVTQ0FUT1IpLHRoaXMuZWxlbWVudF8uYXBwZW5kQ2hpbGQoXyksXy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLmRyYXdlclRvZ2dsZUhhbmRsZXJfLmJpbmQodGhpcykpLHRoaXMub2JmdXNjYXRvcl89Xyx0aGlzLmRyYXdlcl8uYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIix0aGlzLmtleWJvYXJkRXZlbnRIYW5kbGVyXy5iaW5kKHRoaXMpKSx0aGlzLmRyYXdlcl8uc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIixcInRydWVcIil9aWYodGhpcy5zY3JlZW5TaXplTWVkaWFRdWVyeV89d2luZG93Lm1hdGNoTWVkaWEodGhpcy5Db25zdGFudF8uTUFYX1dJRFRIKSx0aGlzLnNjcmVlblNpemVNZWRpYVF1ZXJ5Xy5hZGRMaXN0ZW5lcih0aGlzLnNjcmVlblNpemVIYW5kbGVyXy5iaW5kKHRoaXMpKSx0aGlzLnNjcmVlblNpemVIYW5kbGVyXygpLHRoaXMuaGVhZGVyXyYmdGhpcy50YWJCYXJfKXt0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5IQVNfVEFCUyk7dmFyIGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtkLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5UQUJfQ09OVEFJTkVSKSx0aGlzLmhlYWRlcl8uaW5zZXJ0QmVmb3JlKGQsdGhpcy50YWJCYXJfKSx0aGlzLmhlYWRlcl8ucmVtb3ZlQ2hpbGQodGhpcy50YWJCYXJfKTt2YXIgaD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2guY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLlRBQl9CQVJfQlVUVE9OKSxoLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5UQUJfQkFSX0xFRlRfQlVUVE9OKTt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaVwiKTtjLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5JQ09OKSxjLnRleHRDb250ZW50PXRoaXMuQ29uc3RhbnRfLkNIRVZST05fTEVGVCxoLmFwcGVuZENoaWxkKGMpLGguYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oKXt0aGlzLnRhYkJhcl8uc2Nyb2xsTGVmdC09dGhpcy5Db25zdGFudF8uVEFCX1NDUk9MTF9QSVhFTFN9LmJpbmQodGhpcykpO3ZhciBwPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7cC5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uVEFCX0JBUl9CVVRUT04pLHAuY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLlRBQl9CQVJfUklHSFRfQlVUVE9OKTt2YXIgQz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaVwiKTtDLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5JQ09OKSxDLnRleHRDb250ZW50PXRoaXMuQ29uc3RhbnRfLkNIRVZST05fUklHSFQscC5hcHBlbmRDaGlsZChDKSxwLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKCl7dGhpcy50YWJCYXJfLnNjcm9sbExlZnQrPXRoaXMuQ29uc3RhbnRfLlRBQl9TQ1JPTExfUElYRUxTfS5iaW5kKHRoaXMpKSxkLmFwcGVuZENoaWxkKGgpLGQuYXBwZW5kQ2hpbGQodGhpcy50YWJCYXJfKSxkLmFwcGVuZENoaWxkKHApO3ZhciB1PWZ1bmN0aW9uKCl7dGhpcy50YWJCYXJfLnNjcm9sbExlZnQ+MD9oLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5JU19BQ1RJVkUpOmguY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNzc0NsYXNzZXNfLklTX0FDVElWRSksdGhpcy50YWJCYXJfLnNjcm9sbExlZnQ8dGhpcy50YWJCYXJfLnNjcm9sbFdpZHRoLXRoaXMudGFiQmFyXy5vZmZzZXRXaWR0aD9wLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5JU19BQ1RJVkUpOnAuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNzc0NsYXNzZXNfLklTX0FDVElWRSl9LmJpbmQodGhpcyk7dGhpcy50YWJCYXJfLmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIix1KSx1KCksdGhpcy50YWJCYXJfLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLkNzc0NsYXNzZXNfLkpTX1JJUFBMRV9FRkZFQ1QpJiZ0aGlzLnRhYkJhcl8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLlJJUFBMRV9JR05PUkVfRVZFTlRTKTtmb3IodmFyIEU9dGhpcy50YWJCYXJfLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuXCIrdGhpcy5Dc3NDbGFzc2VzXy5UQUIpLG09dGhpcy5jb250ZW50Xy5xdWVyeVNlbGVjdG9yQWxsKFwiLlwiK3RoaXMuQ3NzQ2xhc3Nlc18uUEFORUwpLEw9MDtMPEUubGVuZ3RoO0wrKyluZXcgdChFW0xdLEUsbSx0aGlzKX10aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5JU19VUEdSQURFRCl9fSx3aW5kb3cuTWF0ZXJpYWxMYXlvdXRUYWI9dCxzLnJlZ2lzdGVyKHtjb25zdHJ1Y3RvcjpmLGNsYXNzQXNTdHJpbmc6XCJNYXRlcmlhbExheW91dFwiLGNzc0NsYXNzOlwibWRsLWpzLWxheW91dFwifSk7dmFyIGI9ZnVuY3Rpb24oZSl7dGhpcy5lbGVtZW50Xz1lLHRoaXMuaW5pdCgpfTt3aW5kb3cuTWF0ZXJpYWxEYXRhVGFibGU9YixiLnByb3RvdHlwZS5Db25zdGFudF89e30sYi5wcm90b3R5cGUuQ3NzQ2xhc3Nlc189e0RBVEFfVEFCTEU6XCJtZGwtZGF0YS10YWJsZVwiLFNFTEVDVEFCTEU6XCJtZGwtZGF0YS10YWJsZS0tc2VsZWN0YWJsZVwiLFNFTEVDVF9FTEVNRU5UOlwibWRsLWRhdGEtdGFibGVfX3NlbGVjdFwiLElTX1NFTEVDVEVEOlwiaXMtc2VsZWN0ZWRcIixJU19VUEdSQURFRDpcImlzLXVwZ3JhZGVkXCJ9LGIucHJvdG90eXBlLnNlbGVjdFJvd189ZnVuY3Rpb24oZSx0LHMpe3JldHVybiB0P2Z1bmN0aW9uKCl7ZS5jaGVja2VkP3QuY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLklTX1NFTEVDVEVEKTp0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5Dc3NDbGFzc2VzXy5JU19TRUxFQ1RFRCl9LmJpbmQodGhpcyk6cz9mdW5jdGlvbigpe3ZhciB0LGk7aWYoZS5jaGVja2VkKWZvcih0PTA7dDxzLmxlbmd0aDt0KyspaT1zW3RdLnF1ZXJ5U2VsZWN0b3IoXCJ0ZFwiKS5xdWVyeVNlbGVjdG9yKFwiLm1kbC1jaGVja2JveFwiKSxpLk1hdGVyaWFsQ2hlY2tib3guY2hlY2soKSxzW3RdLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5JU19TRUxFQ1RFRCk7ZWxzZSBmb3IodD0wO3Q8cy5sZW5ndGg7dCsrKWk9c1t0XS5xdWVyeVNlbGVjdG9yKFwidGRcIikucXVlcnlTZWxlY3RvcihcIi5tZGwtY2hlY2tib3hcIiksaS5NYXRlcmlhbENoZWNrYm94LnVuY2hlY2soKSxzW3RdLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5Dc3NDbGFzc2VzXy5JU19TRUxFQ1RFRCl9LmJpbmQodGhpcyk6dm9pZCAwfSxiLnByb3RvdHlwZS5jcmVhdGVDaGVja2JveF89ZnVuY3Rpb24oZSx0KXt2YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIiksbj1bXCJtZGwtY2hlY2tib3hcIixcIm1kbC1qcy1jaGVja2JveFwiLFwibWRsLWpzLXJpcHBsZS1lZmZlY3RcIix0aGlzLkNzc0NsYXNzZXNfLlNFTEVDVF9FTEVNRU5UXTtpLmNsYXNzTmFtZT1uLmpvaW4oXCIgXCIpO3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtyZXR1cm4gYS50eXBlPVwiY2hlY2tib3hcIixhLmNsYXNzTGlzdC5hZGQoXCJtZGwtY2hlY2tib3hfX2lucHV0XCIpLGU/KGEuY2hlY2tlZD1lLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLkNzc0NsYXNzZXNfLklTX1NFTEVDVEVEKSxhLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIix0aGlzLnNlbGVjdFJvd18oYSxlKSkpOnQmJmEuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLHRoaXMuc2VsZWN0Um93XyhhLG51bGwsdCkpLGkuYXBwZW5kQ2hpbGQoYSkscy51cGdyYWRlRWxlbWVudChpLFwiTWF0ZXJpYWxDaGVja2JveFwiKSxpfSxiLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7aWYodGhpcy5lbGVtZW50Xyl7dmFyIGU9dGhpcy5lbGVtZW50Xy5xdWVyeVNlbGVjdG9yKFwidGhcIiksdD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzLmVsZW1lbnRfLnF1ZXJ5U2VsZWN0b3JBbGwoXCJ0Ym9keSB0clwiKSkscz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzLmVsZW1lbnRfLnF1ZXJ5U2VsZWN0b3JBbGwoXCJ0Zm9vdCB0clwiKSksaT10LmNvbmNhdChzKTtpZih0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLkNzc0NsYXNzZXNfLlNFTEVDVEFCTEUpKXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGhcIiksYT10aGlzLmNyZWF0ZUNoZWNrYm94XyhudWxsLGkpO24uYXBwZW5kQ2hpbGQoYSksZS5wYXJlbnRFbGVtZW50Lmluc2VydEJlZm9yZShuLGUpO2Zvcih2YXIgbD0wO2w8aS5sZW5ndGg7bCsrKXt2YXIgbz1pW2xdLnF1ZXJ5U2VsZWN0b3IoXCJ0ZFwiKTtpZihvKXt2YXIgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7aWYoXCJUQk9EWVwiPT09aVtsXS5wYXJlbnROb2RlLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCkpe3ZhciBfPXRoaXMuY3JlYXRlQ2hlY2tib3hfKGlbbF0pO3IuYXBwZW5kQ2hpbGQoXyl9aVtsXS5pbnNlcnRCZWZvcmUocixvKX19dGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfVVBHUkFERUQpfX19LHMucmVnaXN0ZXIoe2NvbnN0cnVjdG9yOmIsY2xhc3NBc1N0cmluZzpcIk1hdGVyaWFsRGF0YVRhYmxlXCIsY3NzQ2xhc3M6XCJtZGwtanMtZGF0YS10YWJsZVwifSk7dmFyIHk9ZnVuY3Rpb24oZSl7dGhpcy5lbGVtZW50Xz1lLHRoaXMuaW5pdCgpfTt3aW5kb3cuTWF0ZXJpYWxSaXBwbGU9eSx5LnByb3RvdHlwZS5Db25zdGFudF89e0lOSVRJQUxfU0NBTEU6XCJzY2FsZSgwLjAwMDEsIDAuMDAwMSlcIixJTklUSUFMX1NJWkU6XCIxcHhcIixJTklUSUFMX09QQUNJVFk6XCIwLjRcIixGSU5BTF9PUEFDSVRZOlwiMFwiLEZJTkFMX1NDQUxFOlwiXCJ9LHkucHJvdG90eXBlLkNzc0NsYXNzZXNfPXtSSVBQTEVfQ0VOVEVSOlwibWRsLXJpcHBsZS0tY2VudGVyXCIsUklQUExFX0VGRkVDVF9JR05PUkVfRVZFTlRTOlwibWRsLWpzLXJpcHBsZS1lZmZlY3QtLWlnbm9yZS1ldmVudHNcIixSSVBQTEU6XCJtZGwtcmlwcGxlXCIsSVNfQU5JTUFUSU5HOlwiaXMtYW5pbWF0aW5nXCIsSVNfVklTSUJMRTpcImlzLXZpc2libGVcIn0seS5wcm90b3R5cGUuZG93bkhhbmRsZXJfPWZ1bmN0aW9uKGUpe2lmKCF0aGlzLnJpcHBsZUVsZW1lbnRfLnN0eWxlLndpZHRoJiYhdGhpcy5yaXBwbGVFbGVtZW50Xy5zdHlsZS5oZWlnaHQpe3ZhciB0PXRoaXMuZWxlbWVudF8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7dGhpcy5ib3VuZEhlaWdodD10LmhlaWdodCx0aGlzLmJvdW5kV2lkdGg9dC53aWR0aCx0aGlzLnJpcHBsZVNpemVfPTIqTWF0aC5zcXJ0KHQud2lkdGgqdC53aWR0aCt0LmhlaWdodCp0LmhlaWdodCkrMix0aGlzLnJpcHBsZUVsZW1lbnRfLnN0eWxlLndpZHRoPXRoaXMucmlwcGxlU2l6ZV8rXCJweFwiLHRoaXMucmlwcGxlRWxlbWVudF8uc3R5bGUuaGVpZ2h0PXRoaXMucmlwcGxlU2l6ZV8rXCJweFwifWlmKHRoaXMucmlwcGxlRWxlbWVudF8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLklTX1ZJU0lCTEUpLFwibW91c2Vkb3duXCI9PT1lLnR5cGUmJnRoaXMuaWdub3JpbmdNb3VzZURvd25fKXRoaXMuaWdub3JpbmdNb3VzZURvd25fPSExO2Vsc2V7XCJ0b3VjaHN0YXJ0XCI9PT1lLnR5cGUmJih0aGlzLmlnbm9yaW5nTW91c2VEb3duXz0hMCk7dmFyIHM9dGhpcy5nZXRGcmFtZUNvdW50KCk7aWYocz4wKXJldHVybjt0aGlzLnNldEZyYW1lQ291bnQoMSk7dmFyIGksbixhPWUuY3VycmVudFRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtpZigwPT09ZS5jbGllbnRYJiYwPT09ZS5jbGllbnRZKWk9TWF0aC5yb3VuZChhLndpZHRoLzIpLG49TWF0aC5yb3VuZChhLmhlaWdodC8yKTtlbHNle3ZhciBsPWUuY2xpZW50WD9lLmNsaWVudFg6ZS50b3VjaGVzWzBdLmNsaWVudFgsbz1lLmNsaWVudFk/ZS5jbGllbnRZOmUudG91Y2hlc1swXS5jbGllbnRZO2k9TWF0aC5yb3VuZChsLWEubGVmdCksbj1NYXRoLnJvdW5kKG8tYS50b3ApfXRoaXMuc2V0UmlwcGxlWFkoaSxuKSx0aGlzLnNldFJpcHBsZVN0eWxlcyghMCksd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmFuaW1GcmFtZUhhbmRsZXIuYmluZCh0aGlzKSl9fSx5LnByb3RvdHlwZS51cEhhbmRsZXJfPWZ1bmN0aW9uKGUpe2UmJjIhPT1lLmRldGFpbCYmd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGlzLnJpcHBsZUVsZW1lbnRfLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5Dc3NDbGFzc2VzXy5JU19WSVNJQkxFKX0uYmluZCh0aGlzKSwwKX0seS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe2lmKHRoaXMuZWxlbWVudF8pe3ZhciBlPXRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuQ3NzQ2xhc3Nlc18uUklQUExFX0NFTlRFUik7dGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuY29udGFpbnModGhpcy5Dc3NDbGFzc2VzXy5SSVBQTEVfRUZGRUNUX0lHTk9SRV9FVkVOVFMpfHwodGhpcy5yaXBwbGVFbGVtZW50Xz10aGlzLmVsZW1lbnRfLnF1ZXJ5U2VsZWN0b3IoXCIuXCIrdGhpcy5Dc3NDbGFzc2VzXy5SSVBQTEUpLHRoaXMuZnJhbWVDb3VudF89MCx0aGlzLnJpcHBsZVNpemVfPTAsdGhpcy54Xz0wLHRoaXMueV89MCx0aGlzLmlnbm9yaW5nTW91c2VEb3duXz0hMSx0aGlzLmJvdW5kRG93bkhhbmRsZXI9dGhpcy5kb3duSGFuZGxlcl8uYmluZCh0aGlzKSx0aGlzLmVsZW1lbnRfLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIix0aGlzLmJvdW5kRG93bkhhbmRsZXIpLHRoaXMuZWxlbWVudF8uYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIix0aGlzLmJvdW5kRG93bkhhbmRsZXIpLHRoaXMuYm91bmRVcEhhbmRsZXI9dGhpcy51cEhhbmRsZXJfLmJpbmQodGhpcyksdGhpcy5lbGVtZW50Xy5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLHRoaXMuYm91bmRVcEhhbmRsZXIpLHRoaXMuZWxlbWVudF8uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIix0aGlzLmJvdW5kVXBIYW5kbGVyKSx0aGlzLmVsZW1lbnRfLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLHRoaXMuYm91bmRVcEhhbmRsZXIpLHRoaXMuZWxlbWVudF8uYWRkRXZlbnRMaXN0ZW5lcihcImJsdXJcIix0aGlzLmJvdW5kVXBIYW5kbGVyKSx0aGlzLmdldEZyYW1lQ291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mcmFtZUNvdW50X30sdGhpcy5zZXRGcmFtZUNvdW50PWZ1bmN0aW9uKGUpe3RoaXMuZnJhbWVDb3VudF89ZX0sdGhpcy5nZXRSaXBwbGVFbGVtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmlwcGxlRWxlbWVudF99LHRoaXMuc2V0UmlwcGxlWFk9ZnVuY3Rpb24oZSx0KXt0aGlzLnhfPWUsdGhpcy55Xz10fSx0aGlzLnNldFJpcHBsZVN0eWxlcz1mdW5jdGlvbih0KXtpZihudWxsIT09dGhpcy5yaXBwbGVFbGVtZW50Xyl7dmFyIHMsaSxuLGE9XCJ0cmFuc2xhdGUoXCIrdGhpcy54XytcInB4LCBcIit0aGlzLnlfK1wicHgpXCI7dD8oaT10aGlzLkNvbnN0YW50Xy5JTklUSUFMX1NDQUxFLG49dGhpcy5Db25zdGFudF8uSU5JVElBTF9TSVpFKTooaT10aGlzLkNvbnN0YW50Xy5GSU5BTF9TQ0FMRSxuPXRoaXMucmlwcGxlU2l6ZV8rXCJweFwiLGUmJihhPVwidHJhbnNsYXRlKFwiK3RoaXMuYm91bmRXaWR0aC8yK1wicHgsIFwiK3RoaXMuYm91bmRIZWlnaHQvMitcInB4KVwiKSkscz1cInRyYW5zbGF0ZSgtNTAlLCAtNTAlKSBcIithK2ksdGhpcy5yaXBwbGVFbGVtZW50Xy5zdHlsZS53ZWJraXRUcmFuc2Zvcm09cyx0aGlzLnJpcHBsZUVsZW1lbnRfLnN0eWxlLm1zVHJhbnNmb3JtPXMsdGhpcy5yaXBwbGVFbGVtZW50Xy5zdHlsZS50cmFuc2Zvcm09cyx0P3RoaXMucmlwcGxlRWxlbWVudF8uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNzc0NsYXNzZXNfLklTX0FOSU1BVElORyk6dGhpcy5yaXBwbGVFbGVtZW50Xy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfQU5JTUFUSU5HKX19LHRoaXMuYW5pbUZyYW1lSGFuZGxlcj1mdW5jdGlvbigpe3RoaXMuZnJhbWVDb3VudF8tLSA+MD93aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbUZyYW1lSGFuZGxlci5iaW5kKHRoaXMpKTp0aGlzLnNldFJpcHBsZVN0eWxlcyghMSl9KX19LHMucmVnaXN0ZXIoe2NvbnN0cnVjdG9yOnksY2xhc3NBc1N0cmluZzpcIk1hdGVyaWFsUmlwcGxlXCIsY3NzQ2xhc3M6XCJtZGwtanMtcmlwcGxlLWVmZmVjdFwiLHdpZGdldDohMX0pfSgpO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXRlcmlhbC5taW4uanMubWFwXHJcbiJdLCJmaWxlIjoibWF0ZXJpYWwubWluLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=

/*! jQuery v2.2.0 | (c) jQuery Foundation | jquery.org/license */
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=a.document,e=c.slice,f=c.concat,g=c.push,h=c.indexOf,i={},j=i.toString,k=i.hasOwnProperty,l={},m="2.2.0",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return e.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:e.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a){return n.each(this,a)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(e.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:g,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=a&&a.toString();return!n.isArray(a)&&b-parseFloat(b)+1>=0},isPlainObject:function(a){return"object"!==n.type(a)||a.nodeType||n.isWindow(a)?!1:a.constructor&&!k.call(a.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?i[j.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf("use strict")?(b=d.createElement("script"),b.text=a,d.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var c,d=0;if(s(a)){for(c=a.length;c>d;d++)if(b.call(a[d],d,a[d])===!1)break}else for(d in a)if(b.call(a[d],d,a[d])===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):g.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:h.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,e,g=0,h=[];if(s(a))for(d=a.length;d>g;g++)e=b(a[g],g,c),null!=e&&h.push(e);else for(g in a)e=b(a[g],g,c),null!=e&&h.push(e);return f.apply([],h)},guid:1,proxy:function(a,b){var c,d,f;return"string"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(d=e.call(arguments,2),f=function(){return a.apply(b||this,d.concat(e.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:l}),"function"==typeof Symbol&&(n.fn[Symbol.iterator]=c[Symbol.iterator]),n.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){i["[object "+b+"]"]=b.toLowerCase()});function s(a){var b=!!a&&"length"in a&&a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ga(),z=ga(),A=ga(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+M+"))|)"+L+"*\\]",O=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+N+")*)|.*)\\)|)",P=new RegExp(L+"+","g"),Q=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),R=new RegExp("^"+L+"*,"+L+"*"),S=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),T=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),U=new RegExp(O),V=new RegExp("^"+M+"$"),W={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M+"|[*])"),ATTR:new RegExp("^"+N),PSEUDO:new RegExp("^"+O),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_=/[+~]/,aa=/'|\\/g,ba=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),ca=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},da=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(ea){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function fa(a,b,d,e){var f,h,j,k,l,o,r,s,w=b&&b.ownerDocument,x=b?b.nodeType:9;if(d=d||[],"string"!=typeof a||!a||1!==x&&9!==x&&11!==x)return d;if(!e&&((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,p)){if(11!==x&&(o=$.exec(a)))if(f=o[1]){if(9===x){if(!(j=b.getElementById(f)))return d;if(j.id===f)return d.push(j),d}else if(w&&(j=w.getElementById(f))&&t(b,j)&&j.id===f)return d.push(j),d}else{if(o[2])return H.apply(d,b.getElementsByTagName(a)),d;if((f=o[3])&&c.getElementsByClassName&&b.getElementsByClassName)return H.apply(d,b.getElementsByClassName(f)),d}if(c.qsa&&!A[a+" "]&&(!q||!q.test(a))){if(1!==x)w=b,s=a;else if("object"!==b.nodeName.toLowerCase()){(k=b.getAttribute("id"))?k=k.replace(aa,"\\$&"):b.setAttribute("id",k=u),r=g(a),h=r.length,l=V.test(k)?"#"+k:"[id='"+k+"']";while(h--)r[h]=l+" "+qa(r[h]);s=r.join(","),w=_.test(a)&&oa(b.parentNode)||b}if(s)try{return H.apply(d,w.querySelectorAll(s)),d}catch(y){}finally{k===u&&b.removeAttribute("id")}}}return i(a.replace(Q,"$1"),b,d,e)}function ga(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ha(a){return a[u]=!0,a}function ia(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ja(a,b){var c=a.split("|"),e=c.length;while(e--)d.attrHandle[c[e]]=b}function ka(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function la(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function na(a){return ha(function(b){return b=+b,ha(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function oa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=fa.support={},f=fa.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=fa.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=n.documentElement,p=!f(n),(e=n.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",da,!1):e.attachEvent&&e.attachEvent("onunload",da)),c.attributes=ia(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ia(function(a){return a.appendChild(n.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=Z.test(n.getElementsByClassName),c.getById=ia(function(a){return o.appendChild(a).id=u,!n.getElementsByName||!n.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return"undefined"!=typeof b.getElementsByClassName&&p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=Z.test(n.querySelectorAll))&&(ia(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ia(function(a){var b=n.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=Z.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ia(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",O)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=Z.test(o.compareDocumentPosition),t=b||Z.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===n||a.ownerDocument===v&&t(v,a)?-1:b===n||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,g=[a],h=[b];if(!e||!f)return a===n?-1:b===n?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return ka(a,b);c=a;while(c=c.parentNode)g.unshift(c);c=b;while(c=c.parentNode)h.unshift(c);while(g[d]===h[d])d++;return d?ka(g[d],h[d]):g[d]===v?-1:h[d]===v?1:0},n):n},fa.matches=function(a,b){return fa(a,null,null,b)},fa.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(T,"='$1']"),c.matchesSelector&&p&&!A[b+" "]&&(!r||!r.test(b))&&(!q||!q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return fa(b,n,null,[a]).length>0},fa.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},fa.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},fa.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},fa.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=fa.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=fa.selectors={cacheLength:50,createPseudo:ha,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ba,ca),a[3]=(a[3]||a[4]||a[5]||"").replace(ba,ca),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||fa.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&fa.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return W.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&U.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ba,ca).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=fa.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(P," ")+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){while(p){m=b;while(m=m[p])if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){m=q,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n&&j[2],m=n&&q.childNodes[n];while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if(1===m.nodeType&&++t&&m===b){k[a]=[w,n,t];break}}else if(s&&(m=b,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n),t===!1)while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if((h?m.nodeName.toLowerCase()===r:1===m.nodeType)&&++t&&(s&&(l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[w,t]),m===b))break;return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fa.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ha(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ha(function(a){var b=[],c=[],d=h(a.replace(Q,"$1"));return d[u]?ha(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ha(function(a){return function(b){return fa(a,b).length>0}}),contains:ha(function(a){return a=a.replace(ba,ca),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ha(function(a){return V.test(a||"")||fa.error("unsupported lang: "+a),a=a.replace(ba,ca).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Y.test(a.nodeName)},input:function(a){return X.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:na(function(){return[0]}),last:na(function(a,b){return[b-1]}),eq:na(function(a,b,c){return[0>c?c+b:c]}),even:na(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:na(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:na(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:na(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=la(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=ma(b);function pa(){}pa.prototype=d.filters=d.pseudos,d.setFilters=new pa,g=fa.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){(!c||(e=R.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=S.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(Q," ")}),h=h.slice(c.length));for(g in d.filter)!(e=W[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?fa.error(a):z(a,i).slice(0)};function qa(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function ra(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(j=b[u]||(b[u]={}),i=j[b.uniqueID]||(j[b.uniqueID]={}),(h=i[d])&&h[0]===w&&h[1]===f)return k[2]=h[2];if(i[d]=k,k[2]=a(b,c,g))return!0}}}function sa(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ta(a,b,c){for(var d=0,e=b.length;e>d;d++)fa(a,b[d],c);return c}function ua(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function va(a,b,c,d,e,f){return d&&!d[u]&&(d=va(d)),e&&!e[u]&&(e=va(e,f)),ha(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ta(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ua(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=ua(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=ua(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function wa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=ra(function(a){return a===b},h,!0),l=ra(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[ra(sa(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return va(i>1&&sa(m),i>1&&qa(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(Q,"$1"),c,e>i&&wa(a.slice(i,e)),f>e&&wa(a=a.slice(e)),f>e&&qa(a))}m.push(c)}return sa(m)}function xa(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,o,q,r=0,s="0",t=f&&[],u=[],v=j,x=f||e&&d.find.TAG("*",k),y=w+=null==v?1:Math.random()||.1,z=x.length;for(k&&(j=g===n||g||k);s!==z&&null!=(l=x[s]);s++){if(e&&l){o=0,g||l.ownerDocument===n||(m(l),h=!p);while(q=a[o++])if(q(l,g||n,h)){i.push(l);break}k&&(w=y)}c&&((l=!q&&l)&&r--,f&&t.push(l))}if(r+=s,c&&s!==r){o=0;while(q=b[o++])q(t,u,g,h);if(f){if(r>0)while(s--)t[s]||u[s]||(u[s]=F.call(i));u=ua(u)}H.apply(i,u),k&&!f&&u.length>0&&r+b.length>1&&fa.uniqueSort(i)}return k&&(w=y,j=v),t};return c?ha(f):f}return h=fa.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=wa(b[c]),f[u]?d.push(f):e.push(f);f=A(a,xa(e,d)),f.selector=a}return f},i=fa.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ba,ca),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=W.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(ba,ca),_.test(j[0].type)&&oa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&qa(j),!a)return H.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,!b||_.test(a)&&oa(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ia(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ia(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ja("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ia(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ja("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ia(function(a){return null==a.getAttribute("disabled")})||ja(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),fa}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.uniqueSort=n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a)}return d},v=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},w=n.expr.match.needsContext,x=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,y=/^.[^:#\[\.,]*$/;function z(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(y.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return h.call(b,a)>-1!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++)if(n.contains(e[b],this))return!0}));for(b=0;c>b;b++)n.find(a,e[b],d);return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(z(this,a||[],!1))},not:function(a){return this.pushStack(z(this,a||[],!0))},is:function(a){return!!z(this,"string"==typeof a&&w.test(a)?n(a):a||[],!1).length}});var A,B=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,C=n.fn.init=function(a,b,c){var e,f;if(!a)return this;if(c=c||A,"string"==typeof a){if(e="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:B.exec(a),!e||!e[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(e[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:d,!0)),x.test(e[1])&&n.isPlainObject(b))for(e in b)n.isFunction(this[e])?this[e](b[e]):this.attr(e,b[e]);return this}return f=d.getElementById(e[2]),f&&f.parentNode&&(this.length=1,this[0]=f),this.context=d,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?void 0!==c.ready?c.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};C.prototype=n.fn,A=n(d);var D=/^(?:parents|prev(?:Until|All))/,E={children:!0,contents:!0,next:!0,prev:!0};n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(n.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=w.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?h.call(n(a),this[0]):h.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.uniqueSort(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function F(a,b){while((a=a[b])&&1!==a.nodeType);return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return u(a,"parentNode")},parentsUntil:function(a,b,c){return u(a,"parentNode",c)},next:function(a){return F(a,"nextSibling")},prev:function(a){return F(a,"previousSibling")},nextAll:function(a){return u(a,"nextSibling")},prevAll:function(a){return u(a,"previousSibling")},nextUntil:function(a,b,c){return u(a,"nextSibling",c)},prevUntil:function(a,b,c){return u(a,"previousSibling",c)},siblings:function(a){return v((a.parentNode||{}).firstChild,a)},children:function(a){return v(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(E[a]||n.uniqueSort(e),D.test(a)&&e.reverse()),this.pushStack(e)}});var G=/\S+/g;function H(a){var b={};return n.each(a.match(G)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a="string"==typeof a?H(a):n.extend({},a);var b,c,d,e,f=[],g=[],h=-1,i=function(){for(e=a.once,d=b=!0;g.length;h=-1){c=g.shift();while(++h<f.length)f[h].apply(c[0],c[1])===!1&&a.stopOnFalse&&(h=f.length,c=!1)}a.memory||(c=!1),b=!1,e&&(f=c?[]:"")},j={add:function(){return f&&(c&&!b&&(h=f.length-1,g.push(c)),function d(b){n.each(b,function(b,c){n.isFunction(c)?a.unique&&j.has(c)||f.push(c):c&&c.length&&"string"!==n.type(c)&&d(c)})}(arguments),c&&!b&&i()),this},remove:function(){return n.each(arguments,function(a,b){var c;while((c=n.inArray(b,f,c))>-1)f.splice(c,1),h>=c&&h--}),this},has:function(a){return a?n.inArray(a,f)>-1:f.length>0},empty:function(){return f&&(f=[]),this},disable:function(){return e=g=[],f=c="",this},disabled:function(){return!f},lock:function(){return e=g=[],c||(f=c=""),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],g.push(c),b||i()),this},fire:function(){return j.fireWith(this,arguments),this},fired:function(){return!!d}};return j},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().progress(c.notify).done(c.resolve).fail(c.reject):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=e.call(arguments),d=c.length,f=1!==d||a&&n.isFunction(a.promise)?d:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(d){b[a]=this,c[a]=arguments.length>1?e.call(arguments):d,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(d>1)for(i=new Array(d),j=new Array(d),k=new Array(d);d>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().progress(h(b,j,i)).done(h(b,k,c)).fail(g.reject):--f;return f||g.resolveWith(k,c),g.promise()}});var I;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(I.resolveWith(d,[n]),n.fn.triggerHandler&&(n(d).triggerHandler("ready"),n(d).off("ready"))))}});function J(){d.removeEventListener("DOMContentLoaded",J),a.removeEventListener("load",J),n.ready()}n.ready.promise=function(b){return I||(I=n.Deferred(),"complete"===d.readyState||"loading"!==d.readyState&&!d.documentElement.doScroll?a.setTimeout(n.ready):(d.addEventListener("DOMContentLoaded",J),a.addEventListener("load",J))),I.promise(b)},n.ready.promise();var K=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c)K(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},L=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function M(){this.expando=n.expando+M.uid++}M.uid=1,M.prototype={register:function(a,b){var c=b||{};return a.nodeType?a[this.expando]=c:Object.defineProperty(a,this.expando,{value:c,writable:!0,configurable:!0}),a[this.expando]},cache:function(a){if(!L(a))return{};var b=a[this.expando];return b||(b={},L(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if("string"==typeof b)e[b]=c;else for(d in b)e[d]=b[d];return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,n.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=a[this.expando];if(void 0!==f){if(void 0===b)this.register(a);else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in f?d=[b,e]:(d=e,d=d in f?[d]:d.match(G)||[])),c=d.length;while(c--)delete f[d[c]]}(void 0===b||n.isEmptyObject(f))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!n.isEmptyObject(b)}};var N=new M,O=new M,P=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g;function R(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(Q,"-$&").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:P.test(c)?n.parseJSON(c):c}catch(e){}O.set(a,b,c);
}else c=void 0;return c}n.extend({hasData:function(a){return O.hasData(a)||N.hasData(a)},data:function(a,b,c){return O.access(a,b,c)},removeData:function(a,b){O.remove(a,b)},_data:function(a,b,c){return N.access(a,b,c)},_removeData:function(a,b){N.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=O.get(f),1===f.nodeType&&!N.get(f,"hasDataAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),R(f,d,e[d])));N.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){O.set(this,a)}):K(this,function(b){var c,d;if(f&&void 0===b){if(c=O.get(f,a)||O.get(f,a.replace(Q,"-$&").toLowerCase()),void 0!==c)return c;if(d=n.camelCase(a),c=O.get(f,d),void 0!==c)return c;if(c=R(f,d,void 0),void 0!==c)return c}else d=n.camelCase(a),this.each(function(){var c=O.get(this,d);O.set(this,d,b),a.indexOf("-")>-1&&void 0!==c&&O.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){O.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=N.get(a,b),c&&(!d||n.isArray(c)?d=N.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return N.get(a,c)||N.access(a,c,{empty:n.Callbacks("once memory").add(function(){N.remove(a,[b+"queue",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=N.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var S=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=new RegExp("^(?:([+-])=|)("+S+")([a-z%]*)$","i"),U=["Top","Right","Bottom","Left"],V=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)};function W(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return n.css(a,b,"")},i=h(),j=c&&c[3]||(n.cssNumber[b]?"":"px"),k=(n.cssNumber[b]||"px"!==j&&+i)&&T.exec(n.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do f=f||".5",k/=f,n.style(a,b,k+j);while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}var X=/^(?:checkbox|radio)$/i,Y=/<([\w:-]+)/,Z=/^$|\/(?:java|ecma)script/i,$={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};$.optgroup=$.option,$.tbody=$.tfoot=$.colgroup=$.caption=$.thead,$.th=$.td;function _(a,b){var c="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function aa(a,b){for(var c=0,d=a.length;d>c;c++)N.set(a[c],"globalEval",!b||N.get(b[c],"globalEval"))}var ba=/<|&#?\w+;/;function ca(a,b,c,d,e){for(var f,g,h,i,j,k,l=b.createDocumentFragment(),m=[],o=0,p=a.length;p>o;o++)if(f=a[o],f||0===f)if("object"===n.type(f))n.merge(m,f.nodeType?[f]:f);else if(ba.test(f)){g=g||l.appendChild(b.createElement("div")),h=(Y.exec(f)||["",""])[1].toLowerCase(),i=$[h]||$._default,g.innerHTML=i[1]+n.htmlPrefilter(f)+i[2],k=i[0];while(k--)g=g.lastChild;n.merge(m,g.childNodes),g=l.firstChild,g.textContent=""}else m.push(b.createTextNode(f));l.textContent="",o=0;while(f=m[o++])if(d&&n.inArray(f,d)>-1)e&&e.push(f);else if(j=n.contains(f.ownerDocument,f),g=_(l.appendChild(f),"script"),j&&aa(g),c){k=0;while(f=g[k++])Z.test(f.type||"")&&c.push(f)}return l}!function(){var a=d.createDocumentFragment(),b=a.appendChild(d.createElement("div")),c=d.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),l.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",l.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var da=/^key/,ea=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,fa=/^([^.]*)(?:\.(.+)|)/;function ga(){return!0}function ha(){return!1}function ia(){try{return d.activeElement}catch(a){}}function ja(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)ja(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=ha;else if(!e)return this;return 1===f&&(g=e,e=function(a){return n().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=n.guid++)),a.each(function(){n.event.add(this,b,e,d,c)})}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=N.get(a);if(r){c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return"undefined"!=typeof n&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(G)||[""],j=b.length;while(j--)h=fa.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(o,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=N.hasData(a)&&N.get(a);if(r&&(i=r.events)){b=(b||"").match(G)||[""],j=b.length;while(j--)if(h=fa.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=i[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;while(f--)k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete i[o])}else for(o in i)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(i)&&N.remove(a,"handle events")}},dispatch:function(a){a=n.event.fix(a);var b,c,d,f,g,h=[],i=e.call(arguments),j=(N.get(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped())(!a.rnamespace||a.rnamespace.test(g.namespace))&&(a.handleObj=g,a.data=g.data,d=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==d&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&("click"!==a.type||isNaN(a.button)||a.button<1))for(;i!==this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>-1:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,e,f,g=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||d,e=c.documentElement,f=c.body,a.pageX=b.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)),a.which||void 0===g||(a.which=1&g?1:2&g?3:4&g?2:0),a}},fix:function(a){if(a[n.expando])return a;var b,c,e,f=a.type,g=a,h=this.fixHooks[f];h||(this.fixHooks[f]=h=ea.test(f)?this.mouseHooks:da.test(f)?this.keyHooks:{}),e=h.props?this.props.concat(h.props):this.props,a=new n.Event(g),b=e.length;while(b--)c=e[b],a[c]=g[c];return a.target||(a.target=d),3===a.target.nodeType&&(a.target=a.target.parentNode),h.filter?h.filter(a,g):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==ia()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===ia()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&n.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?ga:ha):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={constructor:n.Event,isDefaultPrevented:ha,isPropagationStopped:ha,isImmediatePropagationStopped:ha,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ga,a&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ga,a&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ga,a&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!n.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),n.fn.extend({on:function(a,b,c,d){return ja(this,a,b,c,d)},one:function(a,b,c,d){return ja(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=ha),this.each(function(){n.event.remove(this,a,c,b)})}});var ka=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,la=/<script|<style|<link/i,ma=/checked\s*(?:[^=]|=\s*.checked.)/i,na=/^true\/(.*)/,oa=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function pa(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a:a}function qa(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function ra(a){var b=na.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function sa(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(N.hasData(a)&&(f=N.access(a),g=N.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)n.event.add(b,e,j[e][c])}O.hasData(a)&&(h=O.access(a),i=n.extend({},h),O.set(b,i))}}function ta(a,b){var c=b.nodeName.toLowerCase();"input"===c&&X.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}function ua(a,b,c,d){b=f.apply([],b);var e,g,h,i,j,k,m=0,o=a.length,p=o-1,q=b[0],r=n.isFunction(q);if(r||o>1&&"string"==typeof q&&!l.checkClone&&ma.test(q))return a.each(function(e){var f=a.eq(e);r&&(b[0]=q.call(this,e,f.html())),ua(f,b,c,d)});if(o&&(e=ca(b,a[0].ownerDocument,!1,a,d),g=e.firstChild,1===e.childNodes.length&&(e=g),g||d)){for(h=n.map(_(e,"script"),qa),i=h.length;o>m;m++)j=e,m!==p&&(j=n.clone(j,!0,!0),i&&n.merge(h,_(j,"script"))),c.call(a[m],j,m);if(i)for(k=h[h.length-1].ownerDocument,n.map(h,ra),m=0;i>m;m++)j=h[m],Z.test(j.type||"")&&!N.access(j,"globalEval")&&n.contains(k,j)&&(j.src?n._evalUrl&&n._evalUrl(j.src):n.globalEval(j.textContent.replace(oa,"")))}return a}function va(a,b,c){for(var d,e=b?n.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||n.cleanData(_(d)),d.parentNode&&(c&&n.contains(d.ownerDocument,d)&&aa(_(d,"script")),d.parentNode.removeChild(d));return a}n.extend({htmlPrefilter:function(a){return a.replace(ka,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(l.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(g=_(h),f=_(a),d=0,e=f.length;e>d;d++)ta(f[d],g[d]);if(b)if(c)for(f=f||_(a),g=g||_(h),d=0,e=f.length;e>d;d++)sa(f[d],g[d]);else sa(a,h);return g=_(h,"script"),g.length>0&&aa(g,!i&&_(a,"script")),h},cleanData:function(a){for(var b,c,d,e=n.event.special,f=0;void 0!==(c=a[f]);f++)if(L(c)){if(b=c[N.expando]){if(b.events)for(d in b.events)e[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle);c[N.expando]=void 0}c[O.expando]&&(c[O.expando]=void 0)}}}),n.fn.extend({domManip:ua,detach:function(a){return va(this,a,!0)},remove:function(a){return va(this,a)},text:function(a){return K(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return ua(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=pa(this,a);b.appendChild(a)}})},prepend:function(){return ua(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=pa(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return ua(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return ua(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(n.cleanData(_(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return K(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!la.test(a)&&!$[(Y.exec(a)||["",""])[1].toLowerCase()]){a=n.htmlPrefilter(a);try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(_(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return ua(this,arguments,function(b){var c=this.parentNode;n.inArray(this,a)<0&&(n.cleanData(_(this)),c&&c.replaceChild(b,this))},a)}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),f=e.length-1,h=0;f>=h;h++)c=h===f?this:this.clone(!0),n(e[h])[b](c),g.apply(d,c.get());return this.pushStack(d)}});var wa,xa={HTML:"block",BODY:"block"};function ya(a,b){var c=n(b.createElement(a)).appendTo(b.body),d=n.css(c[0],"display");return c.detach(),d}function za(a){var b=d,c=xa[a];return c||(c=ya(a,b),"none"!==c&&c||(wa=(wa||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=wa[0].contentDocument,b.write(),b.close(),c=ya(a,b),wa.detach()),xa[a]=c),c}var Aa=/^margin/,Ba=new RegExp("^("+S+")(?!px)[a-z%]+$","i"),Ca=function(b){var c=b.ownerDocument.defaultView;return c.opener||(c=a),c.getComputedStyle(b)},Da=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e},Ea=d.documentElement;!function(){var b,c,e,f,g=d.createElement("div"),h=d.createElement("div");if(h.style){h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===h.style.backgroundClip,g.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",g.appendChild(h);function i(){h.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",h.innerHTML="",Ea.appendChild(g);var d=a.getComputedStyle(h);b="1%"!==d.top,f="2px"===d.marginLeft,c="4px"===d.width,h.style.marginRight="50%",e="4px"===d.marginRight,Ea.removeChild(g)}n.extend(l,{pixelPosition:function(){return i(),b},boxSizingReliable:function(){return null==c&&i(),c},pixelMarginRight:function(){return null==c&&i(),e},reliableMarginLeft:function(){return null==c&&i(),f},reliableMarginRight:function(){var b,c=h.appendChild(d.createElement("div"));return c.style.cssText=h.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",h.style.width="1px",Ea.appendChild(g),b=!parseFloat(a.getComputedStyle(c).marginRight),Ea.removeChild(g),h.removeChild(c),b}})}}();function Fa(a,b,c){var d,e,f,g,h=a.style;return c=c||Ca(a),c&&(g=c.getPropertyValue(b)||c[b],""!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),!l.pixelMarginRight()&&Ba.test(g)&&Aa.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function Ga(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}var Ha=/^(none|table(?!-c[ea]).+)/,Ia={position:"absolute",visibility:"hidden",display:"block"},Ja={letterSpacing:"0",fontWeight:"400"},Ka=["Webkit","O","Moz","ms"],La=d.createElement("div").style;function Ma(a){if(a in La)return a;var b=a[0].toUpperCase()+a.slice(1),c=Ka.length;while(c--)if(a=Ka[c]+b,a in La)return a}function Na(a,b,c){var d=T.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||"px"):b}function Oa(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=n.css(a,c+U[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+U[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+U[f]+"Width",!0,e))):(g+=n.css(a,"padding"+U[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+U[f]+"Width",!0,e)));return g}function Pa(b,c,e){var f=!0,g="width"===c?b.offsetWidth:b.offsetHeight,h=Ca(b),i="border-box"===n.css(b,"boxSizing",!1,h);if(d.msFullscreenElement&&a.top!==a&&b.getClientRects().length&&(g=Math.round(100*b.getBoundingClientRect()[c])),0>=g||null==g){if(g=Fa(b,c,h),(0>g||null==g)&&(g=b.style[c]),Ba.test(g))return g;f=i&&(l.boxSizingReliable()||g===b.style[c]),g=parseFloat(g)||0}return g+Oa(b,c,e||(i?"border":"content"),f,h)+"px"}function Qa(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=N.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&V(d)&&(f[g]=N.access(d,"olddisplay",za(d.nodeName)))):(e=V(d),"none"===c&&e||N.set(d,"olddisplay",e?c:n.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Fa(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Ma(h)||h),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=T.exec(c))&&e[1]&&(c=W(a,b,e),f="number"),null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(n.cssNumber[h]?"":"px")),l.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Ma(h)||h),g=n.cssHooks[b]||n.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=Fa(a,b,d)),"normal"===e&&b in Ja&&(e=Ja[b]),""===c||c?(f=parseFloat(e),c===!0||isFinite(f)?f||0:e):e}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?Ha.test(n.css(a,"display"))&&0===a.offsetWidth?Da(a,Ia,function(){return Pa(a,b,d)}):Pa(a,b,d):void 0},set:function(a,c,d){var e,f=d&&Ca(a),g=d&&Oa(a,b,d,"border-box"===n.css(a,"boxSizing",!1,f),f);return g&&(e=T.exec(c))&&"px"!==(e[3]||"px")&&(a.style[b]=c,c=n.css(a,b)),Na(a,c,g)}}}),n.cssHooks.marginLeft=Ga(l.reliableMarginLeft,function(a,b){return b?(parseFloat(Fa(a,"marginLeft"))||a.getBoundingClientRect().left-Da(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px":void 0}),n.cssHooks.marginRight=Ga(l.reliableMarginRight,function(a,b){return b?Da(a,{display:"inline-block"},Fa,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+U[d]+b]=f[d]||f[d-2]||f[0];return e}},Aa.test(a)||(n.cssHooks[a+b].set=Na)}),n.fn.extend({css:function(a,b){return K(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=Ca(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Qa(this,!0)},hide:function(){return Qa(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){V(this)?n(this).show():n(this).hide()})}});function Ra(a,b,c,d,e){return new Ra.prototype.init(a,b,c,d,e)}n.Tween=Ra,Ra.prototype={constructor:Ra,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||n.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=Ra.propHooks[this.prop];return a&&a.get?a.get(this):Ra.propHooks._default.get(this)},run:function(a){var b,c=Ra.propHooks[this.prop];return this.options.duration?this.pos=b=n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Ra.propHooks._default.set(this),this}},Ra.prototype.init.prototype=Ra.prototype,Ra.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[n.cssProps[a.prop]]&&!n.cssHooks[a.prop]?a.elem[a.prop]=a.now:n.style(a.elem,a.prop,a.now+a.unit)}}},Ra.propHooks.scrollTop=Ra.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},n.fx=Ra.prototype.init,n.fx.step={};var Sa,Ta,Ua=/^(?:toggle|show|hide)$/,Va=/queueHooks$/;function Wa(){return a.setTimeout(function(){Sa=void 0}),Sa=n.now()}function Xa(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=U[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function Ya(a,b,c){for(var d,e=(_a.tweeners[b]||[]).concat(_a.tweeners["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function Za(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},o=a.style,p=a.nodeType&&V(a),q=N.get(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=n.css(a,"display"),k="none"===j?N.get(a,"olddisplay")||za(a.nodeName):j,"inline"===k&&"none"===n.css(a,"float")&&(o.display="inline-block")),c.overflow&&(o.overflow="hidden",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Ua.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}m[d]=q&&q[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(m))"inline"===("none"===j?za(a.nodeName):j)&&(o.display=j);else{q?"hidden"in q&&(p=q.hidden):q=N.access(a,"fxshow",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;N.remove(a,"fxshow");for(b in m)n.style(a,b,m[b])});for(d in m)g=Ya(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function $a(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function _a(a,b,c){var d,e,f=0,g=_a.prefilters.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Sa||Wa(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{},easing:n.easing._default},c),originalProperties:b,originalOptions:c,startTime:Sa||Wa(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for($a(k,j.opts.specialEasing);g>f;f++)if(d=_a.prefilters[f].call(j,a,k,j.opts))return n.isFunction(d.stop)&&(n._queueHooks(j.elem,j.opts.queue).stop=n.proxy(d.stop,d)),d;return n.map(k,Ya,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(_a,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return W(c.elem,a,T.exec(b),c),c}]},tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.match(G);for(var c,d=0,e=a.length;e>d;d++)c=a[d],_a.tweeners[c]=_a.tweeners[c]||[],_a.tweeners[c].unshift(b)},prefilters:[Za],prefilter:function(a,b){b?_a.prefilters.unshift(a):_a.prefilters.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(V).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=_a(this,n.extend({},a),f);(e||N.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=N.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Va.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=N.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Xa(b,!0),a,d,e)}}),n.each({slideDown:Xa("show"),slideUp:Xa("hide"),slideToggle:Xa("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(Sa=n.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||n.fx.stop(),Sa=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Ta||(Ta=a.setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){a.clearInterval(Ta),Ta=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(b,c){return b=n.fx?n.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a=d.createElement("input"),b=d.createElement("select"),c=b.appendChild(d.createElement("option"));a.type="checkbox",l.checkOn=""!==a.value,l.optSelected=c.selected,b.disabled=!0,l.optDisabled=!c.disabled,a=d.createElement("input"),a.value="t",a.type="radio",l.radioValue="t"===a.value}();var ab,bb=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return K(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return"undefined"==typeof a.getAttribute?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),e=n.attrHooks[b]||(n.expr.match.bool.test(b)?ab:void 0)),void 0!==c?null===c?void n.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:(d=n.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!l.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(G);if(f&&1===a.nodeType)while(c=f[e++])d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)}}),ab={set:function(a,b,c){return b===!1?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=bb[b]||n.find.attr;bb[b]=function(a,b,d){var e,f;return d||(f=bb[b],bb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,bb[b]=f),e}});var cb=/^(?:input|select|textarea|button)$/i,db=/^(?:a|area)$/i;n.fn.extend({prop:function(a,b){return K(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&n.isXMLDoc(a)||(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b];
},propHooks:{tabIndex:{get:function(a){var b=n.find.attr(a,"tabindex");return b?parseInt(b,10):cb.test(a.nodeName)||db.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),l.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this});var eb=/[\t\r\n\f]/g;function fb(a){return a.getAttribute&&a.getAttribute("class")||""}n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,fb(this)))});if("string"==typeof a&&a){b=a.match(G)||[];while(c=this[i++])if(e=fb(c),d=1===c.nodeType&&(" "+e+" ").replace(eb," ")){g=0;while(f=b[g++])d.indexOf(" "+f+" ")<0&&(d+=f+" ");h=n.trim(d),e!==h&&c.setAttribute("class",h)}}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,fb(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a){b=a.match(G)||[];while(c=this[i++])if(e=fb(c),d=1===c.nodeType&&(" "+e+" ").replace(eb," ")){g=0;while(f=b[g++])while(d.indexOf(" "+f+" ")>-1)d=d.replace(" "+f+" "," ");h=n.trim(d),e!==h&&c.setAttribute("class",h)}}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):n.isFunction(a)?this.each(function(c){n(this).toggleClass(a.call(this,c,fb(this),b),b)}):this.each(function(){var b,d,e,f;if("string"===c){d=0,e=n(this),f=a.match(G)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else(void 0===a||"boolean"===c)&&(b=fb(this),b&&N.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||a===!1?"":N.get(this,"__className__")||""))})},hasClass:function(a){var b,c,d=0;b=" "+a+" ";while(c=this[d++])if(1===c.nodeType&&(" "+fb(c)+" ").replace(eb," ").indexOf(b)>-1)return!0;return!1}});var gb=/\r/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(gb,""):null==c?"":c)}}}),n.extend({valHooks:{option:{get:function(a){return n.trim(a.value)}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],(c.selected||i===e)&&(l.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--)d=e[g],(d.selected=n.inArray(n.valHooks.option.get(d),f)>-1)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>-1:void 0}},l.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var hb=/^(?:focusinfocus|focusoutblur)$/;n.extend(n.event,{trigger:function(b,c,e,f){var g,h,i,j,l,m,o,p=[e||d],q=k.call(b,"type")?b.type:b,r=k.call(b,"namespace")?b.namespace.split("."):[];if(h=i=e=e||d,3!==e.nodeType&&8!==e.nodeType&&!hb.test(q+n.event.triggered)&&(q.indexOf(".")>-1&&(r=q.split("."),q=r.shift(),r.sort()),l=q.indexOf(":")<0&&"on"+q,b=b[n.expando]?b:new n.Event(q,"object"==typeof b&&b),b.isTrigger=f?2:3,b.namespace=r.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=e),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},f||!o.trigger||o.trigger.apply(e,c)!==!1)){if(!f&&!o.noBubble&&!n.isWindow(e)){for(j=o.delegateType||q,hb.test(j+q)||(h=h.parentNode);h;h=h.parentNode)p.push(h),i=h;i===(e.ownerDocument||d)&&p.push(i.defaultView||i.parentWindow||a)}g=0;while((h=p[g++])&&!b.isPropagationStopped())b.type=g>1?j:o.bindType||q,m=(N.get(h,"events")||{})[b.type]&&N.get(h,"handle"),m&&m.apply(h,c),m=l&&h[l],m&&m.apply&&L(h)&&(b.result=m.apply(h,c),b.result===!1&&b.preventDefault());return b.type=q,f||b.isDefaultPrevented()||o._default&&o._default.apply(p.pop(),c)!==!1||!L(e)||l&&n.isFunction(e[q])&&!n.isWindow(e)&&(i=e[l],i&&(e[l]=null),n.event.triggered=q,e[q](),n.event.triggered=void 0,i&&(e[l]=i)),b.result}},simulate:function(a,b,c){var d=n.extend(new n.Event,c,{type:a,isSimulated:!0});n.event.trigger(d,null,b),d.isDefaultPrevented()&&c.preventDefault()}}),n.fn.extend({trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),l.focusin="onfocusin"in a,l.focusin||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a))};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=N.access(d,b);e||d.addEventListener(a,c,!0),N.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=N.access(d,b)-1;e?N.access(d,b,e):(d.removeEventListener(a,c,!0),N.remove(d,b))}}});var ib=a.location,jb=n.now(),kb=/\?/;n.parseJSON=function(a){return JSON.parse(a+"")},n.parseXML=function(b){var c;if(!b||"string"!=typeof b)return null;try{c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(d){c=void 0}return(!c||c.getElementsByTagName("parsererror").length)&&n.error("Invalid XML: "+b),c};var lb=/#.*$/,mb=/([?&])_=[^&]*/,nb=/^(.*?):[ \t]*([^\r\n]*)$/gm,ob=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,pb=/^(?:GET|HEAD)$/,qb=/^\/\//,rb={},sb={},tb="*/".concat("*"),ub=d.createElement("a");ub.href=ib.href;function vb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(G)||[];if(n.isFunction(c))while(d=f[e++])"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function wb(a,b,c,d){var e={},f=a===sb;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function xb(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&n.extend(!0,a,d),a}function yb(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function zb(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ib.href,type:"GET",isLocal:ob.test(ib.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":tb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?xb(xb(a,n.ajaxSettings),b):xb(n.ajaxSettings,a)},ajaxPrefilter:vb(rb),ajaxTransport:vb(sb),ajax:function(b,c){"object"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m=n.ajaxSetup({},c),o=m.context||m,p=m.context&&(o.nodeType||o.jquery)?n(o):n.event,q=n.Deferred(),r=n.Callbacks("once memory"),s=m.statusCode||{},t={},u={},v=0,w="canceled",x={readyState:0,getResponseHeader:function(a){var b;if(2===v){if(!h){h={};while(b=nb.exec(g))h[b[1].toLowerCase()]=b[2]}b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===v?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return v||(a=u[c]=u[c]||a,t[a]=b),this},overrideMimeType:function(a){return v||(m.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>v)for(b in a)s[b]=[s[b],a[b]];else x.always(a[x.status]);return this},abort:function(a){var b=a||w;return e&&e.abort(b),z(0,b),this}};if(q.promise(x).complete=r.add,x.success=x.done,x.error=x.fail,m.url=((b||m.url||ib.href)+"").replace(lb,"").replace(qb,ib.protocol+"//"),m.type=c.method||c.type||m.method||m.type,m.dataTypes=n.trim(m.dataType||"*").toLowerCase().match(G)||[""],null==m.crossDomain){j=d.createElement("a");try{j.href=m.url,j.href=j.href,m.crossDomain=ub.protocol+"//"+ub.host!=j.protocol+"//"+j.host}catch(y){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=n.param(m.data,m.traditional)),wb(rb,m,c,x),2===v)return x;k=n.event&&m.global,k&&0===n.active++&&n.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!pb.test(m.type),f=m.url,m.hasContent||(m.data&&(f=m.url+=(kb.test(f)?"&":"?")+m.data,delete m.data),m.cache===!1&&(m.url=mb.test(f)?f.replace(mb,"$1_="+jb++):f+(kb.test(f)?"&":"?")+"_="+jb++)),m.ifModified&&(n.lastModified[f]&&x.setRequestHeader("If-Modified-Since",n.lastModified[f]),n.etag[f]&&x.setRequestHeader("If-None-Match",n.etag[f])),(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&x.setRequestHeader("Content-Type",m.contentType),x.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+tb+"; q=0.01":""):m.accepts["*"]);for(l in m.headers)x.setRequestHeader(l,m.headers[l]);if(m.beforeSend&&(m.beforeSend.call(o,x,m)===!1||2===v))return x.abort();w="abort";for(l in{success:1,error:1,complete:1})x[l](m[l]);if(e=wb(sb,m,c,x)){if(x.readyState=1,k&&p.trigger("ajaxSend",[x,m]),2===v)return x;m.async&&m.timeout>0&&(i=a.setTimeout(function(){x.abort("timeout")},m.timeout));try{v=1,e.send(t,z)}catch(y){if(!(2>v))throw y;z(-1,y)}}else z(-1,"No Transport");function z(b,c,d,h){var j,l,t,u,w,y=c;2!==v&&(v=2,i&&a.clearTimeout(i),e=void 0,g=h||"",x.readyState=b>0?4:0,j=b>=200&&300>b||304===b,d&&(u=yb(m,x,d)),u=zb(m,u,x,j),j?(m.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(n.lastModified[f]=w),w=x.getResponseHeader("etag"),w&&(n.etag[f]=w)),204===b||"HEAD"===m.type?y="nocontent":304===b?y="notmodified":(y=u.state,l=u.data,t=u.error,j=!t)):(t=y,(b||!y)&&(y="error",0>b&&(b=0))),x.status=b,x.statusText=(c||y)+"",j?q.resolveWith(o,[l,y,x]):q.rejectWith(o,[x,y,t]),x.statusCode(s),s=void 0,k&&p.trigger(j?"ajaxSuccess":"ajaxError",[x,m,j?l:t]),r.fireWith(o,[x,y]),k&&(p.trigger("ajaxComplete",[x,m]),--n.active||n.event.trigger("ajaxStop")))}return x},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax(n.extend({url:a,type:b,dataType:e,data:c,success:d},n.isPlainObject(a)&&a))}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(a){var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return n.isFunction(a)?this.each(function(b){n(this).wrapInner(a.call(this,b))}):this.each(function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return!n.expr.filters.visible(a)},n.expr.filters.visible=function(a){return a.offsetWidth>0||a.offsetHeight>0||a.getClientRects().length>0};var Ab=/%20/g,Bb=/\[\]$/,Cb=/\r?\n/g,Db=/^(?:submit|button|image|reset|file)$/i,Eb=/^(?:input|select|textarea|keygen)/i;function Fb(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||Bb.test(a)?d(a,e):Fb(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d)});else if(c||"object"!==n.type(b))d(a,b);else for(e in b)Fb(a+"["+e+"]",b[e],c,d)}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Fb(c,a[c],b,e);return d.join("&").replace(Ab,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&Eb.test(this.nodeName)&&!Db.test(a)&&(this.checked||!X.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(Cb,"\r\n")}}):{name:b.name,value:c.replace(Cb,"\r\n")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(b){}};var Gb={0:200,1223:204},Hb=n.ajaxSettings.xhr();l.cors=!!Hb&&"withCredentials"in Hb,l.ajax=Hb=!!Hb,n.ajaxTransport(function(b){var c,d;return l.cors||Hb&&!b.crossDomain?{send:function(e,f){var g,h=b.xhr();if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(g in b.xhrFields)h[g]=b.xhrFields[g];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(g in e)h.setRequestHeader(g,e[g]);c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.onreadystatechange=null,"abort"===a?h.abort():"error"===a?"number"!=typeof h.status?f(0,"error"):f(h.status,h.statusText):f(Gb[h.status]||h.status,h.statusText,"text"!==(h.responseType||"text")||"string"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=c("error"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})},c=c("abort");try{h.send(b.hasContent&&b.data||null)}catch(i){if(c)throw i}},abort:function(){c&&c()}}:void 0}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(e,f){b=n("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&f("error"===a.type?404:200,a.type)}),d.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Ib=[],Jb=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Ib.pop()||n.expando+"_"+jb++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Jb.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Jb.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Jb,"$1"+e):b.jsonp!==!1&&(b.url+=(kb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?n(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Ib.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),l.createHTMLDocument=function(){var a=d.implementation.createHTMLDocument("").body;return a.innerHTML="<form></form><form></form>",2===a.childNodes.length}(),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||(l.createHTMLDocument?d.implementation.createHTMLDocument(""):d);var e=x.exec(a),f=!c&&[];return e?[b.createElement(e[1])]:(e=ca([a],b,f),f&&f.length&&n(f).remove(),n.merge([],e.childNodes))};var Kb=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&Kb)return Kb.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&n.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(g,f||[a.responseText,b,a])})}),this},n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};function Lb(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,n.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,n.contains(b,d)?(e=d.getBoundingClientRect(),c=Lb(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===n.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(d=a.offset()),d.top+=n.css(a[0],"borderTopWidth",!0)-a.scrollTop(),d.left+=n.css(a[0],"borderLeftWidth",!0)-a.scrollLeft()),{top:b.top-d.top-n.css(c,"marginTop",!0),left:b.left-d.left-n.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent;while(a&&"static"===n.css(a,"position"))a=a.offsetParent;return a||Ea})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;n.fn[a]=function(d){return K(this,function(a,d,e){var f=Lb(a);return void 0===e?f?f[b]:a[d]:void(f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e)},a,d,arguments.length)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=Ga(l.pixelPosition,function(a,c){return c?(c=Fa(a,b),Ba.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return K(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)},size:function(){return this.length}}),n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var Mb=a.jQuery,Nb=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Nb),b&&a.jQuery===n&&(a.jQuery=Mb),n},b||(a.jQuery=a.$=n),n});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJqcXVlcnkubWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISBqUXVlcnkgdjIuMi4wIHwgKGMpIGpRdWVyeSBGb3VuZGF0aW9uIHwganF1ZXJ5Lm9yZy9saWNlbnNlICovXG4hZnVuY3Rpb24oYSxiKXtcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9YS5kb2N1bWVudD9iKGEsITApOmZ1bmN0aW9uKGEpe2lmKCFhLmRvY3VtZW50KXRocm93IG5ldyBFcnJvcihcImpRdWVyeSByZXF1aXJlcyBhIHdpbmRvdyB3aXRoIGEgZG9jdW1lbnRcIik7cmV0dXJuIGIoYSl9OmIoYSl9KFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OnRoaXMsZnVuY3Rpb24oYSxiKXt2YXIgYz1bXSxkPWEuZG9jdW1lbnQsZT1jLnNsaWNlLGY9Yy5jb25jYXQsZz1jLnB1c2gsaD1jLmluZGV4T2YsaT17fSxqPWkudG9TdHJpbmcsaz1pLmhhc093blByb3BlcnR5LGw9e30sbT1cIjIuMi4wXCIsbj1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgbi5mbi5pbml0KGEsYil9LG89L15bXFxzXFx1RkVGRlxceEEwXSt8W1xcc1xcdUZFRkZcXHhBMF0rJC9nLHA9L14tbXMtLyxxPS8tKFtcXGRhLXpdKS9naSxyPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGIudG9VcHBlckNhc2UoKX07bi5mbj1uLnByb3RvdHlwZT17anF1ZXJ5Om0sY29uc3RydWN0b3I6bixzZWxlY3RvcjpcIlwiLGxlbmd0aDowLHRvQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gZS5jYWxsKHRoaXMpfSxnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWE/MD5hP3RoaXNbYSt0aGlzLmxlbmd0aF06dGhpc1thXTplLmNhbGwodGhpcyl9LHB1c2hTdGFjazpmdW5jdGlvbihhKXt2YXIgYj1uLm1lcmdlKHRoaXMuY29uc3RydWN0b3IoKSxhKTtyZXR1cm4gYi5wcmV2T2JqZWN0PXRoaXMsYi5jb250ZXh0PXRoaXMuY29udGV4dCxifSxlYWNoOmZ1bmN0aW9uKGEpe3JldHVybiBuLmVhY2godGhpcyxhKX0sbWFwOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnB1c2hTdGFjayhuLm1hcCh0aGlzLGZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEuY2FsbChiLGMsYil9KSl9LHNsaWNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGUuYXBwbHkodGhpcyxhcmd1bWVudHMpKX0sZmlyc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgwKX0sbGFzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKC0xKX0sZXE6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5sZW5ndGgsYz0rYSsoMD5hP2I6MCk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGM+PTAmJmI+Yz9bdGhpc1tjXV06W10pfSxlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcmV2T2JqZWN0fHx0aGlzLmNvbnN0cnVjdG9yKCl9LHB1c2g6Zyxzb3J0OmMuc29ydCxzcGxpY2U6Yy5zcGxpY2V9LG4uZXh0ZW5kPW4uZm4uZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIGEsYixjLGQsZSxmLGc9YXJndW1lbnRzWzBdfHx7fSxoPTEsaT1hcmd1bWVudHMubGVuZ3RoLGo9ITE7Zm9yKFwiYm9vbGVhblwiPT10eXBlb2YgZyYmKGo9ZyxnPWFyZ3VtZW50c1toXXx8e30saCsrKSxcIm9iamVjdFwiPT10eXBlb2YgZ3x8bi5pc0Z1bmN0aW9uKGcpfHwoZz17fSksaD09PWkmJihnPXRoaXMsaC0tKTtpPmg7aCsrKWlmKG51bGwhPShhPWFyZ3VtZW50c1toXSkpZm9yKGIgaW4gYSljPWdbYl0sZD1hW2JdLGchPT1kJiYoaiYmZCYmKG4uaXNQbGFpbk9iamVjdChkKXx8KGU9bi5pc0FycmF5KGQpKSk/KGU/KGU9ITEsZj1jJiZuLmlzQXJyYXkoYyk/YzpbXSk6Zj1jJiZuLmlzUGxhaW5PYmplY3QoYyk/Yzp7fSxnW2JdPW4uZXh0ZW5kKGosZixkKSk6dm9pZCAwIT09ZCYmKGdbYl09ZCkpO3JldHVybiBnfSxuLmV4dGVuZCh7ZXhwYW5kbzpcImpRdWVyeVwiKyhtK01hdGgucmFuZG9tKCkpLnJlcGxhY2UoL1xcRC9nLFwiXCIpLGlzUmVhZHk6ITAsZXJyb3I6ZnVuY3Rpb24oYSl7dGhyb3cgbmV3IEVycm9yKGEpfSxub29wOmZ1bmN0aW9uKCl7fSxpc0Z1bmN0aW9uOmZ1bmN0aW9uKGEpe3JldHVyblwiZnVuY3Rpb25cIj09PW4udHlwZShhKX0saXNBcnJheTpBcnJheS5pc0FycmF5LGlzV2luZG93OmZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hJiZhPT09YS53aW5kb3d9LGlzTnVtZXJpYzpmdW5jdGlvbihhKXt2YXIgYj1hJiZhLnRvU3RyaW5nKCk7cmV0dXJuIW4uaXNBcnJheShhKSYmYi1wYXJzZUZsb2F0KGIpKzE+PTB9LGlzUGxhaW5PYmplY3Q6ZnVuY3Rpb24oYSl7cmV0dXJuXCJvYmplY3RcIiE9PW4udHlwZShhKXx8YS5ub2RlVHlwZXx8bi5pc1dpbmRvdyhhKT8hMTphLmNvbnN0cnVjdG9yJiYhay5jYWxsKGEuY29uc3RydWN0b3IucHJvdG90eXBlLFwiaXNQcm90b3R5cGVPZlwiKT8hMTohMH0saXNFbXB0eU9iamVjdDpmdW5jdGlvbihhKXt2YXIgYjtmb3IoYiBpbiBhKXJldHVybiExO3JldHVybiEwfSx0eXBlOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hP2ErXCJcIjpcIm9iamVjdFwiPT10eXBlb2YgYXx8XCJmdW5jdGlvblwiPT10eXBlb2YgYT9pW2ouY2FsbChhKV18fFwib2JqZWN0XCI6dHlwZW9mIGF9LGdsb2JhbEV2YWw6ZnVuY3Rpb24oYSl7dmFyIGIsYz1ldmFsO2E9bi50cmltKGEpLGEmJigxPT09YS5pbmRleE9mKFwidXNlIHN0cmljdFwiKT8oYj1kLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIiksYi50ZXh0PWEsZC5oZWFkLmFwcGVuZENoaWxkKGIpLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYikpOmMoYSkpfSxjYW1lbENhc2U6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZShwLFwibXMtXCIpLnJlcGxhY2UocSxyKX0sbm9kZU5hbWU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5ub2RlTmFtZSYmYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09Yi50b0xvd2VyQ2FzZSgpfSxlYWNoOmZ1bmN0aW9uKGEsYil7dmFyIGMsZD0wO2lmKHMoYSkpe2ZvcihjPWEubGVuZ3RoO2M+ZDtkKyspaWYoYi5jYWxsKGFbZF0sZCxhW2RdKT09PSExKWJyZWFrfWVsc2UgZm9yKGQgaW4gYSlpZihiLmNhbGwoYVtkXSxkLGFbZF0pPT09ITEpYnJlYWs7cmV0dXJuIGF9LHRyaW06ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWE/XCJcIjooYStcIlwiKS5yZXBsYWNlKG8sXCJcIil9LG1ha2VBcnJheTpmdW5jdGlvbihhLGIpe3ZhciBjPWJ8fFtdO3JldHVybiBudWxsIT1hJiYocyhPYmplY3QoYSkpP24ubWVyZ2UoYyxcInN0cmluZ1wiPT10eXBlb2YgYT9bYV06YSk6Zy5jYWxsKGMsYSkpLGN9LGluQXJyYXk6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBudWxsPT1iPy0xOmguY2FsbChiLGEsYyl9LG1lcmdlOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPStiLmxlbmd0aCxkPTAsZT1hLmxlbmd0aDtjPmQ7ZCsrKWFbZSsrXT1iW2RdO3JldHVybiBhLmxlbmd0aD1lLGF9LGdyZXA6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZCxlPVtdLGY9MCxnPWEubGVuZ3RoLGg9IWM7Zz5mO2YrKylkPSFiKGFbZl0sZiksZCE9PWgmJmUucHVzaChhW2ZdKTtyZXR1cm4gZX0sbWFwOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGc9MCxoPVtdO2lmKHMoYSkpZm9yKGQ9YS5sZW5ndGg7ZD5nO2crKyllPWIoYVtnXSxnLGMpLG51bGwhPWUmJmgucHVzaChlKTtlbHNlIGZvcihnIGluIGEpZT1iKGFbZ10sZyxjKSxudWxsIT1lJiZoLnB1c2goZSk7cmV0dXJuIGYuYXBwbHkoW10saCl9LGd1aWQ6MSxwcm94eTpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZjtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgYiYmKGM9YVtiXSxiPWEsYT1jKSxuLmlzRnVuY3Rpb24oYSk/KGQ9ZS5jYWxsKGFyZ3VtZW50cywyKSxmPWZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHkoYnx8dGhpcyxkLmNvbmNhdChlLmNhbGwoYXJndW1lbnRzKSkpfSxmLmd1aWQ9YS5ndWlkPWEuZ3VpZHx8bi5ndWlkKyssZik6dm9pZCAwfSxub3c6RGF0ZS5ub3csc3VwcG9ydDpsfSksXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYobi5mbltTeW1ib2wuaXRlcmF0b3JdPWNbU3ltYm9sLml0ZXJhdG9yXSksbi5lYWNoKFwiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvciBTeW1ib2xcIi5zcGxpdChcIiBcIiksZnVuY3Rpb24oYSxiKXtpW1wiW29iamVjdCBcIitiK1wiXVwiXT1iLnRvTG93ZXJDYXNlKCl9KTtmdW5jdGlvbiBzKGEpe3ZhciBiPSEhYSYmXCJsZW5ndGhcImluIGEmJmEubGVuZ3RoLGM9bi50eXBlKGEpO3JldHVyblwiZnVuY3Rpb25cIj09PWN8fG4uaXNXaW5kb3coYSk/ITE6XCJhcnJheVwiPT09Y3x8MD09PWJ8fFwibnVtYmVyXCI9PXR5cGVvZiBiJiZiPjAmJmItMSBpbiBhfXZhciB0PWZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoLGksaixrLGwsbSxuLG8scCxxLHIscyx0LHU9XCJzaXp6bGVcIisxKm5ldyBEYXRlLHY9YS5kb2N1bWVudCx3PTAseD0wLHk9Z2EoKSx6PWdhKCksQT1nYSgpLEI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT09PWImJihsPSEwKSwwfSxDPTE8PDMxLEQ9e30uaGFzT3duUHJvcGVydHksRT1bXSxGPUUucG9wLEc9RS5wdXNoLEg9RS5wdXNoLEk9RS5zbGljZSxKPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTAsZD1hLmxlbmd0aDtkPmM7YysrKWlmKGFbY109PT1iKXJldHVybiBjO3JldHVybi0xfSxLPVwiY2hlY2tlZHxzZWxlY3RlZHxhc3luY3xhdXRvZm9jdXN8YXV0b3BsYXl8Y29udHJvbHN8ZGVmZXJ8ZGlzYWJsZWR8aGlkZGVufGlzbWFwfGxvb3B8bXVsdGlwbGV8b3BlbnxyZWFkb25seXxyZXF1aXJlZHxzY29wZWRcIixMPVwiW1xcXFx4MjBcXFxcdFxcXFxyXFxcXG5cXFxcZl1cIixNPVwiKD86XFxcXFxcXFwufFtcXFxcdy1dfFteXFxcXHgwMC1cXFxceGEwXSkrXCIsTj1cIlxcXFxbXCIrTCtcIiooXCIrTStcIikoPzpcIitMK1wiKihbKl4kfCF+XT89KVwiK0wrXCIqKD86JygoPzpcXFxcXFxcXC58W15cXFxcXFxcXCddKSopJ3xcXFwiKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcXFxcIl0pKilcXFwifChcIitNK1wiKSl8KVwiK0wrXCIqXFxcXF1cIixPPVwiOihcIitNK1wiKSg/OlxcXFwoKCgnKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcJ10pKiknfFxcXCIoKD86XFxcXFxcXFwufFteXFxcXFxcXFxcXFwiXSkqKVxcXCIpfCgoPzpcXFxcXFxcXC58W15cXFxcXFxcXCgpW1xcXFxdXXxcIitOK1wiKSopfC4qKVxcXFwpfClcIixQPW5ldyBSZWdFeHAoTCtcIitcIixcImdcIiksUT1uZXcgUmVnRXhwKFwiXlwiK0wrXCIrfCgoPzpefFteXFxcXFxcXFxdKSg/OlxcXFxcXFxcLikqKVwiK0wrXCIrJFwiLFwiZ1wiKSxSPW5ldyBSZWdFeHAoXCJeXCIrTCtcIiosXCIrTCtcIipcIiksUz1uZXcgUmVnRXhwKFwiXlwiK0wrXCIqKFs+K35dfFwiK0wrXCIpXCIrTCtcIipcIiksVD1uZXcgUmVnRXhwKFwiPVwiK0wrXCIqKFteXFxcXF0nXFxcIl0qPylcIitMK1wiKlxcXFxdXCIsXCJnXCIpLFU9bmV3IFJlZ0V4cChPKSxWPW5ldyBSZWdFeHAoXCJeXCIrTStcIiRcIiksVz17SUQ6bmV3IFJlZ0V4cChcIl4jKFwiK00rXCIpXCIpLENMQVNTOm5ldyBSZWdFeHAoXCJeXFxcXC4oXCIrTStcIilcIiksVEFHOm5ldyBSZWdFeHAoXCJeKFwiK00rXCJ8WypdKVwiKSxBVFRSOm5ldyBSZWdFeHAoXCJeXCIrTiksUFNFVURPOm5ldyBSZWdFeHAoXCJeXCIrTyksQ0hJTEQ6bmV3IFJlZ0V4cChcIl46KG9ubHl8Zmlyc3R8bGFzdHxudGh8bnRoLWxhc3QpLShjaGlsZHxvZi10eXBlKSg/OlxcXFwoXCIrTCtcIiooZXZlbnxvZGR8KChbKy1dfCkoXFxcXGQqKW58KVwiK0wrXCIqKD86KFsrLV18KVwiK0wrXCIqKFxcXFxkKyl8KSlcIitMK1wiKlxcXFwpfClcIixcImlcIiksYm9vbDpuZXcgUmVnRXhwKFwiXig/OlwiK0srXCIpJFwiLFwiaVwiKSxuZWVkc0NvbnRleHQ6bmV3IFJlZ0V4cChcIl5cIitMK1wiKls+K35dfDooZXZlbnxvZGR8ZXF8Z3R8bHR8bnRofGZpcnN0fGxhc3QpKD86XFxcXChcIitMK1wiKigoPzotXFxcXGQpP1xcXFxkKilcIitMK1wiKlxcXFwpfCkoPz1bXi1dfCQpXCIsXCJpXCIpfSxYPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2ksWT0vXmhcXGQkL2ksWj0vXltee10rXFx7XFxzKlxcW25hdGl2ZSBcXHcvLCQ9L14oPzojKFtcXHctXSspfChcXHcrKXxcXC4oW1xcdy1dKykpJC8sXz0vWyt+XS8sYWE9Lyd8XFxcXC9nLGJhPW5ldyBSZWdFeHAoXCJcXFxcXFxcXChbXFxcXGRhLWZdezEsNn1cIitMK1wiP3woXCIrTCtcIil8LilcIixcImlnXCIpLGNhPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1cIjB4XCIrYi02NTUzNjtyZXR1cm4gZCE9PWR8fGM/YjowPmQ/U3RyaW5nLmZyb21DaGFyQ29kZShkKzY1NTM2KTpTdHJpbmcuZnJvbUNoYXJDb2RlKGQ+PjEwfDU1Mjk2LDEwMjMmZHw1NjMyMCl9LGRhPWZ1bmN0aW9uKCl7bSgpfTt0cnl7SC5hcHBseShFPUkuY2FsbCh2LmNoaWxkTm9kZXMpLHYuY2hpbGROb2RlcyksRVt2LmNoaWxkTm9kZXMubGVuZ3RoXS5ub2RlVHlwZX1jYXRjaChlYSl7SD17YXBwbHk6RS5sZW5ndGg/ZnVuY3Rpb24oYSxiKXtHLmFwcGx5KGEsSS5jYWxsKGIpKX06ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmxlbmd0aCxkPTA7d2hpbGUoYVtjKytdPWJbZCsrXSk7YS5sZW5ndGg9Yy0xfX19ZnVuY3Rpb24gZmEoYSxiLGQsZSl7dmFyIGYsaCxqLGssbCxvLHIscyx3PWImJmIub3duZXJEb2N1bWVudCx4PWI/Yi5ub2RlVHlwZTo5O2lmKGQ9ZHx8W10sXCJzdHJpbmdcIiE9dHlwZW9mIGF8fCFhfHwxIT09eCYmOSE9PXgmJjExIT09eClyZXR1cm4gZDtpZighZSYmKChiP2Iub3duZXJEb2N1bWVudHx8Yjp2KSE9PW4mJm0oYiksYj1ifHxuLHApKXtpZigxMSE9PXgmJihvPSQuZXhlYyhhKSkpaWYoZj1vWzFdKXtpZig5PT09eCl7aWYoIShqPWIuZ2V0RWxlbWVudEJ5SWQoZikpKXJldHVybiBkO2lmKGouaWQ9PT1mKXJldHVybiBkLnB1c2goaiksZH1lbHNlIGlmKHcmJihqPXcuZ2V0RWxlbWVudEJ5SWQoZikpJiZ0KGIsaikmJmouaWQ9PT1mKXJldHVybiBkLnB1c2goaiksZH1lbHNle2lmKG9bMl0pcmV0dXJuIEguYXBwbHkoZCxiLmdldEVsZW1lbnRzQnlUYWdOYW1lKGEpKSxkO2lmKChmPW9bM10pJiZjLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSlyZXR1cm4gSC5hcHBseShkLGIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShmKSksZH1pZihjLnFzYSYmIUFbYStcIiBcIl0mJighcXx8IXEudGVzdChhKSkpe2lmKDEhPT14KXc9YixzPWE7ZWxzZSBpZihcIm9iamVjdFwiIT09Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXsoaz1iLmdldEF0dHJpYnV0ZShcImlkXCIpKT9rPWsucmVwbGFjZShhYSxcIlxcXFwkJlwiKTpiLnNldEF0dHJpYnV0ZShcImlkXCIsaz11KSxyPWcoYSksaD1yLmxlbmd0aCxsPVYudGVzdChrKT9cIiNcIitrOlwiW2lkPSdcIitrK1wiJ11cIjt3aGlsZShoLS0pcltoXT1sK1wiIFwiK3FhKHJbaF0pO3M9ci5qb2luKFwiLFwiKSx3PV8udGVzdChhKSYmb2EoYi5wYXJlbnROb2RlKXx8Yn1pZihzKXRyeXtyZXR1cm4gSC5hcHBseShkLHcucXVlcnlTZWxlY3RvckFsbChzKSksZH1jYXRjaCh5KXt9ZmluYWxseXtrPT09dSYmYi5yZW1vdmVBdHRyaWJ1dGUoXCJpZFwiKX19fXJldHVybiBpKGEucmVwbGFjZShRLFwiJDFcIiksYixkLGUpfWZ1bmN0aW9uIGdhKCl7dmFyIGE9W107ZnVuY3Rpb24gYihjLGUpe3JldHVybiBhLnB1c2goYytcIiBcIik+ZC5jYWNoZUxlbmd0aCYmZGVsZXRlIGJbYS5zaGlmdCgpXSxiW2MrXCIgXCJdPWV9cmV0dXJuIGJ9ZnVuY3Rpb24gaGEoYSl7cmV0dXJuIGFbdV09ITAsYX1mdW5jdGlvbiBpYShhKXt2YXIgYj1uLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dHJ5e3JldHVybiEhYShiKX1jYXRjaChjKXtyZXR1cm4hMX1maW5hbGx5e2IucGFyZW50Tm9kZSYmYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpLGI9bnVsbH19ZnVuY3Rpb24gamEoYSxiKXt2YXIgYz1hLnNwbGl0KFwifFwiKSxlPWMubGVuZ3RoO3doaWxlKGUtLSlkLmF0dHJIYW5kbGVbY1tlXV09Yn1mdW5jdGlvbiBrYShhLGIpe3ZhciBjPWImJmEsZD1jJiYxPT09YS5ub2RlVHlwZSYmMT09PWIubm9kZVR5cGUmJih+Yi5zb3VyY2VJbmRleHx8QyktKH5hLnNvdXJjZUluZGV4fHxDKTtpZihkKXJldHVybiBkO2lmKGMpd2hpbGUoYz1jLm5leHRTaWJsaW5nKWlmKGM9PT1iKXJldHVybi0xO3JldHVybiBhPzE6LTF9ZnVuY3Rpb24gbGEoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBjPWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm5cImlucHV0XCI9PT1jJiZiLnR5cGU9PT1hfX1mdW5jdGlvbiBtYShhKXtyZXR1cm4gZnVuY3Rpb24oYil7dmFyIGM9Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybihcImlucHV0XCI9PT1jfHxcImJ1dHRvblwiPT09YykmJmIudHlwZT09PWF9fWZ1bmN0aW9uIG5hKGEpe3JldHVybiBoYShmdW5jdGlvbihiKXtyZXR1cm4gYj0rYixoYShmdW5jdGlvbihjLGQpe3ZhciBlLGY9YShbXSxjLmxlbmd0aCxiKSxnPWYubGVuZ3RoO3doaWxlKGctLSljW2U9ZltnXV0mJihjW2VdPSEoZFtlXT1jW2VdKSl9KX0pfWZ1bmN0aW9uIG9hKGEpe3JldHVybiBhJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5nZXRFbGVtZW50c0J5VGFnTmFtZSYmYX1jPWZhLnN1cHBvcnQ9e30sZj1mYS5pc1hNTD1mdW5jdGlvbihhKXt2YXIgYj1hJiYoYS5vd25lckRvY3VtZW50fHxhKS5kb2N1bWVudEVsZW1lbnQ7cmV0dXJuIGI/XCJIVE1MXCIhPT1iLm5vZGVOYW1lOiExfSxtPWZhLnNldERvY3VtZW50PWZ1bmN0aW9uKGEpe3ZhciBiLGUsZz1hP2Eub3duZXJEb2N1bWVudHx8YTp2O3JldHVybiBnIT09biYmOT09PWcubm9kZVR5cGUmJmcuZG9jdW1lbnRFbGVtZW50PyhuPWcsbz1uLmRvY3VtZW50RWxlbWVudCxwPSFmKG4pLChlPW4uZGVmYXVsdFZpZXcpJiZlLnRvcCE9PWUmJihlLmFkZEV2ZW50TGlzdGVuZXI/ZS5hZGRFdmVudExpc3RlbmVyKFwidW5sb2FkXCIsZGEsITEpOmUuYXR0YWNoRXZlbnQmJmUuYXR0YWNoRXZlbnQoXCJvbnVubG9hZFwiLGRhKSksYy5hdHRyaWJ1dGVzPWlhKGZ1bmN0aW9uKGEpe3JldHVybiBhLmNsYXNzTmFtZT1cImlcIiwhYS5nZXRBdHRyaWJ1dGUoXCJjbGFzc05hbWVcIil9KSxjLmdldEVsZW1lbnRzQnlUYWdOYW1lPWlhKGZ1bmN0aW9uKGEpe3JldHVybiBhLmFwcGVuZENoaWxkKG4uY3JlYXRlQ29tbWVudChcIlwiKSksIWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCIqXCIpLmxlbmd0aH0pLGMuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZT1aLnRlc3Qobi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKSxjLmdldEJ5SWQ9aWEoZnVuY3Rpb24oYSl7cmV0dXJuIG8uYXBwZW5kQ2hpbGQoYSkuaWQ9dSwhbi5nZXRFbGVtZW50c0J5TmFtZXx8IW4uZ2V0RWxlbWVudHNCeU5hbWUodSkubGVuZ3RofSksYy5nZXRCeUlkPyhkLmZpbmQuSUQ9ZnVuY3Rpb24oYSxiKXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgYi5nZXRFbGVtZW50QnlJZCYmcCl7dmFyIGM9Yi5nZXRFbGVtZW50QnlJZChhKTtyZXR1cm4gYz9bY106W119fSxkLmZpbHRlci5JRD1mdW5jdGlvbihhKXt2YXIgYj1hLnJlcGxhY2UoYmEsY2EpO3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRBdHRyaWJ1dGUoXCJpZFwiKT09PWJ9fSk6KGRlbGV0ZSBkLmZpbmQuSUQsZC5maWx0ZXIuSUQ9ZnVuY3Rpb24oYSl7dmFyIGI9YS5yZXBsYWNlKGJhLGNhKTtyZXR1cm4gZnVuY3Rpb24oYSl7dmFyIGM9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEuZ2V0QXR0cmlidXRlTm9kZSYmYS5nZXRBdHRyaWJ1dGVOb2RlKFwiaWRcIik7cmV0dXJuIGMmJmMudmFsdWU9PT1ifX0pLGQuZmluZC5UQUc9Yy5nZXRFbGVtZW50c0J5VGFnTmFtZT9mdW5jdGlvbihhLGIpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBiLmdldEVsZW1lbnRzQnlUYWdOYW1lP2IuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYSk6Yy5xc2E/Yi5xdWVyeVNlbGVjdG9yQWxsKGEpOnZvaWQgMH06ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPVtdLGU9MCxmPWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYSk7aWYoXCIqXCI9PT1hKXt3aGlsZShjPWZbZSsrXSkxPT09Yy5ub2RlVHlwZSYmZC5wdXNoKGMpO3JldHVybiBkfXJldHVybiBmfSxkLmZpbmQuQ0xBU1M9Yy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZmdW5jdGlvbihhLGIpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBiLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJnA/Yi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGEpOnZvaWQgMH0scj1bXSxxPVtdLChjLnFzYT1aLnRlc3Qobi5xdWVyeVNlbGVjdG9yQWxsKSkmJihpYShmdW5jdGlvbihhKXtvLmFwcGVuZENoaWxkKGEpLmlubmVySFRNTD1cIjxhIGlkPSdcIit1K1wiJz48L2E+PHNlbGVjdCBpZD0nXCIrdStcIi1cXHJcXFxcJyBtc2FsbG93Y2FwdHVyZT0nJz48b3B0aW9uIHNlbGVjdGVkPScnPjwvb3B0aW9uPjwvc2VsZWN0PlwiLGEucXVlcnlTZWxlY3RvckFsbChcIlttc2FsbG93Y2FwdHVyZV49JyddXCIpLmxlbmd0aCYmcS5wdXNoKFwiWypeJF09XCIrTCtcIiooPzonJ3xcXFwiXFxcIilcIiksYS5xdWVyeVNlbGVjdG9yQWxsKFwiW3NlbGVjdGVkXVwiKS5sZW5ndGh8fHEucHVzaChcIlxcXFxbXCIrTCtcIiooPzp2YWx1ZXxcIitLK1wiKVwiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbaWR+PVwiK3UrXCItXVwiKS5sZW5ndGh8fHEucHVzaChcIn49XCIpLGEucXVlcnlTZWxlY3RvckFsbChcIjpjaGVja2VkXCIpLmxlbmd0aHx8cS5wdXNoKFwiOmNoZWNrZWRcIiksYS5xdWVyeVNlbGVjdG9yQWxsKFwiYSNcIit1K1wiKypcIikubGVuZ3RofHxxLnB1c2goXCIuIy4rWyt+XVwiKX0pLGlhKGZ1bmN0aW9uKGEpe3ZhciBiPW4uY3JlYXRlRWxlbWVudChcImlucHV0XCIpO2Iuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwiaGlkZGVuXCIpLGEuYXBwZW5kQ2hpbGQoYikuc2V0QXR0cmlidXRlKFwibmFtZVwiLFwiRFwiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbbmFtZT1kXVwiKS5sZW5ndGgmJnEucHVzaChcIm5hbWVcIitMK1wiKlsqXiR8IX5dPz1cIiksYS5xdWVyeVNlbGVjdG9yQWxsKFwiOmVuYWJsZWRcIikubGVuZ3RofHxxLnB1c2goXCI6ZW5hYmxlZFwiLFwiOmRpc2FibGVkXCIpLGEucXVlcnlTZWxlY3RvckFsbChcIiosOnhcIikscS5wdXNoKFwiLC4qOlwiKX0pKSwoYy5tYXRjaGVzU2VsZWN0b3I9Wi50ZXN0KHM9by5tYXRjaGVzfHxvLndlYmtpdE1hdGNoZXNTZWxlY3Rvcnx8by5tb3pNYXRjaGVzU2VsZWN0b3J8fG8ub01hdGNoZXNTZWxlY3Rvcnx8by5tc01hdGNoZXNTZWxlY3RvcikpJiZpYShmdW5jdGlvbihhKXtjLmRpc2Nvbm5lY3RlZE1hdGNoPXMuY2FsbChhLFwiZGl2XCIpLHMuY2FsbChhLFwiW3MhPScnXTp4XCIpLHIucHVzaChcIiE9XCIsTyl9KSxxPXEubGVuZ3RoJiZuZXcgUmVnRXhwKHEuam9pbihcInxcIikpLHI9ci5sZW5ndGgmJm5ldyBSZWdFeHAoci5qb2luKFwifFwiKSksYj1aLnRlc3Qoby5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiksdD1ifHxaLnRlc3Qoby5jb250YWlucyk/ZnVuY3Rpb24oYSxiKXt2YXIgYz05PT09YS5ub2RlVHlwZT9hLmRvY3VtZW50RWxlbWVudDphLGQ9YiYmYi5wYXJlbnROb2RlO3JldHVybiBhPT09ZHx8ISghZHx8MSE9PWQubm9kZVR5cGV8fCEoYy5jb250YWlucz9jLmNvbnRhaW5zKGQpOmEuY29tcGFyZURvY3VtZW50UG9zaXRpb24mJjE2JmEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZCkpKX06ZnVuY3Rpb24oYSxiKXtpZihiKXdoaWxlKGI9Yi5wYXJlbnROb2RlKWlmKGI9PT1hKXJldHVybiEwO3JldHVybiExfSxCPWI/ZnVuY3Rpb24oYSxiKXtpZihhPT09YilyZXR1cm4gbD0hMCwwO3ZhciBkPSFhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uLSFiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uO3JldHVybiBkP2Q6KGQ9KGEub3duZXJEb2N1bWVudHx8YSk9PT0oYi5vd25lckRvY3VtZW50fHxiKT9hLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGIpOjEsMSZkfHwhYy5zb3J0RGV0YWNoZWQmJmIuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYSk9PT1kP2E9PT1ufHxhLm93bmVyRG9jdW1lbnQ9PT12JiZ0KHYsYSk/LTE6Yj09PW58fGIub3duZXJEb2N1bWVudD09PXYmJnQodixiKT8xOms/SihrLGEpLUooayxiKTowOjQmZD8tMToxKX06ZnVuY3Rpb24oYSxiKXtpZihhPT09YilyZXR1cm4gbD0hMCwwO3ZhciBjLGQ9MCxlPWEucGFyZW50Tm9kZSxmPWIucGFyZW50Tm9kZSxnPVthXSxoPVtiXTtpZighZXx8IWYpcmV0dXJuIGE9PT1uPy0xOmI9PT1uPzE6ZT8tMTpmPzE6az9KKGssYSktSihrLGIpOjA7aWYoZT09PWYpcmV0dXJuIGthKGEsYik7Yz1hO3doaWxlKGM9Yy5wYXJlbnROb2RlKWcudW5zaGlmdChjKTtjPWI7d2hpbGUoYz1jLnBhcmVudE5vZGUpaC51bnNoaWZ0KGMpO3doaWxlKGdbZF09PT1oW2RdKWQrKztyZXR1cm4gZD9rYShnW2RdLGhbZF0pOmdbZF09PT12Py0xOmhbZF09PT12PzE6MH0sbik6bn0sZmEubWF0Y2hlcz1mdW5jdGlvbihhLGIpe3JldHVybiBmYShhLG51bGwsbnVsbCxiKX0sZmEubWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKGEsYil7aWYoKGEub3duZXJEb2N1bWVudHx8YSkhPT1uJiZtKGEpLGI9Yi5yZXBsYWNlKFQsXCI9JyQxJ11cIiksYy5tYXRjaGVzU2VsZWN0b3ImJnAmJiFBW2IrXCIgXCJdJiYoIXJ8fCFyLnRlc3QoYikpJiYoIXF8fCFxLnRlc3QoYikpKXRyeXt2YXIgZD1zLmNhbGwoYSxiKTtpZihkfHxjLmRpc2Nvbm5lY3RlZE1hdGNofHxhLmRvY3VtZW50JiYxMSE9PWEuZG9jdW1lbnQubm9kZVR5cGUpcmV0dXJuIGR9Y2F0Y2goZSl7fXJldHVybiBmYShiLG4sbnVsbCxbYV0pLmxlbmd0aD4wfSxmYS5jb250YWlucz1mdW5jdGlvbihhLGIpe3JldHVybihhLm93bmVyRG9jdW1lbnR8fGEpIT09biYmbShhKSx0KGEsYil9LGZhLmF0dHI9ZnVuY3Rpb24oYSxiKXsoYS5vd25lckRvY3VtZW50fHxhKSE9PW4mJm0oYSk7dmFyIGU9ZC5hdHRySGFuZGxlW2IudG9Mb3dlckNhc2UoKV0sZj1lJiZELmNhbGwoZC5hdHRySGFuZGxlLGIudG9Mb3dlckNhc2UoKSk/ZShhLGIsIXApOnZvaWQgMDtyZXR1cm4gdm9pZCAwIT09Zj9mOmMuYXR0cmlidXRlc3x8IXA/YS5nZXRBdHRyaWJ1dGUoYik6KGY9YS5nZXRBdHRyaWJ1dGVOb2RlKGIpKSYmZi5zcGVjaWZpZWQ/Zi52YWx1ZTpudWxsfSxmYS5lcnJvcj1mdW5jdGlvbihhKXt0aHJvdyBuZXcgRXJyb3IoXCJTeW50YXggZXJyb3IsIHVucmVjb2duaXplZCBleHByZXNzaW9uOiBcIithKX0sZmEudW5pcXVlU29ydD1mdW5jdGlvbihhKXt2YXIgYixkPVtdLGU9MCxmPTA7aWYobD0hYy5kZXRlY3REdXBsaWNhdGVzLGs9IWMuc29ydFN0YWJsZSYmYS5zbGljZSgwKSxhLnNvcnQoQiksbCl7d2hpbGUoYj1hW2YrK10pYj09PWFbZl0mJihlPWQucHVzaChmKSk7d2hpbGUoZS0tKWEuc3BsaWNlKGRbZV0sMSl9cmV0dXJuIGs9bnVsbCxhfSxlPWZhLmdldFRleHQ9ZnVuY3Rpb24oYSl7dmFyIGIsYz1cIlwiLGQ9MCxmPWEubm9kZVR5cGU7aWYoZil7aWYoMT09PWZ8fDk9PT1mfHwxMT09PWYpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBhLnRleHRDb250ZW50KXJldHVybiBhLnRleHRDb250ZW50O2ZvcihhPWEuZmlyc3RDaGlsZDthO2E9YS5uZXh0U2libGluZyljKz1lKGEpfWVsc2UgaWYoMz09PWZ8fDQ9PT1mKXJldHVybiBhLm5vZGVWYWx1ZX1lbHNlIHdoaWxlKGI9YVtkKytdKWMrPWUoYik7cmV0dXJuIGN9LGQ9ZmEuc2VsZWN0b3JzPXtjYWNoZUxlbmd0aDo1MCxjcmVhdGVQc2V1ZG86aGEsbWF0Y2g6VyxhdHRySGFuZGxlOnt9LGZpbmQ6e30scmVsYXRpdmU6e1wiPlwiOntkaXI6XCJwYXJlbnROb2RlXCIsZmlyc3Q6ITB9LFwiIFwiOntkaXI6XCJwYXJlbnROb2RlXCJ9LFwiK1wiOntkaXI6XCJwcmV2aW91c1NpYmxpbmdcIixmaXJzdDohMH0sXCJ+XCI6e2RpcjpcInByZXZpb3VzU2libGluZ1wifX0scHJlRmlsdGVyOntBVFRSOmZ1bmN0aW9uKGEpe3JldHVybiBhWzFdPWFbMV0ucmVwbGFjZShiYSxjYSksYVszXT0oYVszXXx8YVs0XXx8YVs1XXx8XCJcIikucmVwbGFjZShiYSxjYSksXCJ+PVwiPT09YVsyXSYmKGFbM109XCIgXCIrYVszXStcIiBcIiksYS5zbGljZSgwLDQpfSxDSElMRDpmdW5jdGlvbihhKXtyZXR1cm4gYVsxXT1hWzFdLnRvTG93ZXJDYXNlKCksXCJudGhcIj09PWFbMV0uc2xpY2UoMCwzKT8oYVszXXx8ZmEuZXJyb3IoYVswXSksYVs0XT0rKGFbNF0/YVs1XSsoYVs2XXx8MSk6MiooXCJldmVuXCI9PT1hWzNdfHxcIm9kZFwiPT09YVszXSkpLGFbNV09KyhhWzddK2FbOF18fFwib2RkXCI9PT1hWzNdKSk6YVszXSYmZmEuZXJyb3IoYVswXSksYX0sUFNFVURPOmZ1bmN0aW9uKGEpe3ZhciBiLGM9IWFbNl0mJmFbMl07cmV0dXJuIFcuQ0hJTEQudGVzdChhWzBdKT9udWxsOihhWzNdP2FbMl09YVs0XXx8YVs1XXx8XCJcIjpjJiZVLnRlc3QoYykmJihiPWcoYywhMCkpJiYoYj1jLmluZGV4T2YoXCIpXCIsYy5sZW5ndGgtYiktYy5sZW5ndGgpJiYoYVswXT1hWzBdLnNsaWNlKDAsYiksYVsyXT1jLnNsaWNlKDAsYikpLGEuc2xpY2UoMCwzKSl9fSxmaWx0ZXI6e1RBRzpmdW5jdGlvbihhKXt2YXIgYj1hLnJlcGxhY2UoYmEsY2EpLnRvTG93ZXJDYXNlKCk7cmV0dXJuXCIqXCI9PT1hP2Z1bmN0aW9uKCl7cmV0dXJuITB9OmZ1bmN0aW9uKGEpe3JldHVybiBhLm5vZGVOYW1lJiZhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1ifX0sQ0xBU1M6ZnVuY3Rpb24oYSl7dmFyIGI9eVthK1wiIFwiXTtyZXR1cm4gYnx8KGI9bmV3IFJlZ0V4cChcIihefFwiK0wrXCIpXCIrYStcIihcIitMK1wifCQpXCIpKSYmeShhLGZ1bmN0aW9uKGEpe3JldHVybiBiLnRlc3QoXCJzdHJpbmdcIj09dHlwZW9mIGEuY2xhc3NOYW1lJiZhLmNsYXNzTmFtZXx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEuZ2V0QXR0cmlidXRlJiZhLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpfHxcIlwiKX0pfSxBVFRSOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oZCl7dmFyIGU9ZmEuYXR0cihkLGEpO3JldHVybiBudWxsPT1lP1wiIT1cIj09PWI6Yj8oZSs9XCJcIixcIj1cIj09PWI/ZT09PWM6XCIhPVwiPT09Yj9lIT09YzpcIl49XCI9PT1iP2MmJjA9PT1lLmluZGV4T2YoYyk6XCIqPVwiPT09Yj9jJiZlLmluZGV4T2YoYyk+LTE6XCIkPVwiPT09Yj9jJiZlLnNsaWNlKC1jLmxlbmd0aCk9PT1jOlwifj1cIj09PWI/KFwiIFwiK2UucmVwbGFjZShQLFwiIFwiKStcIiBcIikuaW5kZXhPZihjKT4tMTpcInw9XCI9PT1iP2U9PT1jfHxlLnNsaWNlKDAsYy5sZW5ndGgrMSk9PT1jK1wiLVwiOiExKTohMH19LENISUxEOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9XCJudGhcIiE9PWEuc2xpY2UoMCwzKSxnPVwibGFzdFwiIT09YS5zbGljZSgtNCksaD1cIm9mLXR5cGVcIj09PWI7cmV0dXJuIDE9PT1kJiYwPT09ZT9mdW5jdGlvbihhKXtyZXR1cm4hIWEucGFyZW50Tm9kZX06ZnVuY3Rpb24oYixjLGkpe3ZhciBqLGssbCxtLG4sbyxwPWYhPT1nP1wibmV4dFNpYmxpbmdcIjpcInByZXZpb3VzU2libGluZ1wiLHE9Yi5wYXJlbnROb2RlLHI9aCYmYi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLHM9IWkmJiFoLHQ9ITE7aWYocSl7aWYoZil7d2hpbGUocCl7bT1iO3doaWxlKG09bVtwXSlpZihoP20ubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXI6MT09PW0ubm9kZVR5cGUpcmV0dXJuITE7bz1wPVwib25seVwiPT09YSYmIW8mJlwibmV4dFNpYmxpbmdcIn1yZXR1cm4hMH1pZihvPVtnP3EuZmlyc3RDaGlsZDpxLmxhc3RDaGlsZF0sZyYmcyl7bT1xLGw9bVt1XXx8KG1bdV09e30pLGs9bFttLnVuaXF1ZUlEXXx8KGxbbS51bmlxdWVJRF09e30pLGo9a1thXXx8W10sbj1qWzBdPT09dyYmalsxXSx0PW4mJmpbMl0sbT1uJiZxLmNoaWxkTm9kZXNbbl07d2hpbGUobT0rK24mJm0mJm1bcF18fCh0PW49MCl8fG8ucG9wKCkpaWYoMT09PW0ubm9kZVR5cGUmJisrdCYmbT09PWIpe2tbYV09W3csbix0XTticmVha319ZWxzZSBpZihzJiYobT1iLGw9bVt1XXx8KG1bdV09e30pLGs9bFttLnVuaXF1ZUlEXXx8KGxbbS51bmlxdWVJRF09e30pLGo9a1thXXx8W10sbj1qWzBdPT09dyYmalsxXSx0PW4pLHQ9PT0hMSl3aGlsZShtPSsrbiYmbSYmbVtwXXx8KHQ9bj0wKXx8by5wb3AoKSlpZigoaD9tLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1yOjE9PT1tLm5vZGVUeXBlKSYmKyt0JiYocyYmKGw9bVt1XXx8KG1bdV09e30pLGs9bFttLnVuaXF1ZUlEXXx8KGxbbS51bmlxdWVJRF09e30pLGtbYV09W3csdF0pLG09PT1iKSlicmVhaztyZXR1cm4gdC09ZSx0PT09ZHx8dCVkPT09MCYmdC9kPj0wfX19LFBTRVVETzpmdW5jdGlvbihhLGIpe3ZhciBjLGU9ZC5wc2V1ZG9zW2FdfHxkLnNldEZpbHRlcnNbYS50b0xvd2VyQ2FzZSgpXXx8ZmEuZXJyb3IoXCJ1bnN1cHBvcnRlZCBwc2V1ZG86IFwiK2EpO3JldHVybiBlW3VdP2UoYik6ZS5sZW5ndGg+MT8oYz1bYSxhLFwiXCIsYl0sZC5zZXRGaWx0ZXJzLmhhc093blByb3BlcnR5KGEudG9Mb3dlckNhc2UoKSk/aGEoZnVuY3Rpb24oYSxjKXt2YXIgZCxmPWUoYSxiKSxnPWYubGVuZ3RoO3doaWxlKGctLSlkPUooYSxmW2ddKSxhW2RdPSEoY1tkXT1mW2ddKX0pOmZ1bmN0aW9uKGEpe3JldHVybiBlKGEsMCxjKX0pOmV9fSxwc2V1ZG9zOntub3Q6aGEoZnVuY3Rpb24oYSl7dmFyIGI9W10sYz1bXSxkPWgoYS5yZXBsYWNlKFEsXCIkMVwiKSk7cmV0dXJuIGRbdV0/aGEoZnVuY3Rpb24oYSxiLGMsZSl7dmFyIGYsZz1kKGEsbnVsbCxlLFtdKSxoPWEubGVuZ3RoO3doaWxlKGgtLSkoZj1nW2hdKSYmKGFbaF09IShiW2hdPWYpKX0pOmZ1bmN0aW9uKGEsZSxmKXtyZXR1cm4gYlswXT1hLGQoYixudWxsLGYsYyksYlswXT1udWxsLCFjLnBvcCgpfX0pLGhhczpoYShmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIGZhKGEsYikubGVuZ3RoPjB9fSksY29udGFpbnM6aGEoZnVuY3Rpb24oYSl7cmV0dXJuIGE9YS5yZXBsYWNlKGJhLGNhKSxmdW5jdGlvbihiKXtyZXR1cm4oYi50ZXh0Q29udGVudHx8Yi5pbm5lclRleHR8fGUoYikpLmluZGV4T2YoYSk+LTF9fSksbGFuZzpoYShmdW5jdGlvbihhKXtyZXR1cm4gVi50ZXN0KGF8fFwiXCIpfHxmYS5lcnJvcihcInVuc3VwcG9ydGVkIGxhbmc6IFwiK2EpLGE9YS5yZXBsYWNlKGJhLGNhKS50b0xvd2VyQ2FzZSgpLGZ1bmN0aW9uKGIpe3ZhciBjO2RvIGlmKGM9cD9iLmxhbmc6Yi5nZXRBdHRyaWJ1dGUoXCJ4bWw6bGFuZ1wiKXx8Yi5nZXRBdHRyaWJ1dGUoXCJsYW5nXCIpKXJldHVybiBjPWMudG9Mb3dlckNhc2UoKSxjPT09YXx8MD09PWMuaW5kZXhPZihhK1wiLVwiKTt3aGlsZSgoYj1iLnBhcmVudE5vZGUpJiYxPT09Yi5ub2RlVHlwZSk7cmV0dXJuITF9fSksdGFyZ2V0OmZ1bmN0aW9uKGIpe3ZhciBjPWEubG9jYXRpb24mJmEubG9jYXRpb24uaGFzaDtyZXR1cm4gYyYmYy5zbGljZSgxKT09PWIuaWR9LHJvb3Q6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1vfSxmb2N1czpmdW5jdGlvbihhKXtyZXR1cm4gYT09PW4uYWN0aXZlRWxlbWVudCYmKCFuLmhhc0ZvY3VzfHxuLmhhc0ZvY3VzKCkpJiYhIShhLnR5cGV8fGEuaHJlZnx8fmEudGFiSW5kZXgpfSxlbmFibGVkOmZ1bmN0aW9uKGEpe3JldHVybiBhLmRpc2FibGVkPT09ITF9LGRpc2FibGVkOmZ1bmN0aW9uKGEpe3JldHVybiBhLmRpc2FibGVkPT09ITB9LGNoZWNrZWQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVyblwiaW5wdXRcIj09PWImJiEhYS5jaGVja2VkfHxcIm9wdGlvblwiPT09YiYmISFhLnNlbGVjdGVkfSxzZWxlY3RlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5wYXJlbnROb2RlJiZhLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCxhLnNlbGVjdGVkPT09ITB9LGVtcHR5OmZ1bmN0aW9uKGEpe2ZvcihhPWEuZmlyc3RDaGlsZDthO2E9YS5uZXh0U2libGluZylpZihhLm5vZGVUeXBlPDYpcmV0dXJuITE7cmV0dXJuITB9LHBhcmVudDpmdW5jdGlvbihhKXtyZXR1cm4hZC5wc2V1ZG9zLmVtcHR5KGEpfSxoZWFkZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIFkudGVzdChhLm5vZGVOYW1lKX0saW5wdXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIFgudGVzdChhLm5vZGVOYW1lKX0sYnV0dG9uOmZ1bmN0aW9uKGEpe3ZhciBiPWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm5cImlucHV0XCI9PT1iJiZcImJ1dHRvblwiPT09YS50eXBlfHxcImJ1dHRvblwiPT09Yn0sdGV4dDpmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm5cImlucHV0XCI9PT1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJlwidGV4dFwiPT09YS50eXBlJiYobnVsbD09KGI9YS5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpKXx8XCJ0ZXh0XCI9PT1iLnRvTG93ZXJDYXNlKCkpfSxmaXJzdDpuYShmdW5jdGlvbigpe3JldHVyblswXX0pLGxhc3Q6bmEoZnVuY3Rpb24oYSxiKXtyZXR1cm5bYi0xXX0pLGVxOm5hKGZ1bmN0aW9uKGEsYixjKXtyZXR1cm5bMD5jP2MrYjpjXX0pLGV2ZW46bmEoZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MDtiPmM7Yys9MilhLnB1c2goYyk7cmV0dXJuIGF9KSxvZGQ6bmEoZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MTtiPmM7Yys9MilhLnB1c2goYyk7cmV0dXJuIGF9KSxsdDpuYShmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPTA+Yz9jK2I6YzstLWQ+PTA7KWEucHVzaChkKTtyZXR1cm4gYX0pLGd0Om5hKGZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9MD5jP2MrYjpjOysrZDxiOylhLnB1c2goZCk7cmV0dXJuIGF9KX19LGQucHNldWRvcy5udGg9ZC5wc2V1ZG9zLmVxO2ZvcihiIGlue3JhZGlvOiEwLGNoZWNrYm94OiEwLGZpbGU6ITAscGFzc3dvcmQ6ITAsaW1hZ2U6ITB9KWQucHNldWRvc1tiXT1sYShiKTtmb3IoYiBpbntzdWJtaXQ6ITAscmVzZXQ6ITB9KWQucHNldWRvc1tiXT1tYShiKTtmdW5jdGlvbiBwYSgpe31wYS5wcm90b3R5cGU9ZC5maWx0ZXJzPWQucHNldWRvcyxkLnNldEZpbHRlcnM9bmV3IHBhLGc9ZmEudG9rZW5pemU9ZnVuY3Rpb24oYSxiKXt2YXIgYyxlLGYsZyxoLGksaixrPXpbYStcIiBcIl07aWYoaylyZXR1cm4gYj8wOmsuc2xpY2UoMCk7aD1hLGk9W10saj1kLnByZUZpbHRlcjt3aGlsZShoKXsoIWN8fChlPVIuZXhlYyhoKSkpJiYoZSYmKGg9aC5zbGljZShlWzBdLmxlbmd0aCl8fGgpLGkucHVzaChmPVtdKSksYz0hMSwoZT1TLmV4ZWMoaCkpJiYoYz1lLnNoaWZ0KCksZi5wdXNoKHt2YWx1ZTpjLHR5cGU6ZVswXS5yZXBsYWNlKFEsXCIgXCIpfSksaD1oLnNsaWNlKGMubGVuZ3RoKSk7Zm9yKGcgaW4gZC5maWx0ZXIpIShlPVdbZ10uZXhlYyhoKSl8fGpbZ10mJiEoZT1qW2ddKGUpKXx8KGM9ZS5zaGlmdCgpLGYucHVzaCh7dmFsdWU6Yyx0eXBlOmcsbWF0Y2hlczplfSksaD1oLnNsaWNlKGMubGVuZ3RoKSk7aWYoIWMpYnJlYWt9cmV0dXJuIGI/aC5sZW5ndGg6aD9mYS5lcnJvcihhKTp6KGEsaSkuc2xpY2UoMCl9O2Z1bmN0aW9uIHFhKGEpe2Zvcih2YXIgYj0wLGM9YS5sZW5ndGgsZD1cIlwiO2M+YjtiKyspZCs9YVtiXS52YWx1ZTtyZXR1cm4gZH1mdW5jdGlvbiByYShhLGIsYyl7dmFyIGQ9Yi5kaXIsZT1jJiZcInBhcmVudE5vZGVcIj09PWQsZj14Kys7cmV0dXJuIGIuZmlyc3Q/ZnVuY3Rpb24oYixjLGYpe3doaWxlKGI9YltkXSlpZigxPT09Yi5ub2RlVHlwZXx8ZSlyZXR1cm4gYShiLGMsZil9OmZ1bmN0aW9uKGIsYyxnKXt2YXIgaCxpLGosaz1bdyxmXTtpZihnKXt3aGlsZShiPWJbZF0paWYoKDE9PT1iLm5vZGVUeXBlfHxlKSYmYShiLGMsZykpcmV0dXJuITB9ZWxzZSB3aGlsZShiPWJbZF0paWYoMT09PWIubm9kZVR5cGV8fGUpe2lmKGo9Ylt1XXx8KGJbdV09e30pLGk9altiLnVuaXF1ZUlEXXx8KGpbYi51bmlxdWVJRF09e30pLChoPWlbZF0pJiZoWzBdPT09dyYmaFsxXT09PWYpcmV0dXJuIGtbMl09aFsyXTtpZihpW2RdPWssa1syXT1hKGIsYyxnKSlyZXR1cm4hMH19fWZ1bmN0aW9uIHNhKGEpe3JldHVybiBhLmxlbmd0aD4xP2Z1bmN0aW9uKGIsYyxkKXt2YXIgZT1hLmxlbmd0aDt3aGlsZShlLS0paWYoIWFbZV0oYixjLGQpKXJldHVybiExO3JldHVybiEwfTphWzBdfWZ1bmN0aW9uIHRhKGEsYixjKXtmb3IodmFyIGQ9MCxlPWIubGVuZ3RoO2U+ZDtkKyspZmEoYSxiW2RdLGMpO3JldHVybiBjfWZ1bmN0aW9uIHVhKGEsYixjLGQsZSl7Zm9yKHZhciBmLGc9W10saD0wLGk9YS5sZW5ndGgsaj1udWxsIT1iO2k+aDtoKyspKGY9YVtoXSkmJighY3x8YyhmLGQsZSkpJiYoZy5wdXNoKGYpLGomJmIucHVzaChoKSk7cmV0dXJuIGd9ZnVuY3Rpb24gdmEoYSxiLGMsZCxlLGYpe3JldHVybiBkJiYhZFt1XSYmKGQ9dmEoZCkpLGUmJiFlW3VdJiYoZT12YShlLGYpKSxoYShmdW5jdGlvbihmLGcsaCxpKXt2YXIgaixrLGwsbT1bXSxuPVtdLG89Zy5sZW5ndGgscD1mfHx0YShifHxcIipcIixoLm5vZGVUeXBlP1toXTpoLFtdKSxxPSFhfHwhZiYmYj9wOnVhKHAsbSxhLGgsaSkscj1jP2V8fChmP2E6b3x8ZCk/W106ZzpxO2lmKGMmJmMocSxyLGgsaSksZCl7aj11YShyLG4pLGQoaixbXSxoLGkpLGs9ai5sZW5ndGg7d2hpbGUoay0tKShsPWpba10pJiYocltuW2tdXT0hKHFbbltrXV09bCkpfWlmKGYpe2lmKGV8fGEpe2lmKGUpe2o9W10saz1yLmxlbmd0aDt3aGlsZShrLS0pKGw9cltrXSkmJmoucHVzaChxW2tdPWwpO2UobnVsbCxyPVtdLGosaSl9az1yLmxlbmd0aDt3aGlsZShrLS0pKGw9cltrXSkmJihqPWU/SihmLGwpOm1ba10pPi0xJiYoZltqXT0hKGdbal09bCkpfX1lbHNlIHI9dWEocj09PWc/ci5zcGxpY2UobyxyLmxlbmd0aCk6ciksZT9lKG51bGwsZyxyLGkpOkguYXBwbHkoZyxyKX0pfWZ1bmN0aW9uIHdhKGEpe2Zvcih2YXIgYixjLGUsZj1hLmxlbmd0aCxnPWQucmVsYXRpdmVbYVswXS50eXBlXSxoPWd8fGQucmVsYXRpdmVbXCIgXCJdLGk9Zz8xOjAsaz1yYShmdW5jdGlvbihhKXtyZXR1cm4gYT09PWJ9LGgsITApLGw9cmEoZnVuY3Rpb24oYSl7cmV0dXJuIEooYixhKT4tMX0saCwhMCksbT1bZnVuY3Rpb24oYSxjLGQpe3ZhciBlPSFnJiYoZHx8YyE9PWopfHwoKGI9Yykubm9kZVR5cGU/ayhhLGMsZCk6bChhLGMsZCkpO3JldHVybiBiPW51bGwsZX1dO2Y+aTtpKyspaWYoYz1kLnJlbGF0aXZlW2FbaV0udHlwZV0pbT1bcmEoc2EobSksYyldO2Vsc2V7aWYoYz1kLmZpbHRlclthW2ldLnR5cGVdLmFwcGx5KG51bGwsYVtpXS5tYXRjaGVzKSxjW3VdKXtmb3IoZT0rK2k7Zj5lO2UrKylpZihkLnJlbGF0aXZlW2FbZV0udHlwZV0pYnJlYWs7cmV0dXJuIHZhKGk+MSYmc2EobSksaT4xJiZxYShhLnNsaWNlKDAsaS0xKS5jb25jYXQoe3ZhbHVlOlwiIFwiPT09YVtpLTJdLnR5cGU/XCIqXCI6XCJcIn0pKS5yZXBsYWNlKFEsXCIkMVwiKSxjLGU+aSYmd2EoYS5zbGljZShpLGUpKSxmPmUmJndhKGE9YS5zbGljZShlKSksZj5lJiZxYShhKSl9bS5wdXNoKGMpfXJldHVybiBzYShtKX1mdW5jdGlvbiB4YShhLGIpe3ZhciBjPWIubGVuZ3RoPjAsZT1hLmxlbmd0aD4wLGY9ZnVuY3Rpb24oZixnLGgsaSxrKXt2YXIgbCxvLHEscj0wLHM9XCIwXCIsdD1mJiZbXSx1PVtdLHY9aix4PWZ8fGUmJmQuZmluZC5UQUcoXCIqXCIsaykseT13Kz1udWxsPT12PzE6TWF0aC5yYW5kb20oKXx8LjEsej14Lmxlbmd0aDtmb3IoayYmKGo9Zz09PW58fGd8fGspO3MhPT16JiZudWxsIT0obD14W3NdKTtzKyspe2lmKGUmJmwpe289MCxnfHxsLm93bmVyRG9jdW1lbnQ9PT1ufHwobShsKSxoPSFwKTt3aGlsZShxPWFbbysrXSlpZihxKGwsZ3x8bixoKSl7aS5wdXNoKGwpO2JyZWFrfWsmJih3PXkpfWMmJigobD0hcSYmbCkmJnItLSxmJiZ0LnB1c2gobCkpfWlmKHIrPXMsYyYmcyE9PXIpe289MDt3aGlsZShxPWJbbysrXSlxKHQsdSxnLGgpO2lmKGYpe2lmKHI+MCl3aGlsZShzLS0pdFtzXXx8dVtzXXx8KHVbc109Ri5jYWxsKGkpKTt1PXVhKHUpfUguYXBwbHkoaSx1KSxrJiYhZiYmdS5sZW5ndGg+MCYmcitiLmxlbmd0aD4xJiZmYS51bmlxdWVTb3J0KGkpfXJldHVybiBrJiYodz15LGo9diksdH07cmV0dXJuIGM/aGEoZik6Zn1yZXR1cm4gaD1mYS5jb21waWxlPWZ1bmN0aW9uKGEsYil7dmFyIGMsZD1bXSxlPVtdLGY9QVthK1wiIFwiXTtpZighZil7Ynx8KGI9ZyhhKSksYz1iLmxlbmd0aDt3aGlsZShjLS0pZj13YShiW2NdKSxmW3VdP2QucHVzaChmKTplLnB1c2goZik7Zj1BKGEseGEoZSxkKSksZi5zZWxlY3Rvcj1hfXJldHVybiBmfSxpPWZhLnNlbGVjdD1mdW5jdGlvbihhLGIsZSxmKXt2YXIgaSxqLGssbCxtLG49XCJmdW5jdGlvblwiPT10eXBlb2YgYSYmYSxvPSFmJiZnKGE9bi5zZWxlY3Rvcnx8YSk7aWYoZT1lfHxbXSwxPT09by5sZW5ndGgpe2lmKGo9b1swXT1vWzBdLnNsaWNlKDApLGoubGVuZ3RoPjImJlwiSURcIj09PShrPWpbMF0pLnR5cGUmJmMuZ2V0QnlJZCYmOT09PWIubm9kZVR5cGUmJnAmJmQucmVsYXRpdmVbalsxXS50eXBlXSl7aWYoYj0oZC5maW5kLklEKGsubWF0Y2hlc1swXS5yZXBsYWNlKGJhLGNhKSxiKXx8W10pWzBdLCFiKXJldHVybiBlO24mJihiPWIucGFyZW50Tm9kZSksYT1hLnNsaWNlKGouc2hpZnQoKS52YWx1ZS5sZW5ndGgpfWk9Vy5uZWVkc0NvbnRleHQudGVzdChhKT8wOmoubGVuZ3RoO3doaWxlKGktLSl7aWYoaz1qW2ldLGQucmVsYXRpdmVbbD1rLnR5cGVdKWJyZWFrO2lmKChtPWQuZmluZFtsXSkmJihmPW0oay5tYXRjaGVzWzBdLnJlcGxhY2UoYmEsY2EpLF8udGVzdChqWzBdLnR5cGUpJiZvYShiLnBhcmVudE5vZGUpfHxiKSkpe2lmKGouc3BsaWNlKGksMSksYT1mLmxlbmd0aCYmcWEoaiksIWEpcmV0dXJuIEguYXBwbHkoZSxmKSxlO2JyZWFrfX19cmV0dXJuKG58fGgoYSxvKSkoZixiLCFwLGUsIWJ8fF8udGVzdChhKSYmb2EoYi5wYXJlbnROb2RlKXx8YiksZX0sYy5zb3J0U3RhYmxlPXUuc3BsaXQoXCJcIikuc29ydChCKS5qb2luKFwiXCIpPT09dSxjLmRldGVjdER1cGxpY2F0ZXM9ISFsLG0oKSxjLnNvcnREZXRhY2hlZD1pYShmdW5jdGlvbihhKXtyZXR1cm4gMSZhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKG4uY3JlYXRlRWxlbWVudChcImRpdlwiKSl9KSxpYShmdW5jdGlvbihhKXtyZXR1cm4gYS5pbm5lckhUTUw9XCI8YSBocmVmPScjJz48L2E+XCIsXCIjXCI9PT1hLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKX0pfHxqYShcInR5cGV8aHJlZnxoZWlnaHR8d2lkdGhcIixmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGM/dm9pZCAwOmEuZ2V0QXR0cmlidXRlKGIsXCJ0eXBlXCI9PT1iLnRvTG93ZXJDYXNlKCk/MToyKX0pLGMuYXR0cmlidXRlcyYmaWEoZnVuY3Rpb24oYSl7cmV0dXJuIGEuaW5uZXJIVE1MPVwiPGlucHV0Lz5cIixhLmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKFwidmFsdWVcIixcIlwiKSxcIlwiPT09YS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZShcInZhbHVlXCIpfSl8fGphKFwidmFsdWVcIixmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGN8fFwiaW5wdXRcIiE9PWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKT92b2lkIDA6YS5kZWZhdWx0VmFsdWV9KSxpYShmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YS5nZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKX0pfHxqYShLLGZ1bmN0aW9uKGEsYixjKXt2YXIgZDtyZXR1cm4gYz92b2lkIDA6YVtiXT09PSEwP2IudG9Mb3dlckNhc2UoKTooZD1hLmdldEF0dHJpYnV0ZU5vZGUoYikpJiZkLnNwZWNpZmllZD9kLnZhbHVlOm51bGx9KSxmYX0oYSk7bi5maW5kPXQsbi5leHByPXQuc2VsZWN0b3JzLG4uZXhwcltcIjpcIl09bi5leHByLnBzZXVkb3Msbi51bmlxdWVTb3J0PW4udW5pcXVlPXQudW5pcXVlU29ydCxuLnRleHQ9dC5nZXRUZXh0LG4uaXNYTUxEb2M9dC5pc1hNTCxuLmNvbnRhaW5zPXQuY29udGFpbnM7dmFyIHU9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPVtdLGU9dm9pZCAwIT09Yzt3aGlsZSgoYT1hW2JdKSYmOSE9PWEubm9kZVR5cGUpaWYoMT09PWEubm9kZVR5cGUpe2lmKGUmJm4oYSkuaXMoYykpYnJlYWs7ZC5wdXNoKGEpfXJldHVybiBkfSx2PWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPVtdO2E7YT1hLm5leHRTaWJsaW5nKTE9PT1hLm5vZGVUeXBlJiZhIT09YiYmYy5wdXNoKGEpO3JldHVybiBjfSx3PW4uZXhwci5tYXRjaC5uZWVkc0NvbnRleHQseD0vXjwoW1xcdy1dKylcXHMqXFwvPz4oPzo8XFwvXFwxPnwpJC8seT0vXi5bXjojXFxbXFwuLF0qJC87ZnVuY3Rpb24geihhLGIsYyl7aWYobi5pc0Z1bmN0aW9uKGIpKXJldHVybiBuLmdyZXAoYSxmdW5jdGlvbihhLGQpe3JldHVybiEhYi5jYWxsKGEsZCxhKSE9PWN9KTtpZihiLm5vZGVUeXBlKXJldHVybiBuLmdyZXAoYSxmdW5jdGlvbihhKXtyZXR1cm4gYT09PWIhPT1jfSk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGIpe2lmKHkudGVzdChiKSlyZXR1cm4gbi5maWx0ZXIoYixhLGMpO2I9bi5maWx0ZXIoYixhKX1yZXR1cm4gbi5ncmVwKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGguY2FsbChiLGEpPi0xIT09Y30pfW4uZmlsdGVyPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1iWzBdO3JldHVybiBjJiYoYT1cIjpub3QoXCIrYStcIilcIiksMT09PWIubGVuZ3RoJiYxPT09ZC5ub2RlVHlwZT9uLmZpbmQubWF0Y2hlc1NlbGVjdG9yKGQsYSk/W2RdOltdOm4uZmluZC5tYXRjaGVzKGEsbi5ncmVwKGIsZnVuY3Rpb24oYSl7cmV0dXJuIDE9PT1hLm5vZGVUeXBlfSkpfSxuLmZuLmV4dGVuZCh7ZmluZDpmdW5jdGlvbihhKXt2YXIgYixjPXRoaXMubGVuZ3RoLGQ9W10sZT10aGlzO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBhKXJldHVybiB0aGlzLnB1c2hTdGFjayhuKGEpLmZpbHRlcihmdW5jdGlvbigpe2ZvcihiPTA7Yz5iO2IrKylpZihuLmNvbnRhaW5zKGVbYl0sdGhpcykpcmV0dXJuITB9KSk7Zm9yKGI9MDtjPmI7YisrKW4uZmluZChhLGVbYl0sZCk7cmV0dXJuIGQ9dGhpcy5wdXNoU3RhY2soYz4xP24udW5pcXVlKGQpOmQpLGQuc2VsZWN0b3I9dGhpcy5zZWxlY3Rvcj90aGlzLnNlbGVjdG9yK1wiIFwiK2E6YSxkfSxmaWx0ZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKHoodGhpcyxhfHxbXSwhMSkpfSxub3Q6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKHoodGhpcyxhfHxbXSwhMCkpfSxpczpmdW5jdGlvbihhKXtyZXR1cm4hIXoodGhpcyxcInN0cmluZ1wiPT10eXBlb2YgYSYmdy50ZXN0KGEpP24oYSk6YXx8W10sITEpLmxlbmd0aH19KTt2YXIgQSxCPS9eKD86XFxzKig8W1xcd1xcV10rPilbXj5dKnwjKFtcXHctXSopKSQvLEM9bi5mbi5pbml0PWZ1bmN0aW9uKGEsYixjKXt2YXIgZSxmO2lmKCFhKXJldHVybiB0aGlzO2lmKGM9Y3x8QSxcInN0cmluZ1wiPT10eXBlb2YgYSl7aWYoZT1cIjxcIj09PWFbMF0mJlwiPlwiPT09YVthLmxlbmd0aC0xXSYmYS5sZW5ndGg+PTM/W251bGwsYSxudWxsXTpCLmV4ZWMoYSksIWV8fCFlWzFdJiZiKXJldHVybiFifHxiLmpxdWVyeT8oYnx8YykuZmluZChhKTp0aGlzLmNvbnN0cnVjdG9yKGIpLmZpbmQoYSk7aWYoZVsxXSl7aWYoYj1iIGluc3RhbmNlb2Ygbj9iWzBdOmIsbi5tZXJnZSh0aGlzLG4ucGFyc2VIVE1MKGVbMV0sYiYmYi5ub2RlVHlwZT9iLm93bmVyRG9jdW1lbnR8fGI6ZCwhMCkpLHgudGVzdChlWzFdKSYmbi5pc1BsYWluT2JqZWN0KGIpKWZvcihlIGluIGIpbi5pc0Z1bmN0aW9uKHRoaXNbZV0pP3RoaXNbZV0oYltlXSk6dGhpcy5hdHRyKGUsYltlXSk7cmV0dXJuIHRoaXN9cmV0dXJuIGY9ZC5nZXRFbGVtZW50QnlJZChlWzJdKSxmJiZmLnBhcmVudE5vZGUmJih0aGlzLmxlbmd0aD0xLHRoaXNbMF09ZiksdGhpcy5jb250ZXh0PWQsdGhpcy5zZWxlY3Rvcj1hLHRoaXN9cmV0dXJuIGEubm9kZVR5cGU/KHRoaXMuY29udGV4dD10aGlzWzBdPWEsdGhpcy5sZW5ndGg9MSx0aGlzKTpuLmlzRnVuY3Rpb24oYSk/dm9pZCAwIT09Yy5yZWFkeT9jLnJlYWR5KGEpOmEobik6KHZvaWQgMCE9PWEuc2VsZWN0b3ImJih0aGlzLnNlbGVjdG9yPWEuc2VsZWN0b3IsdGhpcy5jb250ZXh0PWEuY29udGV4dCksbi5tYWtlQXJyYXkoYSx0aGlzKSl9O0MucHJvdG90eXBlPW4uZm4sQT1uKGQpO3ZhciBEPS9eKD86cGFyZW50c3xwcmV2KD86VW50aWx8QWxsKSkvLEU9e2NoaWxkcmVuOiEwLGNvbnRlbnRzOiEwLG5leHQ6ITAscHJldjohMH07bi5mbi5leHRlbmQoe2hhczpmdW5jdGlvbihhKXt2YXIgYj1uKGEsdGhpcyksYz1iLmxlbmd0aDtyZXR1cm4gdGhpcy5maWx0ZXIoZnVuY3Rpb24oKXtmb3IodmFyIGE9MDtjPmE7YSsrKWlmKG4uY29udGFpbnModGhpcyxiW2FdKSlyZXR1cm4hMH0pfSxjbG9zZXN0OmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjLGQ9MCxlPXRoaXMubGVuZ3RoLGY9W10sZz13LnRlc3QoYSl8fFwic3RyaW5nXCIhPXR5cGVvZiBhP24oYSxifHx0aGlzLmNvbnRleHQpOjA7ZT5kO2QrKylmb3IoYz10aGlzW2RdO2MmJmMhPT1iO2M9Yy5wYXJlbnROb2RlKWlmKGMubm9kZVR5cGU8MTEmJihnP2cuaW5kZXgoYyk+LTE6MT09PWMubm9kZVR5cGUmJm4uZmluZC5tYXRjaGVzU2VsZWN0b3IoYyxhKSkpe2YucHVzaChjKTticmVha31yZXR1cm4gdGhpcy5wdXNoU3RhY2soZi5sZW5ndGg+MT9uLnVuaXF1ZVNvcnQoZik6Zil9LGluZGV4OmZ1bmN0aW9uKGEpe3JldHVybiBhP1wic3RyaW5nXCI9PXR5cGVvZiBhP2guY2FsbChuKGEpLHRoaXNbMF0pOmguY2FsbCh0aGlzLGEuanF1ZXJ5P2FbMF06YSk6dGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlP3RoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoOi0xfSxhZGQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2sobi51bmlxdWVTb3J0KG4ubWVyZ2UodGhpcy5nZXQoKSxuKGEsYikpKSl9LGFkZEJhY2s6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYWRkKG51bGw9PWE/dGhpcy5wcmV2T2JqZWN0OnRoaXMucHJldk9iamVjdC5maWx0ZXIoYSkpfX0pO2Z1bmN0aW9uIEYoYSxiKXt3aGlsZSgoYT1hW2JdKSYmMSE9PWEubm9kZVR5cGUpO3JldHVybiBhfW4uZWFjaCh7cGFyZW50OmZ1bmN0aW9uKGEpe3ZhciBiPWEucGFyZW50Tm9kZTtyZXR1cm4gYiYmMTEhPT1iLm5vZGVUeXBlP2I6bnVsbH0scGFyZW50czpmdW5jdGlvbihhKXtyZXR1cm4gdShhLFwicGFyZW50Tm9kZVwiKX0scGFyZW50c1VudGlsOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdShhLFwicGFyZW50Tm9kZVwiLGMpfSxuZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBGKGEsXCJuZXh0U2libGluZ1wiKX0scHJldjpmdW5jdGlvbihhKXtyZXR1cm4gRihhLFwicHJldmlvdXNTaWJsaW5nXCIpfSxuZXh0QWxsOmZ1bmN0aW9uKGEpe3JldHVybiB1KGEsXCJuZXh0U2libGluZ1wiKX0scHJldkFsbDpmdW5jdGlvbihhKXtyZXR1cm4gdShhLFwicHJldmlvdXNTaWJsaW5nXCIpfSxuZXh0VW50aWw6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB1KGEsXCJuZXh0U2libGluZ1wiLGMpfSxwcmV2VW50aWw6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB1KGEsXCJwcmV2aW91c1NpYmxpbmdcIixjKX0sc2libGluZ3M6ZnVuY3Rpb24oYSl7cmV0dXJuIHYoKGEucGFyZW50Tm9kZXx8e30pLmZpcnN0Q2hpbGQsYSl9LGNoaWxkcmVuOmZ1bmN0aW9uKGEpe3JldHVybiB2KGEuZmlyc3RDaGlsZCl9LGNvbnRlbnRzOmZ1bmN0aW9uKGEpe3JldHVybiBhLmNvbnRlbnREb2N1bWVudHx8bi5tZXJnZShbXSxhLmNoaWxkTm9kZXMpfX0sZnVuY3Rpb24oYSxiKXtuLmZuW2FdPWZ1bmN0aW9uKGMsZCl7dmFyIGU9bi5tYXAodGhpcyxiLGMpO3JldHVyblwiVW50aWxcIiE9PWEuc2xpY2UoLTUpJiYoZD1jKSxkJiZcInN0cmluZ1wiPT10eXBlb2YgZCYmKGU9bi5maWx0ZXIoZCxlKSksdGhpcy5sZW5ndGg+MSYmKEVbYV18fG4udW5pcXVlU29ydChlKSxELnRlc3QoYSkmJmUucmV2ZXJzZSgpKSx0aGlzLnB1c2hTdGFjayhlKX19KTt2YXIgRz0vXFxTKy9nO2Z1bmN0aW9uIEgoYSl7dmFyIGI9e307cmV0dXJuIG4uZWFjaChhLm1hdGNoKEcpfHxbXSxmdW5jdGlvbihhLGMpe2JbY109ITB9KSxifW4uQ2FsbGJhY2tzPWZ1bmN0aW9uKGEpe2E9XCJzdHJpbmdcIj09dHlwZW9mIGE/SChhKTpuLmV4dGVuZCh7fSxhKTt2YXIgYixjLGQsZSxmPVtdLGc9W10saD0tMSxpPWZ1bmN0aW9uKCl7Zm9yKGU9YS5vbmNlLGQ9Yj0hMDtnLmxlbmd0aDtoPS0xKXtjPWcuc2hpZnQoKTt3aGlsZSgrK2g8Zi5sZW5ndGgpZltoXS5hcHBseShjWzBdLGNbMV0pPT09ITEmJmEuc3RvcE9uRmFsc2UmJihoPWYubGVuZ3RoLGM9ITEpfWEubWVtb3J5fHwoYz0hMSksYj0hMSxlJiYoZj1jP1tdOlwiXCIpfSxqPXthZGQ6ZnVuY3Rpb24oKXtyZXR1cm4gZiYmKGMmJiFiJiYoaD1mLmxlbmd0aC0xLGcucHVzaChjKSksZnVuY3Rpb24gZChiKXtuLmVhY2goYixmdW5jdGlvbihiLGMpe24uaXNGdW5jdGlvbihjKT9hLnVuaXF1ZSYmai5oYXMoYyl8fGYucHVzaChjKTpjJiZjLmxlbmd0aCYmXCJzdHJpbmdcIiE9PW4udHlwZShjKSYmZChjKX0pfShhcmd1bWVudHMpLGMmJiFiJiZpKCkpLHRoaXN9LHJlbW92ZTpmdW5jdGlvbigpe3JldHVybiBuLmVhY2goYXJndW1lbnRzLGZ1bmN0aW9uKGEsYil7dmFyIGM7d2hpbGUoKGM9bi5pbkFycmF5KGIsZixjKSk+LTEpZi5zcGxpY2UoYywxKSxoPj1jJiZoLS19KSx0aGlzfSxoYXM6ZnVuY3Rpb24oYSl7cmV0dXJuIGE/bi5pbkFycmF5KGEsZik+LTE6Zi5sZW5ndGg+MH0sZW1wdHk6ZnVuY3Rpb24oKXtyZXR1cm4gZiYmKGY9W10pLHRoaXN9LGRpc2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gZT1nPVtdLGY9Yz1cIlwiLHRoaXN9LGRpc2FibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIWZ9LGxvY2s6ZnVuY3Rpb24oKXtyZXR1cm4gZT1nPVtdLGN8fChmPWM9XCJcIiksdGhpc30sbG9ja2VkOmZ1bmN0aW9uKCl7cmV0dXJuISFlfSxmaXJlV2l0aDpmdW5jdGlvbihhLGMpe3JldHVybiBlfHwoYz1jfHxbXSxjPVthLGMuc2xpY2U/Yy5zbGljZSgpOmNdLGcucHVzaChjKSxifHxpKCkpLHRoaXN9LGZpcmU6ZnVuY3Rpb24oKXtyZXR1cm4gai5maXJlV2l0aCh0aGlzLGFyZ3VtZW50cyksdGhpc30sZmlyZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIWR9fTtyZXR1cm4gan0sbi5leHRlbmQoe0RlZmVycmVkOmZ1bmN0aW9uKGEpe3ZhciBiPVtbXCJyZXNvbHZlXCIsXCJkb25lXCIsbi5DYWxsYmFja3MoXCJvbmNlIG1lbW9yeVwiKSxcInJlc29sdmVkXCJdLFtcInJlamVjdFwiLFwiZmFpbFwiLG4uQ2FsbGJhY2tzKFwib25jZSBtZW1vcnlcIiksXCJyZWplY3RlZFwiXSxbXCJub3RpZnlcIixcInByb2dyZXNzXCIsbi5DYWxsYmFja3MoXCJtZW1vcnlcIildXSxjPVwicGVuZGluZ1wiLGQ9e3N0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIGN9LGFsd2F5czpmdW5jdGlvbigpe3JldHVybiBlLmRvbmUoYXJndW1lbnRzKS5mYWlsKGFyZ3VtZW50cyksdGhpc30sdGhlbjpmdW5jdGlvbigpe3ZhciBhPWFyZ3VtZW50cztyZXR1cm4gbi5EZWZlcnJlZChmdW5jdGlvbihjKXtuLmVhY2goYixmdW5jdGlvbihiLGYpe3ZhciBnPW4uaXNGdW5jdGlvbihhW2JdKSYmYVtiXTtlW2ZbMV1dKGZ1bmN0aW9uKCl7dmFyIGE9ZyYmZy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YSYmbi5pc0Z1bmN0aW9uKGEucHJvbWlzZSk/YS5wcm9taXNlKCkucHJvZ3Jlc3MoYy5ub3RpZnkpLmRvbmUoYy5yZXNvbHZlKS5mYWlsKGMucmVqZWN0KTpjW2ZbMF0rXCJXaXRoXCJdKHRoaXM9PT1kP2MucHJvbWlzZSgpOnRoaXMsZz9bYV06YXJndW1lbnRzKX0pfSksYT1udWxsfSkucHJvbWlzZSgpfSxwcm9taXNlOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hP24uZXh0ZW5kKGEsZCk6ZH19LGU9e307cmV0dXJuIGQucGlwZT1kLnRoZW4sbi5lYWNoKGIsZnVuY3Rpb24oYSxmKXt2YXIgZz1mWzJdLGg9ZlszXTtkW2ZbMV1dPWcuYWRkLGgmJmcuYWRkKGZ1bmN0aW9uKCl7Yz1ofSxiWzFeYV1bMl0uZGlzYWJsZSxiWzJdWzJdLmxvY2spLGVbZlswXV09ZnVuY3Rpb24oKXtyZXR1cm4gZVtmWzBdK1wiV2l0aFwiXSh0aGlzPT09ZT9kOnRoaXMsYXJndW1lbnRzKSx0aGlzfSxlW2ZbMF0rXCJXaXRoXCJdPWcuZmlyZVdpdGh9KSxkLnByb21pc2UoZSksYSYmYS5jYWxsKGUsZSksZX0sd2hlbjpmdW5jdGlvbihhKXt2YXIgYj0wLGM9ZS5jYWxsKGFyZ3VtZW50cyksZD1jLmxlbmd0aCxmPTEhPT1kfHxhJiZuLmlzRnVuY3Rpb24oYS5wcm9taXNlKT9kOjAsZz0xPT09Zj9hOm4uRGVmZXJyZWQoKSxoPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oZCl7YlthXT10aGlzLGNbYV09YXJndW1lbnRzLmxlbmd0aD4xP2UuY2FsbChhcmd1bWVudHMpOmQsYz09PWk/Zy5ub3RpZnlXaXRoKGIsYyk6LS1mfHxnLnJlc29sdmVXaXRoKGIsYyl9fSxpLGosaztpZihkPjEpZm9yKGk9bmV3IEFycmF5KGQpLGo9bmV3IEFycmF5KGQpLGs9bmV3IEFycmF5KGQpO2Q+YjtiKyspY1tiXSYmbi5pc0Z1bmN0aW9uKGNbYl0ucHJvbWlzZSk/Y1tiXS5wcm9taXNlKCkucHJvZ3Jlc3MoaChiLGosaSkpLmRvbmUoaChiLGssYykpLmZhaWwoZy5yZWplY3QpOi0tZjtyZXR1cm4gZnx8Zy5yZXNvbHZlV2l0aChrLGMpLGcucHJvbWlzZSgpfX0pO3ZhciBJO24uZm4ucmVhZHk9ZnVuY3Rpb24oYSl7cmV0dXJuIG4ucmVhZHkucHJvbWlzZSgpLmRvbmUoYSksdGhpc30sbi5leHRlbmQoe2lzUmVhZHk6ITEscmVhZHlXYWl0OjEsaG9sZFJlYWR5OmZ1bmN0aW9uKGEpe2E/bi5yZWFkeVdhaXQrKzpuLnJlYWR5KCEwKX0scmVhZHk6ZnVuY3Rpb24oYSl7KGE9PT0hMD8tLW4ucmVhZHlXYWl0Om4uaXNSZWFkeSl8fChuLmlzUmVhZHk9ITAsYSE9PSEwJiYtLW4ucmVhZHlXYWl0PjB8fChJLnJlc29sdmVXaXRoKGQsW25dKSxuLmZuLnRyaWdnZXJIYW5kbGVyJiYobihkKS50cmlnZ2VySGFuZGxlcihcInJlYWR5XCIpLG4oZCkub2ZmKFwicmVhZHlcIikpKSl9fSk7ZnVuY3Rpb24gSigpe2QucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIixKKSxhLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsSiksbi5yZWFkeSgpfW4ucmVhZHkucHJvbWlzZT1mdW5jdGlvbihiKXtyZXR1cm4gSXx8KEk9bi5EZWZlcnJlZCgpLFwiY29tcGxldGVcIj09PWQucmVhZHlTdGF0ZXx8XCJsb2FkaW5nXCIhPT1kLnJlYWR5U3RhdGUmJiFkLmRvY3VtZW50RWxlbWVudC5kb1Njcm9sbD9hLnNldFRpbWVvdXQobi5yZWFkeSk6KGQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIixKKSxhLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsSikpKSxJLnByb21pc2UoYil9LG4ucmVhZHkucHJvbWlzZSgpO3ZhciBLPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe3ZhciBoPTAsaT1hLmxlbmd0aCxqPW51bGw9PWM7aWYoXCJvYmplY3RcIj09PW4udHlwZShjKSl7ZT0hMDtmb3IoaCBpbiBjKUsoYSxiLGgsY1toXSwhMCxmLGcpfWVsc2UgaWYodm9pZCAwIT09ZCYmKGU9ITAsbi5pc0Z1bmN0aW9uKGQpfHwoZz0hMCksaiYmKGc/KGIuY2FsbChhLGQpLGI9bnVsbCk6KGo9YixiPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gai5jYWxsKG4oYSksYyl9KSksYikpZm9yKDtpPmg7aCsrKWIoYVtoXSxjLGc/ZDpkLmNhbGwoYVtoXSxoLGIoYVtoXSxjKSkpO3JldHVybiBlP2E6aj9iLmNhbGwoYSk6aT9iKGFbMF0sYyk6Zn0sTD1mdW5jdGlvbihhKXtyZXR1cm4gMT09PWEubm9kZVR5cGV8fDk9PT1hLm5vZGVUeXBlfHwhK2Eubm9kZVR5cGV9O2Z1bmN0aW9uIE0oKXt0aGlzLmV4cGFuZG89bi5leHBhbmRvK00udWlkKyt9TS51aWQ9MSxNLnByb3RvdHlwZT17cmVnaXN0ZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYz1ifHx7fTtyZXR1cm4gYS5ub2RlVHlwZT9hW3RoaXMuZXhwYW5kb109YzpPYmplY3QuZGVmaW5lUHJvcGVydHkoYSx0aGlzLmV4cGFuZG8se3ZhbHVlOmMsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksYVt0aGlzLmV4cGFuZG9dfSxjYWNoZTpmdW5jdGlvbihhKXtpZighTChhKSlyZXR1cm57fTt2YXIgYj1hW3RoaXMuZXhwYW5kb107cmV0dXJuIGJ8fChiPXt9LEwoYSkmJihhLm5vZGVUeXBlP2FbdGhpcy5leHBhbmRvXT1iOk9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLHRoaXMuZXhwYW5kbyx7dmFsdWU6Yixjb25maWd1cmFibGU6ITB9KSkpLGJ9LHNldDpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZT10aGlzLmNhY2hlKGEpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBiKWVbYl09YztlbHNlIGZvcihkIGluIGIpZVtkXT1iW2RdO3JldHVybiBlfSxnZXQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdm9pZCAwPT09Yj90aGlzLmNhY2hlKGEpOmFbdGhpcy5leHBhbmRvXSYmYVt0aGlzLmV4cGFuZG9dW2JdfSxhY2Nlc3M6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO3JldHVybiB2b2lkIDA9PT1ifHxiJiZcInN0cmluZ1wiPT10eXBlb2YgYiYmdm9pZCAwPT09Yz8oZD10aGlzLmdldChhLGIpLHZvaWQgMCE9PWQ/ZDp0aGlzLmdldChhLG4uY2FtZWxDYXNlKGIpKSk6KHRoaXMuc2V0KGEsYixjKSx2b2lkIDAhPT1jP2M6Yil9LHJlbW92ZTpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmPWFbdGhpcy5leHBhbmRvXTtpZih2b2lkIDAhPT1mKXtpZih2b2lkIDA9PT1iKXRoaXMucmVnaXN0ZXIoYSk7ZWxzZXtuLmlzQXJyYXkoYik/ZD1iLmNvbmNhdChiLm1hcChuLmNhbWVsQ2FzZSkpOihlPW4uY2FtZWxDYXNlKGIpLGIgaW4gZj9kPVtiLGVdOihkPWUsZD1kIGluIGY/W2RdOmQubWF0Y2goRyl8fFtdKSksYz1kLmxlbmd0aDt3aGlsZShjLS0pZGVsZXRlIGZbZFtjXV19KHZvaWQgMD09PWJ8fG4uaXNFbXB0eU9iamVjdChmKSkmJihhLm5vZGVUeXBlP2FbdGhpcy5leHBhbmRvXT12b2lkIDA6ZGVsZXRlIGFbdGhpcy5leHBhbmRvXSl9fSxoYXNEYXRhOmZ1bmN0aW9uKGEpe3ZhciBiPWFbdGhpcy5leHBhbmRvXTtyZXR1cm4gdm9pZCAwIT09YiYmIW4uaXNFbXB0eU9iamVjdChiKX19O3ZhciBOPW5ldyBNLE89bmV3IE0sUD0vXig/Olxce1tcXHdcXFddKlxcfXxcXFtbXFx3XFxXXSpcXF0pJC8sUT0vW0EtWl0vZztmdW5jdGlvbiBSKGEsYixjKXt2YXIgZDtpZih2b2lkIDA9PT1jJiYxPT09YS5ub2RlVHlwZSlpZihkPVwiZGF0YS1cIitiLnJlcGxhY2UoUSxcIi0kJlwiKS50b0xvd2VyQ2FzZSgpLGM9YS5nZXRBdHRyaWJ1dGUoZCksXCJzdHJpbmdcIj09dHlwZW9mIGMpe3RyeXtjPVwidHJ1ZVwiPT09Yz8hMDpcImZhbHNlXCI9PT1jPyExOlwibnVsbFwiPT09Yz9udWxsOitjK1wiXCI9PT1jPytjOlAudGVzdChjKT9uLnBhcnNlSlNPTihjKTpjfWNhdGNoKGUpe31PLnNldChhLGIsYyk7XG59ZWxzZSBjPXZvaWQgMDtyZXR1cm4gY31uLmV4dGVuZCh7aGFzRGF0YTpmdW5jdGlvbihhKXtyZXR1cm4gTy5oYXNEYXRhKGEpfHxOLmhhc0RhdGEoYSl9LGRhdGE6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBPLmFjY2VzcyhhLGIsYyl9LHJlbW92ZURhdGE6ZnVuY3Rpb24oYSxiKXtPLnJlbW92ZShhLGIpfSxfZGF0YTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIE4uYWNjZXNzKGEsYixjKX0sX3JlbW92ZURhdGE6ZnVuY3Rpb24oYSxiKXtOLnJlbW92ZShhLGIpfX0pLG4uZm4uZXh0ZW5kKHtkYXRhOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGY9dGhpc1swXSxnPWYmJmYuYXR0cmlidXRlcztpZih2b2lkIDA9PT1hKXtpZih0aGlzLmxlbmd0aCYmKGU9Ty5nZXQoZiksMT09PWYubm9kZVR5cGUmJiFOLmdldChmLFwiaGFzRGF0YUF0dHJzXCIpKSl7Yz1nLmxlbmd0aDt3aGlsZShjLS0pZ1tjXSYmKGQ9Z1tjXS5uYW1lLDA9PT1kLmluZGV4T2YoXCJkYXRhLVwiKSYmKGQ9bi5jYW1lbENhc2UoZC5zbGljZSg1KSksUihmLGQsZVtkXSkpKTtOLnNldChmLFwiaGFzRGF0YUF0dHJzXCIsITApfXJldHVybiBlfXJldHVyblwib2JqZWN0XCI9PXR5cGVvZiBhP3RoaXMuZWFjaChmdW5jdGlvbigpe08uc2V0KHRoaXMsYSl9KTpLKHRoaXMsZnVuY3Rpb24oYil7dmFyIGMsZDtpZihmJiZ2b2lkIDA9PT1iKXtpZihjPU8uZ2V0KGYsYSl8fE8uZ2V0KGYsYS5yZXBsYWNlKFEsXCItJCZcIikudG9Mb3dlckNhc2UoKSksdm9pZCAwIT09YylyZXR1cm4gYztpZihkPW4uY2FtZWxDYXNlKGEpLGM9Ty5nZXQoZixkKSx2b2lkIDAhPT1jKXJldHVybiBjO2lmKGM9UihmLGQsdm9pZCAwKSx2b2lkIDAhPT1jKXJldHVybiBjfWVsc2UgZD1uLmNhbWVsQ2FzZShhKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1PLmdldCh0aGlzLGQpO08uc2V0KHRoaXMsZCxiKSxhLmluZGV4T2YoXCItXCIpPi0xJiZ2b2lkIDAhPT1jJiZPLnNldCh0aGlzLGEsYil9KX0sbnVsbCxiLGFyZ3VtZW50cy5sZW5ndGg+MSxudWxsLCEwKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Ty5yZW1vdmUodGhpcyxhKX0pfX0pLG4uZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ7cmV0dXJuIGE/KGI9KGJ8fFwiZnhcIikrXCJxdWV1ZVwiLGQ9Ti5nZXQoYSxiKSxjJiYoIWR8fG4uaXNBcnJheShjKT9kPU4uYWNjZXNzKGEsYixuLm1ha2VBcnJheShjKSk6ZC5wdXNoKGMpKSxkfHxbXSk6dm9pZCAwfSxkZXF1ZXVlOmZ1bmN0aW9uKGEsYil7Yj1ifHxcImZ4XCI7dmFyIGM9bi5xdWV1ZShhLGIpLGQ9Yy5sZW5ndGgsZT1jLnNoaWZ0KCksZj1uLl9xdWV1ZUhvb2tzKGEsYiksZz1mdW5jdGlvbigpe24uZGVxdWV1ZShhLGIpfTtcImlucHJvZ3Jlc3NcIj09PWUmJihlPWMuc2hpZnQoKSxkLS0pLGUmJihcImZ4XCI9PT1iJiZjLnVuc2hpZnQoXCJpbnByb2dyZXNzXCIpLGRlbGV0ZSBmLnN0b3AsZS5jYWxsKGEsZyxmKSksIWQmJmYmJmYuZW1wdHkuZmlyZSgpfSxfcXVldWVIb29rczpmdW5jdGlvbihhLGIpe3ZhciBjPWIrXCJxdWV1ZUhvb2tzXCI7cmV0dXJuIE4uZ2V0KGEsYyl8fE4uYWNjZXNzKGEsYyx7ZW1wdHk6bi5DYWxsYmFja3MoXCJvbmNlIG1lbW9yeVwiKS5hZGQoZnVuY3Rpb24oKXtOLnJlbW92ZShhLFtiK1wicXVldWVcIixjXSl9KX0pfX0pLG4uZm4uZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbihhLGIpe3ZhciBjPTI7cmV0dXJuXCJzdHJpbmdcIiE9dHlwZW9mIGEmJihiPWEsYT1cImZ4XCIsYy0tKSxhcmd1bWVudHMubGVuZ3RoPGM/bi5xdWV1ZSh0aGlzWzBdLGEpOnZvaWQgMD09PWI/dGhpczp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1uLnF1ZXVlKHRoaXMsYSxiKTtuLl9xdWV1ZUhvb2tzKHRoaXMsYSksXCJmeFwiPT09YSYmXCJpbnByb2dyZXNzXCIhPT1jWzBdJiZuLmRlcXVldWUodGhpcyxhKX0pfSxkZXF1ZXVlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtuLmRlcXVldWUodGhpcyxhKX0pfSxjbGVhclF1ZXVlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnF1ZXVlKGF8fFwiZnhcIixbXSl9LHByb21pc2U6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPTEsZT1uLkRlZmVycmVkKCksZj10aGlzLGc9dGhpcy5sZW5ndGgsaD1mdW5jdGlvbigpey0tZHx8ZS5yZXNvbHZlV2l0aChmLFtmXSl9O1wic3RyaW5nXCIhPXR5cGVvZiBhJiYoYj1hLGE9dm9pZCAwKSxhPWF8fFwiZnhcIjt3aGlsZShnLS0pYz1OLmdldChmW2ddLGErXCJxdWV1ZUhvb2tzXCIpLGMmJmMuZW1wdHkmJihkKyssYy5lbXB0eS5hZGQoaCkpO3JldHVybiBoKCksZS5wcm9taXNlKGIpfX0pO3ZhciBTPS9bKy1dPyg/OlxcZCpcXC58KVxcZCsoPzpbZUVdWystXT9cXGQrfCkvLnNvdXJjZSxUPW5ldyBSZWdFeHAoXCJeKD86KFsrLV0pPXwpKFwiK1MrXCIpKFthLXolXSopJFwiLFwiaVwiKSxVPVtcIlRvcFwiLFwiUmlnaHRcIixcIkJvdHRvbVwiLFwiTGVmdFwiXSxWPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9Ynx8YSxcIm5vbmVcIj09PW4uY3NzKGEsXCJkaXNwbGF5XCIpfHwhbi5jb250YWlucyhhLm93bmVyRG9jdW1lbnQsYSl9O2Z1bmN0aW9uIFcoYSxiLGMsZCl7dmFyIGUsZj0xLGc9MjAsaD1kP2Z1bmN0aW9uKCl7cmV0dXJuIGQuY3VyKCl9OmZ1bmN0aW9uKCl7cmV0dXJuIG4uY3NzKGEsYixcIlwiKX0saT1oKCksaj1jJiZjWzNdfHwobi5jc3NOdW1iZXJbYl0/XCJcIjpcInB4XCIpLGs9KG4uY3NzTnVtYmVyW2JdfHxcInB4XCIhPT1qJiYraSkmJlQuZXhlYyhuLmNzcyhhLGIpKTtpZihrJiZrWzNdIT09ail7aj1qfHxrWzNdLGM9Y3x8W10saz0raXx8MTtkbyBmPWZ8fFwiLjVcIixrLz1mLG4uc3R5bGUoYSxiLGsraik7d2hpbGUoZiE9PShmPWgoKS9pKSYmMSE9PWYmJi0tZyl9cmV0dXJuIGMmJihrPStrfHwraXx8MCxlPWNbMV0/aysoY1sxXSsxKSpjWzJdOitjWzJdLGQmJihkLnVuaXQ9aixkLnN0YXJ0PWssZC5lbmQ9ZSkpLGV9dmFyIFg9L14oPzpjaGVja2JveHxyYWRpbykkL2ksWT0vPChbXFx3Oi1dKykvLFo9L14kfFxcLyg/OmphdmF8ZWNtYSlzY3JpcHQvaSwkPXtvcHRpb246WzEsXCI8c2VsZWN0IG11bHRpcGxlPSdtdWx0aXBsZSc+XCIsXCI8L3NlbGVjdD5cIl0sdGhlYWQ6WzEsXCI8dGFibGU+XCIsXCI8L3RhYmxlPlwiXSxjb2w6WzIsXCI8dGFibGU+PGNvbGdyb3VwPlwiLFwiPC9jb2xncm91cD48L3RhYmxlPlwiXSx0cjpbMixcIjx0YWJsZT48dGJvZHk+XCIsXCI8L3Rib2R5PjwvdGFibGU+XCJdLHRkOlszLFwiPHRhYmxlPjx0Ym9keT48dHI+XCIsXCI8L3RyPjwvdGJvZHk+PC90YWJsZT5cIl0sX2RlZmF1bHQ6WzAsXCJcIixcIlwiXX07JC5vcHRncm91cD0kLm9wdGlvbiwkLnRib2R5PSQudGZvb3Q9JC5jb2xncm91cD0kLmNhcHRpb249JC50aGVhZCwkLnRoPSQudGQ7ZnVuY3Rpb24gXyhhLGIpe3ZhciBjPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBhLmdldEVsZW1lbnRzQnlUYWdOYW1lP2EuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYnx8XCIqXCIpOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBhLnF1ZXJ5U2VsZWN0b3JBbGw/YS5xdWVyeVNlbGVjdG9yQWxsKGJ8fFwiKlwiKTpbXTtyZXR1cm4gdm9pZCAwPT09Ynx8YiYmbi5ub2RlTmFtZShhLGIpP24ubWVyZ2UoW2FdLGMpOmN9ZnVuY3Rpb24gYWEoYSxiKXtmb3IodmFyIGM9MCxkPWEubGVuZ3RoO2Q+YztjKyspTi5zZXQoYVtjXSxcImdsb2JhbEV2YWxcIiwhYnx8Ti5nZXQoYltjXSxcImdsb2JhbEV2YWxcIikpfXZhciBiYT0vPHwmIz9cXHcrOy87ZnVuY3Rpb24gY2EoYSxiLGMsZCxlKXtmb3IodmFyIGYsZyxoLGksaixrLGw9Yi5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksbT1bXSxvPTAscD1hLmxlbmd0aDtwPm87bysrKWlmKGY9YVtvXSxmfHwwPT09ZilpZihcIm9iamVjdFwiPT09bi50eXBlKGYpKW4ubWVyZ2UobSxmLm5vZGVUeXBlP1tmXTpmKTtlbHNlIGlmKGJhLnRlc3QoZikpe2c9Z3x8bC5hcHBlbmRDaGlsZChiLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLGg9KFkuZXhlYyhmKXx8W1wiXCIsXCJcIl0pWzFdLnRvTG93ZXJDYXNlKCksaT0kW2hdfHwkLl9kZWZhdWx0LGcuaW5uZXJIVE1MPWlbMV0rbi5odG1sUHJlZmlsdGVyKGYpK2lbMl0saz1pWzBdO3doaWxlKGstLSlnPWcubGFzdENoaWxkO24ubWVyZ2UobSxnLmNoaWxkTm9kZXMpLGc9bC5maXJzdENoaWxkLGcudGV4dENvbnRlbnQ9XCJcIn1lbHNlIG0ucHVzaChiLmNyZWF0ZVRleHROb2RlKGYpKTtsLnRleHRDb250ZW50PVwiXCIsbz0wO3doaWxlKGY9bVtvKytdKWlmKGQmJm4uaW5BcnJheShmLGQpPi0xKWUmJmUucHVzaChmKTtlbHNlIGlmKGo9bi5jb250YWlucyhmLm93bmVyRG9jdW1lbnQsZiksZz1fKGwuYXBwZW5kQ2hpbGQoZiksXCJzY3JpcHRcIiksaiYmYWEoZyksYyl7az0wO3doaWxlKGY9Z1trKytdKVoudGVzdChmLnR5cGV8fFwiXCIpJiZjLnB1c2goZil9cmV0dXJuIGx9IWZ1bmN0aW9uKCl7dmFyIGE9ZC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksYj1hLmFwcGVuZENoaWxkKGQuY3JlYXRlRWxlbWVudChcImRpdlwiKSksYz1kLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtjLnNldEF0dHJpYnV0ZShcInR5cGVcIixcInJhZGlvXCIpLGMuc2V0QXR0cmlidXRlKFwiY2hlY2tlZFwiLFwiY2hlY2tlZFwiKSxjLnNldEF0dHJpYnV0ZShcIm5hbWVcIixcInRcIiksYi5hcHBlbmRDaGlsZChjKSxsLmNoZWNrQ2xvbmU9Yi5jbG9uZU5vZGUoITApLmNsb25lTm9kZSghMCkubGFzdENoaWxkLmNoZWNrZWQsYi5pbm5lckhUTUw9XCI8dGV4dGFyZWE+eDwvdGV4dGFyZWE+XCIsbC5ub0Nsb25lQ2hlY2tlZD0hIWIuY2xvbmVOb2RlKCEwKS5sYXN0Q2hpbGQuZGVmYXVsdFZhbHVlfSgpO3ZhciBkYT0vXmtleS8sZWE9L14oPzptb3VzZXxwb2ludGVyfGNvbnRleHRtZW51fGRyYWd8ZHJvcCl8Y2xpY2svLGZhPS9eKFteLl0qKSg/OlxcLiguKyl8KS87ZnVuY3Rpb24gZ2EoKXtyZXR1cm4hMH1mdW5jdGlvbiBoYSgpe3JldHVybiExfWZ1bmN0aW9uIGlhKCl7dHJ5e3JldHVybiBkLmFjdGl2ZUVsZW1lbnR9Y2F0Y2goYSl7fX1mdW5jdGlvbiBqYShhLGIsYyxkLGUsZil7dmFyIGcsaDtpZihcIm9iamVjdFwiPT10eXBlb2YgYil7XCJzdHJpbmdcIiE9dHlwZW9mIGMmJihkPWR8fGMsYz12b2lkIDApO2ZvcihoIGluIGIpamEoYSxoLGMsZCxiW2hdLGYpO3JldHVybiBhfWlmKG51bGw9PWQmJm51bGw9PWU/KGU9YyxkPWM9dm9pZCAwKTpudWxsPT1lJiYoXCJzdHJpbmdcIj09dHlwZW9mIGM/KGU9ZCxkPXZvaWQgMCk6KGU9ZCxkPWMsYz12b2lkIDApKSxlPT09ITEpZT1oYTtlbHNlIGlmKCFlKXJldHVybiB0aGlzO3JldHVybiAxPT09ZiYmKGc9ZSxlPWZ1bmN0aW9uKGEpe3JldHVybiBuKCkub2ZmKGEpLGcuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxlLmd1aWQ9Zy5ndWlkfHwoZy5ndWlkPW4uZ3VpZCsrKSksYS5lYWNoKGZ1bmN0aW9uKCl7bi5ldmVudC5hZGQodGhpcyxiLGUsZCxjKX0pfW4uZXZlbnQ9e2dsb2JhbDp7fSxhZGQ6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZixnLGgsaSxqLGssbCxtLG8scCxxLHI9Ti5nZXQoYSk7aWYocil7Yy5oYW5kbGVyJiYoZj1jLGM9Zi5oYW5kbGVyLGU9Zi5zZWxlY3RvciksYy5ndWlkfHwoYy5ndWlkPW4uZ3VpZCsrKSwoaT1yLmV2ZW50cyl8fChpPXIuZXZlbnRzPXt9KSwoZz1yLmhhbmRsZSl8fChnPXIuaGFuZGxlPWZ1bmN0aW9uKGIpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBuJiZuLmV2ZW50LnRyaWdnZXJlZCE9PWIudHlwZT9uLmV2ZW50LmRpc3BhdGNoLmFwcGx5KGEsYXJndW1lbnRzKTp2b2lkIDB9KSxiPShifHxcIlwiKS5tYXRjaChHKXx8W1wiXCJdLGo9Yi5sZW5ndGg7d2hpbGUoai0tKWg9ZmEuZXhlYyhiW2pdKXx8W10sbz1xPWhbMV0scD0oaFsyXXx8XCJcIikuc3BsaXQoXCIuXCIpLnNvcnQoKSxvJiYobD1uLmV2ZW50LnNwZWNpYWxbb118fHt9LG89KGU/bC5kZWxlZ2F0ZVR5cGU6bC5iaW5kVHlwZSl8fG8sbD1uLmV2ZW50LnNwZWNpYWxbb118fHt9LGs9bi5leHRlbmQoe3R5cGU6byxvcmlnVHlwZTpxLGRhdGE6ZCxoYW5kbGVyOmMsZ3VpZDpjLmd1aWQsc2VsZWN0b3I6ZSxuZWVkc0NvbnRleHQ6ZSYmbi5leHByLm1hdGNoLm5lZWRzQ29udGV4dC50ZXN0KGUpLG5hbWVzcGFjZTpwLmpvaW4oXCIuXCIpfSxmKSwobT1pW29dKXx8KG09aVtvXT1bXSxtLmRlbGVnYXRlQ291bnQ9MCxsLnNldHVwJiZsLnNldHVwLmNhbGwoYSxkLHAsZykhPT0hMXx8YS5hZGRFdmVudExpc3RlbmVyJiZhLmFkZEV2ZW50TGlzdGVuZXIobyxnKSksbC5hZGQmJihsLmFkZC5jYWxsKGEsayksay5oYW5kbGVyLmd1aWR8fChrLmhhbmRsZXIuZ3VpZD1jLmd1aWQpKSxlP20uc3BsaWNlKG0uZGVsZWdhdGVDb3VudCsrLDAsayk6bS5wdXNoKGspLG4uZXZlbnQuZ2xvYmFsW29dPSEwKX19LHJlbW92ZTpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmLGcsaCxpLGosayxsLG0sbyxwLHEscj1OLmhhc0RhdGEoYSkmJk4uZ2V0KGEpO2lmKHImJihpPXIuZXZlbnRzKSl7Yj0oYnx8XCJcIikubWF0Y2goRyl8fFtcIlwiXSxqPWIubGVuZ3RoO3doaWxlKGotLSlpZihoPWZhLmV4ZWMoYltqXSl8fFtdLG89cT1oWzFdLHA9KGhbMl18fFwiXCIpLnNwbGl0KFwiLlwiKS5zb3J0KCksbyl7bD1uLmV2ZW50LnNwZWNpYWxbb118fHt9LG89KGQ/bC5kZWxlZ2F0ZVR5cGU6bC5iaW5kVHlwZSl8fG8sbT1pW29dfHxbXSxoPWhbMl0mJm5ldyBSZWdFeHAoXCIoXnxcXFxcLilcIitwLmpvaW4oXCJcXFxcLig/Oi4qXFxcXC58KVwiKStcIihcXFxcLnwkKVwiKSxnPWY9bS5sZW5ndGg7d2hpbGUoZi0tKWs9bVtmXSwhZSYmcSE9PWsub3JpZ1R5cGV8fGMmJmMuZ3VpZCE9PWsuZ3VpZHx8aCYmIWgudGVzdChrLm5hbWVzcGFjZSl8fGQmJmQhPT1rLnNlbGVjdG9yJiYoXCIqKlwiIT09ZHx8IWsuc2VsZWN0b3IpfHwobS5zcGxpY2UoZiwxKSxrLnNlbGVjdG9yJiZtLmRlbGVnYXRlQ291bnQtLSxsLnJlbW92ZSYmbC5yZW1vdmUuY2FsbChhLGspKTtnJiYhbS5sZW5ndGgmJihsLnRlYXJkb3duJiZsLnRlYXJkb3duLmNhbGwoYSxwLHIuaGFuZGxlKSE9PSExfHxuLnJlbW92ZUV2ZW50KGEsbyxyLmhhbmRsZSksZGVsZXRlIGlbb10pfWVsc2UgZm9yKG8gaW4gaSluLmV2ZW50LnJlbW92ZShhLG8rYltqXSxjLGQsITApO24uaXNFbXB0eU9iamVjdChpKSYmTi5yZW1vdmUoYSxcImhhbmRsZSBldmVudHNcIil9fSxkaXNwYXRjaDpmdW5jdGlvbihhKXthPW4uZXZlbnQuZml4KGEpO3ZhciBiLGMsZCxmLGcsaD1bXSxpPWUuY2FsbChhcmd1bWVudHMpLGo9KE4uZ2V0KHRoaXMsXCJldmVudHNcIil8fHt9KVthLnR5cGVdfHxbXSxrPW4uZXZlbnQuc3BlY2lhbFthLnR5cGVdfHx7fTtpZihpWzBdPWEsYS5kZWxlZ2F0ZVRhcmdldD10aGlzLCFrLnByZURpc3BhdGNofHxrLnByZURpc3BhdGNoLmNhbGwodGhpcyxhKSE9PSExKXtoPW4uZXZlbnQuaGFuZGxlcnMuY2FsbCh0aGlzLGEsaiksYj0wO3doaWxlKChmPWhbYisrXSkmJiFhLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpe2EuY3VycmVudFRhcmdldD1mLmVsZW0sYz0wO3doaWxlKChnPWYuaGFuZGxlcnNbYysrXSkmJiFhLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkpKCFhLnJuYW1lc3BhY2V8fGEucm5hbWVzcGFjZS50ZXN0KGcubmFtZXNwYWNlKSkmJihhLmhhbmRsZU9iaj1nLGEuZGF0YT1nLmRhdGEsZD0oKG4uZXZlbnQuc3BlY2lhbFtnLm9yaWdUeXBlXXx8e30pLmhhbmRsZXx8Zy5oYW5kbGVyKS5hcHBseShmLmVsZW0saSksdm9pZCAwIT09ZCYmKGEucmVzdWx0PWQpPT09ITEmJihhLnByZXZlbnREZWZhdWx0KCksYS5zdG9wUHJvcGFnYXRpb24oKSkpfXJldHVybiBrLnBvc3REaXNwYXRjaCYmay5wb3N0RGlzcGF0Y2guY2FsbCh0aGlzLGEpLGEucmVzdWx0fX0saGFuZGxlcnM6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZixnPVtdLGg9Yi5kZWxlZ2F0ZUNvdW50LGk9YS50YXJnZXQ7aWYoaCYmaS5ub2RlVHlwZSYmKFwiY2xpY2tcIiE9PWEudHlwZXx8aXNOYU4oYS5idXR0b24pfHxhLmJ1dHRvbjwxKSlmb3IoO2khPT10aGlzO2k9aS5wYXJlbnROb2RlfHx0aGlzKWlmKDE9PT1pLm5vZGVUeXBlJiYoaS5kaXNhYmxlZCE9PSEwfHxcImNsaWNrXCIhPT1hLnR5cGUpKXtmb3IoZD1bXSxjPTA7aD5jO2MrKylmPWJbY10sZT1mLnNlbGVjdG9yK1wiIFwiLHZvaWQgMD09PWRbZV0mJihkW2VdPWYubmVlZHNDb250ZXh0P24oZSx0aGlzKS5pbmRleChpKT4tMTpuLmZpbmQoZSx0aGlzLG51bGwsW2ldKS5sZW5ndGgpLGRbZV0mJmQucHVzaChmKTtkLmxlbmd0aCYmZy5wdXNoKHtlbGVtOmksaGFuZGxlcnM6ZH0pfXJldHVybiBoPGIubGVuZ3RoJiZnLnB1c2goe2VsZW06dGhpcyxoYW5kbGVyczpiLnNsaWNlKGgpfSksZ30scHJvcHM6XCJhbHRLZXkgYnViYmxlcyBjYW5jZWxhYmxlIGN0cmxLZXkgY3VycmVudFRhcmdldCBkZXRhaWwgZXZlbnRQaGFzZSBtZXRhS2V5IHJlbGF0ZWRUYXJnZXQgc2hpZnRLZXkgdGFyZ2V0IHRpbWVTdGFtcCB2aWV3IHdoaWNoXCIuc3BsaXQoXCIgXCIpLGZpeEhvb2tzOnt9LGtleUhvb2tzOntwcm9wczpcImNoYXIgY2hhckNvZGUga2V5IGtleUNvZGVcIi5zcGxpdChcIiBcIiksZmlsdGVyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIG51bGw9PWEud2hpY2gmJihhLndoaWNoPW51bGwhPWIuY2hhckNvZGU/Yi5jaGFyQ29kZTpiLmtleUNvZGUpLGF9fSxtb3VzZUhvb2tzOntwcm9wczpcImJ1dHRvbiBidXR0b25zIGNsaWVudFggY2xpZW50WSBvZmZzZXRYIG9mZnNldFkgcGFnZVggcGFnZVkgc2NyZWVuWCBzY3JlZW5ZIHRvRWxlbWVudFwiLnNwbGl0KFwiIFwiKSxmaWx0ZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYyxlLGYsZz1iLmJ1dHRvbjtyZXR1cm4gbnVsbD09YS5wYWdlWCYmbnVsbCE9Yi5jbGllbnRYJiYoYz1hLnRhcmdldC5vd25lckRvY3VtZW50fHxkLGU9Yy5kb2N1bWVudEVsZW1lbnQsZj1jLmJvZHksYS5wYWdlWD1iLmNsaWVudFgrKGUmJmUuc2Nyb2xsTGVmdHx8ZiYmZi5zY3JvbGxMZWZ0fHwwKS0oZSYmZS5jbGllbnRMZWZ0fHxmJiZmLmNsaWVudExlZnR8fDApLGEucGFnZVk9Yi5jbGllbnRZKyhlJiZlLnNjcm9sbFRvcHx8ZiYmZi5zY3JvbGxUb3B8fDApLShlJiZlLmNsaWVudFRvcHx8ZiYmZi5jbGllbnRUb3B8fDApKSxhLndoaWNofHx2b2lkIDA9PT1nfHwoYS53aGljaD0xJmc/MToyJmc/Mzo0Jmc/MjowKSxhfX0sZml4OmZ1bmN0aW9uKGEpe2lmKGFbbi5leHBhbmRvXSlyZXR1cm4gYTt2YXIgYixjLGUsZj1hLnR5cGUsZz1hLGg9dGhpcy5maXhIb29rc1tmXTtofHwodGhpcy5maXhIb29rc1tmXT1oPWVhLnRlc3QoZik/dGhpcy5tb3VzZUhvb2tzOmRhLnRlc3QoZik/dGhpcy5rZXlIb29rczp7fSksZT1oLnByb3BzP3RoaXMucHJvcHMuY29uY2F0KGgucHJvcHMpOnRoaXMucHJvcHMsYT1uZXcgbi5FdmVudChnKSxiPWUubGVuZ3RoO3doaWxlKGItLSljPWVbYl0sYVtjXT1nW2NdO3JldHVybiBhLnRhcmdldHx8KGEudGFyZ2V0PWQpLDM9PT1hLnRhcmdldC5ub2RlVHlwZSYmKGEudGFyZ2V0PWEudGFyZ2V0LnBhcmVudE5vZGUpLGguZmlsdGVyP2guZmlsdGVyKGEsZyk6YX0sc3BlY2lhbDp7bG9hZDp7bm9CdWJibGU6ITB9LGZvY3VzOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMhPT1pYSgpJiZ0aGlzLmZvY3VzPyh0aGlzLmZvY3VzKCksITEpOnZvaWQgMH0sZGVsZWdhdGVUeXBlOlwiZm9jdXNpblwifSxibHVyOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXM9PT1pYSgpJiZ0aGlzLmJsdXI/KHRoaXMuYmx1cigpLCExKTp2b2lkIDB9LGRlbGVnYXRlVHlwZTpcImZvY3Vzb3V0XCJ9LGNsaWNrOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuXCJjaGVja2JveFwiPT09dGhpcy50eXBlJiZ0aGlzLmNsaWNrJiZuLm5vZGVOYW1lKHRoaXMsXCJpbnB1dFwiKT8odGhpcy5jbGljaygpLCExKTp2b2lkIDB9LF9kZWZhdWx0OmZ1bmN0aW9uKGEpe3JldHVybiBuLm5vZGVOYW1lKGEudGFyZ2V0LFwiYVwiKX19LGJlZm9yZXVubG9hZDp7cG9zdERpc3BhdGNoOmZ1bmN0aW9uKGEpe3ZvaWQgMCE9PWEucmVzdWx0JiZhLm9yaWdpbmFsRXZlbnQmJihhLm9yaWdpbmFsRXZlbnQucmV0dXJuVmFsdWU9YS5yZXN1bHQpfX19fSxuLnJlbW92ZUV2ZW50PWZ1bmN0aW9uKGEsYixjKXthLnJlbW92ZUV2ZW50TGlzdGVuZXImJmEucmVtb3ZlRXZlbnRMaXN0ZW5lcihiLGMpfSxuLkV2ZW50PWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBuLkV2ZW50PyhhJiZhLnR5cGU/KHRoaXMub3JpZ2luYWxFdmVudD1hLHRoaXMudHlwZT1hLnR5cGUsdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9YS5kZWZhdWx0UHJldmVudGVkfHx2b2lkIDA9PT1hLmRlZmF1bHRQcmV2ZW50ZWQmJmEucmV0dXJuVmFsdWU9PT0hMT9nYTpoYSk6dGhpcy50eXBlPWEsYiYmbi5leHRlbmQodGhpcyxiKSx0aGlzLnRpbWVTdGFtcD1hJiZhLnRpbWVTdGFtcHx8bi5ub3coKSx2b2lkKHRoaXNbbi5leHBhbmRvXT0hMCkpOm5ldyBuLkV2ZW50KGEsYil9LG4uRXZlbnQucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpuLkV2ZW50LGlzRGVmYXVsdFByZXZlbnRlZDpoYSxpc1Byb3BhZ2F0aW9uU3RvcHBlZDpoYSxpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZDpoYSxwcmV2ZW50RGVmYXVsdDpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzRGVmYXVsdFByZXZlbnRlZD1nYSxhJiZhLnByZXZlbnREZWZhdWx0KCl9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPWdhLGEmJmEuc3RvcFByb3BhZ2F0aW9uKCl9LHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkPWdhLGEmJmEuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksdGhpcy5zdG9wUHJvcGFnYXRpb24oKX19LG4uZWFjaCh7bW91c2VlbnRlcjpcIm1vdXNlb3ZlclwiLG1vdXNlbGVhdmU6XCJtb3VzZW91dFwiLHBvaW50ZXJlbnRlcjpcInBvaW50ZXJvdmVyXCIscG9pbnRlcmxlYXZlOlwicG9pbnRlcm91dFwifSxmdW5jdGlvbihhLGIpe24uZXZlbnQuc3BlY2lhbFthXT17ZGVsZWdhdGVUeXBlOmIsYmluZFR5cGU6YixoYW5kbGU6ZnVuY3Rpb24oYSl7dmFyIGMsZD10aGlzLGU9YS5yZWxhdGVkVGFyZ2V0LGY9YS5oYW5kbGVPYmo7cmV0dXJuKCFlfHxlIT09ZCYmIW4uY29udGFpbnMoZCxlKSkmJihhLnR5cGU9Zi5vcmlnVHlwZSxjPWYuaGFuZGxlci5hcHBseSh0aGlzLGFyZ3VtZW50cyksYS50eXBlPWIpLGN9fX0pLG4uZm4uZXh0ZW5kKHtvbjpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gamEodGhpcyxhLGIsYyxkKX0sb25lOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBqYSh0aGlzLGEsYixjLGQsMSl9LG9mZjpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZTtpZihhJiZhLnByZXZlbnREZWZhdWx0JiZhLmhhbmRsZU9iailyZXR1cm4gZD1hLmhhbmRsZU9iaixuKGEuZGVsZWdhdGVUYXJnZXQpLm9mZihkLm5hbWVzcGFjZT9kLm9yaWdUeXBlK1wiLlwiK2QubmFtZXNwYWNlOmQub3JpZ1R5cGUsZC5zZWxlY3RvcixkLmhhbmRsZXIpLHRoaXM7aWYoXCJvYmplY3RcIj09dHlwZW9mIGEpe2ZvcihlIGluIGEpdGhpcy5vZmYoZSxiLGFbZV0pO3JldHVybiB0aGlzfXJldHVybihiPT09ITF8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGIpJiYoYz1iLGI9dm9pZCAwKSxjPT09ITEmJihjPWhhKSx0aGlzLmVhY2goZnVuY3Rpb24oKXtuLmV2ZW50LnJlbW92ZSh0aGlzLGEsYyxiKX0pfX0pO3ZhciBrYT0vPCg/IWFyZWF8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW0pKChbXFx3Oi1dKylbXj5dKilcXC8+L2dpLGxhPS88c2NyaXB0fDxzdHlsZXw8bGluay9pLG1hPS9jaGVja2VkXFxzKig/OltePV18PVxccyouY2hlY2tlZC4pL2ksbmE9L150cnVlXFwvKC4qKS8sb2E9L15cXHMqPCEoPzpcXFtDREFUQVxcW3wtLSl8KD86XFxdXFxdfC0tKT5cXHMqJC9nO2Z1bmN0aW9uIHBhKGEsYil7cmV0dXJuIG4ubm9kZU5hbWUoYSxcInRhYmxlXCIpJiZuLm5vZGVOYW1lKDExIT09Yi5ub2RlVHlwZT9iOmIuZmlyc3RDaGlsZCxcInRyXCIpP2EuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJ0Ym9keVwiKVswXXx8YTphfWZ1bmN0aW9uIHFhKGEpe3JldHVybiBhLnR5cGU9KG51bGwhPT1hLmdldEF0dHJpYnV0ZShcInR5cGVcIikpK1wiL1wiK2EudHlwZSxhfWZ1bmN0aW9uIHJhKGEpe3ZhciBiPW5hLmV4ZWMoYS50eXBlKTtyZXR1cm4gYj9hLnR5cGU9YlsxXTphLnJlbW92ZUF0dHJpYnV0ZShcInR5cGVcIiksYX1mdW5jdGlvbiBzYShhLGIpe3ZhciBjLGQsZSxmLGcsaCxpLGo7aWYoMT09PWIubm9kZVR5cGUpe2lmKE4uaGFzRGF0YShhKSYmKGY9Ti5hY2Nlc3MoYSksZz1OLnNldChiLGYpLGo9Zi5ldmVudHMpKXtkZWxldGUgZy5oYW5kbGUsZy5ldmVudHM9e307Zm9yKGUgaW4gailmb3IoYz0wLGQ9altlXS5sZW5ndGg7ZD5jO2MrKyluLmV2ZW50LmFkZChiLGUsaltlXVtjXSl9Ty5oYXNEYXRhKGEpJiYoaD1PLmFjY2VzcyhhKSxpPW4uZXh0ZW5kKHt9LGgpLE8uc2V0KGIsaSkpfX1mdW5jdGlvbiB0YShhLGIpe3ZhciBjPWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcImlucHV0XCI9PT1jJiZYLnRlc3QoYS50eXBlKT9iLmNoZWNrZWQ9YS5jaGVja2VkOihcImlucHV0XCI9PT1jfHxcInRleHRhcmVhXCI9PT1jKSYmKGIuZGVmYXVsdFZhbHVlPWEuZGVmYXVsdFZhbHVlKX1mdW5jdGlvbiB1YShhLGIsYyxkKXtiPWYuYXBwbHkoW10sYik7dmFyIGUsZyxoLGksaixrLG09MCxvPWEubGVuZ3RoLHA9by0xLHE9YlswXSxyPW4uaXNGdW5jdGlvbihxKTtpZihyfHxvPjEmJlwic3RyaW5nXCI9PXR5cGVvZiBxJiYhbC5jaGVja0Nsb25lJiZtYS50ZXN0KHEpKXJldHVybiBhLmVhY2goZnVuY3Rpb24oZSl7dmFyIGY9YS5lcShlKTtyJiYoYlswXT1xLmNhbGwodGhpcyxlLGYuaHRtbCgpKSksdWEoZixiLGMsZCl9KTtpZihvJiYoZT1jYShiLGFbMF0ub3duZXJEb2N1bWVudCwhMSxhLGQpLGc9ZS5maXJzdENoaWxkLDE9PT1lLmNoaWxkTm9kZXMubGVuZ3RoJiYoZT1nKSxnfHxkKSl7Zm9yKGg9bi5tYXAoXyhlLFwic2NyaXB0XCIpLHFhKSxpPWgubGVuZ3RoO28+bTttKyspaj1lLG0hPT1wJiYoaj1uLmNsb25lKGosITAsITApLGkmJm4ubWVyZ2UoaCxfKGosXCJzY3JpcHRcIikpKSxjLmNhbGwoYVttXSxqLG0pO2lmKGkpZm9yKGs9aFtoLmxlbmd0aC0xXS5vd25lckRvY3VtZW50LG4ubWFwKGgscmEpLG09MDtpPm07bSsrKWo9aFttXSxaLnRlc3Qoai50eXBlfHxcIlwiKSYmIU4uYWNjZXNzKGosXCJnbG9iYWxFdmFsXCIpJiZuLmNvbnRhaW5zKGssaikmJihqLnNyYz9uLl9ldmFsVXJsJiZuLl9ldmFsVXJsKGouc3JjKTpuLmdsb2JhbEV2YWwoai50ZXh0Q29udGVudC5yZXBsYWNlKG9hLFwiXCIpKSl9cmV0dXJuIGF9ZnVuY3Rpb24gdmEoYSxiLGMpe2Zvcih2YXIgZCxlPWI/bi5maWx0ZXIoYixhKTphLGY9MDtudWxsIT0oZD1lW2ZdKTtmKyspY3x8MSE9PWQubm9kZVR5cGV8fG4uY2xlYW5EYXRhKF8oZCkpLGQucGFyZW50Tm9kZSYmKGMmJm4uY29udGFpbnMoZC5vd25lckRvY3VtZW50LGQpJiZhYShfKGQsXCJzY3JpcHRcIikpLGQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkKSk7cmV0dXJuIGF9bi5leHRlbmQoe2h0bWxQcmVmaWx0ZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZShrYSxcIjwkMT48LyQyPlwiKX0sY2xvbmU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZixnLGg9YS5jbG9uZU5vZGUoITApLGk9bi5jb250YWlucyhhLm93bmVyRG9jdW1lbnQsYSk7aWYoIShsLm5vQ2xvbmVDaGVja2VkfHwxIT09YS5ub2RlVHlwZSYmMTEhPT1hLm5vZGVUeXBlfHxuLmlzWE1MRG9jKGEpKSlmb3IoZz1fKGgpLGY9XyhhKSxkPTAsZT1mLmxlbmd0aDtlPmQ7ZCsrKXRhKGZbZF0sZ1tkXSk7aWYoYilpZihjKWZvcihmPWZ8fF8oYSksZz1nfHxfKGgpLGQ9MCxlPWYubGVuZ3RoO2U+ZDtkKyspc2EoZltkXSxnW2RdKTtlbHNlIHNhKGEsaCk7cmV0dXJuIGc9XyhoLFwic2NyaXB0XCIpLGcubGVuZ3RoPjAmJmFhKGcsIWkmJl8oYSxcInNjcmlwdFwiKSksaH0sY2xlYW5EYXRhOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYixjLGQsZT1uLmV2ZW50LnNwZWNpYWwsZj0wO3ZvaWQgMCE9PShjPWFbZl0pO2YrKylpZihMKGMpKXtpZihiPWNbTi5leHBhbmRvXSl7aWYoYi5ldmVudHMpZm9yKGQgaW4gYi5ldmVudHMpZVtkXT9uLmV2ZW50LnJlbW92ZShjLGQpOm4ucmVtb3ZlRXZlbnQoYyxkLGIuaGFuZGxlKTtjW04uZXhwYW5kb109dm9pZCAwfWNbTy5leHBhbmRvXSYmKGNbTy5leHBhbmRvXT12b2lkIDApfX19KSxuLmZuLmV4dGVuZCh7ZG9tTWFuaXA6dWEsZGV0YWNoOmZ1bmN0aW9uKGEpe3JldHVybiB2YSh0aGlzLGEsITApfSxyZW1vdmU6ZnVuY3Rpb24oYSl7cmV0dXJuIHZhKHRoaXMsYSl9LHRleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIEsodGhpcyxmdW5jdGlvbihhKXtyZXR1cm4gdm9pZCAwPT09YT9uLnRleHQodGhpcyk6dGhpcy5lbXB0eSgpLmVhY2goZnVuY3Rpb24oKXsoMT09PXRoaXMubm9kZVR5cGV8fDExPT09dGhpcy5ub2RlVHlwZXx8OT09PXRoaXMubm9kZVR5cGUpJiYodGhpcy50ZXh0Q29udGVudD1hKX0pfSxudWxsLGEsYXJndW1lbnRzLmxlbmd0aCl9LGFwcGVuZDpmdW5jdGlvbigpe3JldHVybiB1YSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihhKXtpZigxPT09dGhpcy5ub2RlVHlwZXx8MTE9PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSl7dmFyIGI9cGEodGhpcyxhKTtiLmFwcGVuZENoaWxkKGEpfX0pfSxwcmVwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHVhKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGEpe2lmKDE9PT10aGlzLm5vZGVUeXBlfHwxMT09PXRoaXMubm9kZVR5cGV8fDk9PT10aGlzLm5vZGVUeXBlKXt2YXIgYj1wYSh0aGlzLGEpO2IuaW5zZXJ0QmVmb3JlKGEsYi5maXJzdENoaWxkKX19KX0sYmVmb3JlOmZ1bmN0aW9uKCl7cmV0dXJuIHVhKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGEpe3RoaXMucGFyZW50Tm9kZSYmdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLHRoaXMpfSl9LGFmdGVyOmZ1bmN0aW9uKCl7cmV0dXJuIHVhKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGEpe3RoaXMucGFyZW50Tm9kZSYmdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLHRoaXMubmV4dFNpYmxpbmcpfSl9LGVtcHR5OmZ1bmN0aW9uKCl7Zm9yKHZhciBhLGI9MDtudWxsIT0oYT10aGlzW2JdKTtiKyspMT09PWEubm9kZVR5cGUmJihuLmNsZWFuRGF0YShfKGEsITEpKSxhLnRleHRDb250ZW50PVwiXCIpO3JldHVybiB0aGlzfSxjbG9uZTpmdW5jdGlvbihhLGIpe3JldHVybiBhPW51bGw9PWE/ITE6YSxiPW51bGw9PWI/YTpiLHRoaXMubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIG4uY2xvbmUodGhpcyxhLGIpfSl9LGh0bWw6ZnVuY3Rpb24oYSl7cmV0dXJuIEsodGhpcyxmdW5jdGlvbihhKXt2YXIgYj10aGlzWzBdfHx7fSxjPTAsZD10aGlzLmxlbmd0aDtpZih2b2lkIDA9PT1hJiYxPT09Yi5ub2RlVHlwZSlyZXR1cm4gYi5pbm5lckhUTUw7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGEmJiFsYS50ZXN0KGEpJiYhJFsoWS5leGVjKGEpfHxbXCJcIixcIlwiXSlbMV0udG9Mb3dlckNhc2UoKV0pe2E9bi5odG1sUHJlZmlsdGVyKGEpO3RyeXtmb3IoO2Q+YztjKyspYj10aGlzW2NdfHx7fSwxPT09Yi5ub2RlVHlwZSYmKG4uY2xlYW5EYXRhKF8oYiwhMSkpLGIuaW5uZXJIVE1MPWEpO2I9MH1jYXRjaChlKXt9fWImJnRoaXMuZW1wdHkoKS5hcHBlbmQoYSl9LG51bGwsYSxhcmd1bWVudHMubGVuZ3RoKX0scmVwbGFjZVdpdGg6ZnVuY3Rpb24oKXt2YXIgYT1bXTtyZXR1cm4gdWEodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5wYXJlbnROb2RlO24uaW5BcnJheSh0aGlzLGEpPDAmJihuLmNsZWFuRGF0YShfKHRoaXMpKSxjJiZjLnJlcGxhY2VDaGlsZChiLHRoaXMpKX0sYSl9fSksbi5lYWNoKHthcHBlbmRUbzpcImFwcGVuZFwiLHByZXBlbmRUbzpcInByZXBlbmRcIixpbnNlcnRCZWZvcmU6XCJiZWZvcmVcIixpbnNlcnRBZnRlcjpcImFmdGVyXCIscmVwbGFjZUFsbDpcInJlcGxhY2VXaXRoXCJ9LGZ1bmN0aW9uKGEsYil7bi5mblthXT1mdW5jdGlvbihhKXtmb3IodmFyIGMsZD1bXSxlPW4oYSksZj1lLmxlbmd0aC0xLGg9MDtmPj1oO2grKyljPWg9PT1mP3RoaXM6dGhpcy5jbG9uZSghMCksbihlW2hdKVtiXShjKSxnLmFwcGx5KGQsYy5nZXQoKSk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGQpfX0pO3ZhciB3YSx4YT17SFRNTDpcImJsb2NrXCIsQk9EWTpcImJsb2NrXCJ9O2Z1bmN0aW9uIHlhKGEsYil7dmFyIGM9bihiLmNyZWF0ZUVsZW1lbnQoYSkpLmFwcGVuZFRvKGIuYm9keSksZD1uLmNzcyhjWzBdLFwiZGlzcGxheVwiKTtyZXR1cm4gYy5kZXRhY2goKSxkfWZ1bmN0aW9uIHphKGEpe3ZhciBiPWQsYz14YVthXTtyZXR1cm4gY3x8KGM9eWEoYSxiKSxcIm5vbmVcIiE9PWMmJmN8fCh3YT0od2F8fG4oXCI8aWZyYW1lIGZyYW1lYm9yZGVyPScwJyB3aWR0aD0nMCcgaGVpZ2h0PScwJy8+XCIpKS5hcHBlbmRUbyhiLmRvY3VtZW50RWxlbWVudCksYj13YVswXS5jb250ZW50RG9jdW1lbnQsYi53cml0ZSgpLGIuY2xvc2UoKSxjPXlhKGEsYiksd2EuZGV0YWNoKCkpLHhhW2FdPWMpLGN9dmFyIEFhPS9ebWFyZ2luLyxCYT1uZXcgUmVnRXhwKFwiXihcIitTK1wiKSg/IXB4KVthLXolXSskXCIsXCJpXCIpLENhPWZ1bmN0aW9uKGIpe3ZhciBjPWIub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldztyZXR1cm4gYy5vcGVuZXJ8fChjPWEpLGMuZ2V0Q29tcHV0ZWRTdHlsZShiKX0sRGE9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGUsZixnPXt9O2ZvcihmIGluIGIpZ1tmXT1hLnN0eWxlW2ZdLGEuc3R5bGVbZl09YltmXTtlPWMuYXBwbHkoYSxkfHxbXSk7Zm9yKGYgaW4gYilhLnN0eWxlW2ZdPWdbZl07cmV0dXJuIGV9LEVhPWQuZG9jdW1lbnRFbGVtZW50OyFmdW5jdGlvbigpe3ZhciBiLGMsZSxmLGc9ZC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGg9ZC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2lmKGguc3R5bGUpe2guc3R5bGUuYmFja2dyb3VuZENsaXA9XCJjb250ZW50LWJveFwiLGguY2xvbmVOb2RlKCEwKS5zdHlsZS5iYWNrZ3JvdW5kQ2xpcD1cIlwiLGwuY2xlYXJDbG9uZVN0eWxlPVwiY29udGVudC1ib3hcIj09PWguc3R5bGUuYmFja2dyb3VuZENsaXAsZy5zdHlsZS5jc3NUZXh0PVwiYm9yZGVyOjA7d2lkdGg6OHB4O2hlaWdodDowO3RvcDowO2xlZnQ6LTk5OTlweDtwYWRkaW5nOjA7bWFyZ2luLXRvcDoxcHg7cG9zaXRpb246YWJzb2x1dGVcIixnLmFwcGVuZENoaWxkKGgpO2Z1bmN0aW9uIGkoKXtoLnN0eWxlLmNzc1RleHQ9XCItd2Via2l0LWJveC1zaXppbmc6Ym9yZGVyLWJveDstbW96LWJveC1zaXppbmc6Ym9yZGVyLWJveDtib3gtc2l6aW5nOmJvcmRlci1ib3g7cG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTpibG9jazttYXJnaW46YXV0bztib3JkZXI6MXB4O3BhZGRpbmc6MXB4O3RvcDoxJTt3aWR0aDo1MCVcIixoLmlubmVySFRNTD1cIlwiLEVhLmFwcGVuZENoaWxkKGcpO3ZhciBkPWEuZ2V0Q29tcHV0ZWRTdHlsZShoKTtiPVwiMSVcIiE9PWQudG9wLGY9XCIycHhcIj09PWQubWFyZ2luTGVmdCxjPVwiNHB4XCI9PT1kLndpZHRoLGguc3R5bGUubWFyZ2luUmlnaHQ9XCI1MCVcIixlPVwiNHB4XCI9PT1kLm1hcmdpblJpZ2h0LEVhLnJlbW92ZUNoaWxkKGcpfW4uZXh0ZW5kKGwse3BpeGVsUG9zaXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gaSgpLGJ9LGJveFNpemluZ1JlbGlhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PWMmJmkoKSxjfSxwaXhlbE1hcmdpblJpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PWMmJmkoKSxlfSxyZWxpYWJsZU1hcmdpbkxlZnQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09YyYmaSgpLGZ9LHJlbGlhYmxlTWFyZ2luUmlnaHQ6ZnVuY3Rpb24oKXt2YXIgYixjPWguYXBwZW5kQ2hpbGQoZC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKTtyZXR1cm4gYy5zdHlsZS5jc3NUZXh0PWguc3R5bGUuY3NzVGV4dD1cIi13ZWJraXQtYm94LXNpemluZzpjb250ZW50LWJveDtib3gtc2l6aW5nOmNvbnRlbnQtYm94O2Rpc3BsYXk6YmxvY2s7bWFyZ2luOjA7Ym9yZGVyOjA7cGFkZGluZzowXCIsYy5zdHlsZS5tYXJnaW5SaWdodD1jLnN0eWxlLndpZHRoPVwiMFwiLGguc3R5bGUud2lkdGg9XCIxcHhcIixFYS5hcHBlbmRDaGlsZChnKSxiPSFwYXJzZUZsb2F0KGEuZ2V0Q29tcHV0ZWRTdHlsZShjKS5tYXJnaW5SaWdodCksRWEucmVtb3ZlQ2hpbGQoZyksaC5yZW1vdmVDaGlsZChjKSxifX0pfX0oKTtmdW5jdGlvbiBGYShhLGIsYyl7dmFyIGQsZSxmLGcsaD1hLnN0eWxlO3JldHVybiBjPWN8fENhKGEpLGMmJihnPWMuZ2V0UHJvcGVydHlWYWx1ZShiKXx8Y1tiXSxcIlwiIT09Z3x8bi5jb250YWlucyhhLm93bmVyRG9jdW1lbnQsYSl8fChnPW4uc3R5bGUoYSxiKSksIWwucGl4ZWxNYXJnaW5SaWdodCgpJiZCYS50ZXN0KGcpJiZBYS50ZXN0KGIpJiYoZD1oLndpZHRoLGU9aC5taW5XaWR0aCxmPWgubWF4V2lkdGgsaC5taW5XaWR0aD1oLm1heFdpZHRoPWgud2lkdGg9ZyxnPWMud2lkdGgsaC53aWR0aD1kLGgubWluV2lkdGg9ZSxoLm1heFdpZHRoPWYpKSx2b2lkIDAhPT1nP2crXCJcIjpnfWZ1bmN0aW9uIEdhKGEsYil7cmV0dXJue2dldDpmdW5jdGlvbigpe3JldHVybiBhKCk/dm9pZCBkZWxldGUgdGhpcy5nZXQ6KHRoaXMuZ2V0PWIpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19fXZhciBIYT0vXihub25lfHRhYmxlKD8hLWNbZWFdKS4rKS8sSWE9e3Bvc2l0aW9uOlwiYWJzb2x1dGVcIix2aXNpYmlsaXR5OlwiaGlkZGVuXCIsZGlzcGxheTpcImJsb2NrXCJ9LEphPXtsZXR0ZXJTcGFjaW5nOlwiMFwiLGZvbnRXZWlnaHQ6XCI0MDBcIn0sS2E9W1wiV2Via2l0XCIsXCJPXCIsXCJNb3pcIixcIm1zXCJdLExhPWQuY3JlYXRlRWxlbWVudChcImRpdlwiKS5zdHlsZTtmdW5jdGlvbiBNYShhKXtpZihhIGluIExhKXJldHVybiBhO3ZhciBiPWFbMF0udG9VcHBlckNhc2UoKSthLnNsaWNlKDEpLGM9S2EubGVuZ3RoO3doaWxlKGMtLSlpZihhPUthW2NdK2IsYSBpbiBMYSlyZXR1cm4gYX1mdW5jdGlvbiBOYShhLGIsYyl7dmFyIGQ9VC5leGVjKGIpO3JldHVybiBkP01hdGgubWF4KDAsZFsyXS0oY3x8MCkpKyhkWzNdfHxcInB4XCIpOmJ9ZnVuY3Rpb24gT2EoYSxiLGMsZCxlKXtmb3IodmFyIGY9Yz09PShkP1wiYm9yZGVyXCI6XCJjb250ZW50XCIpPzQ6XCJ3aWR0aFwiPT09Yj8xOjAsZz0wOzQ+ZjtmKz0yKVwibWFyZ2luXCI9PT1jJiYoZys9bi5jc3MoYSxjK1VbZl0sITAsZSkpLGQ/KFwiY29udGVudFwiPT09YyYmKGctPW4uY3NzKGEsXCJwYWRkaW5nXCIrVVtmXSwhMCxlKSksXCJtYXJnaW5cIiE9PWMmJihnLT1uLmNzcyhhLFwiYm9yZGVyXCIrVVtmXStcIldpZHRoXCIsITAsZSkpKTooZys9bi5jc3MoYSxcInBhZGRpbmdcIitVW2ZdLCEwLGUpLFwicGFkZGluZ1wiIT09YyYmKGcrPW4uY3NzKGEsXCJib3JkZXJcIitVW2ZdK1wiV2lkdGhcIiwhMCxlKSkpO3JldHVybiBnfWZ1bmN0aW9uIFBhKGIsYyxlKXt2YXIgZj0hMCxnPVwid2lkdGhcIj09PWM/Yi5vZmZzZXRXaWR0aDpiLm9mZnNldEhlaWdodCxoPUNhKGIpLGk9XCJib3JkZXItYm94XCI9PT1uLmNzcyhiLFwiYm94U2l6aW5nXCIsITEsaCk7aWYoZC5tc0Z1bGxzY3JlZW5FbGVtZW50JiZhLnRvcCE9PWEmJmIuZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGgmJihnPU1hdGgucm91bmQoMTAwKmIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClbY10pKSwwPj1nfHxudWxsPT1nKXtpZihnPUZhKGIsYyxoKSwoMD5nfHxudWxsPT1nKSYmKGc9Yi5zdHlsZVtjXSksQmEudGVzdChnKSlyZXR1cm4gZztmPWkmJihsLmJveFNpemluZ1JlbGlhYmxlKCl8fGc9PT1iLnN0eWxlW2NdKSxnPXBhcnNlRmxvYXQoZyl8fDB9cmV0dXJuIGcrT2EoYixjLGV8fChpP1wiYm9yZGVyXCI6XCJjb250ZW50XCIpLGYsaCkrXCJweFwifWZ1bmN0aW9uIFFhKGEsYil7Zm9yKHZhciBjLGQsZSxmPVtdLGc9MCxoPWEubGVuZ3RoO2g+ZztnKyspZD1hW2ddLGQuc3R5bGUmJihmW2ddPU4uZ2V0KGQsXCJvbGRkaXNwbGF5XCIpLGM9ZC5zdHlsZS5kaXNwbGF5LGI/KGZbZ118fFwibm9uZVwiIT09Y3x8KGQuc3R5bGUuZGlzcGxheT1cIlwiKSxcIlwiPT09ZC5zdHlsZS5kaXNwbGF5JiZWKGQpJiYoZltnXT1OLmFjY2VzcyhkLFwib2xkZGlzcGxheVwiLHphKGQubm9kZU5hbWUpKSkpOihlPVYoZCksXCJub25lXCI9PT1jJiZlfHxOLnNldChkLFwib2xkZGlzcGxheVwiLGU/YzpuLmNzcyhkLFwiZGlzcGxheVwiKSkpKTtmb3IoZz0wO2g+ZztnKyspZD1hW2ddLGQuc3R5bGUmJihiJiZcIm5vbmVcIiE9PWQuc3R5bGUuZGlzcGxheSYmXCJcIiE9PWQuc3R5bGUuZGlzcGxheXx8KGQuc3R5bGUuZGlzcGxheT1iP2ZbZ118fFwiXCI6XCJub25lXCIpKTtyZXR1cm4gYX1uLmV4dGVuZCh7Y3NzSG9va3M6e29wYWNpdHk6e2dldDpmdW5jdGlvbihhLGIpe2lmKGIpe3ZhciBjPUZhKGEsXCJvcGFjaXR5XCIpO3JldHVyblwiXCI9PT1jP1wiMVwiOmN9fX19LGNzc051bWJlcjp7YW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6ITAsY29sdW1uQ291bnQ6ITAsZmlsbE9wYWNpdHk6ITAsZmxleEdyb3c6ITAsZmxleFNocmluazohMCxmb250V2VpZ2h0OiEwLGxpbmVIZWlnaHQ6ITAsb3BhY2l0eTohMCxvcmRlcjohMCxvcnBoYW5zOiEwLHdpZG93czohMCx6SW5kZXg6ITAsem9vbTohMH0sY3NzUHJvcHM6e1wiZmxvYXRcIjpcImNzc0Zsb2F0XCJ9LHN0eWxlOmZ1bmN0aW9uKGEsYixjLGQpe2lmKGEmJjMhPT1hLm5vZGVUeXBlJiY4IT09YS5ub2RlVHlwZSYmYS5zdHlsZSl7dmFyIGUsZixnLGg9bi5jYW1lbENhc2UoYiksaT1hLnN0eWxlO3JldHVybiBiPW4uY3NzUHJvcHNbaF18fChuLmNzc1Byb3BzW2hdPU1hKGgpfHxoKSxnPW4uY3NzSG9va3NbYl18fG4uY3NzSG9va3NbaF0sdm9pZCAwPT09Yz9nJiZcImdldFwiaW4gZyYmdm9pZCAwIT09KGU9Zy5nZXQoYSwhMSxkKSk/ZTppW2JdOihmPXR5cGVvZiBjLFwic3RyaW5nXCI9PT1mJiYoZT1ULmV4ZWMoYykpJiZlWzFdJiYoYz1XKGEsYixlKSxmPVwibnVtYmVyXCIpLG51bGwhPWMmJmM9PT1jJiYoXCJudW1iZXJcIj09PWYmJihjKz1lJiZlWzNdfHwobi5jc3NOdW1iZXJbaF0/XCJcIjpcInB4XCIpKSxsLmNsZWFyQ2xvbmVTdHlsZXx8XCJcIiE9PWN8fDAhPT1iLmluZGV4T2YoXCJiYWNrZ3JvdW5kXCIpfHwoaVtiXT1cImluaGVyaXRcIiksZyYmXCJzZXRcImluIGcmJnZvaWQgMD09PShjPWcuc2V0KGEsYyxkKSl8fChpW2JdPWMpKSx2b2lkIDApfX0sY3NzOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlLGYsZyxoPW4uY2FtZWxDYXNlKGIpO3JldHVybiBiPW4uY3NzUHJvcHNbaF18fChuLmNzc1Byb3BzW2hdPU1hKGgpfHxoKSxnPW4uY3NzSG9va3NbYl18fG4uY3NzSG9va3NbaF0sZyYmXCJnZXRcImluIGcmJihlPWcuZ2V0KGEsITAsYykpLHZvaWQgMD09PWUmJihlPUZhKGEsYixkKSksXCJub3JtYWxcIj09PWUmJmIgaW4gSmEmJihlPUphW2JdKSxcIlwiPT09Y3x8Yz8oZj1wYXJzZUZsb2F0KGUpLGM9PT0hMHx8aXNGaW5pdGUoZik/Znx8MDplKTplfX0pLG4uZWFjaChbXCJoZWlnaHRcIixcIndpZHRoXCJdLGZ1bmN0aW9uKGEsYil7bi5jc3NIb29rc1tiXT17Z2V0OmZ1bmN0aW9uKGEsYyxkKXtyZXR1cm4gYz9IYS50ZXN0KG4uY3NzKGEsXCJkaXNwbGF5XCIpKSYmMD09PWEub2Zmc2V0V2lkdGg/RGEoYSxJYSxmdW5jdGlvbigpe3JldHVybiBQYShhLGIsZCl9KTpQYShhLGIsZCk6dm9pZCAwfSxzZXQ6ZnVuY3Rpb24oYSxjLGQpe3ZhciBlLGY9ZCYmQ2EoYSksZz1kJiZPYShhLGIsZCxcImJvcmRlci1ib3hcIj09PW4uY3NzKGEsXCJib3hTaXppbmdcIiwhMSxmKSxmKTtyZXR1cm4gZyYmKGU9VC5leGVjKGMpKSYmXCJweFwiIT09KGVbM118fFwicHhcIikmJihhLnN0eWxlW2JdPWMsYz1uLmNzcyhhLGIpKSxOYShhLGMsZyl9fX0pLG4uY3NzSG9va3MubWFyZ2luTGVmdD1HYShsLnJlbGlhYmxlTWFyZ2luTGVmdCxmdW5jdGlvbihhLGIpe3JldHVybiBiPyhwYXJzZUZsb2F0KEZhKGEsXCJtYXJnaW5MZWZ0XCIpKXx8YS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0LURhKGEse21hcmdpbkxlZnQ6MH0sZnVuY3Rpb24oKXtyZXR1cm4gYS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0fSkpK1wicHhcIjp2b2lkIDB9KSxuLmNzc0hvb2tzLm1hcmdpblJpZ2h0PUdhKGwucmVsaWFibGVNYXJnaW5SaWdodCxmdW5jdGlvbihhLGIpe3JldHVybiBiP0RhKGEse2Rpc3BsYXk6XCJpbmxpbmUtYmxvY2tcIn0sRmEsW2EsXCJtYXJnaW5SaWdodFwiXSk6dm9pZCAwfSksbi5lYWNoKHttYXJnaW46XCJcIixwYWRkaW5nOlwiXCIsYm9yZGVyOlwiV2lkdGhcIn0sZnVuY3Rpb24oYSxiKXtuLmNzc0hvb2tzW2ErYl09e2V4cGFuZDpmdW5jdGlvbihjKXtmb3IodmFyIGQ9MCxlPXt9LGY9XCJzdHJpbmdcIj09dHlwZW9mIGM/Yy5zcGxpdChcIiBcIik6W2NdOzQ+ZDtkKyspZVthK1VbZF0rYl09ZltkXXx8ZltkLTJdfHxmWzBdO3JldHVybiBlfX0sQWEudGVzdChhKXx8KG4uY3NzSG9va3NbYStiXS5zZXQ9TmEpfSksbi5mbi5leHRlbmQoe2NzczpmdW5jdGlvbihhLGIpe3JldHVybiBLKHRoaXMsZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZj17fSxnPTA7aWYobi5pc0FycmF5KGIpKXtmb3IoZD1DYShhKSxlPWIubGVuZ3RoO2U+ZztnKyspZltiW2ddXT1uLmNzcyhhLGJbZ10sITEsZCk7cmV0dXJuIGZ9cmV0dXJuIHZvaWQgMCE9PWM/bi5zdHlsZShhLGIsYyk6bi5jc3MoYSxiKX0sYSxiLGFyZ3VtZW50cy5sZW5ndGg+MSl9LHNob3c6ZnVuY3Rpb24oKXtyZXR1cm4gUWEodGhpcywhMCl9LGhpZGU6ZnVuY3Rpb24oKXtyZXR1cm4gUWEodGhpcyl9LHRvZ2dsZTpmdW5jdGlvbihhKXtyZXR1cm5cImJvb2xlYW5cIj09dHlwZW9mIGE/YT90aGlzLnNob3coKTp0aGlzLmhpZGUoKTp0aGlzLmVhY2goZnVuY3Rpb24oKXtWKHRoaXMpP24odGhpcykuc2hvdygpOm4odGhpcykuaGlkZSgpfSl9fSk7ZnVuY3Rpb24gUmEoYSxiLGMsZCxlKXtyZXR1cm4gbmV3IFJhLnByb3RvdHlwZS5pbml0KGEsYixjLGQsZSl9bi5Ud2Vlbj1SYSxSYS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOlJhLGluaXQ6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3RoaXMuZWxlbT1hLHRoaXMucHJvcD1jLHRoaXMuZWFzaW5nPWV8fG4uZWFzaW5nLl9kZWZhdWx0LHRoaXMub3B0aW9ucz1iLHRoaXMuc3RhcnQ9dGhpcy5ub3c9dGhpcy5jdXIoKSx0aGlzLmVuZD1kLHRoaXMudW5pdD1mfHwobi5jc3NOdW1iZXJbY10/XCJcIjpcInB4XCIpfSxjdXI6ZnVuY3Rpb24oKXt2YXIgYT1SYS5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gYSYmYS5nZXQ/YS5nZXQodGhpcyk6UmEucHJvcEhvb2tzLl9kZWZhdWx0LmdldCh0aGlzKX0scnVuOmZ1bmN0aW9uKGEpe3ZhciBiLGM9UmEucHJvcEhvb2tzW3RoaXMucHJvcF07cmV0dXJuIHRoaXMub3B0aW9ucy5kdXJhdGlvbj90aGlzLnBvcz1iPW4uZWFzaW5nW3RoaXMuZWFzaW5nXShhLHRoaXMub3B0aW9ucy5kdXJhdGlvbiphLDAsMSx0aGlzLm9wdGlvbnMuZHVyYXRpb24pOnRoaXMucG9zPWI9YSx0aGlzLm5vdz0odGhpcy5lbmQtdGhpcy5zdGFydCkqYit0aGlzLnN0YXJ0LHRoaXMub3B0aW9ucy5zdGVwJiZ0aGlzLm9wdGlvbnMuc3RlcC5jYWxsKHRoaXMuZWxlbSx0aGlzLm5vdyx0aGlzKSxjJiZjLnNldD9jLnNldCh0aGlzKTpSYS5wcm9wSG9va3MuX2RlZmF1bHQuc2V0KHRoaXMpLHRoaXN9fSxSYS5wcm90b3R5cGUuaW5pdC5wcm90b3R5cGU9UmEucHJvdG90eXBlLFJhLnByb3BIb29rcz17X2RlZmF1bHQ6e2dldDpmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4gMSE9PWEuZWxlbS5ub2RlVHlwZXx8bnVsbCE9YS5lbGVtW2EucHJvcF0mJm51bGw9PWEuZWxlbS5zdHlsZVthLnByb3BdP2EuZWxlbVthLnByb3BdOihiPW4uY3NzKGEuZWxlbSxhLnByb3AsXCJcIiksYiYmXCJhdXRvXCIhPT1iP2I6MCl9LHNldDpmdW5jdGlvbihhKXtuLmZ4LnN0ZXBbYS5wcm9wXT9uLmZ4LnN0ZXBbYS5wcm9wXShhKToxIT09YS5lbGVtLm5vZGVUeXBlfHxudWxsPT1hLmVsZW0uc3R5bGVbbi5jc3NQcm9wc1thLnByb3BdXSYmIW4uY3NzSG9va3NbYS5wcm9wXT9hLmVsZW1bYS5wcm9wXT1hLm5vdzpuLnN0eWxlKGEuZWxlbSxhLnByb3AsYS5ub3crYS51bml0KX19fSxSYS5wcm9wSG9va3Muc2Nyb2xsVG9wPVJhLnByb3BIb29rcy5zY3JvbGxMZWZ0PXtzZXQ6ZnVuY3Rpb24oYSl7YS5lbGVtLm5vZGVUeXBlJiZhLmVsZW0ucGFyZW50Tm9kZSYmKGEuZWxlbVthLnByb3BdPWEubm93KX19LG4uZWFzaW5nPXtsaW5lYXI6ZnVuY3Rpb24oYSl7cmV0dXJuIGF9LHN3aW5nOmZ1bmN0aW9uKGEpe3JldHVybi41LU1hdGguY29zKGEqTWF0aC5QSSkvMn0sX2RlZmF1bHQ6XCJzd2luZ1wifSxuLmZ4PVJhLnByb3RvdHlwZS5pbml0LG4uZnguc3RlcD17fTt2YXIgU2EsVGEsVWE9L14oPzp0b2dnbGV8c2hvd3xoaWRlKSQvLFZhPS9xdWV1ZUhvb2tzJC87ZnVuY3Rpb24gV2EoKXtyZXR1cm4gYS5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7U2E9dm9pZCAwfSksU2E9bi5ub3coKX1mdW5jdGlvbiBYYShhLGIpe3ZhciBjLGQ9MCxlPXtoZWlnaHQ6YX07Zm9yKGI9Yj8xOjA7ND5kO2QrPTItYiljPVVbZF0sZVtcIm1hcmdpblwiK2NdPWVbXCJwYWRkaW5nXCIrY109YTtyZXR1cm4gYiYmKGUub3BhY2l0eT1lLndpZHRoPWEpLGV9ZnVuY3Rpb24gWWEoYSxiLGMpe2Zvcih2YXIgZCxlPShfYS50d2VlbmVyc1tiXXx8W10pLmNvbmNhdChfYS50d2VlbmVyc1tcIipcIl0pLGY9MCxnPWUubGVuZ3RoO2c+ZjtmKyspaWYoZD1lW2ZdLmNhbGwoYyxiLGEpKXJldHVybiBkfWZ1bmN0aW9uIFphKGEsYixjKXt2YXIgZCxlLGYsZyxoLGksaixrLGw9dGhpcyxtPXt9LG89YS5zdHlsZSxwPWEubm9kZVR5cGUmJlYoYSkscT1OLmdldChhLFwiZnhzaG93XCIpO2MucXVldWV8fChoPW4uX3F1ZXVlSG9va3MoYSxcImZ4XCIpLG51bGw9PWgudW5xdWV1ZWQmJihoLnVucXVldWVkPTAsaT1oLmVtcHR5LmZpcmUsaC5lbXB0eS5maXJlPWZ1bmN0aW9uKCl7aC51bnF1ZXVlZHx8aSgpfSksaC51bnF1ZXVlZCsrLGwuYWx3YXlzKGZ1bmN0aW9uKCl7bC5hbHdheXMoZnVuY3Rpb24oKXtoLnVucXVldWVkLS0sbi5xdWV1ZShhLFwiZnhcIikubGVuZ3RofHxoLmVtcHR5LmZpcmUoKX0pfSkpLDE9PT1hLm5vZGVUeXBlJiYoXCJoZWlnaHRcImluIGJ8fFwid2lkdGhcImluIGIpJiYoYy5vdmVyZmxvdz1bby5vdmVyZmxvdyxvLm92ZXJmbG93WCxvLm92ZXJmbG93WV0saj1uLmNzcyhhLFwiZGlzcGxheVwiKSxrPVwibm9uZVwiPT09aj9OLmdldChhLFwib2xkZGlzcGxheVwiKXx8emEoYS5ub2RlTmFtZSk6aixcImlubGluZVwiPT09ayYmXCJub25lXCI9PT1uLmNzcyhhLFwiZmxvYXRcIikmJihvLmRpc3BsYXk9XCJpbmxpbmUtYmxvY2tcIikpLGMub3ZlcmZsb3cmJihvLm92ZXJmbG93PVwiaGlkZGVuXCIsbC5hbHdheXMoZnVuY3Rpb24oKXtvLm92ZXJmbG93PWMub3ZlcmZsb3dbMF0sby5vdmVyZmxvd1g9Yy5vdmVyZmxvd1sxXSxvLm92ZXJmbG93WT1jLm92ZXJmbG93WzJdfSkpO2ZvcihkIGluIGIpaWYoZT1iW2RdLFVhLmV4ZWMoZSkpe2lmKGRlbGV0ZSBiW2RdLGY9Znx8XCJ0b2dnbGVcIj09PWUsZT09PShwP1wiaGlkZVwiOlwic2hvd1wiKSl7aWYoXCJzaG93XCIhPT1lfHwhcXx8dm9pZCAwPT09cVtkXSljb250aW51ZTtwPSEwfW1bZF09cSYmcVtkXXx8bi5zdHlsZShhLGQpfWVsc2Ugaj12b2lkIDA7aWYobi5pc0VtcHR5T2JqZWN0KG0pKVwiaW5saW5lXCI9PT0oXCJub25lXCI9PT1qP3phKGEubm9kZU5hbWUpOmopJiYoby5kaXNwbGF5PWopO2Vsc2V7cT9cImhpZGRlblwiaW4gcSYmKHA9cS5oaWRkZW4pOnE9Ti5hY2Nlc3MoYSxcImZ4c2hvd1wiLHt9KSxmJiYocS5oaWRkZW49IXApLHA/bihhKS5zaG93KCk6bC5kb25lKGZ1bmN0aW9uKCl7bihhKS5oaWRlKCl9KSxsLmRvbmUoZnVuY3Rpb24oKXt2YXIgYjtOLnJlbW92ZShhLFwiZnhzaG93XCIpO2ZvcihiIGluIG0pbi5zdHlsZShhLGIsbVtiXSl9KTtmb3IoZCBpbiBtKWc9WWEocD9xW2RdOjAsZCxsKSxkIGluIHF8fChxW2RdPWcuc3RhcnQscCYmKGcuZW5kPWcuc3RhcnQsZy5zdGFydD1cIndpZHRoXCI9PT1kfHxcImhlaWdodFwiPT09ZD8xOjApKX19ZnVuY3Rpb24gJGEoYSxiKXt2YXIgYyxkLGUsZixnO2ZvcihjIGluIGEpaWYoZD1uLmNhbWVsQ2FzZShjKSxlPWJbZF0sZj1hW2NdLG4uaXNBcnJheShmKSYmKGU9ZlsxXSxmPWFbY109ZlswXSksYyE9PWQmJihhW2RdPWYsZGVsZXRlIGFbY10pLGc9bi5jc3NIb29rc1tkXSxnJiZcImV4cGFuZFwiaW4gZyl7Zj1nLmV4cGFuZChmKSxkZWxldGUgYVtkXTtmb3IoYyBpbiBmKWMgaW4gYXx8KGFbY109ZltjXSxiW2NdPWUpfWVsc2UgYltkXT1lfWZ1bmN0aW9uIF9hKGEsYixjKXt2YXIgZCxlLGY9MCxnPV9hLnByZWZpbHRlcnMubGVuZ3RoLGg9bi5EZWZlcnJlZCgpLmFsd2F5cyhmdW5jdGlvbigpe2RlbGV0ZSBpLmVsZW19KSxpPWZ1bmN0aW9uKCl7aWYoZSlyZXR1cm4hMTtmb3IodmFyIGI9U2F8fFdhKCksYz1NYXRoLm1heCgwLGouc3RhcnRUaW1lK2ouZHVyYXRpb24tYiksZD1jL2ouZHVyYXRpb258fDAsZj0xLWQsZz0wLGk9ai50d2VlbnMubGVuZ3RoO2k+ZztnKyspai50d2VlbnNbZ10ucnVuKGYpO3JldHVybiBoLm5vdGlmeVdpdGgoYSxbaixmLGNdKSwxPmYmJmk/YzooaC5yZXNvbHZlV2l0aChhLFtqXSksITEpfSxqPWgucHJvbWlzZSh7ZWxlbTphLHByb3BzOm4uZXh0ZW5kKHt9LGIpLG9wdHM6bi5leHRlbmQoITAse3NwZWNpYWxFYXNpbmc6e30sZWFzaW5nOm4uZWFzaW5nLl9kZWZhdWx0fSxjKSxvcmlnaW5hbFByb3BlcnRpZXM6YixvcmlnaW5hbE9wdGlvbnM6YyxzdGFydFRpbWU6U2F8fFdhKCksZHVyYXRpb246Yy5kdXJhdGlvbix0d2VlbnM6W10sY3JlYXRlVHdlZW46ZnVuY3Rpb24oYixjKXt2YXIgZD1uLlR3ZWVuKGEsai5vcHRzLGIsYyxqLm9wdHMuc3BlY2lhbEVhc2luZ1tiXXx8ai5vcHRzLmVhc2luZyk7cmV0dXJuIGoudHdlZW5zLnB1c2goZCksZH0sc3RvcDpmdW5jdGlvbihiKXt2YXIgYz0wLGQ9Yj9qLnR3ZWVucy5sZW5ndGg6MDtpZihlKXJldHVybiB0aGlzO2ZvcihlPSEwO2Q+YztjKyspai50d2VlbnNbY10ucnVuKDEpO3JldHVybiBiPyhoLm5vdGlmeVdpdGgoYSxbaiwxLDBdKSxoLnJlc29sdmVXaXRoKGEsW2osYl0pKTpoLnJlamVjdFdpdGgoYSxbaixiXSksdGhpc319KSxrPWoucHJvcHM7Zm9yKCRhKGssai5vcHRzLnNwZWNpYWxFYXNpbmcpO2c+ZjtmKyspaWYoZD1fYS5wcmVmaWx0ZXJzW2ZdLmNhbGwoaixhLGssai5vcHRzKSlyZXR1cm4gbi5pc0Z1bmN0aW9uKGQuc3RvcCkmJihuLl9xdWV1ZUhvb2tzKGouZWxlbSxqLm9wdHMucXVldWUpLnN0b3A9bi5wcm94eShkLnN0b3AsZCkpLGQ7cmV0dXJuIG4ubWFwKGssWWEsaiksbi5pc0Z1bmN0aW9uKGoub3B0cy5zdGFydCkmJmoub3B0cy5zdGFydC5jYWxsKGEsaiksbi5meC50aW1lcihuLmV4dGVuZChpLHtlbGVtOmEsYW5pbTpqLHF1ZXVlOmoub3B0cy5xdWV1ZX0pKSxqLnByb2dyZXNzKGoub3B0cy5wcm9ncmVzcykuZG9uZShqLm9wdHMuZG9uZSxqLm9wdHMuY29tcGxldGUpLmZhaWwoai5vcHRzLmZhaWwpLmFsd2F5cyhqLm9wdHMuYWx3YXlzKX1uLkFuaW1hdGlvbj1uLmV4dGVuZChfYSx7dHdlZW5lcnM6e1wiKlwiOltmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuY3JlYXRlVHdlZW4oYSxiKTtyZXR1cm4gVyhjLmVsZW0sYSxULmV4ZWMoYiksYyksY31dfSx0d2VlbmVyOmZ1bmN0aW9uKGEsYil7bi5pc0Z1bmN0aW9uKGEpPyhiPWEsYT1bXCIqXCJdKTphPWEubWF0Y2goRyk7Zm9yKHZhciBjLGQ9MCxlPWEubGVuZ3RoO2U+ZDtkKyspYz1hW2RdLF9hLnR3ZWVuZXJzW2NdPV9hLnR3ZWVuZXJzW2NdfHxbXSxfYS50d2VlbmVyc1tjXS51bnNoaWZ0KGIpfSxwcmVmaWx0ZXJzOltaYV0scHJlZmlsdGVyOmZ1bmN0aW9uKGEsYil7Yj9fYS5wcmVmaWx0ZXJzLnVuc2hpZnQoYSk6X2EucHJlZmlsdGVycy5wdXNoKGEpfX0pLG4uc3BlZWQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEmJlwib2JqZWN0XCI9PXR5cGVvZiBhP24uZXh0ZW5kKHt9LGEpOntjb21wbGV0ZTpjfHwhYyYmYnx8bi5pc0Z1bmN0aW9uKGEpJiZhLGR1cmF0aW9uOmEsZWFzaW5nOmMmJmJ8fGImJiFuLmlzRnVuY3Rpb24oYikmJmJ9O3JldHVybiBkLmR1cmF0aW9uPW4uZngub2ZmPzA6XCJudW1iZXJcIj09dHlwZW9mIGQuZHVyYXRpb24/ZC5kdXJhdGlvbjpkLmR1cmF0aW9uIGluIG4uZnguc3BlZWRzP24uZnguc3BlZWRzW2QuZHVyYXRpb25dOm4uZnguc3BlZWRzLl9kZWZhdWx0LChudWxsPT1kLnF1ZXVlfHxkLnF1ZXVlPT09ITApJiYoZC5xdWV1ZT1cImZ4XCIpLGQub2xkPWQuY29tcGxldGUsZC5jb21wbGV0ZT1mdW5jdGlvbigpe24uaXNGdW5jdGlvbihkLm9sZCkmJmQub2xkLmNhbGwodGhpcyksZC5xdWV1ZSYmbi5kZXF1ZXVlKHRoaXMsZC5xdWV1ZSl9LGR9LG4uZm4uZXh0ZW5kKHtmYWRlVG86ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHRoaXMuZmlsdGVyKFYpLmNzcyhcIm9wYWNpdHlcIiwwKS5zaG93KCkuZW5kKCkuYW5pbWF0ZSh7b3BhY2l0eTpifSxhLGMsZCl9LGFuaW1hdGU6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9bi5pc0VtcHR5T2JqZWN0KGEpLGY9bi5zcGVlZChiLGMsZCksZz1mdW5jdGlvbigpe3ZhciBiPV9hKHRoaXMsbi5leHRlbmQoe30sYSksZik7KGV8fE4uZ2V0KHRoaXMsXCJmaW5pc2hcIikpJiZiLnN0b3AoITApfTtyZXR1cm4gZy5maW5pc2g9ZyxlfHxmLnF1ZXVlPT09ITE/dGhpcy5lYWNoKGcpOnRoaXMucXVldWUoZi5xdWV1ZSxnKX0sc3RvcDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9ZnVuY3Rpb24oYSl7dmFyIGI9YS5zdG9wO2RlbGV0ZSBhLnN0b3AsYihjKX07cmV0dXJuXCJzdHJpbmdcIiE9dHlwZW9mIGEmJihjPWIsYj1hLGE9dm9pZCAwKSxiJiZhIT09ITEmJnRoaXMucXVldWUoYXx8XCJmeFwiLFtdKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj0hMCxlPW51bGwhPWEmJmErXCJxdWV1ZUhvb2tzXCIsZj1uLnRpbWVycyxnPU4uZ2V0KHRoaXMpO2lmKGUpZ1tlXSYmZ1tlXS5zdG9wJiZkKGdbZV0pO2Vsc2UgZm9yKGUgaW4gZylnW2VdJiZnW2VdLnN0b3AmJlZhLnRlc3QoZSkmJmQoZ1tlXSk7Zm9yKGU9Zi5sZW5ndGg7ZS0tOylmW2VdLmVsZW0hPT10aGlzfHxudWxsIT1hJiZmW2VdLnF1ZXVlIT09YXx8KGZbZV0uYW5pbS5zdG9wKGMpLGI9ITEsZi5zcGxpY2UoZSwxKSk7KGJ8fCFjKSYmbi5kZXF1ZXVlKHRoaXMsYSl9KX0sZmluaXNoOmZ1bmN0aW9uKGEpe3JldHVybiBhIT09ITEmJihhPWF8fFwiZnhcIiksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGIsYz1OLmdldCh0aGlzKSxkPWNbYStcInF1ZXVlXCJdLGU9Y1thK1wicXVldWVIb29rc1wiXSxmPW4udGltZXJzLGc9ZD9kLmxlbmd0aDowO2ZvcihjLmZpbmlzaD0hMCxuLnF1ZXVlKHRoaXMsYSxbXSksZSYmZS5zdG9wJiZlLnN0b3AuY2FsbCh0aGlzLCEwKSxiPWYubGVuZ3RoO2ItLTspZltiXS5lbGVtPT09dGhpcyYmZltiXS5xdWV1ZT09PWEmJihmW2JdLmFuaW0uc3RvcCghMCksZi5zcGxpY2UoYiwxKSk7Zm9yKGI9MDtnPmI7YisrKWRbYl0mJmRbYl0uZmluaXNoJiZkW2JdLmZpbmlzaC5jYWxsKHRoaXMpO2RlbGV0ZSBjLmZpbmlzaH0pfX0pLG4uZWFjaChbXCJ0b2dnbGVcIixcInNob3dcIixcImhpZGVcIl0sZnVuY3Rpb24oYSxiKXt2YXIgYz1uLmZuW2JdO24uZm5bYl09ZnVuY3Rpb24oYSxkLGUpe3JldHVybiBudWxsPT1hfHxcImJvb2xlYW5cIj09dHlwZW9mIGE/Yy5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dGhpcy5hbmltYXRlKFhhKGIsITApLGEsZCxlKX19KSxuLmVhY2goe3NsaWRlRG93bjpYYShcInNob3dcIiksc2xpZGVVcDpYYShcImhpZGVcIiksc2xpZGVUb2dnbGU6WGEoXCJ0b2dnbGVcIiksZmFkZUluOntvcGFjaXR5Olwic2hvd1wifSxmYWRlT3V0OntvcGFjaXR5OlwiaGlkZVwifSxmYWRlVG9nZ2xlOntvcGFjaXR5OlwidG9nZ2xlXCJ9fSxmdW5jdGlvbihhLGIpe24uZm5bYV09ZnVuY3Rpb24oYSxjLGQpe3JldHVybiB0aGlzLmFuaW1hdGUoYixhLGMsZCl9fSksbi50aW1lcnM9W10sbi5meC50aWNrPWZ1bmN0aW9uKCl7dmFyIGEsYj0wLGM9bi50aW1lcnM7Zm9yKFNhPW4ubm93KCk7YjxjLmxlbmd0aDtiKyspYT1jW2JdLGEoKXx8Y1tiXSE9PWF8fGMuc3BsaWNlKGItLSwxKTtjLmxlbmd0aHx8bi5meC5zdG9wKCksU2E9dm9pZCAwfSxuLmZ4LnRpbWVyPWZ1bmN0aW9uKGEpe24udGltZXJzLnB1c2goYSksYSgpP24uZnguc3RhcnQoKTpuLnRpbWVycy5wb3AoKX0sbi5meC5pbnRlcnZhbD0xMyxuLmZ4LnN0YXJ0PWZ1bmN0aW9uKCl7VGF8fChUYT1hLnNldEludGVydmFsKG4uZngudGljayxuLmZ4LmludGVydmFsKSl9LG4uZnguc3RvcD1mdW5jdGlvbigpe2EuY2xlYXJJbnRlcnZhbChUYSksVGE9bnVsbH0sbi5meC5zcGVlZHM9e3Nsb3c6NjAwLGZhc3Q6MjAwLF9kZWZhdWx0OjQwMH0sbi5mbi5kZWxheT1mdW5jdGlvbihiLGMpe3JldHVybiBiPW4uZng/bi5meC5zcGVlZHNbYl18fGI6YixjPWN8fFwiZnhcIix0aGlzLnF1ZXVlKGMsZnVuY3Rpb24oYyxkKXt2YXIgZT1hLnNldFRpbWVvdXQoYyxiKTtkLnN0b3A9ZnVuY3Rpb24oKXthLmNsZWFyVGltZW91dChlKX19KX0sZnVuY3Rpb24oKXt2YXIgYT1kLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKSxiPWQuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiKSxjPWIuYXBwZW5kQ2hpbGQoZC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpKTthLnR5cGU9XCJjaGVja2JveFwiLGwuY2hlY2tPbj1cIlwiIT09YS52YWx1ZSxsLm9wdFNlbGVjdGVkPWMuc2VsZWN0ZWQsYi5kaXNhYmxlZD0hMCxsLm9wdERpc2FibGVkPSFjLmRpc2FibGVkLGE9ZC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiksYS52YWx1ZT1cInRcIixhLnR5cGU9XCJyYWRpb1wiLGwucmFkaW9WYWx1ZT1cInRcIj09PWEudmFsdWV9KCk7dmFyIGFiLGJiPW4uZXhwci5hdHRySGFuZGxlO24uZm4uZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIEsodGhpcyxuLmF0dHIsYSxiLGFyZ3VtZW50cy5sZW5ndGg+MSl9LHJlbW92ZUF0dHI6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe24ucmVtb3ZlQXR0cih0aGlzLGEpfSl9fSksbi5leHRlbmQoe2F0dHI6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZj1hLm5vZGVUeXBlO2lmKDMhPT1mJiY4IT09ZiYmMiE9PWYpcmV0dXJuXCJ1bmRlZmluZWRcIj09dHlwZW9mIGEuZ2V0QXR0cmlidXRlP24ucHJvcChhLGIsYyk6KDE9PT1mJiZuLmlzWE1MRG9jKGEpfHwoYj1iLnRvTG93ZXJDYXNlKCksZT1uLmF0dHJIb29rc1tiXXx8KG4uZXhwci5tYXRjaC5ib29sLnRlc3QoYik/YWI6dm9pZCAwKSksdm9pZCAwIT09Yz9udWxsPT09Yz92b2lkIG4ucmVtb3ZlQXR0cihhLGIpOmUmJlwic2V0XCJpbiBlJiZ2b2lkIDAhPT0oZD1lLnNldChhLGMsYikpP2Q6KGEuc2V0QXR0cmlidXRlKGIsYytcIlwiKSxjKTplJiZcImdldFwiaW4gZSYmbnVsbCE9PShkPWUuZ2V0KGEsYikpP2Q6KGQ9bi5maW5kLmF0dHIoYSxiKSxudWxsPT1kP3ZvaWQgMDpkKSl9LGF0dHJIb29rczp7dHlwZTp7c2V0OmZ1bmN0aW9uKGEsYil7aWYoIWwucmFkaW9WYWx1ZSYmXCJyYWRpb1wiPT09YiYmbi5ub2RlTmFtZShhLFwiaW5wdXRcIikpe3ZhciBjPWEudmFsdWU7cmV0dXJuIGEuc2V0QXR0cmlidXRlKFwidHlwZVwiLGIpLGMmJihhLnZhbHVlPWMpLGJ9fX19LHJlbW92ZUF0dHI6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGU9MCxmPWImJmIubWF0Y2goRyk7aWYoZiYmMT09PWEubm9kZVR5cGUpd2hpbGUoYz1mW2UrK10pZD1uLnByb3BGaXhbY118fGMsbi5leHByLm1hdGNoLmJvb2wudGVzdChjKSYmKGFbZF09ITEpLGEucmVtb3ZlQXR0cmlidXRlKGMpfX0pLGFiPXtzZXQ6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBiPT09ITE/bi5yZW1vdmVBdHRyKGEsYyk6YS5zZXRBdHRyaWJ1dGUoYyxjKSxjfX0sbi5lYWNoKG4uZXhwci5tYXRjaC5ib29sLnNvdXJjZS5tYXRjaCgvXFx3Ky9nKSxmdW5jdGlvbihhLGIpe3ZhciBjPWJiW2JdfHxuLmZpbmQuYXR0cjtiYltiXT1mdW5jdGlvbihhLGIsZCl7dmFyIGUsZjtyZXR1cm4gZHx8KGY9YmJbYl0sYmJbYl09ZSxlPW51bGwhPWMoYSxiLGQpP2IudG9Mb3dlckNhc2UoKTpudWxsLGJiW2JdPWYpLGV9fSk7dmFyIGNiPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2ksZGI9L14oPzphfGFyZWEpJC9pO24uZm4uZXh0ZW5kKHtwcm9wOmZ1bmN0aW9uKGEsYil7cmV0dXJuIEsodGhpcyxuLnByb3AsYSxiLGFyZ3VtZW50cy5sZW5ndGg+MSl9LHJlbW92ZVByb3A6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2RlbGV0ZSB0aGlzW24ucHJvcEZpeFthXXx8YV19KX19KSxuLmV4dGVuZCh7cHJvcDpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmPWEubm9kZVR5cGU7aWYoMyE9PWYmJjghPT1mJiYyIT09ZilyZXR1cm4gMT09PWYmJm4uaXNYTUxEb2MoYSl8fChiPW4ucHJvcEZpeFtiXXx8YixlPW4ucHJvcEhvb2tzW2JdKSx2b2lkIDAhPT1jP2UmJlwic2V0XCJpbiBlJiZ2b2lkIDAhPT0oZD1lLnNldChhLGMsYikpP2Q6YVtiXT1jOmUmJlwiZ2V0XCJpbiBlJiZudWxsIT09KGQ9ZS5nZXQoYSxiKSk/ZDphW2JdO1xufSxwcm9wSG9va3M6e3RhYkluZGV4OntnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9bi5maW5kLmF0dHIoYSxcInRhYmluZGV4XCIpO3JldHVybiBiP3BhcnNlSW50KGIsMTApOmNiLnRlc3QoYS5ub2RlTmFtZSl8fGRiLnRlc3QoYS5ub2RlTmFtZSkmJmEuaHJlZj8wOi0xfX19LHByb3BGaXg6e1wiZm9yXCI6XCJodG1sRm9yXCIsXCJjbGFzc1wiOlwiY2xhc3NOYW1lXCJ9fSksbC5vcHRTZWxlY3RlZHx8KG4ucHJvcEhvb2tzLnNlbGVjdGVkPXtnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5wYXJlbnROb2RlO3JldHVybiBiJiZiLnBhcmVudE5vZGUmJmIucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4LG51bGx9fSksbi5lYWNoKFtcInRhYkluZGV4XCIsXCJyZWFkT25seVwiLFwibWF4TGVuZ3RoXCIsXCJjZWxsU3BhY2luZ1wiLFwiY2VsbFBhZGRpbmdcIixcInJvd1NwYW5cIixcImNvbFNwYW5cIixcInVzZU1hcFwiLFwiZnJhbWVCb3JkZXJcIixcImNvbnRlbnRFZGl0YWJsZVwiXSxmdW5jdGlvbigpe24ucHJvcEZpeFt0aGlzLnRvTG93ZXJDYXNlKCldPXRoaXN9KTt2YXIgZWI9L1tcXHRcXHJcXG5cXGZdL2c7ZnVuY3Rpb24gZmIoYSl7cmV0dXJuIGEuZ2V0QXR0cmlidXRlJiZhLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpfHxcIlwifW4uZm4uZXh0ZW5kKHthZGRDbGFzczpmdW5jdGlvbihhKXt2YXIgYixjLGQsZSxmLGcsaCxpPTA7aWYobi5pc0Z1bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7bih0aGlzKS5hZGRDbGFzcyhhLmNhbGwodGhpcyxiLGZiKHRoaXMpKSl9KTtpZihcInN0cmluZ1wiPT10eXBlb2YgYSYmYSl7Yj1hLm1hdGNoKEcpfHxbXTt3aGlsZShjPXRoaXNbaSsrXSlpZihlPWZiKGMpLGQ9MT09PWMubm9kZVR5cGUmJihcIiBcIitlK1wiIFwiKS5yZXBsYWNlKGViLFwiIFwiKSl7Zz0wO3doaWxlKGY9YltnKytdKWQuaW5kZXhPZihcIiBcIitmK1wiIFwiKTwwJiYoZCs9ZitcIiBcIik7aD1uLnRyaW0oZCksZSE9PWgmJmMuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixoKX19cmV0dXJuIHRoaXN9LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoLGk9MDtpZihuLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXtuKHRoaXMpLnJlbW92ZUNsYXNzKGEuY2FsbCh0aGlzLGIsZmIodGhpcykpKX0pO2lmKCFhcmd1bWVudHMubGVuZ3RoKXJldHVybiB0aGlzLmF0dHIoXCJjbGFzc1wiLFwiXCIpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBhJiZhKXtiPWEubWF0Y2goRyl8fFtdO3doaWxlKGM9dGhpc1tpKytdKWlmKGU9ZmIoYyksZD0xPT09Yy5ub2RlVHlwZSYmKFwiIFwiK2UrXCIgXCIpLnJlcGxhY2UoZWIsXCIgXCIpKXtnPTA7d2hpbGUoZj1iW2crK10pd2hpbGUoZC5pbmRleE9mKFwiIFwiK2YrXCIgXCIpPi0xKWQ9ZC5yZXBsYWNlKFwiIFwiK2YrXCIgXCIsXCIgXCIpO2g9bi50cmltKGQpLGUhPT1oJiZjLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsaCl9fXJldHVybiB0aGlzfSx0b2dnbGVDbGFzczpmdW5jdGlvbihhLGIpe3ZhciBjPXR5cGVvZiBhO3JldHVyblwiYm9vbGVhblwiPT10eXBlb2YgYiYmXCJzdHJpbmdcIj09PWM/Yj90aGlzLmFkZENsYXNzKGEpOnRoaXMucmVtb3ZlQ2xhc3MoYSk6bi5pc0Z1bmN0aW9uKGEpP3RoaXMuZWFjaChmdW5jdGlvbihjKXtuKHRoaXMpLnRvZ2dsZUNsYXNzKGEuY2FsbCh0aGlzLGMsZmIodGhpcyksYiksYil9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYixkLGUsZjtpZihcInN0cmluZ1wiPT09Yyl7ZD0wLGU9bih0aGlzKSxmPWEubWF0Y2goRyl8fFtdO3doaWxlKGI9ZltkKytdKWUuaGFzQ2xhc3MoYik/ZS5yZW1vdmVDbGFzcyhiKTplLmFkZENsYXNzKGIpfWVsc2Uodm9pZCAwPT09YXx8XCJib29sZWFuXCI9PT1jKSYmKGI9ZmIodGhpcyksYiYmTi5zZXQodGhpcyxcIl9fY2xhc3NOYW1lX19cIixiKSx0aGlzLnNldEF0dHJpYnV0ZSYmdGhpcy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLGJ8fGE9PT0hMT9cIlwiOk4uZ2V0KHRoaXMsXCJfX2NsYXNzTmFtZV9fXCIpfHxcIlwiKSl9KX0saGFzQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkPTA7Yj1cIiBcIithK1wiIFwiO3doaWxlKGM9dGhpc1tkKytdKWlmKDE9PT1jLm5vZGVUeXBlJiYoXCIgXCIrZmIoYykrXCIgXCIpLnJlcGxhY2UoZWIsXCIgXCIpLmluZGV4T2YoYik+LTEpcmV0dXJuITA7cmV0dXJuITF9fSk7dmFyIGdiPS9cXHIvZztuLmZuLmV4dGVuZCh7dmFsOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlPXRoaXNbMF07e2lmKGFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIGQ9bi5pc0Z1bmN0aW9uKGEpLHRoaXMuZWFjaChmdW5jdGlvbihjKXt2YXIgZTsxPT09dGhpcy5ub2RlVHlwZSYmKGU9ZD9hLmNhbGwodGhpcyxjLG4odGhpcykudmFsKCkpOmEsbnVsbD09ZT9lPVwiXCI6XCJudW1iZXJcIj09dHlwZW9mIGU/ZSs9XCJcIjpuLmlzQXJyYXkoZSkmJihlPW4ubWFwKGUsZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWE/XCJcIjphK1wiXCJ9KSksYj1uLnZhbEhvb2tzW3RoaXMudHlwZV18fG4udmFsSG9va3NbdGhpcy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSxiJiZcInNldFwiaW4gYiYmdm9pZCAwIT09Yi5zZXQodGhpcyxlLFwidmFsdWVcIil8fCh0aGlzLnZhbHVlPWUpKX0pO2lmKGUpcmV0dXJuIGI9bi52YWxIb29rc1tlLnR5cGVdfHxuLnZhbEhvb2tzW2Uubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0sYiYmXCJnZXRcImluIGImJnZvaWQgMCE9PShjPWIuZ2V0KGUsXCJ2YWx1ZVwiKSk/YzooYz1lLnZhbHVlLFwic3RyaW5nXCI9PXR5cGVvZiBjP2MucmVwbGFjZShnYixcIlwiKTpudWxsPT1jP1wiXCI6Yyl9fX0pLG4uZXh0ZW5kKHt2YWxIb29rczp7b3B0aW9uOntnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIG4udHJpbShhLnZhbHVlKX19LHNlbGVjdDp7Z2V0OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYixjLGQ9YS5vcHRpb25zLGU9YS5zZWxlY3RlZEluZGV4LGY9XCJzZWxlY3Qtb25lXCI9PT1hLnR5cGV8fDA+ZSxnPWY/bnVsbDpbXSxoPWY/ZSsxOmQubGVuZ3RoLGk9MD5lP2g6Zj9lOjA7aD5pO2krKylpZihjPWRbaV0sKGMuc2VsZWN0ZWR8fGk9PT1lKSYmKGwub3B0RGlzYWJsZWQ/IWMuZGlzYWJsZWQ6bnVsbD09PWMuZ2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIikpJiYoIWMucGFyZW50Tm9kZS5kaXNhYmxlZHx8IW4ubm9kZU5hbWUoYy5wYXJlbnROb2RlLFwib3B0Z3JvdXBcIikpKXtpZihiPW4oYykudmFsKCksZilyZXR1cm4gYjtnLnB1c2goYil9cmV0dXJuIGd9LHNldDpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZT1hLm9wdGlvbnMsZj1uLm1ha2VBcnJheShiKSxnPWUubGVuZ3RoO3doaWxlKGctLSlkPWVbZ10sKGQuc2VsZWN0ZWQ9bi5pbkFycmF5KG4udmFsSG9va3Mub3B0aW9uLmdldChkKSxmKT4tMSkmJihjPSEwKTtyZXR1cm4gY3x8KGEuc2VsZWN0ZWRJbmRleD0tMSksZn19fX0pLG4uZWFjaChbXCJyYWRpb1wiLFwiY2hlY2tib3hcIl0sZnVuY3Rpb24oKXtuLnZhbEhvb2tzW3RoaXNdPXtzZXQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbi5pc0FycmF5KGIpP2EuY2hlY2tlZD1uLmluQXJyYXkobihhKS52YWwoKSxiKT4tMTp2b2lkIDB9fSxsLmNoZWNrT258fChuLnZhbEhvb2tzW3RoaXNdLmdldD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09PWEuZ2V0QXR0cmlidXRlKFwidmFsdWVcIik/XCJvblwiOmEudmFsdWV9KX0pO3ZhciBoYj0vXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC87bi5leHRlbmQobi5ldmVudCx7dHJpZ2dlcjpmdW5jdGlvbihiLGMsZSxmKXt2YXIgZyxoLGksaixsLG0sbyxwPVtlfHxkXSxxPWsuY2FsbChiLFwidHlwZVwiKT9iLnR5cGU6YixyPWsuY2FsbChiLFwibmFtZXNwYWNlXCIpP2IubmFtZXNwYWNlLnNwbGl0KFwiLlwiKTpbXTtpZihoPWk9ZT1lfHxkLDMhPT1lLm5vZGVUeXBlJiY4IT09ZS5ub2RlVHlwZSYmIWhiLnRlc3QocStuLmV2ZW50LnRyaWdnZXJlZCkmJihxLmluZGV4T2YoXCIuXCIpPi0xJiYocj1xLnNwbGl0KFwiLlwiKSxxPXIuc2hpZnQoKSxyLnNvcnQoKSksbD1xLmluZGV4T2YoXCI6XCIpPDAmJlwib25cIitxLGI9YltuLmV4cGFuZG9dP2I6bmV3IG4uRXZlbnQocSxcIm9iamVjdFwiPT10eXBlb2YgYiYmYiksYi5pc1RyaWdnZXI9Zj8yOjMsYi5uYW1lc3BhY2U9ci5qb2luKFwiLlwiKSxiLnJuYW1lc3BhY2U9Yi5uYW1lc3BhY2U/bmV3IFJlZ0V4cChcIihefFxcXFwuKVwiK3Iuam9pbihcIlxcXFwuKD86LipcXFxcLnwpXCIpK1wiKFxcXFwufCQpXCIpOm51bGwsYi5yZXN1bHQ9dm9pZCAwLGIudGFyZ2V0fHwoYi50YXJnZXQ9ZSksYz1udWxsPT1jP1tiXTpuLm1ha2VBcnJheShjLFtiXSksbz1uLmV2ZW50LnNwZWNpYWxbcV18fHt9LGZ8fCFvLnRyaWdnZXJ8fG8udHJpZ2dlci5hcHBseShlLGMpIT09ITEpKXtpZighZiYmIW8ubm9CdWJibGUmJiFuLmlzV2luZG93KGUpKXtmb3Ioaj1vLmRlbGVnYXRlVHlwZXx8cSxoYi50ZXN0KGorcSl8fChoPWgucGFyZW50Tm9kZSk7aDtoPWgucGFyZW50Tm9kZSlwLnB1c2goaCksaT1oO2k9PT0oZS5vd25lckRvY3VtZW50fHxkKSYmcC5wdXNoKGkuZGVmYXVsdFZpZXd8fGkucGFyZW50V2luZG93fHxhKX1nPTA7d2hpbGUoKGg9cFtnKytdKSYmIWIuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSliLnR5cGU9Zz4xP2o6by5iaW5kVHlwZXx8cSxtPShOLmdldChoLFwiZXZlbnRzXCIpfHx7fSlbYi50eXBlXSYmTi5nZXQoaCxcImhhbmRsZVwiKSxtJiZtLmFwcGx5KGgsYyksbT1sJiZoW2xdLG0mJm0uYXBwbHkmJkwoaCkmJihiLnJlc3VsdD1tLmFwcGx5KGgsYyksYi5yZXN1bHQ9PT0hMSYmYi5wcmV2ZW50RGVmYXVsdCgpKTtyZXR1cm4gYi50eXBlPXEsZnx8Yi5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8by5fZGVmYXVsdCYmby5fZGVmYXVsdC5hcHBseShwLnBvcCgpLGMpIT09ITF8fCFMKGUpfHxsJiZuLmlzRnVuY3Rpb24oZVtxXSkmJiFuLmlzV2luZG93KGUpJiYoaT1lW2xdLGkmJihlW2xdPW51bGwpLG4uZXZlbnQudHJpZ2dlcmVkPXEsZVtxXSgpLG4uZXZlbnQudHJpZ2dlcmVkPXZvaWQgMCxpJiYoZVtsXT1pKSksYi5yZXN1bHR9fSxzaW11bGF0ZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9bi5leHRlbmQobmV3IG4uRXZlbnQsYyx7dHlwZTphLGlzU2ltdWxhdGVkOiEwfSk7bi5ldmVudC50cmlnZ2VyKGQsbnVsbCxiKSxkLmlzRGVmYXVsdFByZXZlbnRlZCgpJiZjLnByZXZlbnREZWZhdWx0KCl9fSksbi5mbi5leHRlbmQoe3RyaWdnZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7bi5ldmVudC50cmlnZ2VyKGEsYix0aGlzKX0pfSx0cmlnZ2VySGFuZGxlcjpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXNbMF07cmV0dXJuIGM/bi5ldmVudC50cmlnZ2VyKGEsYixjLCEwKTp2b2lkIDB9fSksbi5lYWNoKFwiYmx1ciBmb2N1cyBmb2N1c2luIGZvY3Vzb3V0IGxvYWQgcmVzaXplIHNjcm9sbCB1bmxvYWQgY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmUgY2hhbmdlIHNlbGVjdCBzdWJtaXQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBlcnJvciBjb250ZXh0bWVudVwiLnNwbGl0KFwiIFwiKSxmdW5jdGlvbihhLGIpe24uZm5bYl09ZnVuY3Rpb24oYSxjKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD4wP3RoaXMub24oYixudWxsLGEsYyk6dGhpcy50cmlnZ2VyKGIpfX0pLG4uZm4uZXh0ZW5kKHtob3ZlcjpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLm1vdXNlZW50ZXIoYSkubW91c2VsZWF2ZShifHxhKX19KSxsLmZvY3VzaW49XCJvbmZvY3VzaW5cImluIGEsbC5mb2N1c2lufHxuLmVhY2goe2ZvY3VzOlwiZm9jdXNpblwiLGJsdXI6XCJmb2N1c291dFwifSxmdW5jdGlvbihhLGIpe3ZhciBjPWZ1bmN0aW9uKGEpe24uZXZlbnQuc2ltdWxhdGUoYixhLnRhcmdldCxuLmV2ZW50LmZpeChhKSl9O24uZXZlbnQuc3BlY2lhbFtiXT17c2V0dXA6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMsZT1OLmFjY2VzcyhkLGIpO2V8fGQuYWRkRXZlbnRMaXN0ZW5lcihhLGMsITApLE4uYWNjZXNzKGQsYiwoZXx8MCkrMSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcy5vd25lckRvY3VtZW50fHx0aGlzLGU9Ti5hY2Nlc3MoZCxiKS0xO2U/Ti5hY2Nlc3MoZCxiLGUpOihkLnJlbW92ZUV2ZW50TGlzdGVuZXIoYSxjLCEwKSxOLnJlbW92ZShkLGIpKX19fSk7dmFyIGliPWEubG9jYXRpb24samI9bi5ub3coKSxrYj0vXFw/LztuLnBhcnNlSlNPTj1mdW5jdGlvbihhKXtyZXR1cm4gSlNPTi5wYXJzZShhK1wiXCIpfSxuLnBhcnNlWE1MPWZ1bmN0aW9uKGIpe3ZhciBjO2lmKCFifHxcInN0cmluZ1wiIT10eXBlb2YgYilyZXR1cm4gbnVsbDt0cnl7Yz0obmV3IGEuRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcoYixcInRleHQveG1sXCIpfWNhdGNoKGQpe2M9dm9pZCAwfXJldHVybighY3x8Yy5nZXRFbGVtZW50c0J5VGFnTmFtZShcInBhcnNlcmVycm9yXCIpLmxlbmd0aCkmJm4uZXJyb3IoXCJJbnZhbGlkIFhNTDogXCIrYiksY307dmFyIGxiPS8jLiokLyxtYj0vKFs/Jl0pXz1bXiZdKi8sbmI9L14oLio/KTpbIFxcdF0qKFteXFxyXFxuXSopJC9nbSxvYj0vXig/OmFib3V0fGFwcHxhcHAtc3RvcmFnZXwuKy1leHRlbnNpb258ZmlsZXxyZXN8d2lkZ2V0KTokLyxwYj0vXig/OkdFVHxIRUFEKSQvLHFiPS9eXFwvXFwvLyxyYj17fSxzYj17fSx0Yj1cIiovXCIuY29uY2F0KFwiKlwiKSx1Yj1kLmNyZWF0ZUVsZW1lbnQoXCJhXCIpO3ViLmhyZWY9aWIuaHJlZjtmdW5jdGlvbiB2YihhKXtyZXR1cm4gZnVuY3Rpb24oYixjKXtcInN0cmluZ1wiIT10eXBlb2YgYiYmKGM9YixiPVwiKlwiKTt2YXIgZCxlPTAsZj1iLnRvTG93ZXJDYXNlKCkubWF0Y2goRyl8fFtdO2lmKG4uaXNGdW5jdGlvbihjKSl3aGlsZShkPWZbZSsrXSlcIitcIj09PWRbMF0/KGQ9ZC5zbGljZSgxKXx8XCIqXCIsKGFbZF09YVtkXXx8W10pLnVuc2hpZnQoYykpOihhW2RdPWFbZF18fFtdKS5wdXNoKGMpfX1mdW5jdGlvbiB3YihhLGIsYyxkKXt2YXIgZT17fSxmPWE9PT1zYjtmdW5jdGlvbiBnKGgpe3ZhciBpO3JldHVybiBlW2hdPSEwLG4uZWFjaChhW2hdfHxbXSxmdW5jdGlvbihhLGgpe3ZhciBqPWgoYixjLGQpO3JldHVyblwic3RyaW5nXCIhPXR5cGVvZiBqfHxmfHxlW2pdP2Y/IShpPWopOnZvaWQgMDooYi5kYXRhVHlwZXMudW5zaGlmdChqKSxnKGopLCExKX0pLGl9cmV0dXJuIGcoYi5kYXRhVHlwZXNbMF0pfHwhZVtcIipcIl0mJmcoXCIqXCIpfWZ1bmN0aW9uIHhiKGEsYil7dmFyIGMsZCxlPW4uYWpheFNldHRpbmdzLmZsYXRPcHRpb25zfHx7fTtmb3IoYyBpbiBiKXZvaWQgMCE9PWJbY10mJigoZVtjXT9hOmR8fChkPXt9KSlbY109YltjXSk7cmV0dXJuIGQmJm4uZXh0ZW5kKCEwLGEsZCksYX1mdW5jdGlvbiB5YihhLGIsYyl7dmFyIGQsZSxmLGcsaD1hLmNvbnRlbnRzLGk9YS5kYXRhVHlwZXM7d2hpbGUoXCIqXCI9PT1pWzBdKWkuc2hpZnQoKSx2b2lkIDA9PT1kJiYoZD1hLm1pbWVUeXBlfHxiLmdldFJlc3BvbnNlSGVhZGVyKFwiQ29udGVudC1UeXBlXCIpKTtpZihkKWZvcihlIGluIGgpaWYoaFtlXSYmaFtlXS50ZXN0KGQpKXtpLnVuc2hpZnQoZSk7YnJlYWt9aWYoaVswXWluIGMpZj1pWzBdO2Vsc2V7Zm9yKGUgaW4gYyl7aWYoIWlbMF18fGEuY29udmVydGVyc1tlK1wiIFwiK2lbMF1dKXtmPWU7YnJlYWt9Z3x8KGc9ZSl9Zj1mfHxnfXJldHVybiBmPyhmIT09aVswXSYmaS51bnNoaWZ0KGYpLGNbZl0pOnZvaWQgMH1mdW5jdGlvbiB6YihhLGIsYyxkKXt2YXIgZSxmLGcsaCxpLGo9e30saz1hLmRhdGFUeXBlcy5zbGljZSgpO2lmKGtbMV0pZm9yKGcgaW4gYS5jb252ZXJ0ZXJzKWpbZy50b0xvd2VyQ2FzZSgpXT1hLmNvbnZlcnRlcnNbZ107Zj1rLnNoaWZ0KCk7d2hpbGUoZilpZihhLnJlc3BvbnNlRmllbGRzW2ZdJiYoY1thLnJlc3BvbnNlRmllbGRzW2ZdXT1iKSwhaSYmZCYmYS5kYXRhRmlsdGVyJiYoYj1hLmRhdGFGaWx0ZXIoYixhLmRhdGFUeXBlKSksaT1mLGY9ay5zaGlmdCgpKWlmKFwiKlwiPT09ZilmPWk7ZWxzZSBpZihcIipcIiE9PWkmJmkhPT1mKXtpZihnPWpbaStcIiBcIitmXXx8altcIiogXCIrZl0sIWcpZm9yKGUgaW4gailpZihoPWUuc3BsaXQoXCIgXCIpLGhbMV09PT1mJiYoZz1qW2krXCIgXCIraFswXV18fGpbXCIqIFwiK2hbMF1dKSl7Zz09PSEwP2c9altlXTpqW2VdIT09ITAmJihmPWhbMF0say51bnNoaWZ0KGhbMV0pKTticmVha31pZihnIT09ITApaWYoZyYmYVtcInRocm93c1wiXSliPWcoYik7ZWxzZSB0cnl7Yj1nKGIpfWNhdGNoKGwpe3JldHVybntzdGF0ZTpcInBhcnNlcmVycm9yXCIsZXJyb3I6Zz9sOlwiTm8gY29udmVyc2lvbiBmcm9tIFwiK2krXCIgdG8gXCIrZn19fXJldHVybntzdGF0ZTpcInN1Y2Nlc3NcIixkYXRhOmJ9fW4uZXh0ZW5kKHthY3RpdmU6MCxsYXN0TW9kaWZpZWQ6e30sZXRhZzp7fSxhamF4U2V0dGluZ3M6e3VybDppYi5ocmVmLHR5cGU6XCJHRVRcIixpc0xvY2FsOm9iLnRlc3QoaWIucHJvdG9jb2wpLGdsb2JhbDohMCxwcm9jZXNzRGF0YTohMCxhc3luYzohMCxjb250ZW50VHlwZTpcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOFwiLGFjY2VwdHM6e1wiKlwiOnRiLHRleHQ6XCJ0ZXh0L3BsYWluXCIsaHRtbDpcInRleHQvaHRtbFwiLHhtbDpcImFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWxcIixqc29uOlwiYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0XCJ9LGNvbnRlbnRzOnt4bWw6L1xcYnhtbFxcYi8saHRtbDovXFxiaHRtbC8sanNvbjovXFxianNvblxcYi99LHJlc3BvbnNlRmllbGRzOnt4bWw6XCJyZXNwb25zZVhNTFwiLHRleHQ6XCJyZXNwb25zZVRleHRcIixqc29uOlwicmVzcG9uc2VKU09OXCJ9LGNvbnZlcnRlcnM6e1wiKiB0ZXh0XCI6U3RyaW5nLFwidGV4dCBodG1sXCI6ITAsXCJ0ZXh0IGpzb25cIjpuLnBhcnNlSlNPTixcInRleHQgeG1sXCI6bi5wYXJzZVhNTH0sZmxhdE9wdGlvbnM6e3VybDohMCxjb250ZXh0OiEwfX0sYWpheFNldHVwOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGI/eGIoeGIoYSxuLmFqYXhTZXR0aW5ncyksYik6eGIobi5hamF4U2V0dGluZ3MsYSl9LGFqYXhQcmVmaWx0ZXI6dmIocmIpLGFqYXhUcmFuc3BvcnQ6dmIoc2IpLGFqYXg6ZnVuY3Rpb24oYixjKXtcIm9iamVjdFwiPT10eXBlb2YgYiYmKGM9YixiPXZvaWQgMCksYz1jfHx7fTt2YXIgZSxmLGcsaCxpLGosayxsLG09bi5hamF4U2V0dXAoe30sYyksbz1tLmNvbnRleHR8fG0scD1tLmNvbnRleHQmJihvLm5vZGVUeXBlfHxvLmpxdWVyeSk/bihvKTpuLmV2ZW50LHE9bi5EZWZlcnJlZCgpLHI9bi5DYWxsYmFja3MoXCJvbmNlIG1lbW9yeVwiKSxzPW0uc3RhdHVzQ29kZXx8e30sdD17fSx1PXt9LHY9MCx3PVwiY2FuY2VsZWRcIix4PXtyZWFkeVN0YXRlOjAsZ2V0UmVzcG9uc2VIZWFkZXI6ZnVuY3Rpb24oYSl7dmFyIGI7aWYoMj09PXYpe2lmKCFoKXtoPXt9O3doaWxlKGI9bmIuZXhlYyhnKSloW2JbMV0udG9Mb3dlckNhc2UoKV09YlsyXX1iPWhbYS50b0xvd2VyQ2FzZSgpXX1yZXR1cm4gbnVsbD09Yj9udWxsOmJ9LGdldEFsbFJlc3BvbnNlSGVhZGVyczpmdW5jdGlvbigpe3JldHVybiAyPT09dj9nOm51bGx9LHNldFJlcXVlc3RIZWFkZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnRvTG93ZXJDYXNlKCk7cmV0dXJuIHZ8fChhPXVbY109dVtjXXx8YSx0W2FdPWIpLHRoaXN9LG92ZXJyaWRlTWltZVR5cGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHZ8fChtLm1pbWVUeXBlPWEpLHRoaXN9LHN0YXR1c0NvZGU6ZnVuY3Rpb24oYSl7dmFyIGI7aWYoYSlpZigyPnYpZm9yKGIgaW4gYSlzW2JdPVtzW2JdLGFbYl1dO2Vsc2UgeC5hbHdheXMoYVt4LnN0YXR1c10pO3JldHVybiB0aGlzfSxhYm9ydDpmdW5jdGlvbihhKXt2YXIgYj1hfHx3O3JldHVybiBlJiZlLmFib3J0KGIpLHooMCxiKSx0aGlzfX07aWYocS5wcm9taXNlKHgpLmNvbXBsZXRlPXIuYWRkLHguc3VjY2Vzcz14LmRvbmUseC5lcnJvcj14LmZhaWwsbS51cmw9KChifHxtLnVybHx8aWIuaHJlZikrXCJcIikucmVwbGFjZShsYixcIlwiKS5yZXBsYWNlKHFiLGliLnByb3RvY29sK1wiLy9cIiksbS50eXBlPWMubWV0aG9kfHxjLnR5cGV8fG0ubWV0aG9kfHxtLnR5cGUsbS5kYXRhVHlwZXM9bi50cmltKG0uZGF0YVR5cGV8fFwiKlwiKS50b0xvd2VyQ2FzZSgpLm1hdGNoKEcpfHxbXCJcIl0sbnVsbD09bS5jcm9zc0RvbWFpbil7aj1kLmNyZWF0ZUVsZW1lbnQoXCJhXCIpO3RyeXtqLmhyZWY9bS51cmwsai5ocmVmPWouaHJlZixtLmNyb3NzRG9tYWluPXViLnByb3RvY29sK1wiLy9cIit1Yi5ob3N0IT1qLnByb3RvY29sK1wiLy9cIitqLmhvc3R9Y2F0Y2goeSl7bS5jcm9zc0RvbWFpbj0hMH19aWYobS5kYXRhJiZtLnByb2Nlc3NEYXRhJiZcInN0cmluZ1wiIT10eXBlb2YgbS5kYXRhJiYobS5kYXRhPW4ucGFyYW0obS5kYXRhLG0udHJhZGl0aW9uYWwpKSx3YihyYixtLGMseCksMj09PXYpcmV0dXJuIHg7az1uLmV2ZW50JiZtLmdsb2JhbCxrJiYwPT09bi5hY3RpdmUrKyYmbi5ldmVudC50cmlnZ2VyKFwiYWpheFN0YXJ0XCIpLG0udHlwZT1tLnR5cGUudG9VcHBlckNhc2UoKSxtLmhhc0NvbnRlbnQ9IXBiLnRlc3QobS50eXBlKSxmPW0udXJsLG0uaGFzQ29udGVudHx8KG0uZGF0YSYmKGY9bS51cmwrPShrYi50ZXN0KGYpP1wiJlwiOlwiP1wiKSttLmRhdGEsZGVsZXRlIG0uZGF0YSksbS5jYWNoZT09PSExJiYobS51cmw9bWIudGVzdChmKT9mLnJlcGxhY2UobWIsXCIkMV89XCIramIrKyk6Zisoa2IudGVzdChmKT9cIiZcIjpcIj9cIikrXCJfPVwiK2piKyspKSxtLmlmTW9kaWZpZWQmJihuLmxhc3RNb2RpZmllZFtmXSYmeC5zZXRSZXF1ZXN0SGVhZGVyKFwiSWYtTW9kaWZpZWQtU2luY2VcIixuLmxhc3RNb2RpZmllZFtmXSksbi5ldGFnW2ZdJiZ4LnNldFJlcXVlc3RIZWFkZXIoXCJJZi1Ob25lLU1hdGNoXCIsbi5ldGFnW2ZdKSksKG0uZGF0YSYmbS5oYXNDb250ZW50JiZtLmNvbnRlbnRUeXBlIT09ITF8fGMuY29udGVudFR5cGUpJiZ4LnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LVR5cGVcIixtLmNvbnRlbnRUeXBlKSx4LnNldFJlcXVlc3RIZWFkZXIoXCJBY2NlcHRcIixtLmRhdGFUeXBlc1swXSYmbS5hY2NlcHRzW20uZGF0YVR5cGVzWzBdXT9tLmFjY2VwdHNbbS5kYXRhVHlwZXNbMF1dKyhcIipcIiE9PW0uZGF0YVR5cGVzWzBdP1wiLCBcIit0YitcIjsgcT0wLjAxXCI6XCJcIik6bS5hY2NlcHRzW1wiKlwiXSk7Zm9yKGwgaW4gbS5oZWFkZXJzKXguc2V0UmVxdWVzdEhlYWRlcihsLG0uaGVhZGVyc1tsXSk7aWYobS5iZWZvcmVTZW5kJiYobS5iZWZvcmVTZW5kLmNhbGwobyx4LG0pPT09ITF8fDI9PT12KSlyZXR1cm4geC5hYm9ydCgpO3c9XCJhYm9ydFwiO2ZvcihsIGlue3N1Y2Nlc3M6MSxlcnJvcjoxLGNvbXBsZXRlOjF9KXhbbF0obVtsXSk7aWYoZT13YihzYixtLGMseCkpe2lmKHgucmVhZHlTdGF0ZT0xLGsmJnAudHJpZ2dlcihcImFqYXhTZW5kXCIsW3gsbV0pLDI9PT12KXJldHVybiB4O20uYXN5bmMmJm0udGltZW91dD4wJiYoaT1hLnNldFRpbWVvdXQoZnVuY3Rpb24oKXt4LmFib3J0KFwidGltZW91dFwiKX0sbS50aW1lb3V0KSk7dHJ5e3Y9MSxlLnNlbmQodCx6KX1jYXRjaCh5KXtpZighKDI+dikpdGhyb3cgeTt6KC0xLHkpfX1lbHNlIHooLTEsXCJObyBUcmFuc3BvcnRcIik7ZnVuY3Rpb24geihiLGMsZCxoKXt2YXIgaixsLHQsdSx3LHk9YzsyIT09diYmKHY9MixpJiZhLmNsZWFyVGltZW91dChpKSxlPXZvaWQgMCxnPWh8fFwiXCIseC5yZWFkeVN0YXRlPWI+MD80OjAsaj1iPj0yMDAmJjMwMD5ifHwzMDQ9PT1iLGQmJih1PXliKG0seCxkKSksdT16YihtLHUseCxqKSxqPyhtLmlmTW9kaWZpZWQmJih3PXguZ2V0UmVzcG9uc2VIZWFkZXIoXCJMYXN0LU1vZGlmaWVkXCIpLHcmJihuLmxhc3RNb2RpZmllZFtmXT13KSx3PXguZ2V0UmVzcG9uc2VIZWFkZXIoXCJldGFnXCIpLHcmJihuLmV0YWdbZl09dykpLDIwND09PWJ8fFwiSEVBRFwiPT09bS50eXBlP3k9XCJub2NvbnRlbnRcIjozMDQ9PT1iP3k9XCJub3Rtb2RpZmllZFwiOih5PXUuc3RhdGUsbD11LmRhdGEsdD11LmVycm9yLGo9IXQpKToodD15LChifHwheSkmJih5PVwiZXJyb3JcIiwwPmImJihiPTApKSkseC5zdGF0dXM9Yix4LnN0YXR1c1RleHQ9KGN8fHkpK1wiXCIsaj9xLnJlc29sdmVXaXRoKG8sW2wseSx4XSk6cS5yZWplY3RXaXRoKG8sW3gseSx0XSkseC5zdGF0dXNDb2RlKHMpLHM9dm9pZCAwLGsmJnAudHJpZ2dlcihqP1wiYWpheFN1Y2Nlc3NcIjpcImFqYXhFcnJvclwiLFt4LG0saj9sOnRdKSxyLmZpcmVXaXRoKG8sW3gseV0pLGsmJihwLnRyaWdnZXIoXCJhamF4Q29tcGxldGVcIixbeCxtXSksLS1uLmFjdGl2ZXx8bi5ldmVudC50cmlnZ2VyKFwiYWpheFN0b3BcIikpKX1yZXR1cm4geH0sZ2V0SlNPTjpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG4uZ2V0KGEsYixjLFwianNvblwiKX0sZ2V0U2NyaXB0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIG4uZ2V0KGEsdm9pZCAwLGIsXCJzY3JpcHRcIil9fSksbi5lYWNoKFtcImdldFwiLFwicG9zdFwiXSxmdW5jdGlvbihhLGIpe25bYl09ZnVuY3Rpb24oYSxjLGQsZSl7cmV0dXJuIG4uaXNGdW5jdGlvbihjKSYmKGU9ZXx8ZCxkPWMsYz12b2lkIDApLG4uYWpheChuLmV4dGVuZCh7dXJsOmEsdHlwZTpiLGRhdGFUeXBlOmUsZGF0YTpjLHN1Y2Nlc3M6ZH0sbi5pc1BsYWluT2JqZWN0KGEpJiZhKSl9fSksbi5fZXZhbFVybD1mdW5jdGlvbihhKXtyZXR1cm4gbi5hamF4KHt1cmw6YSx0eXBlOlwiR0VUXCIsZGF0YVR5cGU6XCJzY3JpcHRcIixhc3luYzohMSxnbG9iYWw6ITEsXCJ0aHJvd3NcIjohMH0pfSxuLmZuLmV4dGVuZCh7d3JhcEFsbDpmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4gbi5pc0Z1bmN0aW9uKGEpP3RoaXMuZWFjaChmdW5jdGlvbihiKXtuKHRoaXMpLndyYXBBbGwoYS5jYWxsKHRoaXMsYikpfSk6KHRoaXNbMF0mJihiPW4oYSx0aGlzWzBdLm93bmVyRG9jdW1lbnQpLmVxKDApLmNsb25lKCEwKSx0aGlzWzBdLnBhcmVudE5vZGUmJmIuaW5zZXJ0QmVmb3JlKHRoaXNbMF0pLGIubWFwKGZ1bmN0aW9uKCl7dmFyIGE9dGhpczt3aGlsZShhLmZpcnN0RWxlbWVudENoaWxkKWE9YS5maXJzdEVsZW1lbnRDaGlsZDtyZXR1cm4gYX0pLmFwcGVuZCh0aGlzKSksdGhpcyl9LHdyYXBJbm5lcjpmdW5jdGlvbihhKXtyZXR1cm4gbi5pc0Z1bmN0aW9uKGEpP3RoaXMuZWFjaChmdW5jdGlvbihiKXtuKHRoaXMpLndyYXBJbm5lcihhLmNhbGwodGhpcyxiKSl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1uKHRoaXMpLGM9Yi5jb250ZW50cygpO2MubGVuZ3RoP2Mud3JhcEFsbChhKTpiLmFwcGVuZChhKX0pfSx3cmFwOmZ1bmN0aW9uKGEpe3ZhciBiPW4uaXNGdW5jdGlvbihhKTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGMpe24odGhpcykud3JhcEFsbChiP2EuY2FsbCh0aGlzLGMpOmEpfSl9LHVud3JhcDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudCgpLmVhY2goZnVuY3Rpb24oKXtuLm5vZGVOYW1lKHRoaXMsXCJib2R5XCIpfHxuKHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuY2hpbGROb2Rlcyl9KS5lbmQoKX19KSxuLmV4cHIuZmlsdGVycy5oaWRkZW49ZnVuY3Rpb24oYSl7cmV0dXJuIW4uZXhwci5maWx0ZXJzLnZpc2libGUoYSl9LG4uZXhwci5maWx0ZXJzLnZpc2libGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGEub2Zmc2V0V2lkdGg+MHx8YS5vZmZzZXRIZWlnaHQ+MHx8YS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aD4wfTt2YXIgQWI9LyUyMC9nLEJiPS9cXFtcXF0kLyxDYj0vXFxyP1xcbi9nLERiPS9eKD86c3VibWl0fGJ1dHRvbnxpbWFnZXxyZXNldHxmaWxlKSQvaSxFYj0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxrZXlnZW4pL2k7ZnVuY3Rpb24gRmIoYSxiLGMsZCl7dmFyIGU7aWYobi5pc0FycmF5KGIpKW4uZWFjaChiLGZ1bmN0aW9uKGIsZSl7Y3x8QmIudGVzdChhKT9kKGEsZSk6RmIoYStcIltcIisoXCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPWU/YjpcIlwiKStcIl1cIixlLGMsZCl9KTtlbHNlIGlmKGN8fFwib2JqZWN0XCIhPT1uLnR5cGUoYikpZChhLGIpO2Vsc2UgZm9yKGUgaW4gYilGYihhK1wiW1wiK2UrXCJdXCIsYltlXSxjLGQpfW4ucGFyYW09ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPVtdLGU9ZnVuY3Rpb24oYSxiKXtiPW4uaXNGdW5jdGlvbihiKT9iKCk6bnVsbD09Yj9cIlwiOmIsZFtkLmxlbmd0aF09ZW5jb2RlVVJJQ29tcG9uZW50KGEpK1wiPVwiK2VuY29kZVVSSUNvbXBvbmVudChiKX07aWYodm9pZCAwPT09YiYmKGI9bi5hamF4U2V0dGluZ3MmJm4uYWpheFNldHRpbmdzLnRyYWRpdGlvbmFsKSxuLmlzQXJyYXkoYSl8fGEuanF1ZXJ5JiYhbi5pc1BsYWluT2JqZWN0KGEpKW4uZWFjaChhLGZ1bmN0aW9uKCl7ZSh0aGlzLm5hbWUsdGhpcy52YWx1ZSl9KTtlbHNlIGZvcihjIGluIGEpRmIoYyxhW2NdLGIsZSk7cmV0dXJuIGQuam9pbihcIiZcIikucmVwbGFjZShBYixcIitcIil9LG4uZm4uZXh0ZW5kKHtzZXJpYWxpemU6ZnVuY3Rpb24oKXtyZXR1cm4gbi5wYXJhbSh0aGlzLnNlcmlhbGl6ZUFycmF5KCkpfSxzZXJpYWxpemVBcnJheTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3ZhciBhPW4ucHJvcCh0aGlzLFwiZWxlbWVudHNcIik7cmV0dXJuIGE/bi5tYWtlQXJyYXkoYSk6dGhpc30pLmZpbHRlcihmdW5jdGlvbigpe3ZhciBhPXRoaXMudHlwZTtyZXR1cm4gdGhpcy5uYW1lJiYhbih0aGlzKS5pcyhcIjpkaXNhYmxlZFwiKSYmRWIudGVzdCh0aGlzLm5vZGVOYW1lKSYmIURiLnRlc3QoYSkmJih0aGlzLmNoZWNrZWR8fCFYLnRlc3QoYSkpfSkubWFwKGZ1bmN0aW9uKGEsYil7dmFyIGM9bih0aGlzKS52YWwoKTtyZXR1cm4gbnVsbD09Yz9udWxsOm4uaXNBcnJheShjKT9uLm1hcChjLGZ1bmN0aW9uKGEpe3JldHVybntuYW1lOmIubmFtZSx2YWx1ZTphLnJlcGxhY2UoQ2IsXCJcXHJcXG5cIil9fSk6e25hbWU6Yi5uYW1lLHZhbHVlOmMucmVwbGFjZShDYixcIlxcclxcblwiKX19KS5nZXQoKX19KSxuLmFqYXhTZXR0aW5ncy54aHI9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIG5ldyBhLlhNTEh0dHBSZXF1ZXN0fWNhdGNoKGIpe319O3ZhciBHYj17MDoyMDAsMTIyMzoyMDR9LEhiPW4uYWpheFNldHRpbmdzLnhocigpO2wuY29ycz0hIUhiJiZcIndpdGhDcmVkZW50aWFsc1wiaW4gSGIsbC5hamF4PUhiPSEhSGIsbi5hamF4VHJhbnNwb3J0KGZ1bmN0aW9uKGIpe3ZhciBjLGQ7cmV0dXJuIGwuY29yc3x8SGImJiFiLmNyb3NzRG9tYWluP3tzZW5kOmZ1bmN0aW9uKGUsZil7dmFyIGcsaD1iLnhocigpO2lmKGgub3BlbihiLnR5cGUsYi51cmwsYi5hc3luYyxiLnVzZXJuYW1lLGIucGFzc3dvcmQpLGIueGhyRmllbGRzKWZvcihnIGluIGIueGhyRmllbGRzKWhbZ109Yi54aHJGaWVsZHNbZ107Yi5taW1lVHlwZSYmaC5vdmVycmlkZU1pbWVUeXBlJiZoLm92ZXJyaWRlTWltZVR5cGUoYi5taW1lVHlwZSksYi5jcm9zc0RvbWFpbnx8ZVtcIlgtUmVxdWVzdGVkLVdpdGhcIl18fChlW1wiWC1SZXF1ZXN0ZWQtV2l0aFwiXT1cIlhNTEh0dHBSZXF1ZXN0XCIpO2ZvcihnIGluIGUpaC5zZXRSZXF1ZXN0SGVhZGVyKGcsZVtnXSk7Yz1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oKXtjJiYoYz1kPWgub25sb2FkPWgub25lcnJvcj1oLm9uYWJvcnQ9aC5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCxcImFib3J0XCI9PT1hP2guYWJvcnQoKTpcImVycm9yXCI9PT1hP1wibnVtYmVyXCIhPXR5cGVvZiBoLnN0YXR1cz9mKDAsXCJlcnJvclwiKTpmKGguc3RhdHVzLGguc3RhdHVzVGV4dCk6ZihHYltoLnN0YXR1c118fGguc3RhdHVzLGguc3RhdHVzVGV4dCxcInRleHRcIiE9PShoLnJlc3BvbnNlVHlwZXx8XCJ0ZXh0XCIpfHxcInN0cmluZ1wiIT10eXBlb2YgaC5yZXNwb25zZVRleHQ/e2JpbmFyeTpoLnJlc3BvbnNlfTp7dGV4dDpoLnJlc3BvbnNlVGV4dH0saC5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkpfX0saC5vbmxvYWQ9YygpLGQ9aC5vbmVycm9yPWMoXCJlcnJvclwiKSx2b2lkIDAhPT1oLm9uYWJvcnQ/aC5vbmFib3J0PWQ6aC5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXs0PT09aC5yZWFkeVN0YXRlJiZhLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtjJiZkKCl9KX0sYz1jKFwiYWJvcnRcIik7dHJ5e2guc2VuZChiLmhhc0NvbnRlbnQmJmIuZGF0YXx8bnVsbCl9Y2F0Y2goaSl7aWYoYyl0aHJvdyBpfX0sYWJvcnQ6ZnVuY3Rpb24oKXtjJiZjKCl9fTp2b2lkIDB9KSxuLmFqYXhTZXR1cCh7YWNjZXB0czp7c2NyaXB0OlwidGV4dC9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9lY21hc2NyaXB0LCBhcHBsaWNhdGlvbi94LWVjbWFzY3JpcHRcIn0sY29udGVudHM6e3NjcmlwdDovXFxiKD86amF2YXxlY21hKXNjcmlwdFxcYi99LGNvbnZlcnRlcnM6e1widGV4dCBzY3JpcHRcIjpmdW5jdGlvbihhKXtyZXR1cm4gbi5nbG9iYWxFdmFsKGEpLGF9fX0pLG4uYWpheFByZWZpbHRlcihcInNjcmlwdFwiLGZ1bmN0aW9uKGEpe3ZvaWQgMD09PWEuY2FjaGUmJihhLmNhY2hlPSExKSxhLmNyb3NzRG9tYWluJiYoYS50eXBlPVwiR0VUXCIpfSksbi5hamF4VHJhbnNwb3J0KFwic2NyaXB0XCIsZnVuY3Rpb24oYSl7aWYoYS5jcm9zc0RvbWFpbil7dmFyIGIsYztyZXR1cm57c2VuZDpmdW5jdGlvbihlLGYpe2I9bihcIjxzY3JpcHQ+XCIpLnByb3Aoe2NoYXJzZXQ6YS5zY3JpcHRDaGFyc2V0LHNyYzphLnVybH0pLm9uKFwibG9hZCBlcnJvclwiLGM9ZnVuY3Rpb24oYSl7Yi5yZW1vdmUoKSxjPW51bGwsYSYmZihcImVycm9yXCI9PT1hLnR5cGU/NDA0OjIwMCxhLnR5cGUpfSksZC5oZWFkLmFwcGVuZENoaWxkKGJbMF0pfSxhYm9ydDpmdW5jdGlvbigpe2MmJmMoKX19fX0pO3ZhciBJYj1bXSxKYj0vKD0pXFw/KD89JnwkKXxcXD9cXD8vO24uYWpheFNldHVwKHtqc29ucDpcImNhbGxiYWNrXCIsanNvbnBDYWxsYmFjazpmdW5jdGlvbigpe3ZhciBhPUliLnBvcCgpfHxuLmV4cGFuZG8rXCJfXCIramIrKztyZXR1cm4gdGhpc1thXT0hMCxhfX0pLG4uYWpheFByZWZpbHRlcihcImpzb24ganNvbnBcIixmdW5jdGlvbihiLGMsZCl7dmFyIGUsZixnLGg9Yi5qc29ucCE9PSExJiYoSmIudGVzdChiLnVybCk/XCJ1cmxcIjpcInN0cmluZ1wiPT10eXBlb2YgYi5kYXRhJiYwPT09KGIuY29udGVudFR5cGV8fFwiXCIpLmluZGV4T2YoXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIikmJkpiLnRlc3QoYi5kYXRhKSYmXCJkYXRhXCIpO3JldHVybiBofHxcImpzb25wXCI9PT1iLmRhdGFUeXBlc1swXT8oZT1iLmpzb25wQ2FsbGJhY2s9bi5pc0Z1bmN0aW9uKGIuanNvbnBDYWxsYmFjayk/Yi5qc29ucENhbGxiYWNrKCk6Yi5qc29ucENhbGxiYWNrLGg/YltoXT1iW2hdLnJlcGxhY2UoSmIsXCIkMVwiK2UpOmIuanNvbnAhPT0hMSYmKGIudXJsKz0oa2IudGVzdChiLnVybCk/XCImXCI6XCI/XCIpK2IuanNvbnArXCI9XCIrZSksYi5jb252ZXJ0ZXJzW1wic2NyaXB0IGpzb25cIl09ZnVuY3Rpb24oKXtyZXR1cm4gZ3x8bi5lcnJvcihlK1wiIHdhcyBub3QgY2FsbGVkXCIpLGdbMF19LGIuZGF0YVR5cGVzWzBdPVwianNvblwiLGY9YVtlXSxhW2VdPWZ1bmN0aW9uKCl7Zz1hcmd1bWVudHN9LGQuYWx3YXlzKGZ1bmN0aW9uKCl7dm9pZCAwPT09Zj9uKGEpLnJlbW92ZVByb3AoZSk6YVtlXT1mLGJbZV0mJihiLmpzb25wQ2FsbGJhY2s9Yy5qc29ucENhbGxiYWNrLEliLnB1c2goZSkpLGcmJm4uaXNGdW5jdGlvbihmKSYmZihnWzBdKSxnPWY9dm9pZCAwfSksXCJzY3JpcHRcIik6dm9pZCAwfSksbC5jcmVhdGVIVE1MRG9jdW1lbnQ9ZnVuY3Rpb24oKXt2YXIgYT1kLmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudChcIlwiKS5ib2R5O3JldHVybiBhLmlubmVySFRNTD1cIjxmb3JtPjwvZm9ybT48Zm9ybT48L2Zvcm0+XCIsMj09PWEuY2hpbGROb2Rlcy5sZW5ndGh9KCksbi5wYXJzZUhUTUw9ZnVuY3Rpb24oYSxiLGMpe2lmKCFhfHxcInN0cmluZ1wiIT10eXBlb2YgYSlyZXR1cm4gbnVsbDtcImJvb2xlYW5cIj09dHlwZW9mIGImJihjPWIsYj0hMSksYj1ifHwobC5jcmVhdGVIVE1MRG9jdW1lbnQ/ZC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoXCJcIik6ZCk7dmFyIGU9eC5leGVjKGEpLGY9IWMmJltdO3JldHVybiBlP1tiLmNyZWF0ZUVsZW1lbnQoZVsxXSldOihlPWNhKFthXSxiLGYpLGYmJmYubGVuZ3RoJiZuKGYpLnJlbW92ZSgpLG4ubWVyZ2UoW10sZS5jaGlsZE5vZGVzKSl9O3ZhciBLYj1uLmZuLmxvYWQ7bi5mbi5sb2FkPWZ1bmN0aW9uKGEsYixjKXtpZihcInN0cmluZ1wiIT10eXBlb2YgYSYmS2IpcmV0dXJuIEtiLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgZCxlLGYsZz10aGlzLGg9YS5pbmRleE9mKFwiIFwiKTtyZXR1cm4gaD4tMSYmKGQ9bi50cmltKGEuc2xpY2UoaCkpLGE9YS5zbGljZSgwLGgpKSxuLmlzRnVuY3Rpb24oYik/KGM9YixiPXZvaWQgMCk6YiYmXCJvYmplY3RcIj09dHlwZW9mIGImJihlPVwiUE9TVFwiKSxnLmxlbmd0aD4wJiZuLmFqYXgoe3VybDphLHR5cGU6ZXx8XCJHRVRcIixkYXRhVHlwZTpcImh0bWxcIixkYXRhOmJ9KS5kb25lKGZ1bmN0aW9uKGEpe2Y9YXJndW1lbnRzLGcuaHRtbChkP24oXCI8ZGl2PlwiKS5hcHBlbmQobi5wYXJzZUhUTUwoYSkpLmZpbmQoZCk6YSl9KS5hbHdheXMoYyYmZnVuY3Rpb24oYSxiKXtnLmVhY2goZnVuY3Rpb24oKXtjLmFwcGx5KGcsZnx8W2EucmVzcG9uc2VUZXh0LGIsYV0pfSl9KSx0aGlzfSxuLmVhY2goW1wiYWpheFN0YXJ0XCIsXCJhamF4U3RvcFwiLFwiYWpheENvbXBsZXRlXCIsXCJhamF4RXJyb3JcIixcImFqYXhTdWNjZXNzXCIsXCJhamF4U2VuZFwiXSxmdW5jdGlvbihhLGIpe24uZm5bYl09ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMub24oYixhKX19KSxuLmV4cHIuZmlsdGVycy5hbmltYXRlZD1mdW5jdGlvbihhKXtyZXR1cm4gbi5ncmVwKG4udGltZXJzLGZ1bmN0aW9uKGIpe3JldHVybiBhPT09Yi5lbGVtfSkubGVuZ3RofTtmdW5jdGlvbiBMYihhKXtyZXR1cm4gbi5pc1dpbmRvdyhhKT9hOjk9PT1hLm5vZGVUeXBlJiZhLmRlZmF1bHRWaWV3fW4ub2Zmc2V0PXtzZXRPZmZzZXQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZixnLGgsaSxqLGs9bi5jc3MoYSxcInBvc2l0aW9uXCIpLGw9bihhKSxtPXt9O1wic3RhdGljXCI9PT1rJiYoYS5zdHlsZS5wb3NpdGlvbj1cInJlbGF0aXZlXCIpLGg9bC5vZmZzZXQoKSxmPW4uY3NzKGEsXCJ0b3BcIiksaT1uLmNzcyhhLFwibGVmdFwiKSxqPShcImFic29sdXRlXCI9PT1rfHxcImZpeGVkXCI9PT1rKSYmKGYraSkuaW5kZXhPZihcImF1dG9cIik+LTEsaj8oZD1sLnBvc2l0aW9uKCksZz1kLnRvcCxlPWQubGVmdCk6KGc9cGFyc2VGbG9hdChmKXx8MCxlPXBhcnNlRmxvYXQoaSl8fDApLG4uaXNGdW5jdGlvbihiKSYmKGI9Yi5jYWxsKGEsYyxuLmV4dGVuZCh7fSxoKSkpLG51bGwhPWIudG9wJiYobS50b3A9Yi50b3AtaC50b3ArZyksbnVsbCE9Yi5sZWZ0JiYobS5sZWZ0PWIubGVmdC1oLmxlZnQrZSksXCJ1c2luZ1wiaW4gYj9iLnVzaW5nLmNhbGwoYSxtKTpsLmNzcyhtKX19LG4uZm4uZXh0ZW5kKHtvZmZzZXQ6ZnVuY3Rpb24oYSl7aWYoYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdm9pZCAwPT09YT90aGlzOnRoaXMuZWFjaChmdW5jdGlvbihiKXtuLm9mZnNldC5zZXRPZmZzZXQodGhpcyxhLGIpfSk7dmFyIGIsYyxkPXRoaXNbMF0sZT17dG9wOjAsbGVmdDowfSxmPWQmJmQub3duZXJEb2N1bWVudDtpZihmKXJldHVybiBiPWYuZG9jdW1lbnRFbGVtZW50LG4uY29udGFpbnMoYixkKT8oZT1kLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGM9TGIoZikse3RvcDplLnRvcCtjLnBhZ2VZT2Zmc2V0LWIuY2xpZW50VG9wLGxlZnQ6ZS5sZWZ0K2MucGFnZVhPZmZzZXQtYi5jbGllbnRMZWZ0fSk6ZX0scG9zaXRpb246ZnVuY3Rpb24oKXtpZih0aGlzWzBdKXt2YXIgYSxiLGM9dGhpc1swXSxkPXt0b3A6MCxsZWZ0OjB9O3JldHVyblwiZml4ZWRcIj09PW4uY3NzKGMsXCJwb3NpdGlvblwiKT9iPWMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk6KGE9dGhpcy5vZmZzZXRQYXJlbnQoKSxiPXRoaXMub2Zmc2V0KCksbi5ub2RlTmFtZShhWzBdLFwiaHRtbFwiKXx8KGQ9YS5vZmZzZXQoKSksZC50b3ArPW4uY3NzKGFbMF0sXCJib3JkZXJUb3BXaWR0aFwiLCEwKS1hLnNjcm9sbFRvcCgpLGQubGVmdCs9bi5jc3MoYVswXSxcImJvcmRlckxlZnRXaWR0aFwiLCEwKS1hLnNjcm9sbExlZnQoKSkse3RvcDpiLnRvcC1kLnRvcC1uLmNzcyhjLFwibWFyZ2luVG9wXCIsITApLGxlZnQ6Yi5sZWZ0LWQubGVmdC1uLmNzcyhjLFwibWFyZ2luTGVmdFwiLCEwKX19fSxvZmZzZXRQYXJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9mZnNldFBhcmVudDt3aGlsZShhJiZcInN0YXRpY1wiPT09bi5jc3MoYSxcInBvc2l0aW9uXCIpKWE9YS5vZmZzZXRQYXJlbnQ7cmV0dXJuIGF8fEVhfSl9fSksbi5lYWNoKHtzY3JvbGxMZWZ0OlwicGFnZVhPZmZzZXRcIixzY3JvbGxUb3A6XCJwYWdlWU9mZnNldFwifSxmdW5jdGlvbihhLGIpe3ZhciBjPVwicGFnZVlPZmZzZXRcIj09PWI7bi5mblthXT1mdW5jdGlvbihkKXtyZXR1cm4gSyh0aGlzLGZ1bmN0aW9uKGEsZCxlKXt2YXIgZj1MYihhKTtyZXR1cm4gdm9pZCAwPT09ZT9mP2ZbYl06YVtkXTp2b2lkKGY/Zi5zY3JvbGxUbyhjP2YucGFnZVhPZmZzZXQ6ZSxjP2U6Zi5wYWdlWU9mZnNldCk6YVtkXT1lKX0sYSxkLGFyZ3VtZW50cy5sZW5ndGgpfX0pLG4uZWFjaChbXCJ0b3BcIixcImxlZnRcIl0sZnVuY3Rpb24oYSxiKXtuLmNzc0hvb2tzW2JdPUdhKGwucGl4ZWxQb3NpdGlvbixmdW5jdGlvbihhLGMpe3JldHVybiBjPyhjPUZhKGEsYiksQmEudGVzdChjKT9uKGEpLnBvc2l0aW9uKClbYl0rXCJweFwiOmMpOnZvaWQgMH0pfSksbi5lYWNoKHtIZWlnaHQ6XCJoZWlnaHRcIixXaWR0aDpcIndpZHRoXCJ9LGZ1bmN0aW9uKGEsYil7bi5lYWNoKHtwYWRkaW5nOlwiaW5uZXJcIithLGNvbnRlbnQ6YixcIlwiOlwib3V0ZXJcIithfSxmdW5jdGlvbihjLGQpe24uZm5bZF09ZnVuY3Rpb24oZCxlKXt2YXIgZj1hcmd1bWVudHMubGVuZ3RoJiYoY3x8XCJib29sZWFuXCIhPXR5cGVvZiBkKSxnPWN8fChkPT09ITB8fGU9PT0hMD9cIm1hcmdpblwiOlwiYm9yZGVyXCIpO3JldHVybiBLKHRoaXMsZnVuY3Rpb24oYixjLGQpe3ZhciBlO3JldHVybiBuLmlzV2luZG93KGIpP2IuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50W1wiY2xpZW50XCIrYV06OT09PWIubm9kZVR5cGU/KGU9Yi5kb2N1bWVudEVsZW1lbnQsTWF0aC5tYXgoYi5ib2R5W1wic2Nyb2xsXCIrYV0sZVtcInNjcm9sbFwiK2FdLGIuYm9keVtcIm9mZnNldFwiK2FdLGVbXCJvZmZzZXRcIithXSxlW1wiY2xpZW50XCIrYV0pKTp2b2lkIDA9PT1kP24uY3NzKGIsYyxnKTpuLnN0eWxlKGIsYyxkLGcpfSxiLGY/ZDp2b2lkIDAsZixudWxsKX19KX0pLG4uZm4uZXh0ZW5kKHtiaW5kOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdGhpcy5vbihhLG51bGwsYixjKX0sdW5iaW5kOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMub2ZmKGEsbnVsbCxiKX0sZGVsZWdhdGU6ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHRoaXMub24oYixhLGMsZCl9LHVuZGVsZWdhdGU6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiAxPT09YXJndW1lbnRzLmxlbmd0aD90aGlzLm9mZihhLFwiKipcIik6dGhpcy5vZmYoYixhfHxcIioqXCIsYyl9LHNpemU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZW5ndGh9fSksbi5mbi5hbmRTZWxmPW4uZm4uYWRkQmFjayxcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQmJmRlZmluZShcImpxdWVyeVwiLFtdLGZ1bmN0aW9uKCl7cmV0dXJuIG59KTt2YXIgTWI9YS5qUXVlcnksTmI9YS4kO3JldHVybiBuLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oYil7cmV0dXJuIGEuJD09PW4mJihhLiQ9TmIpLGImJmEualF1ZXJ5PT09biYmKGEualF1ZXJ5PU1iKSxufSxifHwoYS5qUXVlcnk9YS4kPW4pLG59KTtcbiJdLCJmaWxlIjoianF1ZXJ5Lm1pbi5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9

/*!
 DataTables 1.10.10
 2008-2015 SpryMedia Ltd - datatables.net/license
*/
(function(h){"function"===typeof define&&define.amd?define(["jquery"],function(E){return h(E,window,document)}):"object"===typeof exports?module.exports=function(E,H){E||(E=window);H||(H="undefined"!==typeof window?require("jquery"):require("jquery")(E));return h(H,E,E.document)}:h(jQuery,window,document)})(function(h,E,H,k){function Y(a){var b,c,d={};h.each(a,function(e){if((b=e.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(b[1]+" "))c=e.replace(b[0],b[2].toLowerCase()),
d[c]=e,"o"===b[1]&&Y(a[e])});a._hungarianMap=d}function J(a,b,c){a._hungarianMap||Y(a);var d;h.each(b,function(e){d=a._hungarianMap[e];if(d!==k&&(c||b[d]===k))"o"===d.charAt(0)?(b[d]||(b[d]={}),h.extend(!0,b[d],b[e]),J(a[d],b[d],c)):b[d]=b[e]})}function Fa(a){var b=m.defaults.oLanguage,c=a.sZeroRecords;!a.sEmptyTable&&(c&&"No data available in table"===b.sEmptyTable)&&F(a,a,"sZeroRecords","sEmptyTable");!a.sLoadingRecords&&(c&&"Loading..."===b.sLoadingRecords)&&F(a,a,"sZeroRecords","sLoadingRecords");
a.sInfoThousands&&(a.sThousands=a.sInfoThousands);(a=a.sDecimal)&&db(a)}function eb(a){A(a,"ordering","bSort");A(a,"orderMulti","bSortMulti");A(a,"orderClasses","bSortClasses");A(a,"orderCellsTop","bSortCellsTop");A(a,"order","aaSorting");A(a,"orderFixed","aaSortingFixed");A(a,"paging","bPaginate");A(a,"pagingType","sPaginationType");A(a,"pageLength","iDisplayLength");A(a,"searching","bFilter");"boolean"===typeof a.sScrollX&&(a.sScrollX=a.sScrollX?"100%":"");"boolean"===typeof a.scrollX&&(a.scrollX=
a.scrollX?"100%":"");if(a=a.aoSearchCols)for(var b=0,c=a.length;b<c;b++)a[b]&&J(m.models.oSearch,a[b])}function fb(a){A(a,"orderable","bSortable");A(a,"orderData","aDataSort");A(a,"orderSequence","asSorting");A(a,"orderDataType","sortDataType");var b=a.aDataSort;b&&!h.isArray(b)&&(a.aDataSort=[b])}function gb(a){if(!m.__browser){var b={};m.__browser=b;var c=h("<div/>").css({position:"fixed",top:0,left:0,height:1,width:1,overflow:"hidden"}).append(h("<div/>").css({position:"absolute",top:1,left:1,
width:100,overflow:"scroll"}).append(h("<div/>").css({width:"100%",height:10}))).appendTo("body"),d=c.children(),e=d.children();b.barWidth=d[0].offsetWidth-d[0].clientWidth;b.bScrollOversize=100===e[0].offsetWidth&&100!==d[0].clientWidth;b.bScrollbarLeft=1!==Math.round(e.offset().left);b.bBounding=c[0].getBoundingClientRect().width?!0:!1;c.remove()}h.extend(a.oBrowser,m.__browser);a.oScroll.iBarWidth=m.__browser.barWidth}function hb(a,b,c,d,e,f){var g,j=!1;c!==k&&(g=c,j=!0);for(;d!==e;)a.hasOwnProperty(d)&&
(g=j?b(g,a[d],d,a):a[d],j=!0,d+=f);return g}function Ga(a,b){var c=m.defaults.column,d=a.aoColumns.length,c=h.extend({},m.models.oColumn,c,{nTh:b?b:H.createElement("th"),sTitle:c.sTitle?c.sTitle:b?b.innerHTML:"",aDataSort:c.aDataSort?c.aDataSort:[d],mData:c.mData?c.mData:d,idx:d});a.aoColumns.push(c);c=a.aoPreSearchCols;c[d]=h.extend({},m.models.oSearch,c[d]);la(a,d,h(b).data())}function la(a,b,c){var b=a.aoColumns[b],d=a.oClasses,e=h(b.nTh);if(!b.sWidthOrig){b.sWidthOrig=e.attr("width")||null;var f=
(e.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);f&&(b.sWidthOrig=f[1])}c!==k&&null!==c&&(fb(c),J(m.defaults.column,c),c.mDataProp!==k&&!c.mData&&(c.mData=c.mDataProp),c.sType&&(b._sManualType=c.sType),c.className&&!c.sClass&&(c.sClass=c.className),h.extend(b,c),F(b,c,"sWidth","sWidthOrig"),c.iDataSort!==k&&(b.aDataSort=[c.iDataSort]),F(b,c,"aDataSort"));var g=b.mData,j=Q(g),i=b.mRender?Q(b.mRender):null,c=function(a){return"string"===typeof a&&-1!==a.indexOf("@")};b._bAttrSrc=h.isPlainObject(g)&&
(c(g.sort)||c(g.type)||c(g.filter));b.fnGetData=function(a,b,c){var d=j(a,b,k,c);return i&&b?i(d,b,a,c):d};b.fnSetData=function(a,b,c){return R(g)(a,b,c)};"number"!==typeof g&&(a._rowReadObject=!0);a.oFeatures.bSort||(b.bSortable=!1,e.addClass(d.sSortableNone));a=-1!==h.inArray("asc",b.asSorting);c=-1!==h.inArray("desc",b.asSorting);!b.bSortable||!a&&!c?(b.sSortingClass=d.sSortableNone,b.sSortingClassJUI=""):a&&!c?(b.sSortingClass=d.sSortableAsc,b.sSortingClassJUI=d.sSortJUIAscAllowed):!a&&c?(b.sSortingClass=
d.sSortableDesc,b.sSortingClassJUI=d.sSortJUIDescAllowed):(b.sSortingClass=d.sSortable,b.sSortingClassJUI=d.sSortJUI)}function U(a){if(!1!==a.oFeatures.bAutoWidth){var b=a.aoColumns;Ha(a);for(var c=0,d=b.length;c<d;c++)b[c].nTh.style.width=b[c].sWidth}b=a.oScroll;(""!==b.sY||""!==b.sX)&&Z(a);v(a,null,"column-sizing",[a])}function $(a,b){var c=aa(a,"bVisible");return"number"===typeof c[b]?c[b]:null}function ba(a,b){var c=aa(a,"bVisible"),c=h.inArray(b,c);return-1!==c?c:null}function ca(a){return aa(a,
"bVisible").length}function aa(a,b){var c=[];h.map(a.aoColumns,function(a,e){a[b]&&c.push(e)});return c}function Ia(a){var b=a.aoColumns,c=a.aoData,d=m.ext.type.detect,e,f,g,j,i,h,l,q,u;e=0;for(f=b.length;e<f;e++)if(l=b[e],u=[],!l.sType&&l._sManualType)l.sType=l._sManualType;else if(!l.sType){g=0;for(j=d.length;g<j;g++){i=0;for(h=c.length;i<h;i++){u[i]===k&&(u[i]=B(a,i,e,"type"));q=d[g](u[i],a);if(!q&&g!==d.length-1)break;if("html"===q)break}if(q){l.sType=q;break}}l.sType||(l.sType="string")}}function ib(a,
b,c,d){var e,f,g,j,i,o,l=a.aoColumns;if(b)for(e=b.length-1;0<=e;e--){o=b[e];var q=o.targets!==k?o.targets:o.aTargets;h.isArray(q)||(q=[q]);f=0;for(g=q.length;f<g;f++)if("number"===typeof q[f]&&0<=q[f]){for(;l.length<=q[f];)Ga(a);d(q[f],o)}else if("number"===typeof q[f]&&0>q[f])d(l.length+q[f],o);else if("string"===typeof q[f]){j=0;for(i=l.length;j<i;j++)("_all"==q[f]||h(l[j].nTh).hasClass(q[f]))&&d(j,o)}}if(c){e=0;for(a=c.length;e<a;e++)d(e,c[e])}}function N(a,b,c,d){var e=a.aoData.length,f=h.extend(!0,
{},m.models.oRow,{src:c?"dom":"data",idx:e});f._aData=b;a.aoData.push(f);for(var g=a.aoColumns,j=0,i=g.length;j<i;j++)g[j].sType=null;a.aiDisplayMaster.push(e);b=a.rowIdFn(b);b!==k&&(a.aIds[b]=f);(c||!a.oFeatures.bDeferRender)&&Ja(a,e,c,d);return e}function ma(a,b){var c;b instanceof h||(b=h(b));return b.map(function(b,e){c=Ka(a,e);return N(a,c.data,e,c.cells)})}function B(a,b,c,d){var e=a.iDraw,f=a.aoColumns[c],g=a.aoData[b]._aData,j=f.sDefaultContent,i=f.fnGetData(g,d,{settings:a,row:b,col:c});
if(i===k)return a.iDrawError!=e&&null===j&&(K(a,0,"Requested unknown parameter "+("function"==typeof f.mData?"{function}":"'"+f.mData+"'")+" for row "+b+", column "+c,4),a.iDrawError=e),j;if((i===g||null===i)&&null!==j)i=j;else if("function"===typeof i)return i.call(g);return null===i&&"display"==d?"":i}function jb(a,b,c,d){a.aoColumns[c].fnSetData(a.aoData[b]._aData,d,{settings:a,row:b,col:c})}function La(a){return h.map(a.match(/(\\.|[^\.])+/g)||[""],function(a){return a.replace(/\\./g,".")})}function Q(a){if(h.isPlainObject(a)){var b=
{};h.each(a,function(a,c){c&&(b[a]=Q(c))});return function(a,c,f,g){var j=b[c]||b._;return j!==k?j(a,c,f,g):a}}if(null===a)return function(a){return a};if("function"===typeof a)return function(b,c,f,g){return a(b,c,f,g)};if("string"===typeof a&&(-1!==a.indexOf(".")||-1!==a.indexOf("[")||-1!==a.indexOf("("))){var c=function(a,b,f){var g,j;if(""!==f){j=La(f);for(var i=0,o=j.length;i<o;i++){f=j[i].match(da);g=j[i].match(V);if(f){j[i]=j[i].replace(da,"");""!==j[i]&&(a=a[j[i]]);g=[];j.splice(0,i+1);j=
j.join(".");if(h.isArray(a)){i=0;for(o=a.length;i<o;i++)g.push(c(a[i],b,j))}a=f[0].substring(1,f[0].length-1);a=""===a?g:g.join(a);break}else if(g){j[i]=j[i].replace(V,"");a=a[j[i]]();continue}if(null===a||a[j[i]]===k)return k;a=a[j[i]]}}return a};return function(b,e){return c(b,e,a)}}return function(b){return b[a]}}function R(a){if(h.isPlainObject(a))return R(a._);if(null===a)return function(){};if("function"===typeof a)return function(b,d,e){a(b,"set",d,e)};if("string"===typeof a&&(-1!==a.indexOf(".")||
-1!==a.indexOf("[")||-1!==a.indexOf("("))){var b=function(a,d,e){var e=La(e),f;f=e[e.length-1];for(var g,j,i=0,o=e.length-1;i<o;i++){g=e[i].match(da);j=e[i].match(V);if(g){e[i]=e[i].replace(da,"");a[e[i]]=[];f=e.slice();f.splice(0,i+1);g=f.join(".");if(h.isArray(d)){j=0;for(o=d.length;j<o;j++)f={},b(f,d[j],g),a[e[i]].push(f)}else a[e[i]]=d;return}j&&(e[i]=e[i].replace(V,""),a=a[e[i]](d));if(null===a[e[i]]||a[e[i]]===k)a[e[i]]={};a=a[e[i]]}if(f.match(V))a[f.replace(V,"")](d);else a[f.replace(da,"")]=
d};return function(c,d){return b(c,d,a)}}return function(b,d){b[a]=d}}function Ma(a){return D(a.aoData,"_aData")}function na(a){a.aoData.length=0;a.aiDisplayMaster.length=0;a.aiDisplay.length=0;a.aIds={}}function oa(a,b,c){for(var d=-1,e=0,f=a.length;e<f;e++)a[e]==b?d=e:a[e]>b&&a[e]--; -1!=d&&c===k&&a.splice(d,1)}function ea(a,b,c,d){var e=a.aoData[b],f,g=function(c,d){for(;c.childNodes.length;)c.removeChild(c.firstChild);c.innerHTML=B(a,b,d,"display")};if("dom"===c||(!c||"auto"===c)&&"dom"===e.src)e._aData=
Ka(a,e,d,d===k?k:e._aData).data;else{var j=e.anCells;if(j)if(d!==k)g(j[d],d);else{c=0;for(f=j.length;c<f;c++)g(j[c],c)}}e._aSortData=null;e._aFilterData=null;g=a.aoColumns;if(d!==k)g[d].sType=null;else{c=0;for(f=g.length;c<f;c++)g[c].sType=null;Na(a,e)}}function Ka(a,b,c,d){var e=[],f=b.firstChild,g,j,i=0,o,l=a.aoColumns,q=a._rowReadObject,d=d!==k?d:q?{}:[],u=function(a,b){if("string"===typeof a){var c=a.indexOf("@");-1!==c&&(c=a.substring(c+1),R(a)(d,b.getAttribute(c)))}},S=function(a){if(c===k||
c===i)j=l[i],o=h.trim(a.innerHTML),j&&j._bAttrSrc?(R(j.mData._)(d,o),u(j.mData.sort,a),u(j.mData.type,a),u(j.mData.filter,a)):q?(j._setter||(j._setter=R(j.mData)),j._setter(d,o)):d[i]=o;i++};if(f)for(;f;){g=f.nodeName.toUpperCase();if("TD"==g||"TH"==g)S(f),e.push(f);f=f.nextSibling}else{e=b.anCells;f=0;for(g=e.length;f<g;f++)S(e[f])}if(b=b.firstChild?b:b.nTr)(b=b.getAttribute("id"))&&R(a.rowId)(d,b);return{data:d,cells:e}}function Ja(a,b,c,d){var e=a.aoData[b],f=e._aData,g=[],j,i,h,l,q;if(null===
e.nTr){j=c||H.createElement("tr");e.nTr=j;e.anCells=g;j._DT_RowIndex=b;Na(a,e);l=0;for(q=a.aoColumns.length;l<q;l++){h=a.aoColumns[l];i=c?d[l]:H.createElement(h.sCellType);i._DT_CellIndex={row:b,column:l};g.push(i);if(!c||h.mRender||h.mData!==l)i.innerHTML=B(a,b,l,"display");h.sClass&&(i.className+=" "+h.sClass);h.bVisible&&!c?j.appendChild(i):!h.bVisible&&c&&i.parentNode.removeChild(i);h.fnCreatedCell&&h.fnCreatedCell.call(a.oInstance,i,B(a,b,l),f,b,l)}v(a,"aoRowCreatedCallback",null,[j,f,b])}e.nTr.setAttribute("role",
"row")}function Na(a,b){var c=b.nTr,d=b._aData;if(c){var e=a.rowIdFn(d);e&&(c.id=e);d.DT_RowClass&&(e=d.DT_RowClass.split(" "),b.__rowc=b.__rowc?pa(b.__rowc.concat(e)):e,h(c).removeClass(b.__rowc.join(" ")).addClass(d.DT_RowClass));d.DT_RowAttr&&h(c).attr(d.DT_RowAttr);d.DT_RowData&&h(c).data(d.DT_RowData)}}function kb(a){var b,c,d,e,f,g=a.nTHead,j=a.nTFoot,i=0===h("th, td",g).length,o=a.oClasses,l=a.aoColumns;i&&(e=h("<tr/>").appendTo(g));b=0;for(c=l.length;b<c;b++)f=l[b],d=h(f.nTh).addClass(f.sClass),
i&&d.appendTo(e),a.oFeatures.bSort&&(d.addClass(f.sSortingClass),!1!==f.bSortable&&(d.attr("tabindex",a.iTabIndex).attr("aria-controls",a.sTableId),Oa(a,f.nTh,b))),f.sTitle!=d[0].innerHTML&&d.html(f.sTitle),Pa(a,"header")(a,d,f,o);i&&fa(a.aoHeader,g);h(g).find(">tr").attr("role","row");h(g).find(">tr>th, >tr>td").addClass(o.sHeaderTH);h(j).find(">tr>th, >tr>td").addClass(o.sFooterTH);if(null!==j){a=a.aoFooter[0];b=0;for(c=a.length;b<c;b++)f=l[b],f.nTf=a[b].cell,f.sClass&&h(f.nTf).addClass(f.sClass)}}
function ga(a,b,c){var d,e,f,g=[],j=[],i=a.aoColumns.length,o;if(b){c===k&&(c=!1);d=0;for(e=b.length;d<e;d++){g[d]=b[d].slice();g[d].nTr=b[d].nTr;for(f=i-1;0<=f;f--)!a.aoColumns[f].bVisible&&!c&&g[d].splice(f,1);j.push([])}d=0;for(e=g.length;d<e;d++){if(a=g[d].nTr)for(;f=a.firstChild;)a.removeChild(f);f=0;for(b=g[d].length;f<b;f++)if(o=i=1,j[d][f]===k){a.appendChild(g[d][f].cell);for(j[d][f]=1;g[d+i]!==k&&g[d][f].cell==g[d+i][f].cell;)j[d+i][f]=1,i++;for(;g[d][f+o]!==k&&g[d][f].cell==g[d][f+o].cell;){for(c=
0;c<i;c++)j[d+c][f+o]=1;o++}h(g[d][f].cell).attr("rowspan",i).attr("colspan",o)}}}}function O(a){var b=v(a,"aoPreDrawCallback","preDraw",[a]);if(-1!==h.inArray(!1,b))C(a,!1);else{var b=[],c=0,d=a.asStripeClasses,e=d.length,f=a.oLanguage,g=a.iInitDisplayStart,j="ssp"==y(a),i=a.aiDisplay;a.bDrawing=!0;g!==k&&-1!==g&&(a._iDisplayStart=j?g:g>=a.fnRecordsDisplay()?0:g,a.iInitDisplayStart=-1);var g=a._iDisplayStart,o=a.fnDisplayEnd();if(a.bDeferLoading)a.bDeferLoading=!1,a.iDraw++,C(a,!1);else if(j){if(!a.bDestroying&&
!lb(a))return}else a.iDraw++;if(0!==i.length){f=j?a.aoData.length:o;for(j=j?0:g;j<f;j++){var l=i[j],q=a.aoData[l];null===q.nTr&&Ja(a,l);l=q.nTr;if(0!==e){var u=d[c%e];q._sRowStripe!=u&&(h(l).removeClass(q._sRowStripe).addClass(u),q._sRowStripe=u)}v(a,"aoRowCallback",null,[l,q._aData,c,j]);b.push(l);c++}}else c=f.sZeroRecords,1==a.iDraw&&"ajax"==y(a)?c=f.sLoadingRecords:f.sEmptyTable&&0===a.fnRecordsTotal()&&(c=f.sEmptyTable),b[0]=h("<tr/>",{"class":e?d[0]:""}).append(h("<td />",{valign:"top",colSpan:ca(a),
"class":a.oClasses.sRowEmpty}).html(c))[0];v(a,"aoHeaderCallback","header",[h(a.nTHead).children("tr")[0],Ma(a),g,o,i]);v(a,"aoFooterCallback","footer",[h(a.nTFoot).children("tr")[0],Ma(a),g,o,i]);d=h(a.nTBody);d.children().detach();d.append(h(b));v(a,"aoDrawCallback","draw",[a]);a.bSorted=!1;a.bFiltered=!1;a.bDrawing=!1}}function T(a,b){var c=a.oFeatures,d=c.bFilter;c.bSort&&mb(a);d?ha(a,a.oPreviousSearch):a.aiDisplay=a.aiDisplayMaster.slice();!0!==b&&(a._iDisplayStart=0);a._drawHold=b;O(a);a._drawHold=
!1}function nb(a){var b=a.oClasses,c=h(a.nTable),c=h("<div/>").insertBefore(c),d=a.oFeatures,e=h("<div/>",{id:a.sTableId+"_wrapper","class":b.sWrapper+(a.nTFoot?"":" "+b.sNoFooter)});a.nHolding=c[0];a.nTableWrapper=e[0];a.nTableReinsertBefore=a.nTable.nextSibling;for(var f=a.sDom.split(""),g,j,i,o,l,q,u=0;u<f.length;u++){g=null;j=f[u];if("<"==j){i=h("<div/>")[0];o=f[u+1];if("'"==o||'"'==o){l="";for(q=2;f[u+q]!=o;)l+=f[u+q],q++;"H"==l?l=b.sJUIHeader:"F"==l&&(l=b.sJUIFooter);-1!=l.indexOf(".")?(o=l.split("."),
i.id=o[0].substr(1,o[0].length-1),i.className=o[1]):"#"==l.charAt(0)?i.id=l.substr(1,l.length-1):i.className=l;u+=q}e.append(i);e=h(i)}else if(">"==j)e=e.parent();else if("l"==j&&d.bPaginate&&d.bLengthChange)g=ob(a);else if("f"==j&&d.bFilter)g=pb(a);else if("r"==j&&d.bProcessing)g=qb(a);else if("t"==j)g=rb(a);else if("i"==j&&d.bInfo)g=sb(a);else if("p"==j&&d.bPaginate)g=tb(a);else if(0!==m.ext.feature.length){i=m.ext.feature;q=0;for(o=i.length;q<o;q++)if(j==i[q].cFeature){g=i[q].fnInit(a);break}}g&&
(i=a.aanFeatures,i[j]||(i[j]=[]),i[j].push(g),e.append(g))}c.replaceWith(e);a.nHolding=null}function fa(a,b){var c=h(b).children("tr"),d,e,f,g,j,i,o,l,q,u;a.splice(0,a.length);f=0;for(i=c.length;f<i;f++)a.push([]);f=0;for(i=c.length;f<i;f++){d=c[f];for(e=d.firstChild;e;){if("TD"==e.nodeName.toUpperCase()||"TH"==e.nodeName.toUpperCase()){l=1*e.getAttribute("colspan");q=1*e.getAttribute("rowspan");l=!l||0===l||1===l?1:l;q=!q||0===q||1===q?1:q;g=0;for(j=a[f];j[g];)g++;o=g;u=1===l?!0:!1;for(j=0;j<l;j++)for(g=
0;g<q;g++)a[f+g][o+j]={cell:e,unique:u},a[f+g].nTr=d}e=e.nextSibling}}}function qa(a,b,c){var d=[];c||(c=a.aoHeader,b&&(c=[],fa(c,b)));for(var b=0,e=c.length;b<e;b++)for(var f=0,g=c[b].length;f<g;f++)if(c[b][f].unique&&(!d[f]||!a.bSortCellsTop))d[f]=c[b][f].cell;return d}function ra(a,b,c){v(a,"aoServerParams","serverParams",[b]);if(b&&h.isArray(b)){var d={},e=/(.*?)\[\]$/;h.each(b,function(a,b){var c=b.name.match(e);c?(c=c[0],d[c]||(d[c]=[]),d[c].push(b.value)):d[b.name]=b.value});b=d}var f,g=a.ajax,
j=a.oInstance,i=function(b){v(a,null,"xhr",[a,b,a.jqXHR]);c(b)};if(h.isPlainObject(g)&&g.data){f=g.data;var o=h.isFunction(f)?f(b,a):f,b=h.isFunction(f)&&o?o:h.extend(!0,b,o);delete g.data}o={data:b,success:function(b){var c=b.error||b.sError;c&&K(a,0,c);a.json=b;i(b)},dataType:"json",cache:!1,type:a.sServerMethod,error:function(b,c){var d=v(a,null,"xhr",[a,null,a.jqXHR]);-1===h.inArray(!0,d)&&("parsererror"==c?K(a,0,"Invalid JSON response",1):4===b.readyState&&K(a,0,"Ajax error",7));C(a,!1)}};a.oAjaxData=
b;v(a,null,"preXhr",[a,b]);a.fnServerData?a.fnServerData.call(j,a.sAjaxSource,h.map(b,function(a,b){return{name:b,value:a}}),i,a):a.sAjaxSource||"string"===typeof g?a.jqXHR=h.ajax(h.extend(o,{url:g||a.sAjaxSource})):h.isFunction(g)?a.jqXHR=g.call(j,b,i,a):(a.jqXHR=h.ajax(h.extend(o,g)),g.data=f)}function lb(a){return a.bAjaxDataGet?(a.iDraw++,C(a,!0),ra(a,ub(a),function(b){vb(a,b)}),!1):!0}function ub(a){var b=a.aoColumns,c=b.length,d=a.oFeatures,e=a.oPreviousSearch,f=a.aoPreSearchCols,g,j=[],i,o,
l,q=W(a);g=a._iDisplayStart;i=!1!==d.bPaginate?a._iDisplayLength:-1;var k=function(a,b){j.push({name:a,value:b})};k("sEcho",a.iDraw);k("iColumns",c);k("sColumns",D(b,"sName").join(","));k("iDisplayStart",g);k("iDisplayLength",i);var S={draw:a.iDraw,columns:[],order:[],start:g,length:i,search:{value:e.sSearch,regex:e.bRegex}};for(g=0;g<c;g++)o=b[g],l=f[g],i="function"==typeof o.mData?"function":o.mData,S.columns.push({data:i,name:o.sName,searchable:o.bSearchable,orderable:o.bSortable,search:{value:l.sSearch,
regex:l.bRegex}}),k("mDataProp_"+g,i),d.bFilter&&(k("sSearch_"+g,l.sSearch),k("bRegex_"+g,l.bRegex),k("bSearchable_"+g,o.bSearchable)),d.bSort&&k("bSortable_"+g,o.bSortable);d.bFilter&&(k("sSearch",e.sSearch),k("bRegex",e.bRegex));d.bSort&&(h.each(q,function(a,b){S.order.push({column:b.col,dir:b.dir});k("iSortCol_"+a,b.col);k("sSortDir_"+a,b.dir)}),k("iSortingCols",q.length));b=m.ext.legacy.ajax;return null===b?a.sAjaxSource?j:S:b?j:S}function vb(a,b){var c=sa(a,b),d=b.sEcho!==k?b.sEcho:b.draw,e=
b.iTotalRecords!==k?b.iTotalRecords:b.recordsTotal,f=b.iTotalDisplayRecords!==k?b.iTotalDisplayRecords:b.recordsFiltered;if(d){if(1*d<a.iDraw)return;a.iDraw=1*d}na(a);a._iRecordsTotal=parseInt(e,10);a._iRecordsDisplay=parseInt(f,10);d=0;for(e=c.length;d<e;d++)N(a,c[d]);a.aiDisplay=a.aiDisplayMaster.slice();a.bAjaxDataGet=!1;O(a);a._bInitComplete||ta(a,b);a.bAjaxDataGet=!0;C(a,!1)}function sa(a,b){var c=h.isPlainObject(a.ajax)&&a.ajax.dataSrc!==k?a.ajax.dataSrc:a.sAjaxDataProp;return"data"===c?b.aaData||
b[c]:""!==c?Q(c)(b):b}function pb(a){var b=a.oClasses,c=a.sTableId,d=a.oLanguage,e=a.oPreviousSearch,f=a.aanFeatures,g='<input type="search" class="'+b.sFilterInput+'"/>',j=d.sSearch,j=j.match(/_INPUT_/)?j.replace("_INPUT_",g):j+g,b=h("<div/>",{id:!f.f?c+"_filter":null,"class":b.sFilter}).append(h("<label/>").append(j)),f=function(){var b=!this.value?"":this.value;b!=e.sSearch&&(ha(a,{sSearch:b,bRegex:e.bRegex,bSmart:e.bSmart,bCaseInsensitive:e.bCaseInsensitive}),a._iDisplayStart=0,O(a))},g=null!==
a.searchDelay?a.searchDelay:"ssp"===y(a)?400:0,i=h("input",b).val(e.sSearch).attr("placeholder",d.sSearchPlaceholder).bind("keyup.DT search.DT input.DT paste.DT cut.DT",g?ua(f,g):f).bind("keypress.DT",function(a){if(13==a.keyCode)return!1}).attr("aria-controls",c);h(a.nTable).on("search.dt.DT",function(b,c){if(a===c)try{i[0]!==H.activeElement&&i.val(e.sSearch)}catch(d){}});return b[0]}function ha(a,b,c){var d=a.oPreviousSearch,e=a.aoPreSearchCols,f=function(a){d.sSearch=a.sSearch;d.bRegex=a.bRegex;
d.bSmart=a.bSmart;d.bCaseInsensitive=a.bCaseInsensitive};Ia(a);if("ssp"!=y(a)){wb(a,b.sSearch,c,b.bEscapeRegex!==k?!b.bEscapeRegex:b.bRegex,b.bSmart,b.bCaseInsensitive);f(b);for(b=0;b<e.length;b++)xb(a,e[b].sSearch,b,e[b].bEscapeRegex!==k?!e[b].bEscapeRegex:e[b].bRegex,e[b].bSmart,e[b].bCaseInsensitive);yb(a)}else f(b);a.bFiltered=!0;v(a,null,"search",[a])}function yb(a){for(var b=m.ext.search,c=a.aiDisplay,d,e,f=0,g=b.length;f<g;f++){for(var j=[],i=0,o=c.length;i<o;i++)e=c[i],d=a.aoData[e],b[f](a,
d._aFilterData,e,d._aData,i)&&j.push(e);c.length=0;h.merge(c,j)}}function xb(a,b,c,d,e,f){if(""!==b)for(var g=a.aiDisplay,d=Qa(b,d,e,f),e=g.length-1;0<=e;e--)b=a.aoData[g[e]]._aFilterData[c],d.test(b)||g.splice(e,1)}function wb(a,b,c,d,e,f){var d=Qa(b,d,e,f),e=a.oPreviousSearch.sSearch,f=a.aiDisplayMaster,g;0!==m.ext.search.length&&(c=!0);g=zb(a);if(0>=b.length)a.aiDisplay=f.slice();else{if(g||c||e.length>b.length||0!==b.indexOf(e)||a.bSorted)a.aiDisplay=f.slice();b=a.aiDisplay;for(c=b.length-1;0<=
c;c--)d.test(a.aoData[b[c]]._sFilterRow)||b.splice(c,1)}}function Qa(a,b,c,d){a=b?a:va(a);c&&(a="^(?=.*?"+h.map(a.match(/"[^"]+"|[^ ]+/g)||[""],function(a){if('"'===a.charAt(0))var b=a.match(/^"(.*)"$/),a=b?b[1]:a;return a.replace('"',"")}).join(")(?=.*?")+").*$");return RegExp(a,d?"i":"")}function va(a){return a.replace(Yb,"\\$1")}function zb(a){var b=a.aoColumns,c,d,e,f,g,j,i,h,l=m.ext.type.search;c=!1;d=0;for(f=a.aoData.length;d<f;d++)if(h=a.aoData[d],!h._aFilterData){j=[];e=0;for(g=b.length;e<
g;e++)c=b[e],c.bSearchable?(i=B(a,d,e,"filter"),l[c.sType]&&(i=l[c.sType](i)),null===i&&(i=""),"string"!==typeof i&&i.toString&&(i=i.toString())):i="",i.indexOf&&-1!==i.indexOf("&")&&(wa.innerHTML=i,i=Zb?wa.textContent:wa.innerText),i.replace&&(i=i.replace(/[\r\n]/g,"")),j.push(i);h._aFilterData=j;h._sFilterRow=j.join("  ");c=!0}return c}function Ab(a){return{search:a.sSearch,smart:a.bSmart,regex:a.bRegex,caseInsensitive:a.bCaseInsensitive}}function Bb(a){return{sSearch:a.search,bSmart:a.smart,bRegex:a.regex,
bCaseInsensitive:a.caseInsensitive}}function sb(a){var b=a.sTableId,c=a.aanFeatures.i,d=h("<div/>",{"class":a.oClasses.sInfo,id:!c?b+"_info":null});c||(a.aoDrawCallback.push({fn:Cb,sName:"information"}),d.attr("role","status").attr("aria-live","polite"),h(a.nTable).attr("aria-describedby",b+"_info"));return d[0]}function Cb(a){var b=a.aanFeatures.i;if(0!==b.length){var c=a.oLanguage,d=a._iDisplayStart+1,e=a.fnDisplayEnd(),f=a.fnRecordsTotal(),g=a.fnRecordsDisplay(),j=g?c.sInfo:c.sInfoEmpty;g!==f&&
(j+=" "+c.sInfoFiltered);j+=c.sInfoPostFix;j=Db(a,j);c=c.fnInfoCallback;null!==c&&(j=c.call(a.oInstance,a,d,e,f,g,j));h(b).html(j)}}function Db(a,b){var c=a.fnFormatNumber,d=a._iDisplayStart+1,e=a._iDisplayLength,f=a.fnRecordsDisplay(),g=-1===e;return b.replace(/_START_/g,c.call(a,d)).replace(/_END_/g,c.call(a,a.fnDisplayEnd())).replace(/_MAX_/g,c.call(a,a.fnRecordsTotal())).replace(/_TOTAL_/g,c.call(a,f)).replace(/_PAGE_/g,c.call(a,g?1:Math.ceil(d/e))).replace(/_PAGES_/g,c.call(a,g?1:Math.ceil(f/
e)))}function ia(a){var b,c,d=a.iInitDisplayStart,e=a.aoColumns,f;c=a.oFeatures;var g=a.bDeferLoading;if(a.bInitialised){nb(a);kb(a);ga(a,a.aoHeader);ga(a,a.aoFooter);C(a,!0);c.bAutoWidth&&Ha(a);b=0;for(c=e.length;b<c;b++)f=e[b],f.sWidth&&(f.nTh.style.width=w(f.sWidth));v(a,null,"preInit",[a]);T(a);e=y(a);if("ssp"!=e||g)"ajax"==e?ra(a,[],function(c){var f=sa(a,c);for(b=0;b<f.length;b++)N(a,f[b]);a.iInitDisplayStart=d;T(a);C(a,!1);ta(a,c)},a):(C(a,!1),ta(a))}else setTimeout(function(){ia(a)},200)}
function ta(a,b){a._bInitComplete=!0;(b||a.oInit.aaData)&&U(a);v(a,null,"plugin-init",[a,b]);v(a,"aoInitComplete","init",[a,b])}function Ra(a,b){var c=parseInt(b,10);a._iDisplayLength=c;Sa(a);v(a,null,"length",[a,c])}function ob(a){for(var b=a.oClasses,c=a.sTableId,d=a.aLengthMenu,e=h.isArray(d[0]),f=e?d[0]:d,d=e?d[1]:d,e=h("<select/>",{name:c+"_length","aria-controls":c,"class":b.sLengthSelect}),g=0,j=f.length;g<j;g++)e[0][g]=new Option(d[g],f[g]);var i=h("<div><label/></div>").addClass(b.sLength);
a.aanFeatures.l||(i[0].id=c+"_length");i.children().append(a.oLanguage.sLengthMenu.replace("_MENU_",e[0].outerHTML));h("select",i).val(a._iDisplayLength).bind("change.DT",function(){Ra(a,h(this).val());O(a)});h(a.nTable).bind("length.dt.DT",function(b,c,d){a===c&&h("select",i).val(d)});return i[0]}function tb(a){var b=a.sPaginationType,c=m.ext.pager[b],d="function"===typeof c,e=function(a){O(a)},b=h("<div/>").addClass(a.oClasses.sPaging+b)[0],f=a.aanFeatures;d||c.fnInit(a,b,e);f.p||(b.id=a.sTableId+
"_paginate",a.aoDrawCallback.push({fn:function(a){if(d){var b=a._iDisplayStart,i=a._iDisplayLength,h=a.fnRecordsDisplay(),l=-1===i,b=l?0:Math.ceil(b/i),i=l?1:Math.ceil(h/i),h=c(b,i),k,l=0;for(k=f.p.length;l<k;l++)Pa(a,"pageButton")(a,f.p[l],l,h,b,i)}else c.fnUpdate(a,e)},sName:"pagination"}));return b}function Ta(a,b,c){var d=a._iDisplayStart,e=a._iDisplayLength,f=a.fnRecordsDisplay();0===f||-1===e?d=0:"number"===typeof b?(d=b*e,d>f&&(d=0)):"first"==b?d=0:"previous"==b?(d=0<=e?d-e:0,0>d&&(d=0)):"next"==
b?d+e<f&&(d+=e):"last"==b?d=Math.floor((f-1)/e)*e:K(a,0,"Unknown paging action: "+b,5);b=a._iDisplayStart!==d;a._iDisplayStart=d;b&&(v(a,null,"page",[a]),c&&O(a));return b}function qb(a){return h("<div/>",{id:!a.aanFeatures.r?a.sTableId+"_processing":null,"class":a.oClasses.sProcessing}).html(a.oLanguage.sProcessing).insertBefore(a.nTable)[0]}function C(a,b){a.oFeatures.bProcessing&&h(a.aanFeatures.r).css("display",b?"block":"none");v(a,null,"processing",[a,b])}function rb(a){var b=h(a.nTable);b.attr("role",
"grid");var c=a.oScroll;if(""===c.sX&&""===c.sY)return a.nTable;var d=c.sX,e=c.sY,f=a.oClasses,g=b.children("caption"),j=g.length?g[0]._captionSide:null,i=h(b[0].cloneNode(!1)),o=h(b[0].cloneNode(!1)),l=b.children("tfoot");l.length||(l=null);i=h("<div/>",{"class":f.sScrollWrapper}).append(h("<div/>",{"class":f.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:d?!d?null:w(d):"100%"}).append(h("<div/>",{"class":f.sScrollHeadInner}).css({"box-sizing":"content-box",width:c.sXInner||
"100%"}).append(i.removeAttr("id").css("margin-left",0).append("top"===j?g:null).append(b.children("thead"))))).append(h("<div/>",{"class":f.sScrollBody}).css({position:"relative",overflow:"auto",width:!d?null:w(d)}).append(b));l&&i.append(h("<div/>",{"class":f.sScrollFoot}).css({overflow:"hidden",border:0,width:d?!d?null:w(d):"100%"}).append(h("<div/>",{"class":f.sScrollFootInner}).append(o.removeAttr("id").css("margin-left",0).append("bottom"===j?g:null).append(b.children("tfoot")))));var b=i.children(),
k=b[0],f=b[1],u=l?b[2]:null;if(d)h(f).on("scroll.DT",function(){var a=this.scrollLeft;k.scrollLeft=a;l&&(u.scrollLeft=a)});h(f).css(e&&c.bCollapse?"max-height":"height",e);a.nScrollHead=k;a.nScrollBody=f;a.nScrollFoot=u;a.aoDrawCallback.push({fn:Z,sName:"scrolling"});return i[0]}function Z(a){var b=a.oScroll,c=b.sX,d=b.sXInner,e=b.sY,b=b.iBarWidth,f=h(a.nScrollHead),g=f[0].style,j=f.children("div"),i=j[0].style,o=j.children("table"),j=a.nScrollBody,l=h(j),q=j.style,u=h(a.nScrollFoot).children("div"),
m=u.children("table"),n=h(a.nTHead),p=h(a.nTable),t=p[0],v=t.style,r=a.nTFoot?h(a.nTFoot):null,Eb=a.oBrowser,Ua=Eb.bScrollOversize,s,L,P,x,y=[],z=[],A=[],B,C=function(a){a=a.style;a.paddingTop="0";a.paddingBottom="0";a.borderTopWidth="0";a.borderBottomWidth="0";a.height=0};L=j.scrollHeight>j.clientHeight;if(a.scrollBarVis!==L&&a.scrollBarVis!==k)a.scrollBarVis=L,U(a);else{a.scrollBarVis=L;p.children("thead, tfoot").remove();x=n.clone().prependTo(p);n=n.find("tr");L=x.find("tr");x.find("th, td").removeAttr("tabindex");
r&&(P=r.clone().prependTo(p),s=r.find("tr"),P=P.find("tr"));c||(q.width="100%",f[0].style.width="100%");h.each(qa(a,x),function(b,c){B=$(a,b);c.style.width=a.aoColumns[B].sWidth});r&&I(function(a){a.style.width=""},P);f=p.outerWidth();if(""===c){v.width="100%";if(Ua&&(p.find("tbody").height()>j.offsetHeight||"scroll"==l.css("overflow-y")))v.width=w(p.outerWidth()-b);f=p.outerWidth()}else""!==d&&(v.width=w(d),f=p.outerWidth());I(C,L);I(function(a){A.push(a.innerHTML);y.push(w(h(a).css("width")))},
L);I(function(a,b){a.style.width=y[b]},n);h(L).height(0);r&&(I(C,P),I(function(a){z.push(w(h(a).css("width")))},P),I(function(a,b){a.style.width=z[b]},s),h(P).height(0));I(function(a,b){a.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+A[b]+"</div>";a.style.width=y[b]},L);r&&I(function(a,b){a.innerHTML="";a.style.width=z[b]},P);if(p.outerWidth()<f){s=j.scrollHeight>j.offsetHeight||"scroll"==l.css("overflow-y")?f+b:f;if(Ua&&(j.scrollHeight>j.offsetHeight||"scroll"==l.css("overflow-y")))v.width=
w(s-b);(""===c||""!==d)&&K(a,1,"Possible column misalignment",6)}else s="100%";q.width=w(s);g.width=w(s);r&&(a.nScrollFoot.style.width=w(s));!e&&Ua&&(q.height=w(t.offsetHeight+b));c=p.outerWidth();o[0].style.width=w(c);i.width=w(c);d=p.height()>j.clientHeight||"scroll"==l.css("overflow-y");e="padding"+(Eb.bScrollbarLeft?"Left":"Right");i[e]=d?b+"px":"0px";r&&(m[0].style.width=w(c),u[0].style.width=w(c),u[0].style[e]=d?b+"px":"0px");l.scroll();if((a.bSorted||a.bFiltered)&&!a._drawHold)j.scrollTop=
0}}function I(a,b,c){for(var d=0,e=0,f=b.length,g,j;e<f;){g=b[e].firstChild;for(j=c?c[e].firstChild:null;g;)1===g.nodeType&&(c?a(g,j,d):a(g,d),d++),g=g.nextSibling,j=c?j.nextSibling:null;e++}}function Ha(a){var b=a.nTable,c=a.aoColumns,d=a.oScroll,e=d.sY,f=d.sX,g=d.sXInner,j=c.length,i=aa(a,"bVisible"),o=h("th",a.nTHead),l=b.getAttribute("width"),k=b.parentNode,u=!1,m,n,p=a.oBrowser,d=p.bScrollOversize;(m=b.style.width)&&-1!==m.indexOf("%")&&(l=m);for(m=0;m<i.length;m++)n=c[i[m]],null!==n.sWidth&&
(n.sWidth=Fb(n.sWidthOrig,k),u=!0);if(d||!u&&!f&&!e&&j==ca(a)&&j==o.length)for(m=0;m<j;m++)i=$(a,m),null!==i&&(c[i].sWidth=w(o.eq(m).width()));else{j=h(b).clone().css("visibility","hidden").removeAttr("id");j.find("tbody tr").remove();var t=h("<tr/>").appendTo(j.find("tbody"));j.find("thead, tfoot").remove();j.append(h(a.nTHead).clone()).append(h(a.nTFoot).clone());j.find("tfoot th, tfoot td").css("width","");o=qa(a,j.find("thead")[0]);for(m=0;m<i.length;m++)n=c[i[m]],o[m].style.width=null!==n.sWidthOrig&&
""!==n.sWidthOrig?w(n.sWidthOrig):"",n.sWidthOrig&&f&&h(o[m]).append(h("<div/>").css({width:n.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(a.aoData.length)for(m=0;m<i.length;m++)u=i[m],n=c[u],h(Gb(a,u)).clone(!1).append(n.sContentPadding).appendTo(t);n=h("<div/>").css(f||e?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(j).appendTo(k);f&&g?j.width(g):f?(j.css("width","auto"),j.removeAttr("width"),j.width()<k.clientWidth&&l&&j.width(k.clientWidth)):e?j.width(k.clientWidth):
l&&j.width(l);for(m=e=0;m<i.length;m++)k=h(o[m]),g=k.outerWidth()-k.width(),k=p.bBounding?Math.ceil(o[m].getBoundingClientRect().width):k.outerWidth(),e+=k,c[i[m]].sWidth=w(k-g);b.style.width=w(e);n.remove()}l&&(b.style.width=w(l));if((l||f)&&!a._reszEvt)b=function(){h(E).bind("resize.DT-"+a.sInstance,ua(function(){U(a)}))},d?setTimeout(b,1E3):b(),a._reszEvt=!0}function ua(a,b){var c=b!==k?b:200,d,e;return function(){var b=this,g=+new Date,j=arguments;d&&g<d+c?(clearTimeout(e),e=setTimeout(function(){d=
k;a.apply(b,j)},c)):(d=g,a.apply(b,j))}}function Fb(a,b){if(!a)return 0;var c=h("<div/>").css("width",w(a)).appendTo(b||H.body),d=c[0].offsetWidth;c.remove();return d}function Gb(a,b){var c=Hb(a,b);if(0>c)return null;var d=a.aoData[c];return!d.nTr?h("<td/>").html(B(a,c,b,"display"))[0]:d.anCells[b]}function Hb(a,b){for(var c,d=-1,e=-1,f=0,g=a.aoData.length;f<g;f++)c=B(a,f,b,"display")+"",c=c.replace($b,""),c=c.replace(/&nbsp;/g," "),c.length>d&&(d=c.length,e=f);return e}function w(a){return null===
a?"0px":"number"==typeof a?0>a?"0px":a+"px":a.match(/\d$/)?a+"px":a}function W(a){var b,c,d=[],e=a.aoColumns,f,g,j,i;b=a.aaSortingFixed;c=h.isPlainObject(b);var o=[];f=function(a){a.length&&!h.isArray(a[0])?o.push(a):h.merge(o,a)};h.isArray(b)&&f(b);c&&b.pre&&f(b.pre);f(a.aaSorting);c&&b.post&&f(b.post);for(a=0;a<o.length;a++){i=o[a][0];f=e[i].aDataSort;b=0;for(c=f.length;b<c;b++)g=f[b],j=e[g].sType||"string",o[a]._idx===k&&(o[a]._idx=h.inArray(o[a][1],e[g].asSorting)),d.push({src:i,col:g,dir:o[a][1],
index:o[a]._idx,type:j,formatter:m.ext.type.order[j+"-pre"]})}return d}function mb(a){var b,c,d=[],e=m.ext.type.order,f=a.aoData,g=0,j,i=a.aiDisplayMaster,h;Ia(a);h=W(a);b=0;for(c=h.length;b<c;b++)j=h[b],j.formatter&&g++,Ib(a,j.col);if("ssp"!=y(a)&&0!==h.length){b=0;for(c=i.length;b<c;b++)d[i[b]]=b;g===h.length?i.sort(function(a,b){var c,e,g,j,i=h.length,k=f[a]._aSortData,m=f[b]._aSortData;for(g=0;g<i;g++)if(j=h[g],c=k[j.col],e=m[j.col],c=c<e?-1:c>e?1:0,0!==c)return"asc"===j.dir?c:-c;c=d[a];e=d[b];
return c<e?-1:c>e?1:0}):i.sort(function(a,b){var c,g,j,i,k=h.length,m=f[a]._aSortData,p=f[b]._aSortData;for(j=0;j<k;j++)if(i=h[j],c=m[i.col],g=p[i.col],i=e[i.type+"-"+i.dir]||e["string-"+i.dir],c=i(c,g),0!==c)return c;c=d[a];g=d[b];return c<g?-1:c>g?1:0})}a.bSorted=!0}function Jb(a){for(var b,c,d=a.aoColumns,e=W(a),a=a.oLanguage.oAria,f=0,g=d.length;f<g;f++){c=d[f];var j=c.asSorting;b=c.sTitle.replace(/<.*?>/g,"");var i=c.nTh;i.removeAttribute("aria-sort");c.bSortable&&(0<e.length&&e[0].col==f?(i.setAttribute("aria-sort",
"asc"==e[0].dir?"ascending":"descending"),c=j[e[0].index+1]||j[0]):c=j[0],b+="asc"===c?a.sSortAscending:a.sSortDescending);i.setAttribute("aria-label",b)}}function Va(a,b,c,d){var e=a.aaSorting,f=a.aoColumns[b].asSorting,g=function(a,b){var c=a._idx;c===k&&(c=h.inArray(a[1],f));return c+1<f.length?c+1:b?null:0};"number"===typeof e[0]&&(e=a.aaSorting=[e]);c&&a.oFeatures.bSortMulti?(c=h.inArray(b,D(e,"0")),-1!==c?(b=g(e[c],!0),null===b&&1===e.length&&(b=0),null===b?e.splice(c,1):(e[c][1]=f[b],e[c]._idx=
b)):(e.push([b,f[0],0]),e[e.length-1]._idx=0)):e.length&&e[0][0]==b?(b=g(e[0]),e.length=1,e[0][1]=f[b],e[0]._idx=b):(e.length=0,e.push([b,f[0]]),e[0]._idx=0);T(a);"function"==typeof d&&d(a)}function Oa(a,b,c,d){var e=a.aoColumns[c];Wa(b,{},function(b){!1!==e.bSortable&&(a.oFeatures.bProcessing?(C(a,!0),setTimeout(function(){Va(a,c,b.shiftKey,d);"ssp"!==y(a)&&C(a,!1)},0)):Va(a,c,b.shiftKey,d))})}function xa(a){var b=a.aLastSort,c=a.oClasses.sSortColumn,d=W(a),e=a.oFeatures,f,g;if(e.bSort&&e.bSortClasses){e=
0;for(f=b.length;e<f;e++)g=b[e].src,h(D(a.aoData,"anCells",g)).removeClass(c+(2>e?e+1:3));e=0;for(f=d.length;e<f;e++)g=d[e].src,h(D(a.aoData,"anCells",g)).addClass(c+(2>e?e+1:3))}a.aLastSort=d}function Ib(a,b){var c=a.aoColumns[b],d=m.ext.order[c.sSortDataType],e;d&&(e=d.call(a.oInstance,a,b,ba(a,b)));for(var f,g=m.ext.type.order[c.sType+"-pre"],j=0,i=a.aoData.length;j<i;j++)if(c=a.aoData[j],c._aSortData||(c._aSortData=[]),!c._aSortData[b]||d)f=d?e[j]:B(a,j,b,"sort"),c._aSortData[b]=g?g(f):f}function ya(a){if(a.oFeatures.bStateSave&&
!a.bDestroying){var b={time:+new Date,start:a._iDisplayStart,length:a._iDisplayLength,order:h.extend(!0,[],a.aaSorting),search:Ab(a.oPreviousSearch),columns:h.map(a.aoColumns,function(b,d){return{visible:b.bVisible,search:Ab(a.aoPreSearchCols[d])}})};v(a,"aoStateSaveParams","stateSaveParams",[a,b]);a.oSavedState=b;a.fnStateSaveCallback.call(a.oInstance,a,b)}}function Kb(a){var b,c,d=a.aoColumns;if(a.oFeatures.bStateSave){var e=a.fnStateLoadCallback.call(a.oInstance,a);if(e&&e.time&&(b=v(a,"aoStateLoadParams",
"stateLoadParams",[a,e]),-1===h.inArray(!1,b)&&(b=a.iStateDuration,!(0<b&&e.time<+new Date-1E3*b)&&d.length===e.columns.length))){a.oLoadedState=h.extend(!0,{},e);e.start!==k&&(a._iDisplayStart=e.start,a.iInitDisplayStart=e.start);e.length!==k&&(a._iDisplayLength=e.length);e.order!==k&&(a.aaSorting=[],h.each(e.order,function(b,c){a.aaSorting.push(c[0]>=d.length?[0,c[1]]:c)}));e.search!==k&&h.extend(a.oPreviousSearch,Bb(e.search));b=0;for(c=e.columns.length;b<c;b++){var f=e.columns[b];f.visible!==
k&&(d[b].bVisible=f.visible);f.search!==k&&h.extend(a.aoPreSearchCols[b],Bb(f.search))}v(a,"aoStateLoaded","stateLoaded",[a,e])}}}function za(a){var b=m.settings,a=h.inArray(a,D(b,"nTable"));return-1!==a?b[a]:null}function K(a,b,c,d){c="DataTables warning: "+(a?"table id="+a.sTableId+" - ":"")+c;d&&(c+=". For more information about this error, please see http://datatables.net/tn/"+d);if(b)E.console&&console.log&&console.log(c);else if(b=m.ext,b=b.sErrMode||b.errMode,a&&v(a,null,"error",[a,d,c]),"alert"==
b)alert(c);else{if("throw"==b)throw Error(c);"function"==typeof b&&b(a,d,c)}}function F(a,b,c,d){h.isArray(c)?h.each(c,function(c,d){h.isArray(d)?F(a,b,d[0],d[1]):F(a,b,d)}):(d===k&&(d=c),b[c]!==k&&(a[d]=b[c]))}function Lb(a,b,c){var d,e;for(e in b)b.hasOwnProperty(e)&&(d=b[e],h.isPlainObject(d)?(h.isPlainObject(a[e])||(a[e]={}),h.extend(!0,a[e],d)):a[e]=c&&"data"!==e&&"aaData"!==e&&h.isArray(d)?d.slice():d);return a}function Wa(a,b,c){h(a).bind("click.DT",b,function(b){a.blur();c(b)}).bind("keypress.DT",
b,function(a){13===a.which&&(a.preventDefault(),c(a))}).bind("selectstart.DT",function(){return!1})}function z(a,b,c,d){c&&a[b].push({fn:c,sName:d})}function v(a,b,c,d){var e=[];b&&(e=h.map(a[b].slice().reverse(),function(b){return b.fn.apply(a.oInstance,d)}));null!==c&&(b=h.Event(c+".dt"),h(a.nTable).trigger(b,d),e.push(b.result));return e}function Sa(a){var b=a._iDisplayStart,c=a.fnDisplayEnd(),d=a._iDisplayLength;b>=c&&(b=c-d);b-=b%d;if(-1===d||0>b)b=0;a._iDisplayStart=b}function Pa(a,b){var c=
a.renderer,d=m.ext.renderer[b];return h.isPlainObject(c)&&c[b]?d[c[b]]||d._:"string"===typeof c?d[c]||d._:d._}function y(a){return a.oFeatures.bServerSide?"ssp":a.ajax||a.sAjaxSource?"ajax":"dom"}function Aa(a,b){var c=[],c=Mb.numbers_length,d=Math.floor(c/2);b<=c?c=X(0,b):a<=d?(c=X(0,c-2),c.push("ellipsis"),c.push(b-1)):(a>=b-1-d?c=X(b-(c-2),b):(c=X(a-d+2,a+d-1),c.push("ellipsis"),c.push(b-1)),c.splice(0,0,"ellipsis"),c.splice(0,0,0));c.DT_el="span";return c}function db(a){h.each({num:function(b){return Ba(b,
a)},"num-fmt":function(b){return Ba(b,a,Xa)},"html-num":function(b){return Ba(b,a,Ca)},"html-num-fmt":function(b){return Ba(b,a,Ca,Xa)}},function(b,c){s.type.order[b+a+"-pre"]=c;b.match(/^html\-/)&&(s.type.search[b+a]=s.type.search.html)})}function Nb(a){return function(){var b=[za(this[m.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return m.ext.internal[a].apply(this,b)}}var m,s,t,p,r,Ya={},Ob=/[\r\n]/g,Ca=/<.*?>/g,ac=/^[\w\+\-]/,bc=/[\w\+\-]$/,Yb=RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)",
"g"),Xa=/[',$%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,M=function(a){return!a||!0===a||"-"===a?!0:!1},Pb=function(a){var b=parseInt(a,10);return!isNaN(b)&&isFinite(a)?b:null},Qb=function(a,b){Ya[b]||(Ya[b]=RegExp(va(b),"g"));return"string"===typeof a&&"."!==b?a.replace(/\./g,"").replace(Ya[b],"."):a},Za=function(a,b,c){var d="string"===typeof a;if(M(a))return!0;b&&d&&(a=Qb(a,b));c&&d&&(a=a.replace(Xa,""));return!isNaN(parseFloat(a))&&isFinite(a)},Rb=function(a,b,c){return M(a)?!0:!(M(a)||"string"===
typeof a)?null:Za(a.replace(Ca,""),b,c)?!0:null},D=function(a,b,c){var d=[],e=0,f=a.length;if(c!==k)for(;e<f;e++)a[e]&&a[e][b]&&d.push(a[e][b][c]);else for(;e<f;e++)a[e]&&d.push(a[e][b]);return d},ja=function(a,b,c,d){var e=[],f=0,g=b.length;if(d!==k)for(;f<g;f++)a[b[f]][c]&&e.push(a[b[f]][c][d]);else for(;f<g;f++)e.push(a[b[f]][c]);return e},X=function(a,b){var c=[],d;b===k?(b=0,d=a):(d=b,b=a);for(var e=b;e<d;e++)c.push(e);return c},Sb=function(a){for(var b=[],c=0,d=a.length;c<d;c++)a[c]&&b.push(a[c]);
return b},pa=function(a){var b=[],c,d,e=a.length,f,g=0;d=0;a:for(;d<e;d++){c=a[d];for(f=0;f<g;f++)if(b[f]===c)continue a;b.push(c);g++}return b},A=function(a,b,c){a[b]!==k&&(a[c]=a[b])},da=/\[.*?\]$/,V=/\(\)$/,wa=h("<div>")[0],Zb=wa.textContent!==k,$b=/<.*?>/g;m=function(a){this.$=function(a,b){return this.api(!0).$(a,b)};this._=function(a,b){return this.api(!0).rows(a,b).data()};this.api=function(a){return a?new t(za(this[s.iApiIndex])):new t(this)};this.fnAddData=function(a,b){var c=this.api(!0),
d=h.isArray(a)&&(h.isArray(a[0])||h.isPlainObject(a[0]))?c.rows.add(a):c.row.add(a);(b===k||b)&&c.draw();return d.flatten().toArray()};this.fnAdjustColumnSizing=function(a){var b=this.api(!0).columns.adjust(),c=b.settings()[0],d=c.oScroll;a===k||a?b.draw(!1):(""!==d.sX||""!==d.sY)&&Z(c)};this.fnClearTable=function(a){var b=this.api(!0).clear();(a===k||a)&&b.draw()};this.fnClose=function(a){this.api(!0).row(a).child.hide()};this.fnDeleteRow=function(a,b,c){var d=this.api(!0),a=d.rows(a),e=a.settings()[0],
h=e.aoData[a[0][0]];a.remove();b&&b.call(this,e,h);(c===k||c)&&d.draw();return h};this.fnDestroy=function(a){this.api(!0).destroy(a)};this.fnDraw=function(a){this.api(!0).draw(a)};this.fnFilter=function(a,b,c,d,e,h){e=this.api(!0);null===b||b===k?e.search(a,c,d,h):e.column(b).search(a,c,d,h);e.draw()};this.fnGetData=function(a,b){var c=this.api(!0);if(a!==k){var d=a.nodeName?a.nodeName.toLowerCase():"";return b!==k||"td"==d||"th"==d?c.cell(a,b).data():c.row(a).data()||null}return c.data().toArray()};
this.fnGetNodes=function(a){var b=this.api(!0);return a!==k?b.row(a).node():b.rows().nodes().flatten().toArray()};this.fnGetPosition=function(a){var b=this.api(!0),c=a.nodeName.toUpperCase();return"TR"==c?b.row(a).index():"TD"==c||"TH"==c?(a=b.cell(a).index(),[a.row,a.columnVisible,a.column]):null};this.fnIsOpen=function(a){return this.api(!0).row(a).child.isShown()};this.fnOpen=function(a,b,c){return this.api(!0).row(a).child(b,c).show().child()[0]};this.fnPageChange=function(a,b){var c=this.api(!0).page(a);
(b===k||b)&&c.draw(!1)};this.fnSetColumnVis=function(a,b,c){a=this.api(!0).column(a).visible(b);(c===k||c)&&a.columns.adjust().draw()};this.fnSettings=function(){return za(this[s.iApiIndex])};this.fnSort=function(a){this.api(!0).order(a).draw()};this.fnSortListener=function(a,b,c){this.api(!0).order.listener(a,b,c)};this.fnUpdate=function(a,b,c,d,e){var h=this.api(!0);c===k||null===c?h.row(b).data(a):h.cell(b,c).data(a);(e===k||e)&&h.columns.adjust();(d===k||d)&&h.draw();return 0};this.fnVersionCheck=
s.fnVersionCheck;var b=this,c=a===k,d=this.length;c&&(a={});this.oApi=this.internal=s.internal;for(var e in m.ext.internal)e&&(this[e]=Nb(e));this.each(function(){var e={},e=1<d?Lb(e,a,!0):a,g=0,j,i=this.getAttribute("id"),o=!1,l=m.defaults,q=h(this);if("table"!=this.nodeName.toLowerCase())K(null,0,"Non-table node initialisation ("+this.nodeName+")",2);else{eb(l);fb(l.column);J(l,l,!0);J(l.column,l.column,!0);J(l,h.extend(e,q.data()));var u=m.settings,g=0;for(j=u.length;g<j;g++){var p=u[g];if(p.nTable==
this||p.nTHead.parentNode==this||p.nTFoot&&p.nTFoot.parentNode==this){g=e.bRetrieve!==k?e.bRetrieve:l.bRetrieve;if(c||g)return p.oInstance;if(e.bDestroy!==k?e.bDestroy:l.bDestroy){p.oInstance.fnDestroy();break}else{K(p,0,"Cannot reinitialise DataTable",3);return}}if(p.sTableId==this.id){u.splice(g,1);break}}if(null===i||""===i)this.id=i="DataTables_Table_"+m.ext._unique++;var n=h.extend(!0,{},m.models.oSettings,{sDestroyWidth:q[0].style.width,sInstance:i,sTableId:i});n.nTable=this;n.oApi=b.internal;
n.oInit=e;u.push(n);n.oInstance=1===b.length?b:q.dataTable();eb(e);e.oLanguage&&Fa(e.oLanguage);e.aLengthMenu&&!e.iDisplayLength&&(e.iDisplayLength=h.isArray(e.aLengthMenu[0])?e.aLengthMenu[0][0]:e.aLengthMenu[0]);e=Lb(h.extend(!0,{},l),e);F(n.oFeatures,e,"bPaginate bLengthChange bFilter bSort bSortMulti bInfo bProcessing bAutoWidth bSortClasses bServerSide bDeferRender".split(" "));F(n,e,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu",
"sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]);F(n.oScroll,e,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]);F(n.oLanguage,e,"fnInfoCallback");z(n,"aoDrawCallback",
e.fnDrawCallback,"user");z(n,"aoServerParams",e.fnServerParams,"user");z(n,"aoStateSaveParams",e.fnStateSaveParams,"user");z(n,"aoStateLoadParams",e.fnStateLoadParams,"user");z(n,"aoStateLoaded",e.fnStateLoaded,"user");z(n,"aoRowCallback",e.fnRowCallback,"user");z(n,"aoRowCreatedCallback",e.fnCreatedRow,"user");z(n,"aoHeaderCallback",e.fnHeaderCallback,"user");z(n,"aoFooterCallback",e.fnFooterCallback,"user");z(n,"aoInitComplete",e.fnInitComplete,"user");z(n,"aoPreDrawCallback",e.fnPreDrawCallback,
"user");n.rowIdFn=Q(e.rowId);gb(n);i=n.oClasses;e.bJQueryUI?(h.extend(i,m.ext.oJUIClasses,e.oClasses),e.sDom===l.sDom&&"lfrtip"===l.sDom&&(n.sDom='<"H"lfr>t<"F"ip>'),n.renderer)?h.isPlainObject(n.renderer)&&!n.renderer.header&&(n.renderer.header="jqueryui"):n.renderer="jqueryui":h.extend(i,m.ext.classes,e.oClasses);q.addClass(i.sTable);n.iInitDisplayStart===k&&(n.iInitDisplayStart=e.iDisplayStart,n._iDisplayStart=e.iDisplayStart);null!==e.iDeferLoading&&(n.bDeferLoading=!0,g=h.isArray(e.iDeferLoading),
n._iRecordsDisplay=g?e.iDeferLoading[0]:e.iDeferLoading,n._iRecordsTotal=g?e.iDeferLoading[1]:e.iDeferLoading);var t=n.oLanguage;h.extend(!0,t,e.oLanguage);""!==t.sUrl&&(h.ajax({dataType:"json",url:t.sUrl,success:function(a){Fa(a);J(l.oLanguage,a);h.extend(true,t,a);ia(n)},error:function(){ia(n)}}),o=!0);null===e.asStripeClasses&&(n.asStripeClasses=[i.sStripeOdd,i.sStripeEven]);var g=n.asStripeClasses,r=q.children("tbody").find("tr").eq(0);-1!==h.inArray(!0,h.map(g,function(a){return r.hasClass(a)}))&&
(h("tbody tr",this).removeClass(g.join(" ")),n.asDestroyStripes=g.slice());u=[];g=this.getElementsByTagName("thead");0!==g.length&&(fa(n.aoHeader,g[0]),u=qa(n));if(null===e.aoColumns){p=[];g=0;for(j=u.length;g<j;g++)p.push(null)}else p=e.aoColumns;g=0;for(j=p.length;g<j;g++)Ga(n,u?u[g]:null);ib(n,e.aoColumnDefs,p,function(a,b){la(n,a,b)});if(r.length){var s=function(a,b){return a.getAttribute("data-"+b)!==null?b:null};h(r[0]).children("th, td").each(function(a,b){var c=n.aoColumns[a];if(c.mData===
a){var d=s(b,"sort")||s(b,"order"),e=s(b,"filter")||s(b,"search");if(d!==null||e!==null){c.mData={_:a+".display",sort:d!==null?a+".@data-"+d:k,type:d!==null?a+".@data-"+d:k,filter:e!==null?a+".@data-"+e:k};la(n,a)}}})}var w=n.oFeatures;e.bStateSave&&(w.bStateSave=!0,Kb(n,e),z(n,"aoDrawCallback",ya,"state_save"));if(e.aaSorting===k){u=n.aaSorting;g=0;for(j=u.length;g<j;g++)u[g][1]=n.aoColumns[g].asSorting[0]}xa(n);w.bSort&&z(n,"aoDrawCallback",function(){if(n.bSorted){var a=W(n),b={};h.each(a,function(a,
c){b[c.src]=c.dir});v(n,null,"order",[n,a,b]);Jb(n)}});z(n,"aoDrawCallback",function(){(n.bSorted||y(n)==="ssp"||w.bDeferRender)&&xa(n)},"sc");g=q.children("caption").each(function(){this._captionSide=q.css("caption-side")});j=q.children("thead");0===j.length&&(j=h("<thead/>").appendTo(this));n.nTHead=j[0];j=q.children("tbody");0===j.length&&(j=h("<tbody/>").appendTo(this));n.nTBody=j[0];j=q.children("tfoot");if(0===j.length&&0<g.length&&(""!==n.oScroll.sX||""!==n.oScroll.sY))j=h("<tfoot/>").appendTo(this);
0===j.length||0===j.children().length?q.addClass(i.sNoFooter):0<j.length&&(n.nTFoot=j[0],fa(n.aoFooter,n.nTFoot));if(e.aaData)for(g=0;g<e.aaData.length;g++)N(n,e.aaData[g]);else(n.bDeferLoading||"dom"==y(n))&&ma(n,h(n.nTBody).children("tr"));n.aiDisplay=n.aiDisplayMaster.slice();n.bInitialised=!0;!1===o&&ia(n)}});b=null;return this};var Tb=[],x=Array.prototype,cc=function(a){var b,c,d=m.settings,e=h.map(d,function(a){return a.nTable});if(a){if(a.nTable&&a.oApi)return[a];if(a.nodeName&&"table"===a.nodeName.toLowerCase())return b=
h.inArray(a,e),-1!==b?[d[b]]:null;if(a&&"function"===typeof a.settings)return a.settings().toArray();"string"===typeof a?c=h(a):a instanceof h&&(c=a)}else return[];if(c)return c.map(function(){b=h.inArray(this,e);return-1!==b?d[b]:null}).toArray()};t=function(a,b){if(!(this instanceof t))return new t(a,b);var c=[],d=function(a){(a=cc(a))&&(c=c.concat(a))};if(h.isArray(a))for(var e=0,f=a.length;e<f;e++)d(a[e]);else d(a);this.context=pa(c);b&&h.merge(this,b);this.selector={rows:null,cols:null,opts:null};
t.extend(this,this,Tb)};m.Api=t;h.extend(t.prototype,{any:function(){return 0!==this.count()},concat:x.concat,context:[],count:function(){return this.flatten().length},each:function(a){for(var b=0,c=this.length;b<c;b++)a.call(this,this[b],b,this);return this},eq:function(a){var b=this.context;return b.length>a?new t(b[a],this[a]):null},filter:function(a){var b=[];if(x.filter)b=x.filter.call(this,a,this);else for(var c=0,d=this.length;c<d;c++)a.call(this,this[c],c,this)&&b.push(this[c]);return new t(this.context,
b)},flatten:function(){var a=[];return new t(this.context,a.concat.apply(a,this.toArray()))},join:x.join,indexOf:x.indexOf||function(a,b){for(var c=b||0,d=this.length;c<d;c++)if(this[c]===a)return c;return-1},iterator:function(a,b,c,d){var e=[],f,g,h,i,o,l=this.context,m,p,r=this.selector;"string"===typeof a&&(d=c,c=b,b=a,a=!1);g=0;for(h=l.length;g<h;g++){var n=new t(l[g]);if("table"===b)f=c.call(n,l[g],g),f!==k&&e.push(f);else if("columns"===b||"rows"===b)f=c.call(n,l[g],this[g],g),f!==k&&e.push(f);
else if("column"===b||"column-rows"===b||"row"===b||"cell"===b){p=this[g];"column-rows"===b&&(m=Da(l[g],r.opts));i=0;for(o=p.length;i<o;i++)f=p[i],f="cell"===b?c.call(n,l[g],f.row,f.column,g,i):c.call(n,l[g],f,g,i,m),f!==k&&e.push(f)}}return e.length||d?(a=new t(l,a?e.concat.apply([],e):e),b=a.selector,b.rows=r.rows,b.cols=r.cols,b.opts=r.opts,a):this},lastIndexOf:x.lastIndexOf||function(a,b){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(a){var b=[];if(x.map)b=
x.map.call(this,a,this);else for(var c=0,d=this.length;c<d;c++)b.push(a.call(this,this[c],c));return new t(this.context,b)},pluck:function(a){return this.map(function(b){return b[a]})},pop:x.pop,push:x.push,reduce:x.reduce||function(a,b){return hb(this,a,b,0,this.length,1)},reduceRight:x.reduceRight||function(a,b){return hb(this,a,b,this.length-1,-1,-1)},reverse:x.reverse,selector:null,shift:x.shift,sort:x.sort,splice:x.splice,toArray:function(){return x.slice.call(this)},to$:function(){return h(this)},
toJQuery:function(){return h(this)},unique:function(){return new t(this.context,pa(this))},unshift:x.unshift});t.extend=function(a,b,c){if(c.length&&b&&(b instanceof t||b.__dt_wrapper)){var d,e,f,g=function(a,b,c){return function(){var d=b.apply(a,arguments);t.extend(d,d,c.methodExt);return d}};d=0;for(e=c.length;d<e;d++)f=c[d],b[f.name]="function"===typeof f.val?g(a,f.val,f):h.isPlainObject(f.val)?{}:f.val,b[f.name].__dt_wrapper=!0,t.extend(a,b[f.name],f.propExt)}};t.register=p=function(a,b){if(h.isArray(a))for(var c=
0,d=a.length;c<d;c++)t.register(a[c],b);else for(var e=a.split("."),f=Tb,g,j,c=0,d=e.length;c<d;c++){g=(j=-1!==e[c].indexOf("()"))?e[c].replace("()",""):e[c];var i;a:{i=0;for(var k=f.length;i<k;i++)if(f[i].name===g){i=f[i];break a}i=null}i||(i={name:g,val:{},methodExt:[],propExt:[]},f.push(i));c===d-1?i.val=b:f=j?i.methodExt:i.propExt}};t.registerPlural=r=function(a,b,c){t.register(a,c);t.register(b,function(){var a=c.apply(this,arguments);return a===this?this:a instanceof t?a.length?h.isArray(a[0])?
new t(a.context,a[0]):a[0]:k:a})};p("tables()",function(a){var b;if(a){b=t;var c=this.context;if("number"===typeof a)a=[c[a]];else var d=h.map(c,function(a){return a.nTable}),a=h(d).filter(a).map(function(){var a=h.inArray(this,d);return c[a]}).toArray();b=new b(a)}else b=this;return b});p("table()",function(a){var a=this.tables(a),b=a.context;return b.length?new t(b[0]):a});r("tables().nodes()","table().node()",function(){return this.iterator("table",function(a){return a.nTable},1)});r("tables().body()",
"table().body()",function(){return this.iterator("table",function(a){return a.nTBody},1)});r("tables().header()","table().header()",function(){return this.iterator("table",function(a){return a.nTHead},1)});r("tables().footer()","table().footer()",function(){return this.iterator("table",function(a){return a.nTFoot},1)});r("tables().containers()","table().container()",function(){return this.iterator("table",function(a){return a.nTableWrapper},1)});p("draw()",function(a){return this.iterator("table",
function(b){"page"===a?O(b):("string"===typeof a&&(a="full-hold"===a?!1:!0),T(b,!1===a))})});p("page()",function(a){return a===k?this.page.info().page:this.iterator("table",function(b){Ta(b,a)})});p("page.info()",function(){if(0===this.context.length)return k;var a=this.context[0],b=a._iDisplayStart,c=a.oFeatures.bPaginate?a._iDisplayLength:-1,d=a.fnRecordsDisplay(),e=-1===c;return{page:e?0:Math.floor(b/c),pages:e?1:Math.ceil(d/c),start:b,end:a.fnDisplayEnd(),length:c,recordsTotal:a.fnRecordsTotal(),
recordsDisplay:d,serverSide:"ssp"===y(a)}});p("page.len()",function(a){return a===k?0!==this.context.length?this.context[0]._iDisplayLength:k:this.iterator("table",function(b){Ra(b,a)})});var Ub=function(a,b,c){if(c){var d=new t(a);d.one("draw",function(){c(d.ajax.json())})}if("ssp"==y(a))T(a,b);else{C(a,!0);var e=a.jqXHR;e&&4!==e.readyState&&e.abort();ra(a,[],function(c){na(a);for(var c=sa(a,c),d=0,e=c.length;d<e;d++)N(a,c[d]);T(a,b);C(a,!1)})}};p("ajax.json()",function(){var a=this.context;if(0<
a.length)return a[0].json});p("ajax.params()",function(){var a=this.context;if(0<a.length)return a[0].oAjaxData});p("ajax.reload()",function(a,b){return this.iterator("table",function(c){Ub(c,!1===b,a)})});p("ajax.url()",function(a){var b=this.context;if(a===k){if(0===b.length)return k;b=b[0];return b.ajax?h.isPlainObject(b.ajax)?b.ajax.url:b.ajax:b.sAjaxSource}return this.iterator("table",function(b){h.isPlainObject(b.ajax)?b.ajax.url=a:b.ajax=a})});p("ajax.url().load()",function(a,b){return this.iterator("table",
function(c){Ub(c,!1===b,a)})});var $a=function(a,b,c,d,e){var f=[],g,j,i,o,l,m;i=typeof b;if(!b||"string"===i||"function"===i||b.length===k)b=[b];i=0;for(o=b.length;i<o;i++){j=b[i]&&b[i].split?b[i].split(","):[b[i]];l=0;for(m=j.length;l<m;l++)(g=c("string"===typeof j[l]?h.trim(j[l]):j[l]))&&g.length&&(f=f.concat(g))}a=s.selector[a];if(a.length){i=0;for(o=a.length;i<o;i++)f=a[i](d,e,f)}return pa(f)},ab=function(a){a||(a={});a.filter&&a.search===k&&(a.search=a.filter);return h.extend({search:"none",
order:"current",page:"all"},a)},bb=function(a){for(var b=0,c=a.length;b<c;b++)if(0<a[b].length)return a[0]=a[b],a[0].length=1,a.length=1,a.context=[a.context[b]],a;a.length=0;return a},Da=function(a,b){var c,d,e,f=[],g=a.aiDisplay;c=a.aiDisplayMaster;var j=b.search;d=b.order;e=b.page;if("ssp"==y(a))return"removed"===j?[]:X(0,c.length);if("current"==e){c=a._iDisplayStart;for(d=a.fnDisplayEnd();c<d;c++)f.push(g[c])}else if("current"==d||"applied"==d)f="none"==j?c.slice():"applied"==j?g.slice():h.map(c,
function(a){return-1===h.inArray(a,g)?a:null});else if("index"==d||"original"==d){c=0;for(d=a.aoData.length;c<d;c++)"none"==j?f.push(c):(e=h.inArray(c,g),(-1===e&&"removed"==j||0<=e&&"applied"==j)&&f.push(c))}return f};p("rows()",function(a,b){a===k?a="":h.isPlainObject(a)&&(b=a,a="");var b=ab(b),c=this.iterator("table",function(c){var e=b;return $a("row",a,function(a){var b=Pb(a);if(b!==null&&!e)return[b];var j=Da(c,e);if(b!==null&&h.inArray(b,j)!==-1)return[b];if(!a)return j;if(typeof a==="function")return h.map(j,
function(b){var e=c.aoData[b];return a(b,e._aData,e.nTr)?b:null});b=Sb(ja(c.aoData,j,"nTr"));if(a.nodeName&&h.inArray(a,b)!==-1)return[a._DT_RowIndex];if(typeof a==="string"&&a.charAt(0)==="#"){j=c.aIds[a.replace(/^#/,"")];if(j!==k)return[j.idx]}return h(b).filter(a).map(function(){return this._DT_RowIndex}).toArray()},c,e)},1);c.selector.rows=a;c.selector.opts=b;return c});p("rows().nodes()",function(){return this.iterator("row",function(a,b){return a.aoData[b].nTr||k},1)});p("rows().data()",function(){return this.iterator(!0,
"rows",function(a,b){return ja(a.aoData,b,"_aData")},1)});r("rows().cache()","row().cache()",function(a){return this.iterator("row",function(b,c){var d=b.aoData[c];return"search"===a?d._aFilterData:d._aSortData},1)});r("rows().invalidate()","row().invalidate()",function(a){return this.iterator("row",function(b,c){ea(b,c,a)})});r("rows().indexes()","row().index()",function(){return this.iterator("row",function(a,b){return b},1)});r("rows().ids()","row().id()",function(a){for(var b=[],c=this.context,
d=0,e=c.length;d<e;d++)for(var f=0,g=this[d].length;f<g;f++){var h=c[d].rowIdFn(c[d].aoData[this[d][f]]._aData);b.push((!0===a?"#":"")+h)}return new t(c,b)});r("rows().remove()","row().remove()",function(){var a=this;this.iterator("row",function(b,c,d){var e=b.aoData,f=e[c],g,h,i,o,l;e.splice(c,1);g=0;for(h=e.length;g<h;g++)if(i=e[g],l=i.anCells,null!==i.nTr&&(i.nTr._DT_RowIndex=g),null!==l){i=0;for(o=l.length;i<o;i++)l[i]._DT_CellIndex.row=g}oa(b.aiDisplayMaster,c);oa(b.aiDisplay,c);oa(a[d],c,!1);
Sa(b);c=b.rowIdFn(f._aData);c!==k&&delete b.aIds[c]});this.iterator("table",function(a){for(var c=0,d=a.aoData.length;c<d;c++)a.aoData[c].idx=c});return this});p("rows.add()",function(a){var b=this.iterator("table",function(b){var c,f,g,h=[];f=0;for(g=a.length;f<g;f++)c=a[f],c.nodeName&&"TR"===c.nodeName.toUpperCase()?h.push(ma(b,c)[0]):h.push(N(b,c));return h},1),c=this.rows(-1);c.pop();h.merge(c,b);return c});p("row()",function(a,b){return bb(this.rows(a,b))});p("row().data()",function(a){var b=
this.context;if(a===k)return b.length&&this.length?b[0].aoData[this[0]]._aData:k;b[0].aoData[this[0]]._aData=a;ea(b[0],this[0],"data");return this});p("row().node()",function(){var a=this.context;return a.length&&this.length?a[0].aoData[this[0]].nTr||null:null});p("row.add()",function(a){a instanceof h&&a.length&&(a=a[0]);var b=this.iterator("table",function(b){return a.nodeName&&"TR"===a.nodeName.toUpperCase()?ma(b,a)[0]:N(b,a)});return this.row(b[0])});var cb=function(a,b){var c=a.context;if(c.length&&
(c=c[0].aoData[b!==k?b:a[0]])&&c._details)c._details.remove(),c._detailsShow=k,c._details=k},Vb=function(a,b){var c=a.context;if(c.length&&a.length){var d=c[0].aoData[a[0]];if(d._details){(d._detailsShow=b)?d._details.insertAfter(d.nTr):d._details.detach();var e=c[0],f=new t(e),g=e.aoData;f.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details");0<D(g,"_details").length&&(f.on("draw.dt.DT_details",function(a,b){e===b&&f.rows({page:"current"}).eq(0).each(function(a){a=g[a];
a._detailsShow&&a._details.insertAfter(a.nTr)})}),f.on("column-visibility.dt.DT_details",function(a,b){if(e===b)for(var c,d=ca(b),f=0,h=g.length;f<h;f++)c=g[f],c._details&&c._details.children("td[colspan]").attr("colspan",d)}),f.on("destroy.dt.DT_details",function(a,b){if(e===b)for(var c=0,d=g.length;c<d;c++)g[c]._details&&cb(f,c)}))}}};p("row().child()",function(a,b){var c=this.context;if(a===k)return c.length&&this.length?c[0].aoData[this[0]]._details:k;if(!0===a)this.child.show();else if(!1===
a)cb(this);else if(c.length&&this.length){var d=c[0],c=c[0].aoData[this[0]],e=[],f=function(a,b){if(h.isArray(a)||a instanceof h)for(var c=0,k=a.length;c<k;c++)f(a[c],b);else a.nodeName&&"tr"===a.nodeName.toLowerCase()?e.push(a):(c=h("<tr><td/></tr>").addClass(b),h("td",c).addClass(b).html(a)[0].colSpan=ca(d),e.push(c[0]))};f(a,b);c._details&&c._details.remove();c._details=h(e);c._detailsShow&&c._details.insertAfter(c.nTr)}return this});p(["row().child.show()","row().child().show()"],function(){Vb(this,
!0);return this});p(["row().child.hide()","row().child().hide()"],function(){Vb(this,!1);return this});p(["row().child.remove()","row().child().remove()"],function(){cb(this);return this});p("row().child.isShown()",function(){var a=this.context;return a.length&&this.length?a[0].aoData[this[0]]._detailsShow||!1:!1});var dc=/^(.+):(name|visIdx|visible)$/,Wb=function(a,b,c,d,e){for(var c=[],d=0,f=e.length;d<f;d++)c.push(B(a,e[d],b));return c};p("columns()",function(a,b){a===k?a="":h.isPlainObject(a)&&
(b=a,a="");var b=ab(b),c=this.iterator("table",function(c){var e=a,f=b,g=c.aoColumns,j=D(g,"sName"),i=D(g,"nTh");return $a("column",e,function(a){var b=Pb(a);if(a==="")return X(g.length);if(b!==null)return[b>=0?b:g.length+b];if(typeof a==="function"){var e=Da(c,f);return h.map(g,function(b,f){return a(f,Wb(c,f,0,0,e),i[f])?f:null})}var k=typeof a==="string"?a.match(dc):"";if(k)switch(k[2]){case "visIdx":case "visible":b=parseInt(k[1],10);if(b<0){var m=h.map(g,function(a,b){return a.bVisible?b:null});
return[m[m.length+b]]}return[$(c,b)];case "name":return h.map(j,function(a,b){return a===k[1]?b:null})}else return h(i).filter(a).map(function(){return h.inArray(this,i)}).toArray()},c,f)},1);c.selector.cols=a;c.selector.opts=b;return c});r("columns().header()","column().header()",function(){return this.iterator("column",function(a,b){return a.aoColumns[b].nTh},1)});r("columns().footer()","column().footer()",function(){return this.iterator("column",function(a,b){return a.aoColumns[b].nTf},1)});r("columns().data()",
"column().data()",function(){return this.iterator("column-rows",Wb,1)});r("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(a,b){return a.aoColumns[b].mData},1)});r("columns().cache()","column().cache()",function(a){return this.iterator("column-rows",function(b,c,d,e,f){return ja(b.aoData,f,"search"===a?"_aFilterData":"_aSortData",c)},1)});r("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(a,b,c,d,e){return ja(a.aoData,
e,"anCells",b)},1)});r("columns().visible()","column().visible()",function(a,b){return this.iterator("column",function(c,d){if(a===k)return c.aoColumns[d].bVisible;var e=c.aoColumns,f=e[d],g=c.aoData,j,i,m;if(a!==k&&f.bVisible!==a){if(a){var l=h.inArray(!0,D(e,"bVisible"),d+1);j=0;for(i=g.length;j<i;j++)m=g[j].nTr,e=g[j].anCells,m&&m.insertBefore(e[d],e[l]||null)}else h(D(c.aoData,"anCells",d)).detach();f.bVisible=a;ga(c,c.aoHeader);ga(c,c.aoFooter);if(b===k||b)U(c),(c.oScroll.sX||c.oScroll.sY)&&
Z(c);v(c,null,"column-visibility",[c,d,a,b]);ya(c)}})});r("columns().indexes()","column().index()",function(a){return this.iterator("column",function(b,c){return"visible"===a?ba(b,c):c},1)});p("columns.adjust()",function(){return this.iterator("table",function(a){U(a)},1)});p("column.index()",function(a,b){if(0!==this.context.length){var c=this.context[0];if("fromVisible"===a||"toData"===a)return $(c,b);if("fromData"===a||"toVisible"===a)return ba(c,b)}});p("column()",function(a,b){return bb(this.columns(a,
b))});p("cells()",function(a,b,c){h.isPlainObject(a)&&(a.row===k?(c=a,a=null):(c=b,b=null));h.isPlainObject(b)&&(c=b,b=null);if(null===b||b===k)return this.iterator("table",function(b){var d=a,e=ab(c),f=b.aoData,g=Da(b,e),j=Sb(ja(f,g,"anCells")),i=h([].concat.apply([],j)),l,m=b.aoColumns.length,o,p,t,r,s,v;return $a("cell",d,function(a){var c=typeof a==="function";if(a===null||a===k||c){o=[];p=0;for(t=g.length;p<t;p++){l=g[p];for(r=0;r<m;r++){s={row:l,column:r};if(c){v=f[l];a(s,B(b,l,r),v.anCells?
v.anCells[r]:null)&&o.push(s)}else o.push(s)}}return o}return h.isPlainObject(a)?[a]:i.filter(a).map(function(a,b){return{row:b._DT_CellIndex.row,column:b._DT_CellIndex.column}}).toArray()},b,e)});var d=this.columns(b,c),e=this.rows(a,c),f,g,j,i,m,l=this.iterator("table",function(a,b){f=[];g=0;for(j=e[b].length;g<j;g++){i=0;for(m=d[b].length;i<m;i++)f.push({row:e[b][g],column:d[b][i]})}return f},1);h.extend(l.selector,{cols:b,rows:a,opts:c});return l});r("cells().nodes()","cell().node()",function(){return this.iterator("cell",
function(a,b,c){return(a=a.aoData[b].anCells)?a[c]:k},1)});p("cells().data()",function(){return this.iterator("cell",function(a,b,c){return B(a,b,c)},1)});r("cells().cache()","cell().cache()",function(a){a="search"===a?"_aFilterData":"_aSortData";return this.iterator("cell",function(b,c,d){return b.aoData[c][a][d]},1)});r("cells().render()","cell().render()",function(a){return this.iterator("cell",function(b,c,d){return B(b,c,d,a)},1)});r("cells().indexes()","cell().index()",function(){return this.iterator("cell",
function(a,b,c){return{row:b,column:c,columnVisible:ba(a,c)}},1)});r("cells().invalidate()","cell().invalidate()",function(a){return this.iterator("cell",function(b,c,d){ea(b,c,a,d)})});p("cell()",function(a,b,c){return bb(this.cells(a,b,c))});p("cell().data()",function(a){var b=this.context,c=this[0];if(a===k)return b.length&&c.length?B(b[0],c[0].row,c[0].column):k;jb(b[0],c[0].row,c[0].column,a);ea(b[0],c[0].row,"data",c[0].column);return this});p("order()",function(a,b){var c=this.context;if(a===
k)return 0!==c.length?c[0].aaSorting:k;"number"===typeof a?a=[[a,b]]:h.isArray(a[0])||(a=Array.prototype.slice.call(arguments));return this.iterator("table",function(b){b.aaSorting=a.slice()})});p("order.listener()",function(a,b,c){return this.iterator("table",function(d){Oa(d,a,b,c)})});p("order.fixed()",function(a){if(!a){var b=this.context,b=b.length?b[0].aaSortingFixed:k;return h.isArray(b)?{pre:b}:b}return this.iterator("table",function(b){b.aaSortingFixed=h.extend(!0,{},a)})});p(["columns().order()",
"column().order()"],function(a){var b=this;return this.iterator("table",function(c,d){var e=[];h.each(b[d],function(b,c){e.push([c,a])});c.aaSorting=e})});p("search()",function(a,b,c,d){var e=this.context;return a===k?0!==e.length?e[0].oPreviousSearch.sSearch:k:this.iterator("table",function(e){e.oFeatures.bFilter&&ha(e,h.extend({},e.oPreviousSearch,{sSearch:a+"",bRegex:null===b?!1:b,bSmart:null===c?!0:c,bCaseInsensitive:null===d?!0:d}),1)})});r("columns().search()","column().search()",function(a,
b,c,d){return this.iterator("column",function(e,f){var g=e.aoPreSearchCols;if(a===k)return g[f].sSearch;e.oFeatures.bFilter&&(h.extend(g[f],{sSearch:a+"",bRegex:null===b?!1:b,bSmart:null===c?!0:c,bCaseInsensitive:null===d?!0:d}),ha(e,e.oPreviousSearch,1))})});p("state()",function(){return this.context.length?this.context[0].oSavedState:null});p("state.clear()",function(){return this.iterator("table",function(a){a.fnStateSaveCallback.call(a.oInstance,a,{})})});p("state.loaded()",function(){return this.context.length?
this.context[0].oLoadedState:null});p("state.save()",function(){return this.iterator("table",function(a){ya(a)})});m.versionCheck=m.fnVersionCheck=function(a){for(var b=m.version.split("."),a=a.split("."),c,d,e=0,f=a.length;e<f;e++)if(c=parseInt(b[e],10)||0,d=parseInt(a[e],10)||0,c!==d)return c>d;return!0};m.isDataTable=m.fnIsDataTable=function(a){var b=h(a).get(0),c=!1;h.each(m.settings,function(a,e){var f=e.nScrollHead?h("table",e.nScrollHead)[0]:null,g=e.nScrollFoot?h("table",e.nScrollFoot)[0]:
null;if(e.nTable===b||f===b||g===b)c=!0});return c};m.tables=m.fnTables=function(a){var b=!1;h.isPlainObject(a)&&(b=a.api,a=a.visible);var c=h.map(m.settings,function(b){if(!a||a&&h(b.nTable).is(":visible"))return b.nTable});return b?new t(c):c};m.util={throttle:ua,escapeRegex:va};m.camelToHungarian=J;p("$()",function(a,b){var c=this.rows(b).nodes(),c=h(c);return h([].concat(c.filter(a).toArray(),c.find(a).toArray()))});h.each(["on","one","off"],function(a,b){p(b+"()",function(){var a=Array.prototype.slice.call(arguments);
a[0].match(/\.dt\b/)||(a[0]+=".dt");var d=h(this.tables().nodes());d[b].apply(d,a);return this})});p("clear()",function(){return this.iterator("table",function(a){na(a)})});p("settings()",function(){return new t(this.context,this.context)});p("init()",function(){var a=this.context;return a.length?a[0].oInit:null});p("data()",function(){return this.iterator("table",function(a){return D(a.aoData,"_aData")}).flatten()});p("destroy()",function(a){a=a||!1;return this.iterator("table",function(b){var c=
b.nTableWrapper.parentNode,d=b.oClasses,e=b.nTable,f=b.nTBody,g=b.nTHead,j=b.nTFoot,i=h(e),f=h(f),k=h(b.nTableWrapper),l=h.map(b.aoData,function(a){return a.nTr}),p;b.bDestroying=!0;v(b,"aoDestroyCallback","destroy",[b]);a||(new t(b)).columns().visible(!0);k.unbind(".DT").find(":not(tbody *)").unbind(".DT");h(E).unbind(".DT-"+b.sInstance);e!=g.parentNode&&(i.children("thead").detach(),i.append(g));j&&e!=j.parentNode&&(i.children("tfoot").detach(),i.append(j));b.aaSorting=[];b.aaSortingFixed=[];xa(b);
h(l).removeClass(b.asStripeClasses.join(" "));h("th, td",g).removeClass(d.sSortable+" "+d.sSortableAsc+" "+d.sSortableDesc+" "+d.sSortableNone);b.bJUI&&(h("th span."+d.sSortIcon+", td span."+d.sSortIcon,g).detach(),h("th, td",g).each(function(){var a=h("div."+d.sSortJUIWrapper,this);h(this).append(a.contents());a.detach()}));f.children().detach();f.append(l);g=a?"remove":"detach";i[g]();k[g]();!a&&c&&(c.insertBefore(e,b.nTableReinsertBefore),i.css("width",b.sDestroyWidth).removeClass(d.sTable),(p=
b.asDestroyStripes.length)&&f.children().each(function(a){h(this).addClass(b.asDestroyStripes[a%p])}));c=h.inArray(b,m.settings);-1!==c&&m.settings.splice(c,1)})});h.each(["column","row","cell"],function(a,b){p(b+"s().every()",function(a){var d=this.selector.opts,e=this;return this.iterator(b,function(f,g,h,i,m){a.call(e[b](g,"cell"===b?h:d,"cell"===b?d:k),g,h,i,m)})})});p("i18n()",function(a,b,c){var d=this.context[0],a=Q(a)(d.oLanguage);a===k&&(a=b);c!==k&&h.isPlainObject(a)&&(a=a[c]!==k?a[c]:a._);
return a.replace("%d",c)});m.version="1.10.10";m.settings=[];m.models={};m.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0};m.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1};m.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,
sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null};m.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,
bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(a){return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(a){try{return JSON.parse((-1===a.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+
a.sInstance+"_"+location.pathname))}catch(b){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(a,b){try{(-1===a.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+a.sInstance+"_"+location.pathname,JSON.stringify(b))}catch(c){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},
oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:h.extend({},
m.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"};Y(m.defaults);m.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null};
Y(m.defaults.column);m.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],
aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",
iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:k,oAjaxData:k,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==y(this)?
1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==y(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var a=this._iDisplayLength,b=this._iDisplayStart,c=b+a,d=this.aiDisplay.length,e=this.oFeatures,f=e.bPaginate;return e.bServerSide?!1===f||-1===a?b+d:Math.min(b+a,this._iRecordsDisplay):!f||c>d||-1===a?d:c},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null};
m.ext=s={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:m.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:m.version};h.extend(s,{afnFiltering:s.search,aTypes:s.type.detect,ofnSearch:s.type.search,oSort:s.type.order,afnSortData:s.order,aoFeatures:s.feature,oApi:s.internal,oStdClasses:s.classes,
oPagination:s.pager});h.extend(m.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",
sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",
sJUIHeader:"",sJUIFooter:""});var Ea="",Ea="",G=Ea+"ui-state-default",ka=Ea+"css_right ui-icon ui-icon-",Xb=Ea+"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";h.extend(m.ext.oJUIClasses,m.ext.classes,{sPageButton:"fg-button ui-button "+G,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:G+" sorting_asc",sSortDesc:G+" sorting_desc",sSortable:G+" sorting",
sSortableAsc:G+" sorting_asc_disabled",sSortableDesc:G+" sorting_desc_disabled",sSortableNone:G+" sorting_disabled",sSortJUIAsc:ka+"triangle-1-n",sSortJUIDesc:ka+"triangle-1-s",sSortJUI:ka+"carat-2-n-s",sSortJUIAscAllowed:ka+"carat-1-n",sSortJUIDescAllowed:ka+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+G,sScrollFoot:"dataTables_scrollFoot "+G,sHeaderTH:G,sFooterTH:G,sJUIHeader:Xb+" ui-corner-tl ui-corner-tr",sJUIFooter:Xb+
" ui-corner-bl ui-corner-br"});var Mb=m.ext.pager;h.extend(Mb,{simple:function(){return["previous","next"]},full:function(){return["first","previous","next","last"]},numbers:function(a,b){return[Aa(a,b)]},simple_numbers:function(a,b){return["previous",Aa(a,b),"next"]},full_numbers:function(a,b){return["first","previous",Aa(a,b),"next","last"]},_numbers:Aa,numbers_length:7});h.extend(!0,m.ext.renderer,{pageButton:{_:function(a,b,c,d,e,f){var g=a.oClasses,j=a.oLanguage.oPaginate,i=a.oLanguage.oAria.paginate||
{},k,l,m=0,p=function(b,d){var n,r,t,s,v=function(b){Ta(a,b.data.action,true)};n=0;for(r=d.length;n<r;n++){s=d[n];if(h.isArray(s)){t=h("<"+(s.DT_el||"div")+"/>").appendTo(b);p(t,s)}else{k=null;l="";switch(s){case "ellipsis":b.append('<span class="ellipsis">&#x2026;</span>');break;case "first":k=j.sFirst;l=s+(e>0?"":" "+g.sPageButtonDisabled);break;case "previous":k=j.sPrevious;l=s+(e>0?"":" "+g.sPageButtonDisabled);break;case "next":k=j.sNext;l=s+(e<f-1?"":" "+g.sPageButtonDisabled);break;case "last":k=
j.sLast;l=s+(e<f-1?"":" "+g.sPageButtonDisabled);break;default:k=s+1;l=e===s?g.sPageButtonActive:""}if(k!==null){t=h("<a>",{"class":g.sPageButton+" "+l,"aria-controls":a.sTableId,"aria-label":i[s],"data-dt-idx":m,tabindex:a.iTabIndex,id:c===0&&typeof s==="string"?a.sTableId+"_"+s:null}).html(k).appendTo(b);Wa(t,{action:s},v);m++}}}},r;try{r=h(b).find(H.activeElement).data("dt-idx")}catch(n){}p(h(b).empty(),d);r&&h(b).find("[data-dt-idx="+r+"]").focus()}}});h.extend(m.ext.type.detect,[function(a,b){var c=
b.oLanguage.sDecimal;return Za(a,c)?"num"+c:null},function(a){if(a&&!(a instanceof Date)&&(!ac.test(a)||!bc.test(a)))return null;var b=Date.parse(a);return null!==b&&!isNaN(b)||M(a)?"date":null},function(a,b){var c=b.oLanguage.sDecimal;return Za(a,c,!0)?"num-fmt"+c:null},function(a,b){var c=b.oLanguage.sDecimal;return Rb(a,c)?"html-num"+c:null},function(a,b){var c=b.oLanguage.sDecimal;return Rb(a,c,!0)?"html-num-fmt"+c:null},function(a){return M(a)||"string"===typeof a&&-1!==a.indexOf("<")?"html":
null}]);h.extend(m.ext.type.search,{html:function(a){return M(a)?a:"string"===typeof a?a.replace(Ob," ").replace(Ca,""):""},string:function(a){return M(a)?a:"string"===typeof a?a.replace(Ob," "):a}});var Ba=function(a,b,c,d){if(0!==a&&(!a||"-"===a))return-Infinity;b&&(a=Qb(a,b));a.replace&&(c&&(a=a.replace(c,"")),d&&(a=a.replace(d,"")));return 1*a};h.extend(s.type.order,{"date-pre":function(a){return Date.parse(a)||0},"html-pre":function(a){return M(a)?"":a.replace?a.replace(/<.*?>/g,"").toLowerCase():
a+""},"string-pre":function(a){return M(a)?"":"string"===typeof a?a.toLowerCase():!a.toString?"":a.toString()},"string-asc":function(a,b){return a<b?-1:a>b?1:0},"string-desc":function(a,b){return a<b?1:a>b?-1:0}});db("");h.extend(!0,m.ext.renderer,{header:{_:function(a,b,c,d){h(a.nTable).on("order.dt.DT",function(e,f,g,h){if(a===f){e=c.idx;b.removeClass(c.sSortingClass+" "+d.sSortAsc+" "+d.sSortDesc).addClass(h[e]=="asc"?d.sSortAsc:h[e]=="desc"?d.sSortDesc:c.sSortingClass)}})},jqueryui:function(a,
b,c,d){h("<div/>").addClass(d.sSortJUIWrapper).append(b.contents()).append(h("<span/>").addClass(d.sSortIcon+" "+c.sSortingClassJUI)).appendTo(b);h(a.nTable).on("order.dt.DT",function(e,f,g,h){if(a===f){e=c.idx;b.removeClass(d.sSortAsc+" "+d.sSortDesc).addClass(h[e]=="asc"?d.sSortAsc:h[e]=="desc"?d.sSortDesc:c.sSortingClass);b.find("span."+d.sSortIcon).removeClass(d.sSortJUIAsc+" "+d.sSortJUIDesc+" "+d.sSortJUI+" "+d.sSortJUIAscAllowed+" "+d.sSortJUIDescAllowed).addClass(h[e]=="asc"?d.sSortJUIAsc:
h[e]=="desc"?d.sSortJUIDesc:c.sSortingClassJUI)}})}}});m.render={number:function(a,b,c,d,e){return{display:function(f){if("number"!==typeof f&&"string"!==typeof f)return f;var g=0>f?"-":"",h=parseFloat(f);if(isNaN(h))return f;f=Math.abs(h);h=parseInt(f,10);f=c?b+(f-h).toFixed(c).substring(2):"";return g+(d||"")+h.toString().replace(/\B(?=(\d{3})+(?!\d))/g,a)+f+(e||"")}}},text:function(){return{display:function(a){return"string"===typeof a?a.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):
a}}}};h.extend(m.ext.internal,{_fnExternApiFunc:Nb,_fnBuildAjax:ra,_fnAjaxUpdate:lb,_fnAjaxParameters:ub,_fnAjaxUpdateDraw:vb,_fnAjaxDataSrc:sa,_fnAddColumn:Ga,_fnColumnOptions:la,_fnAdjustColumnSizing:U,_fnVisibleToColumnIndex:$,_fnColumnIndexToVisible:ba,_fnVisbleColumns:ca,_fnGetColumns:aa,_fnColumnTypes:Ia,_fnApplyColumnDefs:ib,_fnHungarianMap:Y,_fnCamelToHungarian:J,_fnLanguageCompat:Fa,_fnBrowserDetect:gb,_fnAddData:N,_fnAddTr:ma,_fnNodeToDataIndex:function(a,b){return b._DT_RowIndex!==k?b._DT_RowIndex:
null},_fnNodeToColumnIndex:function(a,b,c){return h.inArray(c,a.aoData[b].anCells)},_fnGetCellData:B,_fnSetCellData:jb,_fnSplitObjNotation:La,_fnGetObjectDataFn:Q,_fnSetObjectDataFn:R,_fnGetDataMaster:Ma,_fnClearTable:na,_fnDeleteIndex:oa,_fnInvalidate:ea,_fnGetRowElements:Ka,_fnCreateTr:Ja,_fnBuildHead:kb,_fnDrawHead:ga,_fnDraw:O,_fnReDraw:T,_fnAddOptionsHtml:nb,_fnDetectHeader:fa,_fnGetUniqueThs:qa,_fnFeatureHtmlFilter:pb,_fnFilterComplete:ha,_fnFilterCustom:yb,_fnFilterColumn:xb,_fnFilter:wb,_fnFilterCreateSearch:Qa,
_fnEscapeRegex:va,_fnFilterData:zb,_fnFeatureHtmlInfo:sb,_fnUpdateInfo:Cb,_fnInfoMacros:Db,_fnInitialise:ia,_fnInitComplete:ta,_fnLengthChange:Ra,_fnFeatureHtmlLength:ob,_fnFeatureHtmlPaginate:tb,_fnPageChange:Ta,_fnFeatureHtmlProcessing:qb,_fnProcessingDisplay:C,_fnFeatureHtmlTable:rb,_fnScrollDraw:Z,_fnApplyToChildren:I,_fnCalculateColumnWidths:Ha,_fnThrottle:ua,_fnConvertToWidth:Fb,_fnGetWidestNode:Gb,_fnGetMaxLenString:Hb,_fnStringToCss:w,_fnSortFlatten:W,_fnSort:mb,_fnSortAria:Jb,_fnSortListener:Va,
_fnSortAttachListener:Oa,_fnSortingClasses:xa,_fnSortData:Ib,_fnSaveState:ya,_fnLoadState:Kb,_fnSettingsFromNode:za,_fnLog:K,_fnMap:F,_fnBindAction:Wa,_fnCallbackReg:z,_fnCallbackFire:v,_fnLengthOverflow:Sa,_fnRenderer:Pa,_fnDataSource:y,_fnRowAttributes:Na,_fnCalculateEnd:function(){}});h.fn.dataTable=m;m.$=h;h.fn.dataTableSettings=m.settings;h.fn.dataTableExt=m.ext;h.fn.DataTable=function(a){return h(this).dataTable(a).api()};h.each(m,function(a,b){h.fn.DataTable[a]=b});return h.fn.dataTable});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJqcXVlcnkuZGF0YVRhYmxlcy5taW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXHJcbiBEYXRhVGFibGVzIDEuMTAuMTBcclxuIMKpMjAwOC0yMDE1IFNwcnlNZWRpYSBMdGQgLSBkYXRhdGFibGVzLm5ldC9saWNlbnNlXHJcbiovXHJcbihmdW5jdGlvbihoKXtcImZ1bmN0aW9uXCI9PT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXCJqcXVlcnlcIl0sZnVuY3Rpb24oRSl7cmV0dXJuIGgoRSx3aW5kb3csZG9jdW1lbnQpfSk6XCJvYmplY3RcIj09PXR5cGVvZiBleHBvcnRzP21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKEUsSCl7RXx8KEU9d2luZG93KTtIfHwoSD1cInVuZGVmaW5lZFwiIT09dHlwZW9mIHdpbmRvdz9yZXF1aXJlKFwianF1ZXJ5XCIpOnJlcXVpcmUoXCJqcXVlcnlcIikoRSkpO3JldHVybiBoKEgsRSxFLmRvY3VtZW50KX06aChqUXVlcnksd2luZG93LGRvY3VtZW50KX0pKGZ1bmN0aW9uKGgsRSxILGspe2Z1bmN0aW9uIFkoYSl7dmFyIGIsYyxkPXt9O2guZWFjaChhLGZ1bmN0aW9uKGUpe2lmKChiPWUubWF0Y2goL14oW15BLVpdKz8pKFtBLVpdKS8pKSYmLTEhPT1cImEgYWEgYWkgYW8gYXMgYiBmbiBpIG0gbyBzIFwiLmluZGV4T2YoYlsxXStcIiBcIikpYz1lLnJlcGxhY2UoYlswXSxiWzJdLnRvTG93ZXJDYXNlKCkpLFxyXG5kW2NdPWUsXCJvXCI9PT1iWzFdJiZZKGFbZV0pfSk7YS5faHVuZ2FyaWFuTWFwPWR9ZnVuY3Rpb24gSihhLGIsYyl7YS5faHVuZ2FyaWFuTWFwfHxZKGEpO3ZhciBkO2guZWFjaChiLGZ1bmN0aW9uKGUpe2Q9YS5faHVuZ2FyaWFuTWFwW2VdO2lmKGQhPT1rJiYoY3x8YltkXT09PWspKVwib1wiPT09ZC5jaGFyQXQoMCk/KGJbZF18fChiW2RdPXt9KSxoLmV4dGVuZCghMCxiW2RdLGJbZV0pLEooYVtkXSxiW2RdLGMpKTpiW2RdPWJbZV19KX1mdW5jdGlvbiBGYShhKXt2YXIgYj1tLmRlZmF1bHRzLm9MYW5ndWFnZSxjPWEuc1plcm9SZWNvcmRzOyFhLnNFbXB0eVRhYmxlJiYoYyYmXCJObyBkYXRhIGF2YWlsYWJsZSBpbiB0YWJsZVwiPT09Yi5zRW1wdHlUYWJsZSkmJkYoYSxhLFwic1plcm9SZWNvcmRzXCIsXCJzRW1wdHlUYWJsZVwiKTshYS5zTG9hZGluZ1JlY29yZHMmJihjJiZcIkxvYWRpbmcuLi5cIj09PWIuc0xvYWRpbmdSZWNvcmRzKSYmRihhLGEsXCJzWmVyb1JlY29yZHNcIixcInNMb2FkaW5nUmVjb3Jkc1wiKTtcclxuYS5zSW5mb1Rob3VzYW5kcyYmKGEuc1Rob3VzYW5kcz1hLnNJbmZvVGhvdXNhbmRzKTsoYT1hLnNEZWNpbWFsKSYmZGIoYSl9ZnVuY3Rpb24gZWIoYSl7QShhLFwib3JkZXJpbmdcIixcImJTb3J0XCIpO0EoYSxcIm9yZGVyTXVsdGlcIixcImJTb3J0TXVsdGlcIik7QShhLFwib3JkZXJDbGFzc2VzXCIsXCJiU29ydENsYXNzZXNcIik7QShhLFwib3JkZXJDZWxsc1RvcFwiLFwiYlNvcnRDZWxsc1RvcFwiKTtBKGEsXCJvcmRlclwiLFwiYWFTb3J0aW5nXCIpO0EoYSxcIm9yZGVyRml4ZWRcIixcImFhU29ydGluZ0ZpeGVkXCIpO0EoYSxcInBhZ2luZ1wiLFwiYlBhZ2luYXRlXCIpO0EoYSxcInBhZ2luZ1R5cGVcIixcInNQYWdpbmF0aW9uVHlwZVwiKTtBKGEsXCJwYWdlTGVuZ3RoXCIsXCJpRGlzcGxheUxlbmd0aFwiKTtBKGEsXCJzZWFyY2hpbmdcIixcImJGaWx0ZXJcIik7XCJib29sZWFuXCI9PT10eXBlb2YgYS5zU2Nyb2xsWCYmKGEuc1Njcm9sbFg9YS5zU2Nyb2xsWD9cIjEwMCVcIjpcIlwiKTtcImJvb2xlYW5cIj09PXR5cGVvZiBhLnNjcm9sbFgmJihhLnNjcm9sbFg9XHJcbmEuc2Nyb2xsWD9cIjEwMCVcIjpcIlwiKTtpZihhPWEuYW9TZWFyY2hDb2xzKWZvcih2YXIgYj0wLGM9YS5sZW5ndGg7YjxjO2IrKylhW2JdJiZKKG0ubW9kZWxzLm9TZWFyY2gsYVtiXSl9ZnVuY3Rpb24gZmIoYSl7QShhLFwib3JkZXJhYmxlXCIsXCJiU29ydGFibGVcIik7QShhLFwib3JkZXJEYXRhXCIsXCJhRGF0YVNvcnRcIik7QShhLFwib3JkZXJTZXF1ZW5jZVwiLFwiYXNTb3J0aW5nXCIpO0EoYSxcIm9yZGVyRGF0YVR5cGVcIixcInNvcnREYXRhVHlwZVwiKTt2YXIgYj1hLmFEYXRhU29ydDtiJiYhaC5pc0FycmF5KGIpJiYoYS5hRGF0YVNvcnQ9W2JdKX1mdW5jdGlvbiBnYihhKXtpZighbS5fX2Jyb3dzZXIpe3ZhciBiPXt9O20uX19icm93c2VyPWI7dmFyIGM9aChcIjxkaXYvPlwiKS5jc3Moe3Bvc2l0aW9uOlwiZml4ZWRcIix0b3A6MCxsZWZ0OjAsaGVpZ2h0OjEsd2lkdGg6MSxvdmVyZmxvdzpcImhpZGRlblwifSkuYXBwZW5kKGgoXCI8ZGl2Lz5cIikuY3NzKHtwb3NpdGlvbjpcImFic29sdXRlXCIsdG9wOjEsbGVmdDoxLFxyXG53aWR0aDoxMDAsb3ZlcmZsb3c6XCJzY3JvbGxcIn0pLmFwcGVuZChoKFwiPGRpdi8+XCIpLmNzcyh7d2lkdGg6XCIxMDAlXCIsaGVpZ2h0OjEwfSkpKS5hcHBlbmRUbyhcImJvZHlcIiksZD1jLmNoaWxkcmVuKCksZT1kLmNoaWxkcmVuKCk7Yi5iYXJXaWR0aD1kWzBdLm9mZnNldFdpZHRoLWRbMF0uY2xpZW50V2lkdGg7Yi5iU2Nyb2xsT3ZlcnNpemU9MTAwPT09ZVswXS5vZmZzZXRXaWR0aCYmMTAwIT09ZFswXS5jbGllbnRXaWR0aDtiLmJTY3JvbGxiYXJMZWZ0PTEhPT1NYXRoLnJvdW5kKGUub2Zmc2V0KCkubGVmdCk7Yi5iQm91bmRpbmc9Y1swXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aD8hMDohMTtjLnJlbW92ZSgpfWguZXh0ZW5kKGEub0Jyb3dzZXIsbS5fX2Jyb3dzZXIpO2Eub1Njcm9sbC5pQmFyV2lkdGg9bS5fX2Jyb3dzZXIuYmFyV2lkdGh9ZnVuY3Rpb24gaGIoYSxiLGMsZCxlLGYpe3ZhciBnLGo9ITE7YyE9PWsmJihnPWMsaj0hMCk7Zm9yKDtkIT09ZTspYS5oYXNPd25Qcm9wZXJ0eShkKSYmXHJcbihnPWo/YihnLGFbZF0sZCxhKTphW2RdLGo9ITAsZCs9Zik7cmV0dXJuIGd9ZnVuY3Rpb24gR2EoYSxiKXt2YXIgYz1tLmRlZmF1bHRzLmNvbHVtbixkPWEuYW9Db2x1bW5zLmxlbmd0aCxjPWguZXh0ZW5kKHt9LG0ubW9kZWxzLm9Db2x1bW4sYyx7blRoOmI/YjpILmNyZWF0ZUVsZW1lbnQoXCJ0aFwiKSxzVGl0bGU6Yy5zVGl0bGU/Yy5zVGl0bGU6Yj9iLmlubmVySFRNTDpcIlwiLGFEYXRhU29ydDpjLmFEYXRhU29ydD9jLmFEYXRhU29ydDpbZF0sbURhdGE6Yy5tRGF0YT9jLm1EYXRhOmQsaWR4OmR9KTthLmFvQ29sdW1ucy5wdXNoKGMpO2M9YS5hb1ByZVNlYXJjaENvbHM7Y1tkXT1oLmV4dGVuZCh7fSxtLm1vZGVscy5vU2VhcmNoLGNbZF0pO2xhKGEsZCxoKGIpLmRhdGEoKSl9ZnVuY3Rpb24gbGEoYSxiLGMpe3ZhciBiPWEuYW9Db2x1bW5zW2JdLGQ9YS5vQ2xhc3NlcyxlPWgoYi5uVGgpO2lmKCFiLnNXaWR0aE9yaWcpe2Iuc1dpZHRoT3JpZz1lLmF0dHIoXCJ3aWR0aFwiKXx8bnVsbDt2YXIgZj1cclxuKGUuYXR0cihcInN0eWxlXCIpfHxcIlwiKS5tYXRjaCgvd2lkdGg6XFxzKihcXGQrW3B4ZW0lXSspLyk7ZiYmKGIuc1dpZHRoT3JpZz1mWzFdKX1jIT09ayYmbnVsbCE9PWMmJihmYihjKSxKKG0uZGVmYXVsdHMuY29sdW1uLGMpLGMubURhdGFQcm9wIT09ayYmIWMubURhdGEmJihjLm1EYXRhPWMubURhdGFQcm9wKSxjLnNUeXBlJiYoYi5fc01hbnVhbFR5cGU9Yy5zVHlwZSksYy5jbGFzc05hbWUmJiFjLnNDbGFzcyYmKGMuc0NsYXNzPWMuY2xhc3NOYW1lKSxoLmV4dGVuZChiLGMpLEYoYixjLFwic1dpZHRoXCIsXCJzV2lkdGhPcmlnXCIpLGMuaURhdGFTb3J0IT09ayYmKGIuYURhdGFTb3J0PVtjLmlEYXRhU29ydF0pLEYoYixjLFwiYURhdGFTb3J0XCIpKTt2YXIgZz1iLm1EYXRhLGo9UShnKSxpPWIubVJlbmRlcj9RKGIubVJlbmRlcik6bnVsbCxjPWZ1bmN0aW9uKGEpe3JldHVyblwic3RyaW5nXCI9PT10eXBlb2YgYSYmLTEhPT1hLmluZGV4T2YoXCJAXCIpfTtiLl9iQXR0clNyYz1oLmlzUGxhaW5PYmplY3QoZykmJlxyXG4oYyhnLnNvcnQpfHxjKGcudHlwZSl8fGMoZy5maWx0ZXIpKTtiLmZuR2V0RGF0YT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9aihhLGIsayxjKTtyZXR1cm4gaSYmYj9pKGQsYixhLGMpOmR9O2IuZm5TZXREYXRhPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gUihnKShhLGIsYyl9O1wibnVtYmVyXCIhPT10eXBlb2YgZyYmKGEuX3Jvd1JlYWRPYmplY3Q9ITApO2Eub0ZlYXR1cmVzLmJTb3J0fHwoYi5iU29ydGFibGU9ITEsZS5hZGRDbGFzcyhkLnNTb3J0YWJsZU5vbmUpKTthPS0xIT09aC5pbkFycmF5KFwiYXNjXCIsYi5hc1NvcnRpbmcpO2M9LTEhPT1oLmluQXJyYXkoXCJkZXNjXCIsYi5hc1NvcnRpbmcpOyFiLmJTb3J0YWJsZXx8IWEmJiFjPyhiLnNTb3J0aW5nQ2xhc3M9ZC5zU29ydGFibGVOb25lLGIuc1NvcnRpbmdDbGFzc0pVST1cIlwiKTphJiYhYz8oYi5zU29ydGluZ0NsYXNzPWQuc1NvcnRhYmxlQXNjLGIuc1NvcnRpbmdDbGFzc0pVST1kLnNTb3J0SlVJQXNjQWxsb3dlZCk6IWEmJmM/KGIuc1NvcnRpbmdDbGFzcz1cclxuZC5zU29ydGFibGVEZXNjLGIuc1NvcnRpbmdDbGFzc0pVST1kLnNTb3J0SlVJRGVzY0FsbG93ZWQpOihiLnNTb3J0aW5nQ2xhc3M9ZC5zU29ydGFibGUsYi5zU29ydGluZ0NsYXNzSlVJPWQuc1NvcnRKVUkpfWZ1bmN0aW9uIFUoYSl7aWYoITEhPT1hLm9GZWF0dXJlcy5iQXV0b1dpZHRoKXt2YXIgYj1hLmFvQ29sdW1ucztIYShhKTtmb3IodmFyIGM9MCxkPWIubGVuZ3RoO2M8ZDtjKyspYltjXS5uVGguc3R5bGUud2lkdGg9YltjXS5zV2lkdGh9Yj1hLm9TY3JvbGw7KFwiXCIhPT1iLnNZfHxcIlwiIT09Yi5zWCkmJlooYSk7dihhLG51bGwsXCJjb2x1bW4tc2l6aW5nXCIsW2FdKX1mdW5jdGlvbiAkKGEsYil7dmFyIGM9YWEoYSxcImJWaXNpYmxlXCIpO3JldHVyblwibnVtYmVyXCI9PT10eXBlb2YgY1tiXT9jW2JdOm51bGx9ZnVuY3Rpb24gYmEoYSxiKXt2YXIgYz1hYShhLFwiYlZpc2libGVcIiksYz1oLmluQXJyYXkoYixjKTtyZXR1cm4tMSE9PWM/YzpudWxsfWZ1bmN0aW9uIGNhKGEpe3JldHVybiBhYShhLFxyXG5cImJWaXNpYmxlXCIpLmxlbmd0aH1mdW5jdGlvbiBhYShhLGIpe3ZhciBjPVtdO2gubWFwKGEuYW9Db2x1bW5zLGZ1bmN0aW9uKGEsZSl7YVtiXSYmYy5wdXNoKGUpfSk7cmV0dXJuIGN9ZnVuY3Rpb24gSWEoYSl7dmFyIGI9YS5hb0NvbHVtbnMsYz1hLmFvRGF0YSxkPW0uZXh0LnR5cGUuZGV0ZWN0LGUsZixnLGosaSxoLGwscSx1O2U9MDtmb3IoZj1iLmxlbmd0aDtlPGY7ZSsrKWlmKGw9YltlXSx1PVtdLCFsLnNUeXBlJiZsLl9zTWFudWFsVHlwZSlsLnNUeXBlPWwuX3NNYW51YWxUeXBlO2Vsc2UgaWYoIWwuc1R5cGUpe2c9MDtmb3Ioaj1kLmxlbmd0aDtnPGo7ZysrKXtpPTA7Zm9yKGg9Yy5sZW5ndGg7aTxoO2krKyl7dVtpXT09PWsmJih1W2ldPUIoYSxpLGUsXCJ0eXBlXCIpKTtxPWRbZ10odVtpXSxhKTtpZighcSYmZyE9PWQubGVuZ3RoLTEpYnJlYWs7aWYoXCJodG1sXCI9PT1xKWJyZWFrfWlmKHEpe2wuc1R5cGU9cTticmVha319bC5zVHlwZXx8KGwuc1R5cGU9XCJzdHJpbmdcIil9fWZ1bmN0aW9uIGliKGEsXHJcbmIsYyxkKXt2YXIgZSxmLGcsaixpLG8sbD1hLmFvQ29sdW1ucztpZihiKWZvcihlPWIubGVuZ3RoLTE7MDw9ZTtlLS0pe289YltlXTt2YXIgcT1vLnRhcmdldHMhPT1rP28udGFyZ2V0czpvLmFUYXJnZXRzO2guaXNBcnJheShxKXx8KHE9W3FdKTtmPTA7Zm9yKGc9cS5sZW5ndGg7ZjxnO2YrKylpZihcIm51bWJlclwiPT09dHlwZW9mIHFbZl0mJjA8PXFbZl0pe2Zvcig7bC5sZW5ndGg8PXFbZl07KUdhKGEpO2QocVtmXSxvKX1lbHNlIGlmKFwibnVtYmVyXCI9PT10eXBlb2YgcVtmXSYmMD5xW2ZdKWQobC5sZW5ndGgrcVtmXSxvKTtlbHNlIGlmKFwic3RyaW5nXCI9PT10eXBlb2YgcVtmXSl7aj0wO2ZvcihpPWwubGVuZ3RoO2o8aTtqKyspKFwiX2FsbFwiPT1xW2ZdfHxoKGxbal0ublRoKS5oYXNDbGFzcyhxW2ZdKSkmJmQoaixvKX19aWYoYyl7ZT0wO2ZvcihhPWMubGVuZ3RoO2U8YTtlKyspZChlLGNbZV0pfX1mdW5jdGlvbiBOKGEsYixjLGQpe3ZhciBlPWEuYW9EYXRhLmxlbmd0aCxmPWguZXh0ZW5kKCEwLFxyXG57fSxtLm1vZGVscy5vUm93LHtzcmM6Yz9cImRvbVwiOlwiZGF0YVwiLGlkeDplfSk7Zi5fYURhdGE9YjthLmFvRGF0YS5wdXNoKGYpO2Zvcih2YXIgZz1hLmFvQ29sdW1ucyxqPTAsaT1nLmxlbmd0aDtqPGk7aisrKWdbal0uc1R5cGU9bnVsbDthLmFpRGlzcGxheU1hc3Rlci5wdXNoKGUpO2I9YS5yb3dJZEZuKGIpO2IhPT1rJiYoYS5hSWRzW2JdPWYpOyhjfHwhYS5vRmVhdHVyZXMuYkRlZmVyUmVuZGVyKSYmSmEoYSxlLGMsZCk7cmV0dXJuIGV9ZnVuY3Rpb24gbWEoYSxiKXt2YXIgYztiIGluc3RhbmNlb2YgaHx8KGI9aChiKSk7cmV0dXJuIGIubWFwKGZ1bmN0aW9uKGIsZSl7Yz1LYShhLGUpO3JldHVybiBOKGEsYy5kYXRhLGUsYy5jZWxscyl9KX1mdW5jdGlvbiBCKGEsYixjLGQpe3ZhciBlPWEuaURyYXcsZj1hLmFvQ29sdW1uc1tjXSxnPWEuYW9EYXRhW2JdLl9hRGF0YSxqPWYuc0RlZmF1bHRDb250ZW50LGk9Zi5mbkdldERhdGEoZyxkLHtzZXR0aW5nczphLHJvdzpiLGNvbDpjfSk7XHJcbmlmKGk9PT1rKXJldHVybiBhLmlEcmF3RXJyb3IhPWUmJm51bGw9PT1qJiYoSyhhLDAsXCJSZXF1ZXN0ZWQgdW5rbm93biBwYXJhbWV0ZXIgXCIrKFwiZnVuY3Rpb25cIj09dHlwZW9mIGYubURhdGE/XCJ7ZnVuY3Rpb259XCI6XCInXCIrZi5tRGF0YStcIidcIikrXCIgZm9yIHJvdyBcIitiK1wiLCBjb2x1bW4gXCIrYyw0KSxhLmlEcmF3RXJyb3I9ZSksajtpZigoaT09PWd8fG51bGw9PT1pKSYmbnVsbCE9PWopaT1qO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGkpcmV0dXJuIGkuY2FsbChnKTtyZXR1cm4gbnVsbD09PWkmJlwiZGlzcGxheVwiPT1kP1wiXCI6aX1mdW5jdGlvbiBqYihhLGIsYyxkKXthLmFvQ29sdW1uc1tjXS5mblNldERhdGEoYS5hb0RhdGFbYl0uX2FEYXRhLGQse3NldHRpbmdzOmEscm93OmIsY29sOmN9KX1mdW5jdGlvbiBMYShhKXtyZXR1cm4gaC5tYXAoYS5tYXRjaCgvKFxcXFwufFteXFwuXSkrL2cpfHxbXCJcIl0sZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvXFxcXC4vZyxcIi5cIil9KX1mdW5jdGlvbiBRKGEpe2lmKGguaXNQbGFpbk9iamVjdChhKSl7dmFyIGI9XHJcbnt9O2guZWFjaChhLGZ1bmN0aW9uKGEsYyl7YyYmKGJbYV09UShjKSl9KTtyZXR1cm4gZnVuY3Rpb24oYSxjLGYsZyl7dmFyIGo9YltjXXx8Yi5fO3JldHVybiBqIT09az9qKGEsYyxmLGcpOmF9fWlmKG51bGw9PT1hKXJldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gYX07aWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGEpcmV0dXJuIGZ1bmN0aW9uKGIsYyxmLGcpe3JldHVybiBhKGIsYyxmLGcpfTtpZihcInN0cmluZ1wiPT09dHlwZW9mIGEmJigtMSE9PWEuaW5kZXhPZihcIi5cIil8fC0xIT09YS5pbmRleE9mKFwiW1wiKXx8LTEhPT1hLmluZGV4T2YoXCIoXCIpKSl7dmFyIGM9ZnVuY3Rpb24oYSxiLGYpe3ZhciBnLGo7aWYoXCJcIiE9PWYpe2o9TGEoZik7Zm9yKHZhciBpPTAsbz1qLmxlbmd0aDtpPG87aSsrKXtmPWpbaV0ubWF0Y2goZGEpO2c9altpXS5tYXRjaChWKTtpZihmKXtqW2ldPWpbaV0ucmVwbGFjZShkYSxcIlwiKTtcIlwiIT09altpXSYmKGE9YVtqW2ldXSk7Zz1bXTtqLnNwbGljZSgwLGkrMSk7aj1cclxuai5qb2luKFwiLlwiKTtpZihoLmlzQXJyYXkoYSkpe2k9MDtmb3Iobz1hLmxlbmd0aDtpPG87aSsrKWcucHVzaChjKGFbaV0sYixqKSl9YT1mWzBdLnN1YnN0cmluZygxLGZbMF0ubGVuZ3RoLTEpO2E9XCJcIj09PWE/ZzpnLmpvaW4oYSk7YnJlYWt9ZWxzZSBpZihnKXtqW2ldPWpbaV0ucmVwbGFjZShWLFwiXCIpO2E9YVtqW2ldXSgpO2NvbnRpbnVlfWlmKG51bGw9PT1hfHxhW2pbaV1dPT09aylyZXR1cm4gazthPWFbaltpXV19fXJldHVybiBhfTtyZXR1cm4gZnVuY3Rpb24oYixlKXtyZXR1cm4gYyhiLGUsYSl9fXJldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gYlthXX19ZnVuY3Rpb24gUihhKXtpZihoLmlzUGxhaW5PYmplY3QoYSkpcmV0dXJuIFIoYS5fKTtpZihudWxsPT09YSlyZXR1cm4gZnVuY3Rpb24oKXt9O2lmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBhKXJldHVybiBmdW5jdGlvbihiLGQsZSl7YShiLFwic2V0XCIsZCxlKX07aWYoXCJzdHJpbmdcIj09PXR5cGVvZiBhJiYoLTEhPT1hLmluZGV4T2YoXCIuXCIpfHxcclxuLTEhPT1hLmluZGV4T2YoXCJbXCIpfHwtMSE9PWEuaW5kZXhPZihcIihcIikpKXt2YXIgYj1mdW5jdGlvbihhLGQsZSl7dmFyIGU9TGEoZSksZjtmPWVbZS5sZW5ndGgtMV07Zm9yKHZhciBnLGosaT0wLG89ZS5sZW5ndGgtMTtpPG87aSsrKXtnPWVbaV0ubWF0Y2goZGEpO2o9ZVtpXS5tYXRjaChWKTtpZihnKXtlW2ldPWVbaV0ucmVwbGFjZShkYSxcIlwiKTthW2VbaV1dPVtdO2Y9ZS5zbGljZSgpO2Yuc3BsaWNlKDAsaSsxKTtnPWYuam9pbihcIi5cIik7aWYoaC5pc0FycmF5KGQpKXtqPTA7Zm9yKG89ZC5sZW5ndGg7ajxvO2orKylmPXt9LGIoZixkW2pdLGcpLGFbZVtpXV0ucHVzaChmKX1lbHNlIGFbZVtpXV09ZDtyZXR1cm59aiYmKGVbaV09ZVtpXS5yZXBsYWNlKFYsXCJcIiksYT1hW2VbaV1dKGQpKTtpZihudWxsPT09YVtlW2ldXXx8YVtlW2ldXT09PWspYVtlW2ldXT17fTthPWFbZVtpXV19aWYoZi5tYXRjaChWKSlhW2YucmVwbGFjZShWLFwiXCIpXShkKTtlbHNlIGFbZi5yZXBsYWNlKGRhLFwiXCIpXT1cclxuZH07cmV0dXJuIGZ1bmN0aW9uKGMsZCl7cmV0dXJuIGIoYyxkLGEpfX1yZXR1cm4gZnVuY3Rpb24oYixkKXtiW2FdPWR9fWZ1bmN0aW9uIE1hKGEpe3JldHVybiBEKGEuYW9EYXRhLFwiX2FEYXRhXCIpfWZ1bmN0aW9uIG5hKGEpe2EuYW9EYXRhLmxlbmd0aD0wO2EuYWlEaXNwbGF5TWFzdGVyLmxlbmd0aD0wO2EuYWlEaXNwbGF5Lmxlbmd0aD0wO2EuYUlkcz17fX1mdW5jdGlvbiBvYShhLGIsYyl7Zm9yKHZhciBkPS0xLGU9MCxmPWEubGVuZ3RoO2U8ZjtlKyspYVtlXT09Yj9kPWU6YVtlXT5iJiZhW2VdLS07IC0xIT1kJiZjPT09ayYmYS5zcGxpY2UoZCwxKX1mdW5jdGlvbiBlYShhLGIsYyxkKXt2YXIgZT1hLmFvRGF0YVtiXSxmLGc9ZnVuY3Rpb24oYyxkKXtmb3IoO2MuY2hpbGROb2Rlcy5sZW5ndGg7KWMucmVtb3ZlQ2hpbGQoYy5maXJzdENoaWxkKTtjLmlubmVySFRNTD1CKGEsYixkLFwiZGlzcGxheVwiKX07aWYoXCJkb21cIj09PWN8fCghY3x8XCJhdXRvXCI9PT1jKSYmXCJkb21cIj09PWUuc3JjKWUuX2FEYXRhPVxyXG5LYShhLGUsZCxkPT09az9rOmUuX2FEYXRhKS5kYXRhO2Vsc2V7dmFyIGo9ZS5hbkNlbGxzO2lmKGopaWYoZCE9PWspZyhqW2RdLGQpO2Vsc2V7Yz0wO2ZvcihmPWoubGVuZ3RoO2M8ZjtjKyspZyhqW2NdLGMpfX1lLl9hU29ydERhdGE9bnVsbDtlLl9hRmlsdGVyRGF0YT1udWxsO2c9YS5hb0NvbHVtbnM7aWYoZCE9PWspZ1tkXS5zVHlwZT1udWxsO2Vsc2V7Yz0wO2ZvcihmPWcubGVuZ3RoO2M8ZjtjKyspZ1tjXS5zVHlwZT1udWxsO05hKGEsZSl9fWZ1bmN0aW9uIEthKGEsYixjLGQpe3ZhciBlPVtdLGY9Yi5maXJzdENoaWxkLGcsaixpPTAsbyxsPWEuYW9Db2x1bW5zLHE9YS5fcm93UmVhZE9iamVjdCxkPWQhPT1rP2Q6cT97fTpbXSx1PWZ1bmN0aW9uKGEsYil7aWYoXCJzdHJpbmdcIj09PXR5cGVvZiBhKXt2YXIgYz1hLmluZGV4T2YoXCJAXCIpOy0xIT09YyYmKGM9YS5zdWJzdHJpbmcoYysxKSxSKGEpKGQsYi5nZXRBdHRyaWJ1dGUoYykpKX19LFM9ZnVuY3Rpb24oYSl7aWYoYz09PWt8fFxyXG5jPT09aSlqPWxbaV0sbz1oLnRyaW0oYS5pbm5lckhUTUwpLGomJmouX2JBdHRyU3JjPyhSKGoubURhdGEuXykoZCxvKSx1KGoubURhdGEuc29ydCxhKSx1KGoubURhdGEudHlwZSxhKSx1KGoubURhdGEuZmlsdGVyLGEpKTpxPyhqLl9zZXR0ZXJ8fChqLl9zZXR0ZXI9UihqLm1EYXRhKSksai5fc2V0dGVyKGQsbykpOmRbaV09bztpKyt9O2lmKGYpZm9yKDtmOyl7Zz1mLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCk7aWYoXCJURFwiPT1nfHxcIlRIXCI9PWcpUyhmKSxlLnB1c2goZik7Zj1mLm5leHRTaWJsaW5nfWVsc2V7ZT1iLmFuQ2VsbHM7Zj0wO2ZvcihnPWUubGVuZ3RoO2Y8ZztmKyspUyhlW2ZdKX1pZihiPWIuZmlyc3RDaGlsZD9iOmIublRyKShiPWIuZ2V0QXR0cmlidXRlKFwiaWRcIikpJiZSKGEucm93SWQpKGQsYik7cmV0dXJue2RhdGE6ZCxjZWxsczplfX1mdW5jdGlvbiBKYShhLGIsYyxkKXt2YXIgZT1hLmFvRGF0YVtiXSxmPWUuX2FEYXRhLGc9W10saixpLGgsbCxxO2lmKG51bGw9PT1cclxuZS5uVHIpe2o9Y3x8SC5jcmVhdGVFbGVtZW50KFwidHJcIik7ZS5uVHI9ajtlLmFuQ2VsbHM9ZztqLl9EVF9Sb3dJbmRleD1iO05hKGEsZSk7bD0wO2ZvcihxPWEuYW9Db2x1bW5zLmxlbmd0aDtsPHE7bCsrKXtoPWEuYW9Db2x1bW5zW2xdO2k9Yz9kW2xdOkguY3JlYXRlRWxlbWVudChoLnNDZWxsVHlwZSk7aS5fRFRfQ2VsbEluZGV4PXtyb3c6Yixjb2x1bW46bH07Zy5wdXNoKGkpO2lmKCFjfHxoLm1SZW5kZXJ8fGgubURhdGEhPT1sKWkuaW5uZXJIVE1MPUIoYSxiLGwsXCJkaXNwbGF5XCIpO2guc0NsYXNzJiYoaS5jbGFzc05hbWUrPVwiIFwiK2guc0NsYXNzKTtoLmJWaXNpYmxlJiYhYz9qLmFwcGVuZENoaWxkKGkpOiFoLmJWaXNpYmxlJiZjJiZpLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaSk7aC5mbkNyZWF0ZWRDZWxsJiZoLmZuQ3JlYXRlZENlbGwuY2FsbChhLm9JbnN0YW5jZSxpLEIoYSxiLGwpLGYsYixsKX12KGEsXCJhb1Jvd0NyZWF0ZWRDYWxsYmFja1wiLG51bGwsW2osZixiXSl9ZS5uVHIuc2V0QXR0cmlidXRlKFwicm9sZVwiLFxyXG5cInJvd1wiKX1mdW5jdGlvbiBOYShhLGIpe3ZhciBjPWIublRyLGQ9Yi5fYURhdGE7aWYoYyl7dmFyIGU9YS5yb3dJZEZuKGQpO2UmJihjLmlkPWUpO2QuRFRfUm93Q2xhc3MmJihlPWQuRFRfUm93Q2xhc3Muc3BsaXQoXCIgXCIpLGIuX19yb3djPWIuX19yb3djP3BhKGIuX19yb3djLmNvbmNhdChlKSk6ZSxoKGMpLnJlbW92ZUNsYXNzKGIuX19yb3djLmpvaW4oXCIgXCIpKS5hZGRDbGFzcyhkLkRUX1Jvd0NsYXNzKSk7ZC5EVF9Sb3dBdHRyJiZoKGMpLmF0dHIoZC5EVF9Sb3dBdHRyKTtkLkRUX1Jvd0RhdGEmJmgoYykuZGF0YShkLkRUX1Jvd0RhdGEpfX1mdW5jdGlvbiBrYihhKXt2YXIgYixjLGQsZSxmLGc9YS5uVEhlYWQsaj1hLm5URm9vdCxpPTA9PT1oKFwidGgsIHRkXCIsZykubGVuZ3RoLG89YS5vQ2xhc3NlcyxsPWEuYW9Db2x1bW5zO2kmJihlPWgoXCI8dHIvPlwiKS5hcHBlbmRUbyhnKSk7Yj0wO2ZvcihjPWwubGVuZ3RoO2I8YztiKyspZj1sW2JdLGQ9aChmLm5UaCkuYWRkQ2xhc3MoZi5zQ2xhc3MpLFxyXG5pJiZkLmFwcGVuZFRvKGUpLGEub0ZlYXR1cmVzLmJTb3J0JiYoZC5hZGRDbGFzcyhmLnNTb3J0aW5nQ2xhc3MpLCExIT09Zi5iU29ydGFibGUmJihkLmF0dHIoXCJ0YWJpbmRleFwiLGEuaVRhYkluZGV4KS5hdHRyKFwiYXJpYS1jb250cm9sc1wiLGEuc1RhYmxlSWQpLE9hKGEsZi5uVGgsYikpKSxmLnNUaXRsZSE9ZFswXS5pbm5lckhUTUwmJmQuaHRtbChmLnNUaXRsZSksUGEoYSxcImhlYWRlclwiKShhLGQsZixvKTtpJiZmYShhLmFvSGVhZGVyLGcpO2goZykuZmluZChcIj50clwiKS5hdHRyKFwicm9sZVwiLFwicm93XCIpO2goZykuZmluZChcIj50cj50aCwgPnRyPnRkXCIpLmFkZENsYXNzKG8uc0hlYWRlclRIKTtoKGopLmZpbmQoXCI+dHI+dGgsID50cj50ZFwiKS5hZGRDbGFzcyhvLnNGb290ZXJUSCk7aWYobnVsbCE9PWope2E9YS5hb0Zvb3RlclswXTtiPTA7Zm9yKGM9YS5sZW5ndGg7YjxjO2IrKylmPWxbYl0sZi5uVGY9YVtiXS5jZWxsLGYuc0NsYXNzJiZoKGYublRmKS5hZGRDbGFzcyhmLnNDbGFzcyl9fVxyXG5mdW5jdGlvbiBnYShhLGIsYyl7dmFyIGQsZSxmLGc9W10saj1bXSxpPWEuYW9Db2x1bW5zLmxlbmd0aCxvO2lmKGIpe2M9PT1rJiYoYz0hMSk7ZD0wO2ZvcihlPWIubGVuZ3RoO2Q8ZTtkKyspe2dbZF09YltkXS5zbGljZSgpO2dbZF0ublRyPWJbZF0ublRyO2ZvcihmPWktMTswPD1mO2YtLSkhYS5hb0NvbHVtbnNbZl0uYlZpc2libGUmJiFjJiZnW2RdLnNwbGljZShmLDEpO2oucHVzaChbXSl9ZD0wO2ZvcihlPWcubGVuZ3RoO2Q8ZTtkKyspe2lmKGE9Z1tkXS5uVHIpZm9yKDtmPWEuZmlyc3RDaGlsZDspYS5yZW1vdmVDaGlsZChmKTtmPTA7Zm9yKGI9Z1tkXS5sZW5ndGg7ZjxiO2YrKylpZihvPWk9MSxqW2RdW2ZdPT09ayl7YS5hcHBlbmRDaGlsZChnW2RdW2ZdLmNlbGwpO2ZvcihqW2RdW2ZdPTE7Z1tkK2ldIT09ayYmZ1tkXVtmXS5jZWxsPT1nW2QraV1bZl0uY2VsbDspaltkK2ldW2ZdPTEsaSsrO2Zvcig7Z1tkXVtmK29dIT09ayYmZ1tkXVtmXS5jZWxsPT1nW2RdW2Yrb10uY2VsbDspe2ZvcihjPVxyXG4wO2M8aTtjKyspaltkK2NdW2Yrb109MTtvKyt9aChnW2RdW2ZdLmNlbGwpLmF0dHIoXCJyb3dzcGFuXCIsaSkuYXR0cihcImNvbHNwYW5cIixvKX19fX1mdW5jdGlvbiBPKGEpe3ZhciBiPXYoYSxcImFvUHJlRHJhd0NhbGxiYWNrXCIsXCJwcmVEcmF3XCIsW2FdKTtpZigtMSE9PWguaW5BcnJheSghMSxiKSlDKGEsITEpO2Vsc2V7dmFyIGI9W10sYz0wLGQ9YS5hc1N0cmlwZUNsYXNzZXMsZT1kLmxlbmd0aCxmPWEub0xhbmd1YWdlLGc9YS5pSW5pdERpc3BsYXlTdGFydCxqPVwic3NwXCI9PXkoYSksaT1hLmFpRGlzcGxheTthLmJEcmF3aW5nPSEwO2chPT1rJiYtMSE9PWcmJihhLl9pRGlzcGxheVN0YXJ0PWo/ZzpnPj1hLmZuUmVjb3Jkc0Rpc3BsYXkoKT8wOmcsYS5pSW5pdERpc3BsYXlTdGFydD0tMSk7dmFyIGc9YS5faURpc3BsYXlTdGFydCxvPWEuZm5EaXNwbGF5RW5kKCk7aWYoYS5iRGVmZXJMb2FkaW5nKWEuYkRlZmVyTG9hZGluZz0hMSxhLmlEcmF3KyssQyhhLCExKTtlbHNlIGlmKGope2lmKCFhLmJEZXN0cm95aW5nJiZcclxuIWxiKGEpKXJldHVybn1lbHNlIGEuaURyYXcrKztpZigwIT09aS5sZW5ndGgpe2Y9aj9hLmFvRGF0YS5sZW5ndGg6bztmb3Ioaj1qPzA6ZztqPGY7aisrKXt2YXIgbD1pW2pdLHE9YS5hb0RhdGFbbF07bnVsbD09PXEublRyJiZKYShhLGwpO2w9cS5uVHI7aWYoMCE9PWUpe3ZhciB1PWRbYyVlXTtxLl9zUm93U3RyaXBlIT11JiYoaChsKS5yZW1vdmVDbGFzcyhxLl9zUm93U3RyaXBlKS5hZGRDbGFzcyh1KSxxLl9zUm93U3RyaXBlPXUpfXYoYSxcImFvUm93Q2FsbGJhY2tcIixudWxsLFtsLHEuX2FEYXRhLGMsal0pO2IucHVzaChsKTtjKyt9fWVsc2UgYz1mLnNaZXJvUmVjb3JkcywxPT1hLmlEcmF3JiZcImFqYXhcIj09eShhKT9jPWYuc0xvYWRpbmdSZWNvcmRzOmYuc0VtcHR5VGFibGUmJjA9PT1hLmZuUmVjb3Jkc1RvdGFsKCkmJihjPWYuc0VtcHR5VGFibGUpLGJbMF09aChcIjx0ci8+XCIse1wiY2xhc3NcIjplP2RbMF06XCJcIn0pLmFwcGVuZChoKFwiPHRkIC8+XCIse3ZhbGlnbjpcInRvcFwiLGNvbFNwYW46Y2EoYSksXHJcblwiY2xhc3NcIjphLm9DbGFzc2VzLnNSb3dFbXB0eX0pLmh0bWwoYykpWzBdO3YoYSxcImFvSGVhZGVyQ2FsbGJhY2tcIixcImhlYWRlclwiLFtoKGEublRIZWFkKS5jaGlsZHJlbihcInRyXCIpWzBdLE1hKGEpLGcsbyxpXSk7dihhLFwiYW9Gb290ZXJDYWxsYmFja1wiLFwiZm9vdGVyXCIsW2goYS5uVEZvb3QpLmNoaWxkcmVuKFwidHJcIilbMF0sTWEoYSksZyxvLGldKTtkPWgoYS5uVEJvZHkpO2QuY2hpbGRyZW4oKS5kZXRhY2goKTtkLmFwcGVuZChoKGIpKTt2KGEsXCJhb0RyYXdDYWxsYmFja1wiLFwiZHJhd1wiLFthXSk7YS5iU29ydGVkPSExO2EuYkZpbHRlcmVkPSExO2EuYkRyYXdpbmc9ITF9fWZ1bmN0aW9uIFQoYSxiKXt2YXIgYz1hLm9GZWF0dXJlcyxkPWMuYkZpbHRlcjtjLmJTb3J0JiZtYihhKTtkP2hhKGEsYS5vUHJldmlvdXNTZWFyY2gpOmEuYWlEaXNwbGF5PWEuYWlEaXNwbGF5TWFzdGVyLnNsaWNlKCk7ITAhPT1iJiYoYS5faURpc3BsYXlTdGFydD0wKTthLl9kcmF3SG9sZD1iO08oYSk7YS5fZHJhd0hvbGQ9XHJcbiExfWZ1bmN0aW9uIG5iKGEpe3ZhciBiPWEub0NsYXNzZXMsYz1oKGEublRhYmxlKSxjPWgoXCI8ZGl2Lz5cIikuaW5zZXJ0QmVmb3JlKGMpLGQ9YS5vRmVhdHVyZXMsZT1oKFwiPGRpdi8+XCIse2lkOmEuc1RhYmxlSWQrXCJfd3JhcHBlclwiLFwiY2xhc3NcIjpiLnNXcmFwcGVyKyhhLm5URm9vdD9cIlwiOlwiIFwiK2Iuc05vRm9vdGVyKX0pO2EubkhvbGRpbmc9Y1swXTthLm5UYWJsZVdyYXBwZXI9ZVswXTthLm5UYWJsZVJlaW5zZXJ0QmVmb3JlPWEublRhYmxlLm5leHRTaWJsaW5nO2Zvcih2YXIgZj1hLnNEb20uc3BsaXQoXCJcIiksZyxqLGksbyxsLHEsdT0wO3U8Zi5sZW5ndGg7dSsrKXtnPW51bGw7aj1mW3VdO2lmKFwiPFwiPT1qKXtpPWgoXCI8ZGl2Lz5cIilbMF07bz1mW3UrMV07aWYoXCInXCI9PW98fCdcIic9PW8pe2w9XCJcIjtmb3IocT0yO2ZbdStxXSE9bzspbCs9Zlt1K3FdLHErKztcIkhcIj09bD9sPWIuc0pVSUhlYWRlcjpcIkZcIj09bCYmKGw9Yi5zSlVJRm9vdGVyKTstMSE9bC5pbmRleE9mKFwiLlwiKT8obz1sLnNwbGl0KFwiLlwiKSxcclxuaS5pZD1vWzBdLnN1YnN0cigxLG9bMF0ubGVuZ3RoLTEpLGkuY2xhc3NOYW1lPW9bMV0pOlwiI1wiPT1sLmNoYXJBdCgwKT9pLmlkPWwuc3Vic3RyKDEsbC5sZW5ndGgtMSk6aS5jbGFzc05hbWU9bDt1Kz1xfWUuYXBwZW5kKGkpO2U9aChpKX1lbHNlIGlmKFwiPlwiPT1qKWU9ZS5wYXJlbnQoKTtlbHNlIGlmKFwibFwiPT1qJiZkLmJQYWdpbmF0ZSYmZC5iTGVuZ3RoQ2hhbmdlKWc9b2IoYSk7ZWxzZSBpZihcImZcIj09aiYmZC5iRmlsdGVyKWc9cGIoYSk7ZWxzZSBpZihcInJcIj09aiYmZC5iUHJvY2Vzc2luZylnPXFiKGEpO2Vsc2UgaWYoXCJ0XCI9PWopZz1yYihhKTtlbHNlIGlmKFwiaVwiPT1qJiZkLmJJbmZvKWc9c2IoYSk7ZWxzZSBpZihcInBcIj09aiYmZC5iUGFnaW5hdGUpZz10YihhKTtlbHNlIGlmKDAhPT1tLmV4dC5mZWF0dXJlLmxlbmd0aCl7aT1tLmV4dC5mZWF0dXJlO3E9MDtmb3Iobz1pLmxlbmd0aDtxPG87cSsrKWlmKGo9PWlbcV0uY0ZlYXR1cmUpe2c9aVtxXS5mbkluaXQoYSk7YnJlYWt9fWcmJlxyXG4oaT1hLmFhbkZlYXR1cmVzLGlbal18fChpW2pdPVtdKSxpW2pdLnB1c2goZyksZS5hcHBlbmQoZykpfWMucmVwbGFjZVdpdGgoZSk7YS5uSG9sZGluZz1udWxsfWZ1bmN0aW9uIGZhKGEsYil7dmFyIGM9aChiKS5jaGlsZHJlbihcInRyXCIpLGQsZSxmLGcsaixpLG8sbCxxLHU7YS5zcGxpY2UoMCxhLmxlbmd0aCk7Zj0wO2ZvcihpPWMubGVuZ3RoO2Y8aTtmKyspYS5wdXNoKFtdKTtmPTA7Zm9yKGk9Yy5sZW5ndGg7ZjxpO2YrKyl7ZD1jW2ZdO2ZvcihlPWQuZmlyc3RDaGlsZDtlOyl7aWYoXCJURFwiPT1lLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCl8fFwiVEhcIj09ZS5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpKXtsPTEqZS5nZXRBdHRyaWJ1dGUoXCJjb2xzcGFuXCIpO3E9MSplLmdldEF0dHJpYnV0ZShcInJvd3NwYW5cIik7bD0hbHx8MD09PWx8fDE9PT1sPzE6bDtxPSFxfHwwPT09cXx8MT09PXE/MTpxO2c9MDtmb3Ioaj1hW2ZdO2pbZ107KWcrKztvPWc7dT0xPT09bD8hMDohMTtmb3Ioaj0wO2o8bDtqKyspZm9yKGc9XHJcbjA7ZzxxO2crKylhW2YrZ11bbytqXT17Y2VsbDplLHVuaXF1ZTp1fSxhW2YrZ10ublRyPWR9ZT1lLm5leHRTaWJsaW5nfX19ZnVuY3Rpb24gcWEoYSxiLGMpe3ZhciBkPVtdO2N8fChjPWEuYW9IZWFkZXIsYiYmKGM9W10sZmEoYyxiKSkpO2Zvcih2YXIgYj0wLGU9Yy5sZW5ndGg7YjxlO2IrKylmb3IodmFyIGY9MCxnPWNbYl0ubGVuZ3RoO2Y8ZztmKyspaWYoY1tiXVtmXS51bmlxdWUmJighZFtmXXx8IWEuYlNvcnRDZWxsc1RvcCkpZFtmXT1jW2JdW2ZdLmNlbGw7cmV0dXJuIGR9ZnVuY3Rpb24gcmEoYSxiLGMpe3YoYSxcImFvU2VydmVyUGFyYW1zXCIsXCJzZXJ2ZXJQYXJhbXNcIixbYl0pO2lmKGImJmguaXNBcnJheShiKSl7dmFyIGQ9e30sZT0vKC4qPylcXFtcXF0kLztoLmVhY2goYixmdW5jdGlvbihhLGIpe3ZhciBjPWIubmFtZS5tYXRjaChlKTtjPyhjPWNbMF0sZFtjXXx8KGRbY109W10pLGRbY10ucHVzaChiLnZhbHVlKSk6ZFtiLm5hbWVdPWIudmFsdWV9KTtiPWR9dmFyIGYsZz1hLmFqYXgsXHJcbmo9YS5vSW5zdGFuY2UsaT1mdW5jdGlvbihiKXt2KGEsbnVsbCxcInhoclwiLFthLGIsYS5qcVhIUl0pO2MoYil9O2lmKGguaXNQbGFpbk9iamVjdChnKSYmZy5kYXRhKXtmPWcuZGF0YTt2YXIgbz1oLmlzRnVuY3Rpb24oZik/ZihiLGEpOmYsYj1oLmlzRnVuY3Rpb24oZikmJm8/bzpoLmV4dGVuZCghMCxiLG8pO2RlbGV0ZSBnLmRhdGF9bz17ZGF0YTpiLHN1Y2Nlc3M6ZnVuY3Rpb24oYil7dmFyIGM9Yi5lcnJvcnx8Yi5zRXJyb3I7YyYmSyhhLDAsYyk7YS5qc29uPWI7aShiKX0sZGF0YVR5cGU6XCJqc29uXCIsY2FjaGU6ITEsdHlwZTphLnNTZXJ2ZXJNZXRob2QsZXJyb3I6ZnVuY3Rpb24oYixjKXt2YXIgZD12KGEsbnVsbCxcInhoclwiLFthLG51bGwsYS5qcVhIUl0pOy0xPT09aC5pbkFycmF5KCEwLGQpJiYoXCJwYXJzZXJlcnJvclwiPT1jP0soYSwwLFwiSW52YWxpZCBKU09OIHJlc3BvbnNlXCIsMSk6ND09PWIucmVhZHlTdGF0ZSYmSyhhLDAsXCJBamF4IGVycm9yXCIsNykpO0MoYSwhMSl9fTthLm9BamF4RGF0YT1cclxuYjt2KGEsbnVsbCxcInByZVhoclwiLFthLGJdKTthLmZuU2VydmVyRGF0YT9hLmZuU2VydmVyRGF0YS5jYWxsKGosYS5zQWpheFNvdXJjZSxoLm1hcChiLGZ1bmN0aW9uKGEsYil7cmV0dXJue25hbWU6Yix2YWx1ZTphfX0pLGksYSk6YS5zQWpheFNvdXJjZXx8XCJzdHJpbmdcIj09PXR5cGVvZiBnP2EuanFYSFI9aC5hamF4KGguZXh0ZW5kKG8se3VybDpnfHxhLnNBamF4U291cmNlfSkpOmguaXNGdW5jdGlvbihnKT9hLmpxWEhSPWcuY2FsbChqLGIsaSxhKTooYS5qcVhIUj1oLmFqYXgoaC5leHRlbmQobyxnKSksZy5kYXRhPWYpfWZ1bmN0aW9uIGxiKGEpe3JldHVybiBhLmJBamF4RGF0YUdldD8oYS5pRHJhdysrLEMoYSwhMCkscmEoYSx1YihhKSxmdW5jdGlvbihiKXt2YihhLGIpfSksITEpOiEwfWZ1bmN0aW9uIHViKGEpe3ZhciBiPWEuYW9Db2x1bW5zLGM9Yi5sZW5ndGgsZD1hLm9GZWF0dXJlcyxlPWEub1ByZXZpb3VzU2VhcmNoLGY9YS5hb1ByZVNlYXJjaENvbHMsZyxqPVtdLGksbyxcclxubCxxPVcoYSk7Zz1hLl9pRGlzcGxheVN0YXJ0O2k9ITEhPT1kLmJQYWdpbmF0ZT9hLl9pRGlzcGxheUxlbmd0aDotMTt2YXIgaz1mdW5jdGlvbihhLGIpe2oucHVzaCh7bmFtZTphLHZhbHVlOmJ9KX07ayhcInNFY2hvXCIsYS5pRHJhdyk7ayhcImlDb2x1bW5zXCIsYyk7ayhcInNDb2x1bW5zXCIsRChiLFwic05hbWVcIikuam9pbihcIixcIikpO2soXCJpRGlzcGxheVN0YXJ0XCIsZyk7ayhcImlEaXNwbGF5TGVuZ3RoXCIsaSk7dmFyIFM9e2RyYXc6YS5pRHJhdyxjb2x1bW5zOltdLG9yZGVyOltdLHN0YXJ0OmcsbGVuZ3RoOmksc2VhcmNoOnt2YWx1ZTplLnNTZWFyY2gscmVnZXg6ZS5iUmVnZXh9fTtmb3IoZz0wO2c8YztnKyspbz1iW2ddLGw9ZltnXSxpPVwiZnVuY3Rpb25cIj09dHlwZW9mIG8ubURhdGE/XCJmdW5jdGlvblwiOm8ubURhdGEsUy5jb2x1bW5zLnB1c2goe2RhdGE6aSxuYW1lOm8uc05hbWUsc2VhcmNoYWJsZTpvLmJTZWFyY2hhYmxlLG9yZGVyYWJsZTpvLmJTb3J0YWJsZSxzZWFyY2g6e3ZhbHVlOmwuc1NlYXJjaCxcclxucmVnZXg6bC5iUmVnZXh9fSksayhcIm1EYXRhUHJvcF9cIitnLGkpLGQuYkZpbHRlciYmKGsoXCJzU2VhcmNoX1wiK2csbC5zU2VhcmNoKSxrKFwiYlJlZ2V4X1wiK2csbC5iUmVnZXgpLGsoXCJiU2VhcmNoYWJsZV9cIitnLG8uYlNlYXJjaGFibGUpKSxkLmJTb3J0JiZrKFwiYlNvcnRhYmxlX1wiK2csby5iU29ydGFibGUpO2QuYkZpbHRlciYmKGsoXCJzU2VhcmNoXCIsZS5zU2VhcmNoKSxrKFwiYlJlZ2V4XCIsZS5iUmVnZXgpKTtkLmJTb3J0JiYoaC5lYWNoKHEsZnVuY3Rpb24oYSxiKXtTLm9yZGVyLnB1c2goe2NvbHVtbjpiLmNvbCxkaXI6Yi5kaXJ9KTtrKFwiaVNvcnRDb2xfXCIrYSxiLmNvbCk7ayhcInNTb3J0RGlyX1wiK2EsYi5kaXIpfSksayhcImlTb3J0aW5nQ29sc1wiLHEubGVuZ3RoKSk7Yj1tLmV4dC5sZWdhY3kuYWpheDtyZXR1cm4gbnVsbD09PWI/YS5zQWpheFNvdXJjZT9qOlM6Yj9qOlN9ZnVuY3Rpb24gdmIoYSxiKXt2YXIgYz1zYShhLGIpLGQ9Yi5zRWNobyE9PWs/Yi5zRWNobzpiLmRyYXcsZT1cclxuYi5pVG90YWxSZWNvcmRzIT09az9iLmlUb3RhbFJlY29yZHM6Yi5yZWNvcmRzVG90YWwsZj1iLmlUb3RhbERpc3BsYXlSZWNvcmRzIT09az9iLmlUb3RhbERpc3BsYXlSZWNvcmRzOmIucmVjb3Jkc0ZpbHRlcmVkO2lmKGQpe2lmKDEqZDxhLmlEcmF3KXJldHVybjthLmlEcmF3PTEqZH1uYShhKTthLl9pUmVjb3Jkc1RvdGFsPXBhcnNlSW50KGUsMTApO2EuX2lSZWNvcmRzRGlzcGxheT1wYXJzZUludChmLDEwKTtkPTA7Zm9yKGU9Yy5sZW5ndGg7ZDxlO2QrKylOKGEsY1tkXSk7YS5haURpc3BsYXk9YS5haURpc3BsYXlNYXN0ZXIuc2xpY2UoKTthLmJBamF4RGF0YUdldD0hMTtPKGEpO2EuX2JJbml0Q29tcGxldGV8fHRhKGEsYik7YS5iQWpheERhdGFHZXQ9ITA7QyhhLCExKX1mdW5jdGlvbiBzYShhLGIpe3ZhciBjPWguaXNQbGFpbk9iamVjdChhLmFqYXgpJiZhLmFqYXguZGF0YVNyYyE9PWs/YS5hamF4LmRhdGFTcmM6YS5zQWpheERhdGFQcm9wO3JldHVyblwiZGF0YVwiPT09Yz9iLmFhRGF0YXx8XHJcbmJbY106XCJcIiE9PWM/UShjKShiKTpifWZ1bmN0aW9uIHBiKGEpe3ZhciBiPWEub0NsYXNzZXMsYz1hLnNUYWJsZUlkLGQ9YS5vTGFuZ3VhZ2UsZT1hLm9QcmV2aW91c1NlYXJjaCxmPWEuYWFuRmVhdHVyZXMsZz0nPGlucHV0IHR5cGU9XCJzZWFyY2hcIiBjbGFzcz1cIicrYi5zRmlsdGVySW5wdXQrJ1wiLz4nLGo9ZC5zU2VhcmNoLGo9ai5tYXRjaCgvX0lOUFVUXy8pP2oucmVwbGFjZShcIl9JTlBVVF9cIixnKTpqK2csYj1oKFwiPGRpdi8+XCIse2lkOiFmLmY/YytcIl9maWx0ZXJcIjpudWxsLFwiY2xhc3NcIjpiLnNGaWx0ZXJ9KS5hcHBlbmQoaChcIjxsYWJlbC8+XCIpLmFwcGVuZChqKSksZj1mdW5jdGlvbigpe3ZhciBiPSF0aGlzLnZhbHVlP1wiXCI6dGhpcy52YWx1ZTtiIT1lLnNTZWFyY2gmJihoYShhLHtzU2VhcmNoOmIsYlJlZ2V4OmUuYlJlZ2V4LGJTbWFydDplLmJTbWFydCxiQ2FzZUluc2Vuc2l0aXZlOmUuYkNhc2VJbnNlbnNpdGl2ZX0pLGEuX2lEaXNwbGF5U3RhcnQ9MCxPKGEpKX0sZz1udWxsIT09XHJcbmEuc2VhcmNoRGVsYXk/YS5zZWFyY2hEZWxheTpcInNzcFwiPT09eShhKT80MDA6MCxpPWgoXCJpbnB1dFwiLGIpLnZhbChlLnNTZWFyY2gpLmF0dHIoXCJwbGFjZWhvbGRlclwiLGQuc1NlYXJjaFBsYWNlaG9sZGVyKS5iaW5kKFwia2V5dXAuRFQgc2VhcmNoLkRUIGlucHV0LkRUIHBhc3RlLkRUIGN1dC5EVFwiLGc/dWEoZixnKTpmKS5iaW5kKFwia2V5cHJlc3MuRFRcIixmdW5jdGlvbihhKXtpZigxMz09YS5rZXlDb2RlKXJldHVybiExfSkuYXR0cihcImFyaWEtY29udHJvbHNcIixjKTtoKGEublRhYmxlKS5vbihcInNlYXJjaC5kdC5EVFwiLGZ1bmN0aW9uKGIsYyl7aWYoYT09PWMpdHJ5e2lbMF0hPT1ILmFjdGl2ZUVsZW1lbnQmJmkudmFsKGUuc1NlYXJjaCl9Y2F0Y2goZCl7fX0pO3JldHVybiBiWzBdfWZ1bmN0aW9uIGhhKGEsYixjKXt2YXIgZD1hLm9QcmV2aW91c1NlYXJjaCxlPWEuYW9QcmVTZWFyY2hDb2xzLGY9ZnVuY3Rpb24oYSl7ZC5zU2VhcmNoPWEuc1NlYXJjaDtkLmJSZWdleD1hLmJSZWdleDtcclxuZC5iU21hcnQ9YS5iU21hcnQ7ZC5iQ2FzZUluc2Vuc2l0aXZlPWEuYkNhc2VJbnNlbnNpdGl2ZX07SWEoYSk7aWYoXCJzc3BcIiE9eShhKSl7d2IoYSxiLnNTZWFyY2gsYyxiLmJFc2NhcGVSZWdleCE9PWs/IWIuYkVzY2FwZVJlZ2V4OmIuYlJlZ2V4LGIuYlNtYXJ0LGIuYkNhc2VJbnNlbnNpdGl2ZSk7ZihiKTtmb3IoYj0wO2I8ZS5sZW5ndGg7YisrKXhiKGEsZVtiXS5zU2VhcmNoLGIsZVtiXS5iRXNjYXBlUmVnZXghPT1rPyFlW2JdLmJFc2NhcGVSZWdleDplW2JdLmJSZWdleCxlW2JdLmJTbWFydCxlW2JdLmJDYXNlSW5zZW5zaXRpdmUpO3liKGEpfWVsc2UgZihiKTthLmJGaWx0ZXJlZD0hMDt2KGEsbnVsbCxcInNlYXJjaFwiLFthXSl9ZnVuY3Rpb24geWIoYSl7Zm9yKHZhciBiPW0uZXh0LnNlYXJjaCxjPWEuYWlEaXNwbGF5LGQsZSxmPTAsZz1iLmxlbmd0aDtmPGc7ZisrKXtmb3IodmFyIGo9W10saT0wLG89Yy5sZW5ndGg7aTxvO2krKyllPWNbaV0sZD1hLmFvRGF0YVtlXSxiW2ZdKGEsXHJcbmQuX2FGaWx0ZXJEYXRhLGUsZC5fYURhdGEsaSkmJmoucHVzaChlKTtjLmxlbmd0aD0wO2gubWVyZ2UoYyxqKX19ZnVuY3Rpb24geGIoYSxiLGMsZCxlLGYpe2lmKFwiXCIhPT1iKWZvcih2YXIgZz1hLmFpRGlzcGxheSxkPVFhKGIsZCxlLGYpLGU9Zy5sZW5ndGgtMTswPD1lO2UtLSliPWEuYW9EYXRhW2dbZV1dLl9hRmlsdGVyRGF0YVtjXSxkLnRlc3QoYil8fGcuc3BsaWNlKGUsMSl9ZnVuY3Rpb24gd2IoYSxiLGMsZCxlLGYpe3ZhciBkPVFhKGIsZCxlLGYpLGU9YS5vUHJldmlvdXNTZWFyY2guc1NlYXJjaCxmPWEuYWlEaXNwbGF5TWFzdGVyLGc7MCE9PW0uZXh0LnNlYXJjaC5sZW5ndGgmJihjPSEwKTtnPXpiKGEpO2lmKDA+PWIubGVuZ3RoKWEuYWlEaXNwbGF5PWYuc2xpY2UoKTtlbHNle2lmKGd8fGN8fGUubGVuZ3RoPmIubGVuZ3RofHwwIT09Yi5pbmRleE9mKGUpfHxhLmJTb3J0ZWQpYS5haURpc3BsYXk9Zi5zbGljZSgpO2I9YS5haURpc3BsYXk7Zm9yKGM9Yi5sZW5ndGgtMTswPD1cclxuYztjLS0pZC50ZXN0KGEuYW9EYXRhW2JbY11dLl9zRmlsdGVyUm93KXx8Yi5zcGxpY2UoYywxKX19ZnVuY3Rpb24gUWEoYSxiLGMsZCl7YT1iP2E6dmEoYSk7YyYmKGE9XCJeKD89Lio/XCIraC5tYXAoYS5tYXRjaCgvXCJbXlwiXStcInxbXiBdKy9nKXx8W1wiXCJdLGZ1bmN0aW9uKGEpe2lmKCdcIic9PT1hLmNoYXJBdCgwKSl2YXIgYj1hLm1hdGNoKC9eXCIoLiopXCIkLyksYT1iP2JbMV06YTtyZXR1cm4gYS5yZXBsYWNlKCdcIicsXCJcIil9KS5qb2luKFwiKSg/PS4qP1wiKStcIikuKiRcIik7cmV0dXJuIFJlZ0V4cChhLGQ/XCJpXCI6XCJcIil9ZnVuY3Rpb24gdmEoYSl7cmV0dXJuIGEucmVwbGFjZShZYixcIlxcXFwkMVwiKX1mdW5jdGlvbiB6YihhKXt2YXIgYj1hLmFvQ29sdW1ucyxjLGQsZSxmLGcsaixpLGgsbD1tLmV4dC50eXBlLnNlYXJjaDtjPSExO2Q9MDtmb3IoZj1hLmFvRGF0YS5sZW5ndGg7ZDxmO2QrKylpZihoPWEuYW9EYXRhW2RdLCFoLl9hRmlsdGVyRGF0YSl7aj1bXTtlPTA7Zm9yKGc9Yi5sZW5ndGg7ZTxcclxuZztlKyspYz1iW2VdLGMuYlNlYXJjaGFibGU/KGk9QihhLGQsZSxcImZpbHRlclwiKSxsW2Muc1R5cGVdJiYoaT1sW2Muc1R5cGVdKGkpKSxudWxsPT09aSYmKGk9XCJcIiksXCJzdHJpbmdcIiE9PXR5cGVvZiBpJiZpLnRvU3RyaW5nJiYoaT1pLnRvU3RyaW5nKCkpKTppPVwiXCIsaS5pbmRleE9mJiYtMSE9PWkuaW5kZXhPZihcIiZcIikmJih3YS5pbm5lckhUTUw9aSxpPVpiP3dhLnRleHRDb250ZW50OndhLmlubmVyVGV4dCksaS5yZXBsYWNlJiYoaT1pLnJlcGxhY2UoL1tcXHJcXG5dL2csXCJcIikpLGoucHVzaChpKTtoLl9hRmlsdGVyRGF0YT1qO2guX3NGaWx0ZXJSb3c9ai5qb2luKFwiICBcIik7Yz0hMH1yZXR1cm4gY31mdW5jdGlvbiBBYihhKXtyZXR1cm57c2VhcmNoOmEuc1NlYXJjaCxzbWFydDphLmJTbWFydCxyZWdleDphLmJSZWdleCxjYXNlSW5zZW5zaXRpdmU6YS5iQ2FzZUluc2Vuc2l0aXZlfX1mdW5jdGlvbiBCYihhKXtyZXR1cm57c1NlYXJjaDphLnNlYXJjaCxiU21hcnQ6YS5zbWFydCxiUmVnZXg6YS5yZWdleCxcclxuYkNhc2VJbnNlbnNpdGl2ZTphLmNhc2VJbnNlbnNpdGl2ZX19ZnVuY3Rpb24gc2IoYSl7dmFyIGI9YS5zVGFibGVJZCxjPWEuYWFuRmVhdHVyZXMuaSxkPWgoXCI8ZGl2Lz5cIix7XCJjbGFzc1wiOmEub0NsYXNzZXMuc0luZm8saWQ6IWM/YitcIl9pbmZvXCI6bnVsbH0pO2N8fChhLmFvRHJhd0NhbGxiYWNrLnB1c2goe2ZuOkNiLHNOYW1lOlwiaW5mb3JtYXRpb25cIn0pLGQuYXR0cihcInJvbGVcIixcInN0YXR1c1wiKS5hdHRyKFwiYXJpYS1saXZlXCIsXCJwb2xpdGVcIiksaChhLm5UYWJsZSkuYXR0cihcImFyaWEtZGVzY3JpYmVkYnlcIixiK1wiX2luZm9cIikpO3JldHVybiBkWzBdfWZ1bmN0aW9uIENiKGEpe3ZhciBiPWEuYWFuRmVhdHVyZXMuaTtpZigwIT09Yi5sZW5ndGgpe3ZhciBjPWEub0xhbmd1YWdlLGQ9YS5faURpc3BsYXlTdGFydCsxLGU9YS5mbkRpc3BsYXlFbmQoKSxmPWEuZm5SZWNvcmRzVG90YWwoKSxnPWEuZm5SZWNvcmRzRGlzcGxheSgpLGo9Zz9jLnNJbmZvOmMuc0luZm9FbXB0eTtnIT09ZiYmXHJcbihqKz1cIiBcIitjLnNJbmZvRmlsdGVyZWQpO2orPWMuc0luZm9Qb3N0Rml4O2o9RGIoYSxqKTtjPWMuZm5JbmZvQ2FsbGJhY2s7bnVsbCE9PWMmJihqPWMuY2FsbChhLm9JbnN0YW5jZSxhLGQsZSxmLGcsaikpO2goYikuaHRtbChqKX19ZnVuY3Rpb24gRGIoYSxiKXt2YXIgYz1hLmZuRm9ybWF0TnVtYmVyLGQ9YS5faURpc3BsYXlTdGFydCsxLGU9YS5faURpc3BsYXlMZW5ndGgsZj1hLmZuUmVjb3Jkc0Rpc3BsYXkoKSxnPS0xPT09ZTtyZXR1cm4gYi5yZXBsYWNlKC9fU1RBUlRfL2csYy5jYWxsKGEsZCkpLnJlcGxhY2UoL19FTkRfL2csYy5jYWxsKGEsYS5mbkRpc3BsYXlFbmQoKSkpLnJlcGxhY2UoL19NQVhfL2csYy5jYWxsKGEsYS5mblJlY29yZHNUb3RhbCgpKSkucmVwbGFjZSgvX1RPVEFMXy9nLGMuY2FsbChhLGYpKS5yZXBsYWNlKC9fUEFHRV8vZyxjLmNhbGwoYSxnPzE6TWF0aC5jZWlsKGQvZSkpKS5yZXBsYWNlKC9fUEFHRVNfL2csYy5jYWxsKGEsZz8xOk1hdGguY2VpbChmL1xyXG5lKSkpfWZ1bmN0aW9uIGlhKGEpe3ZhciBiLGMsZD1hLmlJbml0RGlzcGxheVN0YXJ0LGU9YS5hb0NvbHVtbnMsZjtjPWEub0ZlYXR1cmVzO3ZhciBnPWEuYkRlZmVyTG9hZGluZztpZihhLmJJbml0aWFsaXNlZCl7bmIoYSk7a2IoYSk7Z2EoYSxhLmFvSGVhZGVyKTtnYShhLGEuYW9Gb290ZXIpO0MoYSwhMCk7Yy5iQXV0b1dpZHRoJiZIYShhKTtiPTA7Zm9yKGM9ZS5sZW5ndGg7YjxjO2IrKylmPWVbYl0sZi5zV2lkdGgmJihmLm5UaC5zdHlsZS53aWR0aD13KGYuc1dpZHRoKSk7dihhLG51bGwsXCJwcmVJbml0XCIsW2FdKTtUKGEpO2U9eShhKTtpZihcInNzcFwiIT1lfHxnKVwiYWpheFwiPT1lP3JhKGEsW10sZnVuY3Rpb24oYyl7dmFyIGY9c2EoYSxjKTtmb3IoYj0wO2I8Zi5sZW5ndGg7YisrKU4oYSxmW2JdKTthLmlJbml0RGlzcGxheVN0YXJ0PWQ7VChhKTtDKGEsITEpO3RhKGEsYyl9LGEpOihDKGEsITEpLHRhKGEpKX1lbHNlIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtpYShhKX0sMjAwKX1cclxuZnVuY3Rpb24gdGEoYSxiKXthLl9iSW5pdENvbXBsZXRlPSEwOyhifHxhLm9Jbml0LmFhRGF0YSkmJlUoYSk7dihhLG51bGwsXCJwbHVnaW4taW5pdFwiLFthLGJdKTt2KGEsXCJhb0luaXRDb21wbGV0ZVwiLFwiaW5pdFwiLFthLGJdKX1mdW5jdGlvbiBSYShhLGIpe3ZhciBjPXBhcnNlSW50KGIsMTApO2EuX2lEaXNwbGF5TGVuZ3RoPWM7U2EoYSk7dihhLG51bGwsXCJsZW5ndGhcIixbYSxjXSl9ZnVuY3Rpb24gb2IoYSl7Zm9yKHZhciBiPWEub0NsYXNzZXMsYz1hLnNUYWJsZUlkLGQ9YS5hTGVuZ3RoTWVudSxlPWguaXNBcnJheShkWzBdKSxmPWU/ZFswXTpkLGQ9ZT9kWzFdOmQsZT1oKFwiPHNlbGVjdC8+XCIse25hbWU6YytcIl9sZW5ndGhcIixcImFyaWEtY29udHJvbHNcIjpjLFwiY2xhc3NcIjpiLnNMZW5ndGhTZWxlY3R9KSxnPTAsaj1mLmxlbmd0aDtnPGo7ZysrKWVbMF1bZ109bmV3IE9wdGlvbihkW2ddLGZbZ10pO3ZhciBpPWgoXCI8ZGl2PjxsYWJlbC8+PC9kaXY+XCIpLmFkZENsYXNzKGIuc0xlbmd0aCk7XHJcbmEuYWFuRmVhdHVyZXMubHx8KGlbMF0uaWQ9YytcIl9sZW5ndGhcIik7aS5jaGlsZHJlbigpLmFwcGVuZChhLm9MYW5ndWFnZS5zTGVuZ3RoTWVudS5yZXBsYWNlKFwiX01FTlVfXCIsZVswXS5vdXRlckhUTUwpKTtoKFwic2VsZWN0XCIsaSkudmFsKGEuX2lEaXNwbGF5TGVuZ3RoKS5iaW5kKFwiY2hhbmdlLkRUXCIsZnVuY3Rpb24oKXtSYShhLGgodGhpcykudmFsKCkpO08oYSl9KTtoKGEublRhYmxlKS5iaW5kKFwibGVuZ3RoLmR0LkRUXCIsZnVuY3Rpb24oYixjLGQpe2E9PT1jJiZoKFwic2VsZWN0XCIsaSkudmFsKGQpfSk7cmV0dXJuIGlbMF19ZnVuY3Rpb24gdGIoYSl7dmFyIGI9YS5zUGFnaW5hdGlvblR5cGUsYz1tLmV4dC5wYWdlcltiXSxkPVwiZnVuY3Rpb25cIj09PXR5cGVvZiBjLGU9ZnVuY3Rpb24oYSl7TyhhKX0sYj1oKFwiPGRpdi8+XCIpLmFkZENsYXNzKGEub0NsYXNzZXMuc1BhZ2luZytiKVswXSxmPWEuYWFuRmVhdHVyZXM7ZHx8Yy5mbkluaXQoYSxiLGUpO2YucHx8KGIuaWQ9YS5zVGFibGVJZCtcclxuXCJfcGFnaW5hdGVcIixhLmFvRHJhd0NhbGxiYWNrLnB1c2goe2ZuOmZ1bmN0aW9uKGEpe2lmKGQpe3ZhciBiPWEuX2lEaXNwbGF5U3RhcnQsaT1hLl9pRGlzcGxheUxlbmd0aCxoPWEuZm5SZWNvcmRzRGlzcGxheSgpLGw9LTE9PT1pLGI9bD8wOk1hdGguY2VpbChiL2kpLGk9bD8xOk1hdGguY2VpbChoL2kpLGg9YyhiLGkpLGssbD0wO2ZvcihrPWYucC5sZW5ndGg7bDxrO2wrKylQYShhLFwicGFnZUJ1dHRvblwiKShhLGYucFtsXSxsLGgsYixpKX1lbHNlIGMuZm5VcGRhdGUoYSxlKX0sc05hbWU6XCJwYWdpbmF0aW9uXCJ9KSk7cmV0dXJuIGJ9ZnVuY3Rpb24gVGEoYSxiLGMpe3ZhciBkPWEuX2lEaXNwbGF5U3RhcnQsZT1hLl9pRGlzcGxheUxlbmd0aCxmPWEuZm5SZWNvcmRzRGlzcGxheSgpOzA9PT1mfHwtMT09PWU/ZD0wOlwibnVtYmVyXCI9PT10eXBlb2YgYj8oZD1iKmUsZD5mJiYoZD0wKSk6XCJmaXJzdFwiPT1iP2Q9MDpcInByZXZpb3VzXCI9PWI/KGQ9MDw9ZT9kLWU6MCwwPmQmJihkPTApKTpcIm5leHRcIj09XHJcbmI/ZCtlPGYmJihkKz1lKTpcImxhc3RcIj09Yj9kPU1hdGguZmxvb3IoKGYtMSkvZSkqZTpLKGEsMCxcIlVua25vd24gcGFnaW5nIGFjdGlvbjogXCIrYiw1KTtiPWEuX2lEaXNwbGF5U3RhcnQhPT1kO2EuX2lEaXNwbGF5U3RhcnQ9ZDtiJiYodihhLG51bGwsXCJwYWdlXCIsW2FdKSxjJiZPKGEpKTtyZXR1cm4gYn1mdW5jdGlvbiBxYihhKXtyZXR1cm4gaChcIjxkaXYvPlwiLHtpZDohYS5hYW5GZWF0dXJlcy5yP2Euc1RhYmxlSWQrXCJfcHJvY2Vzc2luZ1wiOm51bGwsXCJjbGFzc1wiOmEub0NsYXNzZXMuc1Byb2Nlc3Npbmd9KS5odG1sKGEub0xhbmd1YWdlLnNQcm9jZXNzaW5nKS5pbnNlcnRCZWZvcmUoYS5uVGFibGUpWzBdfWZ1bmN0aW9uIEMoYSxiKXthLm9GZWF0dXJlcy5iUHJvY2Vzc2luZyYmaChhLmFhbkZlYXR1cmVzLnIpLmNzcyhcImRpc3BsYXlcIixiP1wiYmxvY2tcIjpcIm5vbmVcIik7dihhLG51bGwsXCJwcm9jZXNzaW5nXCIsW2EsYl0pfWZ1bmN0aW9uIHJiKGEpe3ZhciBiPWgoYS5uVGFibGUpO2IuYXR0cihcInJvbGVcIixcclxuXCJncmlkXCIpO3ZhciBjPWEub1Njcm9sbDtpZihcIlwiPT09Yy5zWCYmXCJcIj09PWMuc1kpcmV0dXJuIGEublRhYmxlO3ZhciBkPWMuc1gsZT1jLnNZLGY9YS5vQ2xhc3NlcyxnPWIuY2hpbGRyZW4oXCJjYXB0aW9uXCIpLGo9Zy5sZW5ndGg/Z1swXS5fY2FwdGlvblNpZGU6bnVsbCxpPWgoYlswXS5jbG9uZU5vZGUoITEpKSxvPWgoYlswXS5jbG9uZU5vZGUoITEpKSxsPWIuY2hpbGRyZW4oXCJ0Zm9vdFwiKTtsLmxlbmd0aHx8KGw9bnVsbCk7aT1oKFwiPGRpdi8+XCIse1wiY2xhc3NcIjpmLnNTY3JvbGxXcmFwcGVyfSkuYXBwZW5kKGgoXCI8ZGl2Lz5cIix7XCJjbGFzc1wiOmYuc1Njcm9sbEhlYWR9KS5jc3Moe292ZXJmbG93OlwiaGlkZGVuXCIscG9zaXRpb246XCJyZWxhdGl2ZVwiLGJvcmRlcjowLHdpZHRoOmQ/IWQ/bnVsbDp3KGQpOlwiMTAwJVwifSkuYXBwZW5kKGgoXCI8ZGl2Lz5cIix7XCJjbGFzc1wiOmYuc1Njcm9sbEhlYWRJbm5lcn0pLmNzcyh7XCJib3gtc2l6aW5nXCI6XCJjb250ZW50LWJveFwiLHdpZHRoOmMuc1hJbm5lcnx8XHJcblwiMTAwJVwifSkuYXBwZW5kKGkucmVtb3ZlQXR0cihcImlkXCIpLmNzcyhcIm1hcmdpbi1sZWZ0XCIsMCkuYXBwZW5kKFwidG9wXCI9PT1qP2c6bnVsbCkuYXBwZW5kKGIuY2hpbGRyZW4oXCJ0aGVhZFwiKSkpKSkuYXBwZW5kKGgoXCI8ZGl2Lz5cIix7XCJjbGFzc1wiOmYuc1Njcm9sbEJvZHl9KS5jc3Moe3Bvc2l0aW9uOlwicmVsYXRpdmVcIixvdmVyZmxvdzpcImF1dG9cIix3aWR0aDohZD9udWxsOncoZCl9KS5hcHBlbmQoYikpO2wmJmkuYXBwZW5kKGgoXCI8ZGl2Lz5cIix7XCJjbGFzc1wiOmYuc1Njcm9sbEZvb3R9KS5jc3Moe292ZXJmbG93OlwiaGlkZGVuXCIsYm9yZGVyOjAsd2lkdGg6ZD8hZD9udWxsOncoZCk6XCIxMDAlXCJ9KS5hcHBlbmQoaChcIjxkaXYvPlwiLHtcImNsYXNzXCI6Zi5zU2Nyb2xsRm9vdElubmVyfSkuYXBwZW5kKG8ucmVtb3ZlQXR0cihcImlkXCIpLmNzcyhcIm1hcmdpbi1sZWZ0XCIsMCkuYXBwZW5kKFwiYm90dG9tXCI9PT1qP2c6bnVsbCkuYXBwZW5kKGIuY2hpbGRyZW4oXCJ0Zm9vdFwiKSkpKSk7dmFyIGI9aS5jaGlsZHJlbigpLFxyXG5rPWJbMF0sZj1iWzFdLHU9bD9iWzJdOm51bGw7aWYoZCloKGYpLm9uKFwic2Nyb2xsLkRUXCIsZnVuY3Rpb24oKXt2YXIgYT10aGlzLnNjcm9sbExlZnQ7ay5zY3JvbGxMZWZ0PWE7bCYmKHUuc2Nyb2xsTGVmdD1hKX0pO2goZikuY3NzKGUmJmMuYkNvbGxhcHNlP1wibWF4LWhlaWdodFwiOlwiaGVpZ2h0XCIsZSk7YS5uU2Nyb2xsSGVhZD1rO2EublNjcm9sbEJvZHk9ZjthLm5TY3JvbGxGb290PXU7YS5hb0RyYXdDYWxsYmFjay5wdXNoKHtmbjpaLHNOYW1lOlwic2Nyb2xsaW5nXCJ9KTtyZXR1cm4gaVswXX1mdW5jdGlvbiBaKGEpe3ZhciBiPWEub1Njcm9sbCxjPWIuc1gsZD1iLnNYSW5uZXIsZT1iLnNZLGI9Yi5pQmFyV2lkdGgsZj1oKGEublNjcm9sbEhlYWQpLGc9ZlswXS5zdHlsZSxqPWYuY2hpbGRyZW4oXCJkaXZcIiksaT1qWzBdLnN0eWxlLG89ai5jaGlsZHJlbihcInRhYmxlXCIpLGo9YS5uU2Nyb2xsQm9keSxsPWgoaikscT1qLnN0eWxlLHU9aChhLm5TY3JvbGxGb290KS5jaGlsZHJlbihcImRpdlwiKSxcclxubT11LmNoaWxkcmVuKFwidGFibGVcIiksbj1oKGEublRIZWFkKSxwPWgoYS5uVGFibGUpLHQ9cFswXSx2PXQuc3R5bGUscj1hLm5URm9vdD9oKGEublRGb290KTpudWxsLEViPWEub0Jyb3dzZXIsVWE9RWIuYlNjcm9sbE92ZXJzaXplLHMsTCxQLHgseT1bXSx6PVtdLEE9W10sQixDPWZ1bmN0aW9uKGEpe2E9YS5zdHlsZTthLnBhZGRpbmdUb3A9XCIwXCI7YS5wYWRkaW5nQm90dG9tPVwiMFwiO2EuYm9yZGVyVG9wV2lkdGg9XCIwXCI7YS5ib3JkZXJCb3R0b21XaWR0aD1cIjBcIjthLmhlaWdodD0wfTtMPWouc2Nyb2xsSGVpZ2h0PmouY2xpZW50SGVpZ2h0O2lmKGEuc2Nyb2xsQmFyVmlzIT09TCYmYS5zY3JvbGxCYXJWaXMhPT1rKWEuc2Nyb2xsQmFyVmlzPUwsVShhKTtlbHNle2Euc2Nyb2xsQmFyVmlzPUw7cC5jaGlsZHJlbihcInRoZWFkLCB0Zm9vdFwiKS5yZW1vdmUoKTt4PW4uY2xvbmUoKS5wcmVwZW5kVG8ocCk7bj1uLmZpbmQoXCJ0clwiKTtMPXguZmluZChcInRyXCIpO3guZmluZChcInRoLCB0ZFwiKS5yZW1vdmVBdHRyKFwidGFiaW5kZXhcIik7XHJcbnImJihQPXIuY2xvbmUoKS5wcmVwZW5kVG8ocCkscz1yLmZpbmQoXCJ0clwiKSxQPVAuZmluZChcInRyXCIpKTtjfHwocS53aWR0aD1cIjEwMCVcIixmWzBdLnN0eWxlLndpZHRoPVwiMTAwJVwiKTtoLmVhY2gocWEoYSx4KSxmdW5jdGlvbihiLGMpe0I9JChhLGIpO2Muc3R5bGUud2lkdGg9YS5hb0NvbHVtbnNbQl0uc1dpZHRofSk7ciYmSShmdW5jdGlvbihhKXthLnN0eWxlLndpZHRoPVwiXCJ9LFApO2Y9cC5vdXRlcldpZHRoKCk7aWYoXCJcIj09PWMpe3Yud2lkdGg9XCIxMDAlXCI7aWYoVWEmJihwLmZpbmQoXCJ0Ym9keVwiKS5oZWlnaHQoKT5qLm9mZnNldEhlaWdodHx8XCJzY3JvbGxcIj09bC5jc3MoXCJvdmVyZmxvdy15XCIpKSl2LndpZHRoPXcocC5vdXRlcldpZHRoKCktYik7Zj1wLm91dGVyV2lkdGgoKX1lbHNlXCJcIiE9PWQmJih2LndpZHRoPXcoZCksZj1wLm91dGVyV2lkdGgoKSk7SShDLEwpO0koZnVuY3Rpb24oYSl7QS5wdXNoKGEuaW5uZXJIVE1MKTt5LnB1c2godyhoKGEpLmNzcyhcIndpZHRoXCIpKSl9LFxyXG5MKTtJKGZ1bmN0aW9uKGEsYil7YS5zdHlsZS53aWR0aD15W2JdfSxuKTtoKEwpLmhlaWdodCgwKTtyJiYoSShDLFApLEkoZnVuY3Rpb24oYSl7ei5wdXNoKHcoaChhKS5jc3MoXCJ3aWR0aFwiKSkpfSxQKSxJKGZ1bmN0aW9uKGEsYil7YS5zdHlsZS53aWR0aD16W2JdfSxzKSxoKFApLmhlaWdodCgwKSk7SShmdW5jdGlvbihhLGIpe2EuaW5uZXJIVE1MPSc8ZGl2IGNsYXNzPVwiZGF0YVRhYmxlc19zaXppbmdcIiBzdHlsZT1cImhlaWdodDowO292ZXJmbG93OmhpZGRlbjtcIj4nK0FbYl0rXCI8L2Rpdj5cIjthLnN0eWxlLndpZHRoPXlbYl19LEwpO3ImJkkoZnVuY3Rpb24oYSxiKXthLmlubmVySFRNTD1cIlwiO2Euc3R5bGUud2lkdGg9eltiXX0sUCk7aWYocC5vdXRlcldpZHRoKCk8Zil7cz1qLnNjcm9sbEhlaWdodD5qLm9mZnNldEhlaWdodHx8XCJzY3JvbGxcIj09bC5jc3MoXCJvdmVyZmxvdy15XCIpP2YrYjpmO2lmKFVhJiYoai5zY3JvbGxIZWlnaHQ+ai5vZmZzZXRIZWlnaHR8fFwic2Nyb2xsXCI9PWwuY3NzKFwib3ZlcmZsb3cteVwiKSkpdi53aWR0aD1cclxudyhzLWIpOyhcIlwiPT09Y3x8XCJcIiE9PWQpJiZLKGEsMSxcIlBvc3NpYmxlIGNvbHVtbiBtaXNhbGlnbm1lbnRcIiw2KX1lbHNlIHM9XCIxMDAlXCI7cS53aWR0aD13KHMpO2cud2lkdGg9dyhzKTtyJiYoYS5uU2Nyb2xsRm9vdC5zdHlsZS53aWR0aD13KHMpKTshZSYmVWEmJihxLmhlaWdodD13KHQub2Zmc2V0SGVpZ2h0K2IpKTtjPXAub3V0ZXJXaWR0aCgpO29bMF0uc3R5bGUud2lkdGg9dyhjKTtpLndpZHRoPXcoYyk7ZD1wLmhlaWdodCgpPmouY2xpZW50SGVpZ2h0fHxcInNjcm9sbFwiPT1sLmNzcyhcIm92ZXJmbG93LXlcIik7ZT1cInBhZGRpbmdcIisoRWIuYlNjcm9sbGJhckxlZnQ/XCJMZWZ0XCI6XCJSaWdodFwiKTtpW2VdPWQ/YitcInB4XCI6XCIwcHhcIjtyJiYobVswXS5zdHlsZS53aWR0aD13KGMpLHVbMF0uc3R5bGUud2lkdGg9dyhjKSx1WzBdLnN0eWxlW2VdPWQ/YitcInB4XCI6XCIwcHhcIik7bC5zY3JvbGwoKTtpZigoYS5iU29ydGVkfHxhLmJGaWx0ZXJlZCkmJiFhLl9kcmF3SG9sZClqLnNjcm9sbFRvcD1cclxuMH19ZnVuY3Rpb24gSShhLGIsYyl7Zm9yKHZhciBkPTAsZT0wLGY9Yi5sZW5ndGgsZyxqO2U8Zjspe2c9YltlXS5maXJzdENoaWxkO2ZvcihqPWM/Y1tlXS5maXJzdENoaWxkOm51bGw7ZzspMT09PWcubm9kZVR5cGUmJihjP2EoZyxqLGQpOmEoZyxkKSxkKyspLGc9Zy5uZXh0U2libGluZyxqPWM/ai5uZXh0U2libGluZzpudWxsO2UrK319ZnVuY3Rpb24gSGEoYSl7dmFyIGI9YS5uVGFibGUsYz1hLmFvQ29sdW1ucyxkPWEub1Njcm9sbCxlPWQuc1ksZj1kLnNYLGc9ZC5zWElubmVyLGo9Yy5sZW5ndGgsaT1hYShhLFwiYlZpc2libGVcIiksbz1oKFwidGhcIixhLm5USGVhZCksbD1iLmdldEF0dHJpYnV0ZShcIndpZHRoXCIpLGs9Yi5wYXJlbnROb2RlLHU9ITEsbSxuLHA9YS5vQnJvd3NlcixkPXAuYlNjcm9sbE92ZXJzaXplOyhtPWIuc3R5bGUud2lkdGgpJiYtMSE9PW0uaW5kZXhPZihcIiVcIikmJihsPW0pO2ZvcihtPTA7bTxpLmxlbmd0aDttKyspbj1jW2lbbV1dLG51bGwhPT1uLnNXaWR0aCYmXHJcbihuLnNXaWR0aD1GYihuLnNXaWR0aE9yaWcsayksdT0hMCk7aWYoZHx8IXUmJiFmJiYhZSYmaj09Y2EoYSkmJmo9PW8ubGVuZ3RoKWZvcihtPTA7bTxqO20rKylpPSQoYSxtKSxudWxsIT09aSYmKGNbaV0uc1dpZHRoPXcoby5lcShtKS53aWR0aCgpKSk7ZWxzZXtqPWgoYikuY2xvbmUoKS5jc3MoXCJ2aXNpYmlsaXR5XCIsXCJoaWRkZW5cIikucmVtb3ZlQXR0cihcImlkXCIpO2ouZmluZChcInRib2R5IHRyXCIpLnJlbW92ZSgpO3ZhciB0PWgoXCI8dHIvPlwiKS5hcHBlbmRUbyhqLmZpbmQoXCJ0Ym9keVwiKSk7ai5maW5kKFwidGhlYWQsIHRmb290XCIpLnJlbW92ZSgpO2ouYXBwZW5kKGgoYS5uVEhlYWQpLmNsb25lKCkpLmFwcGVuZChoKGEublRGb290KS5jbG9uZSgpKTtqLmZpbmQoXCJ0Zm9vdCB0aCwgdGZvb3QgdGRcIikuY3NzKFwid2lkdGhcIixcIlwiKTtvPXFhKGEsai5maW5kKFwidGhlYWRcIilbMF0pO2ZvcihtPTA7bTxpLmxlbmd0aDttKyspbj1jW2lbbV1dLG9bbV0uc3R5bGUud2lkdGg9bnVsbCE9PW4uc1dpZHRoT3JpZyYmXHJcblwiXCIhPT1uLnNXaWR0aE9yaWc/dyhuLnNXaWR0aE9yaWcpOlwiXCIsbi5zV2lkdGhPcmlnJiZmJiZoKG9bbV0pLmFwcGVuZChoKFwiPGRpdi8+XCIpLmNzcyh7d2lkdGg6bi5zV2lkdGhPcmlnLG1hcmdpbjowLHBhZGRpbmc6MCxib3JkZXI6MCxoZWlnaHQ6MX0pKTtpZihhLmFvRGF0YS5sZW5ndGgpZm9yKG09MDttPGkubGVuZ3RoO20rKyl1PWlbbV0sbj1jW3VdLGgoR2IoYSx1KSkuY2xvbmUoITEpLmFwcGVuZChuLnNDb250ZW50UGFkZGluZykuYXBwZW5kVG8odCk7bj1oKFwiPGRpdi8+XCIpLmNzcyhmfHxlP3twb3NpdGlvbjpcImFic29sdXRlXCIsdG9wOjAsbGVmdDowLGhlaWdodDoxLHJpZ2h0OjAsb3ZlcmZsb3c6XCJoaWRkZW5cIn06e30pLmFwcGVuZChqKS5hcHBlbmRUbyhrKTtmJiZnP2oud2lkdGgoZyk6Zj8oai5jc3MoXCJ3aWR0aFwiLFwiYXV0b1wiKSxqLnJlbW92ZUF0dHIoXCJ3aWR0aFwiKSxqLndpZHRoKCk8ay5jbGllbnRXaWR0aCYmbCYmai53aWR0aChrLmNsaWVudFdpZHRoKSk6ZT9qLndpZHRoKGsuY2xpZW50V2lkdGgpOlxyXG5sJiZqLndpZHRoKGwpO2ZvcihtPWU9MDttPGkubGVuZ3RoO20rKylrPWgob1ttXSksZz1rLm91dGVyV2lkdGgoKS1rLndpZHRoKCksaz1wLmJCb3VuZGluZz9NYXRoLmNlaWwob1ttXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCk6ay5vdXRlcldpZHRoKCksZSs9ayxjW2lbbV1dLnNXaWR0aD13KGstZyk7Yi5zdHlsZS53aWR0aD13KGUpO24ucmVtb3ZlKCl9bCYmKGIuc3R5bGUud2lkdGg9dyhsKSk7aWYoKGx8fGYpJiYhYS5fcmVzekV2dCliPWZ1bmN0aW9uKCl7aChFKS5iaW5kKFwicmVzaXplLkRULVwiK2Euc0luc3RhbmNlLHVhKGZ1bmN0aW9uKCl7VShhKX0pKX0sZD9zZXRUaW1lb3V0KGIsMUUzKTpiKCksYS5fcmVzekV2dD0hMH1mdW5jdGlvbiB1YShhLGIpe3ZhciBjPWIhPT1rP2I6MjAwLGQsZTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYj10aGlzLGc9K25ldyBEYXRlLGo9YXJndW1lbnRzO2QmJmc8ZCtjPyhjbGVhclRpbWVvdXQoZSksZT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZD1cclxuazthLmFwcGx5KGIsail9LGMpKTooZD1nLGEuYXBwbHkoYixqKSl9fWZ1bmN0aW9uIEZiKGEsYil7aWYoIWEpcmV0dXJuIDA7dmFyIGM9aChcIjxkaXYvPlwiKS5jc3MoXCJ3aWR0aFwiLHcoYSkpLmFwcGVuZFRvKGJ8fEguYm9keSksZD1jWzBdLm9mZnNldFdpZHRoO2MucmVtb3ZlKCk7cmV0dXJuIGR9ZnVuY3Rpb24gR2IoYSxiKXt2YXIgYz1IYihhLGIpO2lmKDA+YylyZXR1cm4gbnVsbDt2YXIgZD1hLmFvRGF0YVtjXTtyZXR1cm4hZC5uVHI/aChcIjx0ZC8+XCIpLmh0bWwoQihhLGMsYixcImRpc3BsYXlcIikpWzBdOmQuYW5DZWxsc1tiXX1mdW5jdGlvbiBIYihhLGIpe2Zvcih2YXIgYyxkPS0xLGU9LTEsZj0wLGc9YS5hb0RhdGEubGVuZ3RoO2Y8ZztmKyspYz1CKGEsZixiLFwiZGlzcGxheVwiKStcIlwiLGM9Yy5yZXBsYWNlKCRiLFwiXCIpLGM9Yy5yZXBsYWNlKC8mbmJzcDsvZyxcIiBcIiksYy5sZW5ndGg+ZCYmKGQ9Yy5sZW5ndGgsZT1mKTtyZXR1cm4gZX1mdW5jdGlvbiB3KGEpe3JldHVybiBudWxsPT09XHJcbmE/XCIwcHhcIjpcIm51bWJlclwiPT10eXBlb2YgYT8wPmE/XCIwcHhcIjphK1wicHhcIjphLm1hdGNoKC9cXGQkLyk/YStcInB4XCI6YX1mdW5jdGlvbiBXKGEpe3ZhciBiLGMsZD1bXSxlPWEuYW9Db2x1bW5zLGYsZyxqLGk7Yj1hLmFhU29ydGluZ0ZpeGVkO2M9aC5pc1BsYWluT2JqZWN0KGIpO3ZhciBvPVtdO2Y9ZnVuY3Rpb24oYSl7YS5sZW5ndGgmJiFoLmlzQXJyYXkoYVswXSk/by5wdXNoKGEpOmgubWVyZ2UobyxhKX07aC5pc0FycmF5KGIpJiZmKGIpO2MmJmIucHJlJiZmKGIucHJlKTtmKGEuYWFTb3J0aW5nKTtjJiZiLnBvc3QmJmYoYi5wb3N0KTtmb3IoYT0wO2E8by5sZW5ndGg7YSsrKXtpPW9bYV1bMF07Zj1lW2ldLmFEYXRhU29ydDtiPTA7Zm9yKGM9Zi5sZW5ndGg7YjxjO2IrKylnPWZbYl0saj1lW2ddLnNUeXBlfHxcInN0cmluZ1wiLG9bYV0uX2lkeD09PWsmJihvW2FdLl9pZHg9aC5pbkFycmF5KG9bYV1bMV0sZVtnXS5hc1NvcnRpbmcpKSxkLnB1c2goe3NyYzppLGNvbDpnLGRpcjpvW2FdWzFdLFxyXG5pbmRleDpvW2FdLl9pZHgsdHlwZTpqLGZvcm1hdHRlcjptLmV4dC50eXBlLm9yZGVyW2orXCItcHJlXCJdfSl9cmV0dXJuIGR9ZnVuY3Rpb24gbWIoYSl7dmFyIGIsYyxkPVtdLGU9bS5leHQudHlwZS5vcmRlcixmPWEuYW9EYXRhLGc9MCxqLGk9YS5haURpc3BsYXlNYXN0ZXIsaDtJYShhKTtoPVcoYSk7Yj0wO2ZvcihjPWgubGVuZ3RoO2I8YztiKyspaj1oW2JdLGouZm9ybWF0dGVyJiZnKyssSWIoYSxqLmNvbCk7aWYoXCJzc3BcIiE9eShhKSYmMCE9PWgubGVuZ3RoKXtiPTA7Zm9yKGM9aS5sZW5ndGg7YjxjO2IrKylkW2lbYl1dPWI7Zz09PWgubGVuZ3RoP2kuc29ydChmdW5jdGlvbihhLGIpe3ZhciBjLGUsZyxqLGk9aC5sZW5ndGgsaz1mW2FdLl9hU29ydERhdGEsbT1mW2JdLl9hU29ydERhdGE7Zm9yKGc9MDtnPGk7ZysrKWlmKGo9aFtnXSxjPWtbai5jb2xdLGU9bVtqLmNvbF0sYz1jPGU/LTE6Yz5lPzE6MCwwIT09YylyZXR1cm5cImFzY1wiPT09ai5kaXI/YzotYztjPWRbYV07ZT1kW2JdO1xyXG5yZXR1cm4gYzxlPy0xOmM+ZT8xOjB9KTppLnNvcnQoZnVuY3Rpb24oYSxiKXt2YXIgYyxnLGosaSxrPWgubGVuZ3RoLG09ZlthXS5fYVNvcnREYXRhLHA9ZltiXS5fYVNvcnREYXRhO2ZvcihqPTA7ajxrO2orKylpZihpPWhbal0sYz1tW2kuY29sXSxnPXBbaS5jb2xdLGk9ZVtpLnR5cGUrXCItXCIraS5kaXJdfHxlW1wic3RyaW5nLVwiK2kuZGlyXSxjPWkoYyxnKSwwIT09YylyZXR1cm4gYztjPWRbYV07Zz1kW2JdO3JldHVybiBjPGc/LTE6Yz5nPzE6MH0pfWEuYlNvcnRlZD0hMH1mdW5jdGlvbiBKYihhKXtmb3IodmFyIGIsYyxkPWEuYW9Db2x1bW5zLGU9VyhhKSxhPWEub0xhbmd1YWdlLm9BcmlhLGY9MCxnPWQubGVuZ3RoO2Y8ZztmKyspe2M9ZFtmXTt2YXIgaj1jLmFzU29ydGluZztiPWMuc1RpdGxlLnJlcGxhY2UoLzwuKj8+L2csXCJcIik7dmFyIGk9Yy5uVGg7aS5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLXNvcnRcIik7Yy5iU29ydGFibGUmJigwPGUubGVuZ3RoJiZlWzBdLmNvbD09Zj8oaS5zZXRBdHRyaWJ1dGUoXCJhcmlhLXNvcnRcIixcclxuXCJhc2NcIj09ZVswXS5kaXI/XCJhc2NlbmRpbmdcIjpcImRlc2NlbmRpbmdcIiksYz1qW2VbMF0uaW5kZXgrMV18fGpbMF0pOmM9alswXSxiKz1cImFzY1wiPT09Yz9hLnNTb3J0QXNjZW5kaW5nOmEuc1NvcnREZXNjZW5kaW5nKTtpLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIixiKX19ZnVuY3Rpb24gVmEoYSxiLGMsZCl7dmFyIGU9YS5hYVNvcnRpbmcsZj1hLmFvQ29sdW1uc1tiXS5hc1NvcnRpbmcsZz1mdW5jdGlvbihhLGIpe3ZhciBjPWEuX2lkeDtjPT09ayYmKGM9aC5pbkFycmF5KGFbMV0sZikpO3JldHVybiBjKzE8Zi5sZW5ndGg/YysxOmI/bnVsbDowfTtcIm51bWJlclwiPT09dHlwZW9mIGVbMF0mJihlPWEuYWFTb3J0aW5nPVtlXSk7YyYmYS5vRmVhdHVyZXMuYlNvcnRNdWx0aT8oYz1oLmluQXJyYXkoYixEKGUsXCIwXCIpKSwtMSE9PWM/KGI9ZyhlW2NdLCEwKSxudWxsPT09YiYmMT09PWUubGVuZ3RoJiYoYj0wKSxudWxsPT09Yj9lLnNwbGljZShjLDEpOihlW2NdWzFdPWZbYl0sZVtjXS5faWR4PVxyXG5iKSk6KGUucHVzaChbYixmWzBdLDBdKSxlW2UubGVuZ3RoLTFdLl9pZHg9MCkpOmUubGVuZ3RoJiZlWzBdWzBdPT1iPyhiPWcoZVswXSksZS5sZW5ndGg9MSxlWzBdWzFdPWZbYl0sZVswXS5faWR4PWIpOihlLmxlbmd0aD0wLGUucHVzaChbYixmWzBdXSksZVswXS5faWR4PTApO1QoYSk7XCJmdW5jdGlvblwiPT10eXBlb2YgZCYmZChhKX1mdW5jdGlvbiBPYShhLGIsYyxkKXt2YXIgZT1hLmFvQ29sdW1uc1tjXTtXYShiLHt9LGZ1bmN0aW9uKGIpeyExIT09ZS5iU29ydGFibGUmJihhLm9GZWF0dXJlcy5iUHJvY2Vzc2luZz8oQyhhLCEwKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7VmEoYSxjLGIuc2hpZnRLZXksZCk7XCJzc3BcIiE9PXkoYSkmJkMoYSwhMSl9LDApKTpWYShhLGMsYi5zaGlmdEtleSxkKSl9KX1mdW5jdGlvbiB4YShhKXt2YXIgYj1hLmFMYXN0U29ydCxjPWEub0NsYXNzZXMuc1NvcnRDb2x1bW4sZD1XKGEpLGU9YS5vRmVhdHVyZXMsZixnO2lmKGUuYlNvcnQmJmUuYlNvcnRDbGFzc2VzKXtlPVxyXG4wO2ZvcihmPWIubGVuZ3RoO2U8ZjtlKyspZz1iW2VdLnNyYyxoKEQoYS5hb0RhdGEsXCJhbkNlbGxzXCIsZykpLnJlbW92ZUNsYXNzKGMrKDI+ZT9lKzE6MykpO2U9MDtmb3IoZj1kLmxlbmd0aDtlPGY7ZSsrKWc9ZFtlXS5zcmMsaChEKGEuYW9EYXRhLFwiYW5DZWxsc1wiLGcpKS5hZGRDbGFzcyhjKygyPmU/ZSsxOjMpKX1hLmFMYXN0U29ydD1kfWZ1bmN0aW9uIEliKGEsYil7dmFyIGM9YS5hb0NvbHVtbnNbYl0sZD1tLmV4dC5vcmRlcltjLnNTb3J0RGF0YVR5cGVdLGU7ZCYmKGU9ZC5jYWxsKGEub0luc3RhbmNlLGEsYixiYShhLGIpKSk7Zm9yKHZhciBmLGc9bS5leHQudHlwZS5vcmRlcltjLnNUeXBlK1wiLXByZVwiXSxqPTAsaT1hLmFvRGF0YS5sZW5ndGg7ajxpO2orKylpZihjPWEuYW9EYXRhW2pdLGMuX2FTb3J0RGF0YXx8KGMuX2FTb3J0RGF0YT1bXSksIWMuX2FTb3J0RGF0YVtiXXx8ZClmPWQ/ZVtqXTpCKGEsaixiLFwic29ydFwiKSxjLl9hU29ydERhdGFbYl09Zz9nKGYpOmZ9ZnVuY3Rpb24geWEoYSl7aWYoYS5vRmVhdHVyZXMuYlN0YXRlU2F2ZSYmXHJcbiFhLmJEZXN0cm95aW5nKXt2YXIgYj17dGltZTorbmV3IERhdGUsc3RhcnQ6YS5faURpc3BsYXlTdGFydCxsZW5ndGg6YS5faURpc3BsYXlMZW5ndGgsb3JkZXI6aC5leHRlbmQoITAsW10sYS5hYVNvcnRpbmcpLHNlYXJjaDpBYihhLm9QcmV2aW91c1NlYXJjaCksY29sdW1uczpoLm1hcChhLmFvQ29sdW1ucyxmdW5jdGlvbihiLGQpe3JldHVybnt2aXNpYmxlOmIuYlZpc2libGUsc2VhcmNoOkFiKGEuYW9QcmVTZWFyY2hDb2xzW2RdKX19KX07dihhLFwiYW9TdGF0ZVNhdmVQYXJhbXNcIixcInN0YXRlU2F2ZVBhcmFtc1wiLFthLGJdKTthLm9TYXZlZFN0YXRlPWI7YS5mblN0YXRlU2F2ZUNhbGxiYWNrLmNhbGwoYS5vSW5zdGFuY2UsYSxiKX19ZnVuY3Rpb24gS2IoYSl7dmFyIGIsYyxkPWEuYW9Db2x1bW5zO2lmKGEub0ZlYXR1cmVzLmJTdGF0ZVNhdmUpe3ZhciBlPWEuZm5TdGF0ZUxvYWRDYWxsYmFjay5jYWxsKGEub0luc3RhbmNlLGEpO2lmKGUmJmUudGltZSYmKGI9dihhLFwiYW9TdGF0ZUxvYWRQYXJhbXNcIixcclxuXCJzdGF0ZUxvYWRQYXJhbXNcIixbYSxlXSksLTE9PT1oLmluQXJyYXkoITEsYikmJihiPWEuaVN0YXRlRHVyYXRpb24sISgwPGImJmUudGltZTwrbmV3IERhdGUtMUUzKmIpJiZkLmxlbmd0aD09PWUuY29sdW1ucy5sZW5ndGgpKSl7YS5vTG9hZGVkU3RhdGU9aC5leHRlbmQoITAse30sZSk7ZS5zdGFydCE9PWsmJihhLl9pRGlzcGxheVN0YXJ0PWUuc3RhcnQsYS5pSW5pdERpc3BsYXlTdGFydD1lLnN0YXJ0KTtlLmxlbmd0aCE9PWsmJihhLl9pRGlzcGxheUxlbmd0aD1lLmxlbmd0aCk7ZS5vcmRlciE9PWsmJihhLmFhU29ydGluZz1bXSxoLmVhY2goZS5vcmRlcixmdW5jdGlvbihiLGMpe2EuYWFTb3J0aW5nLnB1c2goY1swXT49ZC5sZW5ndGg/WzAsY1sxXV06Yyl9KSk7ZS5zZWFyY2ghPT1rJiZoLmV4dGVuZChhLm9QcmV2aW91c1NlYXJjaCxCYihlLnNlYXJjaCkpO2I9MDtmb3IoYz1lLmNvbHVtbnMubGVuZ3RoO2I8YztiKyspe3ZhciBmPWUuY29sdW1uc1tiXTtmLnZpc2libGUhPT1cclxuayYmKGRbYl0uYlZpc2libGU9Zi52aXNpYmxlKTtmLnNlYXJjaCE9PWsmJmguZXh0ZW5kKGEuYW9QcmVTZWFyY2hDb2xzW2JdLEJiKGYuc2VhcmNoKSl9dihhLFwiYW9TdGF0ZUxvYWRlZFwiLFwic3RhdGVMb2FkZWRcIixbYSxlXSl9fX1mdW5jdGlvbiB6YShhKXt2YXIgYj1tLnNldHRpbmdzLGE9aC5pbkFycmF5KGEsRChiLFwiblRhYmxlXCIpKTtyZXR1cm4tMSE9PWE/YlthXTpudWxsfWZ1bmN0aW9uIEsoYSxiLGMsZCl7Yz1cIkRhdGFUYWJsZXMgd2FybmluZzogXCIrKGE/XCJ0YWJsZSBpZD1cIithLnNUYWJsZUlkK1wiIC0gXCI6XCJcIikrYztkJiYoYys9XCIuIEZvciBtb3JlIGluZm9ybWF0aW9uIGFib3V0IHRoaXMgZXJyb3IsIHBsZWFzZSBzZWUgaHR0cDovL2RhdGF0YWJsZXMubmV0L3RuL1wiK2QpO2lmKGIpRS5jb25zb2xlJiZjb25zb2xlLmxvZyYmY29uc29sZS5sb2coYyk7ZWxzZSBpZihiPW0uZXh0LGI9Yi5zRXJyTW9kZXx8Yi5lcnJNb2RlLGEmJnYoYSxudWxsLFwiZXJyb3JcIixbYSxkLGNdKSxcImFsZXJ0XCI9PVxyXG5iKWFsZXJ0KGMpO2Vsc2V7aWYoXCJ0aHJvd1wiPT1iKXRocm93IEVycm9yKGMpO1wiZnVuY3Rpb25cIj09dHlwZW9mIGImJmIoYSxkLGMpfX1mdW5jdGlvbiBGKGEsYixjLGQpe2guaXNBcnJheShjKT9oLmVhY2goYyxmdW5jdGlvbihjLGQpe2guaXNBcnJheShkKT9GKGEsYixkWzBdLGRbMV0pOkYoYSxiLGQpfSk6KGQ9PT1rJiYoZD1jKSxiW2NdIT09ayYmKGFbZF09YltjXSkpfWZ1bmN0aW9uIExiKGEsYixjKXt2YXIgZCxlO2ZvcihlIGluIGIpYi5oYXNPd25Qcm9wZXJ0eShlKSYmKGQ9YltlXSxoLmlzUGxhaW5PYmplY3QoZCk/KGguaXNQbGFpbk9iamVjdChhW2VdKXx8KGFbZV09e30pLGguZXh0ZW5kKCEwLGFbZV0sZCkpOmFbZV09YyYmXCJkYXRhXCIhPT1lJiZcImFhRGF0YVwiIT09ZSYmaC5pc0FycmF5KGQpP2Quc2xpY2UoKTpkKTtyZXR1cm4gYX1mdW5jdGlvbiBXYShhLGIsYyl7aChhKS5iaW5kKFwiY2xpY2suRFRcIixiLGZ1bmN0aW9uKGIpe2EuYmx1cigpO2MoYil9KS5iaW5kKFwia2V5cHJlc3MuRFRcIixcclxuYixmdW5jdGlvbihhKXsxMz09PWEud2hpY2gmJihhLnByZXZlbnREZWZhdWx0KCksYyhhKSl9KS5iaW5kKFwic2VsZWN0c3RhcnQuRFRcIixmdW5jdGlvbigpe3JldHVybiExfSl9ZnVuY3Rpb24geihhLGIsYyxkKXtjJiZhW2JdLnB1c2goe2ZuOmMsc05hbWU6ZH0pfWZ1bmN0aW9uIHYoYSxiLGMsZCl7dmFyIGU9W107YiYmKGU9aC5tYXAoYVtiXS5zbGljZSgpLnJldmVyc2UoKSxmdW5jdGlvbihiKXtyZXR1cm4gYi5mbi5hcHBseShhLm9JbnN0YW5jZSxkKX0pKTtudWxsIT09YyYmKGI9aC5FdmVudChjK1wiLmR0XCIpLGgoYS5uVGFibGUpLnRyaWdnZXIoYixkKSxlLnB1c2goYi5yZXN1bHQpKTtyZXR1cm4gZX1mdW5jdGlvbiBTYShhKXt2YXIgYj1hLl9pRGlzcGxheVN0YXJ0LGM9YS5mbkRpc3BsYXlFbmQoKSxkPWEuX2lEaXNwbGF5TGVuZ3RoO2I+PWMmJihiPWMtZCk7Yi09YiVkO2lmKC0xPT09ZHx8MD5iKWI9MDthLl9pRGlzcGxheVN0YXJ0PWJ9ZnVuY3Rpb24gUGEoYSxiKXt2YXIgYz1cclxuYS5yZW5kZXJlcixkPW0uZXh0LnJlbmRlcmVyW2JdO3JldHVybiBoLmlzUGxhaW5PYmplY3QoYykmJmNbYl0/ZFtjW2JdXXx8ZC5fOlwic3RyaW5nXCI9PT10eXBlb2YgYz9kW2NdfHxkLl86ZC5ffWZ1bmN0aW9uIHkoYSl7cmV0dXJuIGEub0ZlYXR1cmVzLmJTZXJ2ZXJTaWRlP1wic3NwXCI6YS5hamF4fHxhLnNBamF4U291cmNlP1wiYWpheFwiOlwiZG9tXCJ9ZnVuY3Rpb24gQWEoYSxiKXt2YXIgYz1bXSxjPU1iLm51bWJlcnNfbGVuZ3RoLGQ9TWF0aC5mbG9vcihjLzIpO2I8PWM/Yz1YKDAsYik6YTw9ZD8oYz1YKDAsYy0yKSxjLnB1c2goXCJlbGxpcHNpc1wiKSxjLnB1c2goYi0xKSk6KGE+PWItMS1kP2M9WChiLShjLTIpLGIpOihjPVgoYS1kKzIsYStkLTEpLGMucHVzaChcImVsbGlwc2lzXCIpLGMucHVzaChiLTEpKSxjLnNwbGljZSgwLDAsXCJlbGxpcHNpc1wiKSxjLnNwbGljZSgwLDAsMCkpO2MuRFRfZWw9XCJzcGFuXCI7cmV0dXJuIGN9ZnVuY3Rpb24gZGIoYSl7aC5lYWNoKHtudW06ZnVuY3Rpb24oYil7cmV0dXJuIEJhKGIsXHJcbmEpfSxcIm51bS1mbXRcIjpmdW5jdGlvbihiKXtyZXR1cm4gQmEoYixhLFhhKX0sXCJodG1sLW51bVwiOmZ1bmN0aW9uKGIpe3JldHVybiBCYShiLGEsQ2EpfSxcImh0bWwtbnVtLWZtdFwiOmZ1bmN0aW9uKGIpe3JldHVybiBCYShiLGEsQ2EsWGEpfX0sZnVuY3Rpb24oYixjKXtzLnR5cGUub3JkZXJbYithK1wiLXByZVwiXT1jO2IubWF0Y2goL15odG1sXFwtLykmJihzLnR5cGUuc2VhcmNoW2IrYV09cy50eXBlLnNlYXJjaC5odG1sKX0pfWZ1bmN0aW9uIE5iKGEpe3JldHVybiBmdW5jdGlvbigpe3ZhciBiPVt6YSh0aGlzW20uZXh0LmlBcGlJbmRleF0pXS5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk7cmV0dXJuIG0uZXh0LmludGVybmFsW2FdLmFwcGx5KHRoaXMsYil9fXZhciBtLHMsdCxwLHIsWWE9e30sT2I9L1tcXHJcXG5dL2csQ2E9LzwuKj8+L2csYWM9L15bXFx3XFwrXFwtXS8sYmM9L1tcXHdcXCtcXC1dJC8sWWI9UmVnRXhwKFwiKFxcXFwvfFxcXFwufFxcXFwqfFxcXFwrfFxcXFw/fFxcXFx8fFxcXFwofFxcXFwpfFxcXFxbfFxcXFxdfFxcXFx7fFxcXFx9fFxcXFxcXFxcfFxcXFwkfFxcXFxefFxcXFwtKVwiLFxyXG5cImdcIiksWGE9L1snLCTCo+KCrMKlJVxcdTIwMDlcXHUyMDJGXFx1MjBCRFxcdTIwYTlcXHUyMEJBcmZrXS9naSxNPWZ1bmN0aW9uKGEpe3JldHVybiFhfHwhMD09PWF8fFwiLVwiPT09YT8hMDohMX0sUGI9ZnVuY3Rpb24oYSl7dmFyIGI9cGFyc2VJbnQoYSwxMCk7cmV0dXJuIWlzTmFOKGIpJiZpc0Zpbml0ZShhKT9iOm51bGx9LFFiPWZ1bmN0aW9uKGEsYil7WWFbYl18fChZYVtiXT1SZWdFeHAodmEoYiksXCJnXCIpKTtyZXR1cm5cInN0cmluZ1wiPT09dHlwZW9mIGEmJlwiLlwiIT09Yj9hLnJlcGxhY2UoL1xcLi9nLFwiXCIpLnJlcGxhY2UoWWFbYl0sXCIuXCIpOmF9LFphPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1cInN0cmluZ1wiPT09dHlwZW9mIGE7aWYoTShhKSlyZXR1cm4hMDtiJiZkJiYoYT1RYihhLGIpKTtjJiZkJiYoYT1hLnJlcGxhY2UoWGEsXCJcIikpO3JldHVybiFpc05hTihwYXJzZUZsb2F0KGEpKSYmaXNGaW5pdGUoYSl9LFJiPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gTShhKT8hMDohKE0oYSl8fFwic3RyaW5nXCI9PT1cclxudHlwZW9mIGEpP251bGw6WmEoYS5yZXBsYWNlKENhLFwiXCIpLGIsYyk/ITA6bnVsbH0sRD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9W10sZT0wLGY9YS5sZW5ndGg7aWYoYyE9PWspZm9yKDtlPGY7ZSsrKWFbZV0mJmFbZV1bYl0mJmQucHVzaChhW2VdW2JdW2NdKTtlbHNlIGZvcig7ZTxmO2UrKylhW2VdJiZkLnB1c2goYVtlXVtiXSk7cmV0dXJuIGR9LGphPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPVtdLGY9MCxnPWIubGVuZ3RoO2lmKGQhPT1rKWZvcig7ZjxnO2YrKylhW2JbZl1dW2NdJiZlLnB1c2goYVtiW2ZdXVtjXVtkXSk7ZWxzZSBmb3IoO2Y8ZztmKyspZS5wdXNoKGFbYltmXV1bY10pO3JldHVybiBlfSxYPWZ1bmN0aW9uKGEsYil7dmFyIGM9W10sZDtiPT09az8oYj0wLGQ9YSk6KGQ9YixiPWEpO2Zvcih2YXIgZT1iO2U8ZDtlKyspYy5wdXNoKGUpO3JldHVybiBjfSxTYj1mdW5jdGlvbihhKXtmb3IodmFyIGI9W10sYz0wLGQ9YS5sZW5ndGg7YzxkO2MrKylhW2NdJiZiLnB1c2goYVtjXSk7XHJcbnJldHVybiBifSxwYT1mdW5jdGlvbihhKXt2YXIgYj1bXSxjLGQsZT1hLmxlbmd0aCxmLGc9MDtkPTA7YTpmb3IoO2Q8ZTtkKyspe2M9YVtkXTtmb3IoZj0wO2Y8ZztmKyspaWYoYltmXT09PWMpY29udGludWUgYTtiLnB1c2goYyk7ZysrfXJldHVybiBifSxBPWZ1bmN0aW9uKGEsYixjKXthW2JdIT09ayYmKGFbY109YVtiXSl9LGRhPS9cXFsuKj9cXF0kLyxWPS9cXChcXCkkLyx3YT1oKFwiPGRpdj5cIilbMF0sWmI9d2EudGV4dENvbnRlbnQhPT1rLCRiPS88Lio/Pi9nO209ZnVuY3Rpb24oYSl7dGhpcy4kPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuYXBpKCEwKS4kKGEsYil9O3RoaXMuXz1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmFwaSghMCkucm93cyhhLGIpLmRhdGEoKX07dGhpcy5hcGk9ZnVuY3Rpb24oYSl7cmV0dXJuIGE/bmV3IHQoemEodGhpc1tzLmlBcGlJbmRleF0pKTpuZXcgdCh0aGlzKX07dGhpcy5mbkFkZERhdGE9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmFwaSghMCksXHJcbmQ9aC5pc0FycmF5KGEpJiYoaC5pc0FycmF5KGFbMF0pfHxoLmlzUGxhaW5PYmplY3QoYVswXSkpP2Mucm93cy5hZGQoYSk6Yy5yb3cuYWRkKGEpOyhiPT09a3x8YikmJmMuZHJhdygpO3JldHVybiBkLmZsYXR0ZW4oKS50b0FycmF5KCl9O3RoaXMuZm5BZGp1c3RDb2x1bW5TaXppbmc9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5hcGkoITApLmNvbHVtbnMuYWRqdXN0KCksYz1iLnNldHRpbmdzKClbMF0sZD1jLm9TY3JvbGw7YT09PWt8fGE/Yi5kcmF3KCExKTooXCJcIiE9PWQuc1h8fFwiXCIhPT1kLnNZKSYmWihjKX07dGhpcy5mbkNsZWFyVGFibGU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5hcGkoITApLmNsZWFyKCk7KGE9PT1rfHxhKSYmYi5kcmF3KCl9O3RoaXMuZm5DbG9zZT1mdW5jdGlvbihhKXt0aGlzLmFwaSghMCkucm93KGEpLmNoaWxkLmhpZGUoKX07dGhpcy5mbkRlbGV0ZVJvdz1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5hcGkoITApLGE9ZC5yb3dzKGEpLGU9YS5zZXR0aW5ncygpWzBdLFxyXG5oPWUuYW9EYXRhW2FbMF1bMF1dO2EucmVtb3ZlKCk7YiYmYi5jYWxsKHRoaXMsZSxoKTsoYz09PWt8fGMpJiZkLmRyYXcoKTtyZXR1cm4gaH07dGhpcy5mbkRlc3Ryb3k9ZnVuY3Rpb24oYSl7dGhpcy5hcGkoITApLmRlc3Ryb3koYSl9O3RoaXMuZm5EcmF3PWZ1bmN0aW9uKGEpe3RoaXMuYXBpKCEwKS5kcmF3KGEpfTt0aGlzLmZuRmlsdGVyPWZ1bmN0aW9uKGEsYixjLGQsZSxoKXtlPXRoaXMuYXBpKCEwKTtudWxsPT09Ynx8Yj09PWs/ZS5zZWFyY2goYSxjLGQsaCk6ZS5jb2x1bW4oYikuc2VhcmNoKGEsYyxkLGgpO2UuZHJhdygpfTt0aGlzLmZuR2V0RGF0YT1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuYXBpKCEwKTtpZihhIT09ayl7dmFyIGQ9YS5ub2RlTmFtZT9hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk6XCJcIjtyZXR1cm4gYiE9PWt8fFwidGRcIj09ZHx8XCJ0aFwiPT1kP2MuY2VsbChhLGIpLmRhdGEoKTpjLnJvdyhhKS5kYXRhKCl8fG51bGx9cmV0dXJuIGMuZGF0YSgpLnRvQXJyYXkoKX07XHJcbnRoaXMuZm5HZXROb2Rlcz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmFwaSghMCk7cmV0dXJuIGEhPT1rP2Iucm93KGEpLm5vZGUoKTpiLnJvd3MoKS5ub2RlcygpLmZsYXR0ZW4oKS50b0FycmF5KCl9O3RoaXMuZm5HZXRQb3NpdGlvbj1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmFwaSghMCksYz1hLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCk7cmV0dXJuXCJUUlwiPT1jP2Iucm93KGEpLmluZGV4KCk6XCJURFwiPT1jfHxcIlRIXCI9PWM/KGE9Yi5jZWxsKGEpLmluZGV4KCksW2Eucm93LGEuY29sdW1uVmlzaWJsZSxhLmNvbHVtbl0pOm51bGx9O3RoaXMuZm5Jc09wZW49ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYXBpKCEwKS5yb3coYSkuY2hpbGQuaXNTaG93bigpfTt0aGlzLmZuT3Blbj1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMuYXBpKCEwKS5yb3coYSkuY2hpbGQoYixjKS5zaG93KCkuY2hpbGQoKVswXX07dGhpcy5mblBhZ2VDaGFuZ2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmFwaSghMCkucGFnZShhKTtcclxuKGI9PT1rfHxiKSYmYy5kcmF3KCExKX07dGhpcy5mblNldENvbHVtblZpcz1mdW5jdGlvbihhLGIsYyl7YT10aGlzLmFwaSghMCkuY29sdW1uKGEpLnZpc2libGUoYik7KGM9PT1rfHxjKSYmYS5jb2x1bW5zLmFkanVzdCgpLmRyYXcoKX07dGhpcy5mblNldHRpbmdzPWZ1bmN0aW9uKCl7cmV0dXJuIHphKHRoaXNbcy5pQXBpSW5kZXhdKX07dGhpcy5mblNvcnQ9ZnVuY3Rpb24oYSl7dGhpcy5hcGkoITApLm9yZGVyKGEpLmRyYXcoKX07dGhpcy5mblNvcnRMaXN0ZW5lcj1mdW5jdGlvbihhLGIsYyl7dGhpcy5hcGkoITApLm9yZGVyLmxpc3RlbmVyKGEsYixjKX07dGhpcy5mblVwZGF0ZT1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBoPXRoaXMuYXBpKCEwKTtjPT09a3x8bnVsbD09PWM/aC5yb3coYikuZGF0YShhKTpoLmNlbGwoYixjKS5kYXRhKGEpOyhlPT09a3x8ZSkmJmguY29sdW1ucy5hZGp1c3QoKTsoZD09PWt8fGQpJiZoLmRyYXcoKTtyZXR1cm4gMH07dGhpcy5mblZlcnNpb25DaGVjaz1cclxucy5mblZlcnNpb25DaGVjazt2YXIgYj10aGlzLGM9YT09PWssZD10aGlzLmxlbmd0aDtjJiYoYT17fSk7dGhpcy5vQXBpPXRoaXMuaW50ZXJuYWw9cy5pbnRlcm5hbDtmb3IodmFyIGUgaW4gbS5leHQuaW50ZXJuYWwpZSYmKHRoaXNbZV09TmIoZSkpO3RoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBlPXt9LGU9MTxkP0xiKGUsYSwhMCk6YSxnPTAsaixpPXRoaXMuZ2V0QXR0cmlidXRlKFwiaWRcIiksbz0hMSxsPW0uZGVmYXVsdHMscT1oKHRoaXMpO2lmKFwidGFibGVcIiE9dGhpcy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKUsobnVsbCwwLFwiTm9uLXRhYmxlIG5vZGUgaW5pdGlhbGlzYXRpb24gKFwiK3RoaXMubm9kZU5hbWUrXCIpXCIsMik7ZWxzZXtlYihsKTtmYihsLmNvbHVtbik7SihsLGwsITApO0oobC5jb2x1bW4sbC5jb2x1bW4sITApO0oobCxoLmV4dGVuZChlLHEuZGF0YSgpKSk7dmFyIHU9bS5zZXR0aW5ncyxnPTA7Zm9yKGo9dS5sZW5ndGg7ZzxqO2crKyl7dmFyIHA9dVtnXTtpZihwLm5UYWJsZT09XHJcbnRoaXN8fHAublRIZWFkLnBhcmVudE5vZGU9PXRoaXN8fHAublRGb290JiZwLm5URm9vdC5wYXJlbnROb2RlPT10aGlzKXtnPWUuYlJldHJpZXZlIT09az9lLmJSZXRyaWV2ZTpsLmJSZXRyaWV2ZTtpZihjfHxnKXJldHVybiBwLm9JbnN0YW5jZTtpZihlLmJEZXN0cm95IT09az9lLmJEZXN0cm95OmwuYkRlc3Ryb3kpe3Aub0luc3RhbmNlLmZuRGVzdHJveSgpO2JyZWFrfWVsc2V7SyhwLDAsXCJDYW5ub3QgcmVpbml0aWFsaXNlIERhdGFUYWJsZVwiLDMpO3JldHVybn19aWYocC5zVGFibGVJZD09dGhpcy5pZCl7dS5zcGxpY2UoZywxKTticmVha319aWYobnVsbD09PWl8fFwiXCI9PT1pKXRoaXMuaWQ9aT1cIkRhdGFUYWJsZXNfVGFibGVfXCIrbS5leHQuX3VuaXF1ZSsrO3ZhciBuPWguZXh0ZW5kKCEwLHt9LG0ubW9kZWxzLm9TZXR0aW5ncyx7c0Rlc3Ryb3lXaWR0aDpxWzBdLnN0eWxlLndpZHRoLHNJbnN0YW5jZTppLHNUYWJsZUlkOml9KTtuLm5UYWJsZT10aGlzO24ub0FwaT1iLmludGVybmFsO1xyXG5uLm9Jbml0PWU7dS5wdXNoKG4pO24ub0luc3RhbmNlPTE9PT1iLmxlbmd0aD9iOnEuZGF0YVRhYmxlKCk7ZWIoZSk7ZS5vTGFuZ3VhZ2UmJkZhKGUub0xhbmd1YWdlKTtlLmFMZW5ndGhNZW51JiYhZS5pRGlzcGxheUxlbmd0aCYmKGUuaURpc3BsYXlMZW5ndGg9aC5pc0FycmF5KGUuYUxlbmd0aE1lbnVbMF0pP2UuYUxlbmd0aE1lbnVbMF1bMF06ZS5hTGVuZ3RoTWVudVswXSk7ZT1MYihoLmV4dGVuZCghMCx7fSxsKSxlKTtGKG4ub0ZlYXR1cmVzLGUsXCJiUGFnaW5hdGUgYkxlbmd0aENoYW5nZSBiRmlsdGVyIGJTb3J0IGJTb3J0TXVsdGkgYkluZm8gYlByb2Nlc3NpbmcgYkF1dG9XaWR0aCBiU29ydENsYXNzZXMgYlNlcnZlclNpZGUgYkRlZmVyUmVuZGVyXCIuc3BsaXQoXCIgXCIpKTtGKG4sZSxbXCJhc1N0cmlwZUNsYXNzZXNcIixcImFqYXhcIixcImZuU2VydmVyRGF0YVwiLFwiZm5Gb3JtYXROdW1iZXJcIixcInNTZXJ2ZXJNZXRob2RcIixcImFhU29ydGluZ1wiLFwiYWFTb3J0aW5nRml4ZWRcIixcImFMZW5ndGhNZW51XCIsXHJcblwic1BhZ2luYXRpb25UeXBlXCIsXCJzQWpheFNvdXJjZVwiLFwic0FqYXhEYXRhUHJvcFwiLFwiaVN0YXRlRHVyYXRpb25cIixcInNEb21cIixcImJTb3J0Q2VsbHNUb3BcIixcImlUYWJJbmRleFwiLFwiZm5TdGF0ZUxvYWRDYWxsYmFja1wiLFwiZm5TdGF0ZVNhdmVDYWxsYmFja1wiLFwicmVuZGVyZXJcIixcInNlYXJjaERlbGF5XCIsXCJyb3dJZFwiLFtcImlDb29raWVEdXJhdGlvblwiLFwiaVN0YXRlRHVyYXRpb25cIl0sW1wib1NlYXJjaFwiLFwib1ByZXZpb3VzU2VhcmNoXCJdLFtcImFvU2VhcmNoQ29sc1wiLFwiYW9QcmVTZWFyY2hDb2xzXCJdLFtcImlEaXNwbGF5TGVuZ3RoXCIsXCJfaURpc3BsYXlMZW5ndGhcIl0sW1wiYkpRdWVyeVVJXCIsXCJiSlVJXCJdXSk7RihuLm9TY3JvbGwsZSxbW1wic1Njcm9sbFhcIixcInNYXCJdLFtcInNTY3JvbGxYSW5uZXJcIixcInNYSW5uZXJcIl0sW1wic1Njcm9sbFlcIixcInNZXCJdLFtcImJTY3JvbGxDb2xsYXBzZVwiLFwiYkNvbGxhcHNlXCJdXSk7RihuLm9MYW5ndWFnZSxlLFwiZm5JbmZvQ2FsbGJhY2tcIik7eihuLFwiYW9EcmF3Q2FsbGJhY2tcIixcclxuZS5mbkRyYXdDYWxsYmFjayxcInVzZXJcIik7eihuLFwiYW9TZXJ2ZXJQYXJhbXNcIixlLmZuU2VydmVyUGFyYW1zLFwidXNlclwiKTt6KG4sXCJhb1N0YXRlU2F2ZVBhcmFtc1wiLGUuZm5TdGF0ZVNhdmVQYXJhbXMsXCJ1c2VyXCIpO3oobixcImFvU3RhdGVMb2FkUGFyYW1zXCIsZS5mblN0YXRlTG9hZFBhcmFtcyxcInVzZXJcIik7eihuLFwiYW9TdGF0ZUxvYWRlZFwiLGUuZm5TdGF0ZUxvYWRlZCxcInVzZXJcIik7eihuLFwiYW9Sb3dDYWxsYmFja1wiLGUuZm5Sb3dDYWxsYmFjayxcInVzZXJcIik7eihuLFwiYW9Sb3dDcmVhdGVkQ2FsbGJhY2tcIixlLmZuQ3JlYXRlZFJvdyxcInVzZXJcIik7eihuLFwiYW9IZWFkZXJDYWxsYmFja1wiLGUuZm5IZWFkZXJDYWxsYmFjayxcInVzZXJcIik7eihuLFwiYW9Gb290ZXJDYWxsYmFja1wiLGUuZm5Gb290ZXJDYWxsYmFjayxcInVzZXJcIik7eihuLFwiYW9Jbml0Q29tcGxldGVcIixlLmZuSW5pdENvbXBsZXRlLFwidXNlclwiKTt6KG4sXCJhb1ByZURyYXdDYWxsYmFja1wiLGUuZm5QcmVEcmF3Q2FsbGJhY2ssXHJcblwidXNlclwiKTtuLnJvd0lkRm49UShlLnJvd0lkKTtnYihuKTtpPW4ub0NsYXNzZXM7ZS5iSlF1ZXJ5VUk/KGguZXh0ZW5kKGksbS5leHQub0pVSUNsYXNzZXMsZS5vQ2xhc3NlcyksZS5zRG9tPT09bC5zRG9tJiZcImxmcnRpcFwiPT09bC5zRG9tJiYobi5zRG9tPSc8XCJIXCJsZnI+dDxcIkZcImlwPicpLG4ucmVuZGVyZXIpP2guaXNQbGFpbk9iamVjdChuLnJlbmRlcmVyKSYmIW4ucmVuZGVyZXIuaGVhZGVyJiYobi5yZW5kZXJlci5oZWFkZXI9XCJqcXVlcnl1aVwiKTpuLnJlbmRlcmVyPVwianF1ZXJ5dWlcIjpoLmV4dGVuZChpLG0uZXh0LmNsYXNzZXMsZS5vQ2xhc3Nlcyk7cS5hZGRDbGFzcyhpLnNUYWJsZSk7bi5pSW5pdERpc3BsYXlTdGFydD09PWsmJihuLmlJbml0RGlzcGxheVN0YXJ0PWUuaURpc3BsYXlTdGFydCxuLl9pRGlzcGxheVN0YXJ0PWUuaURpc3BsYXlTdGFydCk7bnVsbCE9PWUuaURlZmVyTG9hZGluZyYmKG4uYkRlZmVyTG9hZGluZz0hMCxnPWguaXNBcnJheShlLmlEZWZlckxvYWRpbmcpLFxyXG5uLl9pUmVjb3Jkc0Rpc3BsYXk9Zz9lLmlEZWZlckxvYWRpbmdbMF06ZS5pRGVmZXJMb2FkaW5nLG4uX2lSZWNvcmRzVG90YWw9Zz9lLmlEZWZlckxvYWRpbmdbMV06ZS5pRGVmZXJMb2FkaW5nKTt2YXIgdD1uLm9MYW5ndWFnZTtoLmV4dGVuZCghMCx0LGUub0xhbmd1YWdlKTtcIlwiIT09dC5zVXJsJiYoaC5hamF4KHtkYXRhVHlwZTpcImpzb25cIix1cmw6dC5zVXJsLHN1Y2Nlc3M6ZnVuY3Rpb24oYSl7RmEoYSk7SihsLm9MYW5ndWFnZSxhKTtoLmV4dGVuZCh0cnVlLHQsYSk7aWEobil9LGVycm9yOmZ1bmN0aW9uKCl7aWEobil9fSksbz0hMCk7bnVsbD09PWUuYXNTdHJpcGVDbGFzc2VzJiYobi5hc1N0cmlwZUNsYXNzZXM9W2kuc1N0cmlwZU9kZCxpLnNTdHJpcGVFdmVuXSk7dmFyIGc9bi5hc1N0cmlwZUNsYXNzZXMscj1xLmNoaWxkcmVuKFwidGJvZHlcIikuZmluZChcInRyXCIpLmVxKDApOy0xIT09aC5pbkFycmF5KCEwLGgubWFwKGcsZnVuY3Rpb24oYSl7cmV0dXJuIHIuaGFzQ2xhc3MoYSl9KSkmJlxyXG4oaChcInRib2R5IHRyXCIsdGhpcykucmVtb3ZlQ2xhc3MoZy5qb2luKFwiIFwiKSksbi5hc0Rlc3Ryb3lTdHJpcGVzPWcuc2xpY2UoKSk7dT1bXTtnPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJ0aGVhZFwiKTswIT09Zy5sZW5ndGgmJihmYShuLmFvSGVhZGVyLGdbMF0pLHU9cWEobikpO2lmKG51bGw9PT1lLmFvQ29sdW1ucyl7cD1bXTtnPTA7Zm9yKGo9dS5sZW5ndGg7ZzxqO2crKylwLnB1c2gobnVsbCl9ZWxzZSBwPWUuYW9Db2x1bW5zO2c9MDtmb3Ioaj1wLmxlbmd0aDtnPGo7ZysrKUdhKG4sdT91W2ddOm51bGwpO2liKG4sZS5hb0NvbHVtbkRlZnMscCxmdW5jdGlvbihhLGIpe2xhKG4sYSxiKX0pO2lmKHIubGVuZ3RoKXt2YXIgcz1mdW5jdGlvbihhLGIpe3JldHVybiBhLmdldEF0dHJpYnV0ZShcImRhdGEtXCIrYikhPT1udWxsP2I6bnVsbH07aChyWzBdKS5jaGlsZHJlbihcInRoLCB0ZFwiKS5lYWNoKGZ1bmN0aW9uKGEsYil7dmFyIGM9bi5hb0NvbHVtbnNbYV07aWYoYy5tRGF0YT09PVxyXG5hKXt2YXIgZD1zKGIsXCJzb3J0XCIpfHxzKGIsXCJvcmRlclwiKSxlPXMoYixcImZpbHRlclwiKXx8cyhiLFwic2VhcmNoXCIpO2lmKGQhPT1udWxsfHxlIT09bnVsbCl7Yy5tRGF0YT17XzphK1wiLmRpc3BsYXlcIixzb3J0OmQhPT1udWxsP2ErXCIuQGRhdGEtXCIrZDprLHR5cGU6ZCE9PW51bGw/YStcIi5AZGF0YS1cIitkOmssZmlsdGVyOmUhPT1udWxsP2ErXCIuQGRhdGEtXCIrZTprfTtsYShuLGEpfX19KX12YXIgdz1uLm9GZWF0dXJlcztlLmJTdGF0ZVNhdmUmJih3LmJTdGF0ZVNhdmU9ITAsS2IobixlKSx6KG4sXCJhb0RyYXdDYWxsYmFja1wiLHlhLFwic3RhdGVfc2F2ZVwiKSk7aWYoZS5hYVNvcnRpbmc9PT1rKXt1PW4uYWFTb3J0aW5nO2c9MDtmb3Ioaj11Lmxlbmd0aDtnPGo7ZysrKXVbZ11bMV09bi5hb0NvbHVtbnNbZ10uYXNTb3J0aW5nWzBdfXhhKG4pO3cuYlNvcnQmJnoobixcImFvRHJhd0NhbGxiYWNrXCIsZnVuY3Rpb24oKXtpZihuLmJTb3J0ZWQpe3ZhciBhPVcobiksYj17fTtoLmVhY2goYSxmdW5jdGlvbihhLFxyXG5jKXtiW2Muc3JjXT1jLmRpcn0pO3YobixudWxsLFwib3JkZXJcIixbbixhLGJdKTtKYihuKX19KTt6KG4sXCJhb0RyYXdDYWxsYmFja1wiLGZ1bmN0aW9uKCl7KG4uYlNvcnRlZHx8eShuKT09PVwic3NwXCJ8fHcuYkRlZmVyUmVuZGVyKSYmeGEobil9LFwic2NcIik7Zz1xLmNoaWxkcmVuKFwiY2FwdGlvblwiKS5lYWNoKGZ1bmN0aW9uKCl7dGhpcy5fY2FwdGlvblNpZGU9cS5jc3MoXCJjYXB0aW9uLXNpZGVcIil9KTtqPXEuY2hpbGRyZW4oXCJ0aGVhZFwiKTswPT09ai5sZW5ndGgmJihqPWgoXCI8dGhlYWQvPlwiKS5hcHBlbmRUbyh0aGlzKSk7bi5uVEhlYWQ9alswXTtqPXEuY2hpbGRyZW4oXCJ0Ym9keVwiKTswPT09ai5sZW5ndGgmJihqPWgoXCI8dGJvZHkvPlwiKS5hcHBlbmRUbyh0aGlzKSk7bi5uVEJvZHk9alswXTtqPXEuY2hpbGRyZW4oXCJ0Zm9vdFwiKTtpZigwPT09ai5sZW5ndGgmJjA8Zy5sZW5ndGgmJihcIlwiIT09bi5vU2Nyb2xsLnNYfHxcIlwiIT09bi5vU2Nyb2xsLnNZKSlqPWgoXCI8dGZvb3QvPlwiKS5hcHBlbmRUbyh0aGlzKTtcclxuMD09PWoubGVuZ3RofHwwPT09ai5jaGlsZHJlbigpLmxlbmd0aD9xLmFkZENsYXNzKGkuc05vRm9vdGVyKTowPGoubGVuZ3RoJiYobi5uVEZvb3Q9alswXSxmYShuLmFvRm9vdGVyLG4ublRGb290KSk7aWYoZS5hYURhdGEpZm9yKGc9MDtnPGUuYWFEYXRhLmxlbmd0aDtnKyspTihuLGUuYWFEYXRhW2ddKTtlbHNlKG4uYkRlZmVyTG9hZGluZ3x8XCJkb21cIj09eShuKSkmJm1hKG4saChuLm5UQm9keSkuY2hpbGRyZW4oXCJ0clwiKSk7bi5haURpc3BsYXk9bi5haURpc3BsYXlNYXN0ZXIuc2xpY2UoKTtuLmJJbml0aWFsaXNlZD0hMDshMT09PW8mJmlhKG4pfX0pO2I9bnVsbDtyZXR1cm4gdGhpc307dmFyIFRiPVtdLHg9QXJyYXkucHJvdG90eXBlLGNjPWZ1bmN0aW9uKGEpe3ZhciBiLGMsZD1tLnNldHRpbmdzLGU9aC5tYXAoZCxmdW5jdGlvbihhKXtyZXR1cm4gYS5uVGFibGV9KTtpZihhKXtpZihhLm5UYWJsZSYmYS5vQXBpKXJldHVyblthXTtpZihhLm5vZGVOYW1lJiZcInRhYmxlXCI9PT1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpcmV0dXJuIGI9XHJcbmguaW5BcnJheShhLGUpLC0xIT09Yj9bZFtiXV06bnVsbDtpZihhJiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgYS5zZXR0aW5ncylyZXR1cm4gYS5zZXR0aW5ncygpLnRvQXJyYXkoKTtcInN0cmluZ1wiPT09dHlwZW9mIGE/Yz1oKGEpOmEgaW5zdGFuY2VvZiBoJiYoYz1hKX1lbHNlIHJldHVybltdO2lmKGMpcmV0dXJuIGMubWFwKGZ1bmN0aW9uKCl7Yj1oLmluQXJyYXkodGhpcyxlKTtyZXR1cm4tMSE9PWI/ZFtiXTpudWxsfSkudG9BcnJheSgpfTt0PWZ1bmN0aW9uKGEsYil7aWYoISh0aGlzIGluc3RhbmNlb2YgdCkpcmV0dXJuIG5ldyB0KGEsYik7dmFyIGM9W10sZD1mdW5jdGlvbihhKXsoYT1jYyhhKSkmJihjPWMuY29uY2F0KGEpKX07aWYoaC5pc0FycmF5KGEpKWZvcih2YXIgZT0wLGY9YS5sZW5ndGg7ZTxmO2UrKylkKGFbZV0pO2Vsc2UgZChhKTt0aGlzLmNvbnRleHQ9cGEoYyk7YiYmaC5tZXJnZSh0aGlzLGIpO3RoaXMuc2VsZWN0b3I9e3Jvd3M6bnVsbCxjb2xzOm51bGwsb3B0czpudWxsfTtcclxudC5leHRlbmQodGhpcyx0aGlzLFRiKX07bS5BcGk9dDtoLmV4dGVuZCh0LnByb3RvdHlwZSx7YW55OmZ1bmN0aW9uKCl7cmV0dXJuIDAhPT10aGlzLmNvdW50KCl9LGNvbmNhdDp4LmNvbmNhdCxjb250ZXh0OltdLGNvdW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmxhdHRlbigpLmxlbmd0aH0sZWFjaDpmdW5jdGlvbihhKXtmb3IodmFyIGI9MCxjPXRoaXMubGVuZ3RoO2I8YztiKyspYS5jYWxsKHRoaXMsdGhpc1tiXSxiLHRoaXMpO3JldHVybiB0aGlzfSxlcTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNvbnRleHQ7cmV0dXJuIGIubGVuZ3RoPmE/bmV3IHQoYlthXSx0aGlzW2FdKTpudWxsfSxmaWx0ZXI6ZnVuY3Rpb24oYSl7dmFyIGI9W107aWYoeC5maWx0ZXIpYj14LmZpbHRlci5jYWxsKHRoaXMsYSx0aGlzKTtlbHNlIGZvcih2YXIgYz0wLGQ9dGhpcy5sZW5ndGg7YzxkO2MrKylhLmNhbGwodGhpcyx0aGlzW2NdLGMsdGhpcykmJmIucHVzaCh0aGlzW2NdKTtyZXR1cm4gbmV3IHQodGhpcy5jb250ZXh0LFxyXG5iKX0sZmxhdHRlbjpmdW5jdGlvbigpe3ZhciBhPVtdO3JldHVybiBuZXcgdCh0aGlzLmNvbnRleHQsYS5jb25jYXQuYXBwbHkoYSx0aGlzLnRvQXJyYXkoKSkpfSxqb2luOnguam9pbixpbmRleE9mOnguaW5kZXhPZnx8ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9Ynx8MCxkPXRoaXMubGVuZ3RoO2M8ZDtjKyspaWYodGhpc1tjXT09PWEpcmV0dXJuIGM7cmV0dXJuLTF9LGl0ZXJhdG9yOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPVtdLGYsZyxoLGksbyxsPXRoaXMuY29udGV4dCxtLHAscj10aGlzLnNlbGVjdG9yO1wic3RyaW5nXCI9PT10eXBlb2YgYSYmKGQ9YyxjPWIsYj1hLGE9ITEpO2c9MDtmb3IoaD1sLmxlbmd0aDtnPGg7ZysrKXt2YXIgbj1uZXcgdChsW2ddKTtpZihcInRhYmxlXCI9PT1iKWY9Yy5jYWxsKG4sbFtnXSxnKSxmIT09ayYmZS5wdXNoKGYpO2Vsc2UgaWYoXCJjb2x1bW5zXCI9PT1ifHxcInJvd3NcIj09PWIpZj1jLmNhbGwobixsW2ddLHRoaXNbZ10sZyksZiE9PWsmJmUucHVzaChmKTtcclxuZWxzZSBpZihcImNvbHVtblwiPT09Ynx8XCJjb2x1bW4tcm93c1wiPT09Ynx8XCJyb3dcIj09PWJ8fFwiY2VsbFwiPT09Yil7cD10aGlzW2ddO1wiY29sdW1uLXJvd3NcIj09PWImJihtPURhKGxbZ10sci5vcHRzKSk7aT0wO2ZvcihvPXAubGVuZ3RoO2k8bztpKyspZj1wW2ldLGY9XCJjZWxsXCI9PT1iP2MuY2FsbChuLGxbZ10sZi5yb3csZi5jb2x1bW4sZyxpKTpjLmNhbGwobixsW2ddLGYsZyxpLG0pLGYhPT1rJiZlLnB1c2goZil9fXJldHVybiBlLmxlbmd0aHx8ZD8oYT1uZXcgdChsLGE/ZS5jb25jYXQuYXBwbHkoW10sZSk6ZSksYj1hLnNlbGVjdG9yLGIucm93cz1yLnJvd3MsYi5jb2xzPXIuY29scyxiLm9wdHM9ci5vcHRzLGEpOnRoaXN9LGxhc3RJbmRleE9mOngubGFzdEluZGV4T2Z8fGZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuaW5kZXhPZi5hcHBseSh0aGlzLnRvQXJyYXkucmV2ZXJzZSgpLGFyZ3VtZW50cyl9LGxlbmd0aDowLG1hcDpmdW5jdGlvbihhKXt2YXIgYj1bXTtpZih4Lm1hcCliPVxyXG54Lm1hcC5jYWxsKHRoaXMsYSx0aGlzKTtlbHNlIGZvcih2YXIgYz0wLGQ9dGhpcy5sZW5ndGg7YzxkO2MrKyliLnB1c2goYS5jYWxsKHRoaXMsdGhpc1tjXSxjKSk7cmV0dXJuIG5ldyB0KHRoaXMuY29udGV4dCxiKX0scGx1Y2s6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKGIpe3JldHVybiBiW2FdfSl9LHBvcDp4LnBvcCxwdXNoOngucHVzaCxyZWR1Y2U6eC5yZWR1Y2V8fGZ1bmN0aW9uKGEsYil7cmV0dXJuIGhiKHRoaXMsYSxiLDAsdGhpcy5sZW5ndGgsMSl9LHJlZHVjZVJpZ2h0OngucmVkdWNlUmlnaHR8fGZ1bmN0aW9uKGEsYil7cmV0dXJuIGhiKHRoaXMsYSxiLHRoaXMubGVuZ3RoLTEsLTEsLTEpfSxyZXZlcnNlOngucmV2ZXJzZSxzZWxlY3RvcjpudWxsLHNoaWZ0Onguc2hpZnQsc29ydDp4LnNvcnQsc3BsaWNlOnguc3BsaWNlLHRvQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4geC5zbGljZS5jYWxsKHRoaXMpfSx0byQ6ZnVuY3Rpb24oKXtyZXR1cm4gaCh0aGlzKX0sXHJcbnRvSlF1ZXJ5OmZ1bmN0aW9uKCl7cmV0dXJuIGgodGhpcyl9LHVuaXF1ZTpmdW5jdGlvbigpe3JldHVybiBuZXcgdCh0aGlzLmNvbnRleHQscGEodGhpcykpfSx1bnNoaWZ0OngudW5zaGlmdH0pO3QuZXh0ZW5kPWZ1bmN0aW9uKGEsYixjKXtpZihjLmxlbmd0aCYmYiYmKGIgaW5zdGFuY2VvZiB0fHxiLl9fZHRfd3JhcHBlcikpe3ZhciBkLGUsZixnPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZD1iLmFwcGx5KGEsYXJndW1lbnRzKTt0LmV4dGVuZChkLGQsYy5tZXRob2RFeHQpO3JldHVybiBkfX07ZD0wO2ZvcihlPWMubGVuZ3RoO2Q8ZTtkKyspZj1jW2RdLGJbZi5uYW1lXT1cImZ1bmN0aW9uXCI9PT10eXBlb2YgZi52YWw/ZyhhLGYudmFsLGYpOmguaXNQbGFpbk9iamVjdChmLnZhbCk/e306Zi52YWwsYltmLm5hbWVdLl9fZHRfd3JhcHBlcj0hMCx0LmV4dGVuZChhLGJbZi5uYW1lXSxmLnByb3BFeHQpfX07dC5yZWdpc3Rlcj1wPWZ1bmN0aW9uKGEsYil7aWYoaC5pc0FycmF5KGEpKWZvcih2YXIgYz1cclxuMCxkPWEubGVuZ3RoO2M8ZDtjKyspdC5yZWdpc3RlcihhW2NdLGIpO2Vsc2UgZm9yKHZhciBlPWEuc3BsaXQoXCIuXCIpLGY9VGIsZyxqLGM9MCxkPWUubGVuZ3RoO2M8ZDtjKyspe2c9KGo9LTEhPT1lW2NdLmluZGV4T2YoXCIoKVwiKSk/ZVtjXS5yZXBsYWNlKFwiKClcIixcIlwiKTplW2NdO3ZhciBpO2E6e2k9MDtmb3IodmFyIGs9Zi5sZW5ndGg7aTxrO2krKylpZihmW2ldLm5hbWU9PT1nKXtpPWZbaV07YnJlYWsgYX1pPW51bGx9aXx8KGk9e25hbWU6Zyx2YWw6e30sbWV0aG9kRXh0OltdLHByb3BFeHQ6W119LGYucHVzaChpKSk7Yz09PWQtMT9pLnZhbD1iOmY9aj9pLm1ldGhvZEV4dDppLnByb3BFeHR9fTt0LnJlZ2lzdGVyUGx1cmFsPXI9ZnVuY3Rpb24oYSxiLGMpe3QucmVnaXN0ZXIoYSxjKTt0LnJlZ2lzdGVyKGIsZnVuY3Rpb24oKXt2YXIgYT1jLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gYT09PXRoaXM/dGhpczphIGluc3RhbmNlb2YgdD9hLmxlbmd0aD9oLmlzQXJyYXkoYVswXSk/XHJcbm5ldyB0KGEuY29udGV4dCxhWzBdKTphWzBdOms6YX0pfTtwKFwidGFibGVzKClcIixmdW5jdGlvbihhKXt2YXIgYjtpZihhKXtiPXQ7dmFyIGM9dGhpcy5jb250ZXh0O2lmKFwibnVtYmVyXCI9PT10eXBlb2YgYSlhPVtjW2FdXTtlbHNlIHZhciBkPWgubWFwKGMsZnVuY3Rpb24oYSl7cmV0dXJuIGEublRhYmxlfSksYT1oKGQpLmZpbHRlcihhKS5tYXAoZnVuY3Rpb24oKXt2YXIgYT1oLmluQXJyYXkodGhpcyxkKTtyZXR1cm4gY1thXX0pLnRvQXJyYXkoKTtiPW5ldyBiKGEpfWVsc2UgYj10aGlzO3JldHVybiBifSk7cChcInRhYmxlKClcIixmdW5jdGlvbihhKXt2YXIgYT10aGlzLnRhYmxlcyhhKSxiPWEuY29udGV4dDtyZXR1cm4gYi5sZW5ndGg/bmV3IHQoYlswXSk6YX0pO3IoXCJ0YWJsZXMoKS5ub2RlcygpXCIsXCJ0YWJsZSgpLm5vZGUoKVwiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXRlcmF0b3IoXCJ0YWJsZVwiLGZ1bmN0aW9uKGEpe3JldHVybiBhLm5UYWJsZX0sMSl9KTtyKFwidGFibGVzKCkuYm9keSgpXCIsXHJcblwidGFibGUoKS5ib2R5KClcIixmdW5jdGlvbigpe3JldHVybiB0aGlzLml0ZXJhdG9yKFwidGFibGVcIixmdW5jdGlvbihhKXtyZXR1cm4gYS5uVEJvZHl9LDEpfSk7cihcInRhYmxlcygpLmhlYWRlcigpXCIsXCJ0YWJsZSgpLmhlYWRlcigpXCIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pdGVyYXRvcihcInRhYmxlXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGEublRIZWFkfSwxKX0pO3IoXCJ0YWJsZXMoKS5mb290ZXIoKVwiLFwidGFibGUoKS5mb290ZXIoKVwiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXRlcmF0b3IoXCJ0YWJsZVwiLGZ1bmN0aW9uKGEpe3JldHVybiBhLm5URm9vdH0sMSl9KTtyKFwidGFibGVzKCkuY29udGFpbmVycygpXCIsXCJ0YWJsZSgpLmNvbnRhaW5lcigpXCIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pdGVyYXRvcihcInRhYmxlXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGEublRhYmxlV3JhcHBlcn0sMSl9KTtwKFwiZHJhdygpXCIsZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaXRlcmF0b3IoXCJ0YWJsZVwiLFxyXG5mdW5jdGlvbihiKXtcInBhZ2VcIj09PWE/TyhiKTooXCJzdHJpbmdcIj09PXR5cGVvZiBhJiYoYT1cImZ1bGwtaG9sZFwiPT09YT8hMTohMCksVChiLCExPT09YSkpfSl9KTtwKFwicGFnZSgpXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1rP3RoaXMucGFnZS5pbmZvKCkucGFnZTp0aGlzLml0ZXJhdG9yKFwidGFibGVcIixmdW5jdGlvbihiKXtUYShiLGEpfSl9KTtwKFwicGFnZS5pbmZvKClcIixmdW5jdGlvbigpe2lmKDA9PT10aGlzLmNvbnRleHQubGVuZ3RoKXJldHVybiBrO3ZhciBhPXRoaXMuY29udGV4dFswXSxiPWEuX2lEaXNwbGF5U3RhcnQsYz1hLm9GZWF0dXJlcy5iUGFnaW5hdGU/YS5faURpc3BsYXlMZW5ndGg6LTEsZD1hLmZuUmVjb3Jkc0Rpc3BsYXkoKSxlPS0xPT09YztyZXR1cm57cGFnZTplPzA6TWF0aC5mbG9vcihiL2MpLHBhZ2VzOmU/MTpNYXRoLmNlaWwoZC9jKSxzdGFydDpiLGVuZDphLmZuRGlzcGxheUVuZCgpLGxlbmd0aDpjLHJlY29yZHNUb3RhbDphLmZuUmVjb3Jkc1RvdGFsKCksXHJcbnJlY29yZHNEaXNwbGF5OmQsc2VydmVyU2lkZTpcInNzcFwiPT09eShhKX19KTtwKFwicGFnZS5sZW4oKVwiLGZ1bmN0aW9uKGEpe3JldHVybiBhPT09az8wIT09dGhpcy5jb250ZXh0Lmxlbmd0aD90aGlzLmNvbnRleHRbMF0uX2lEaXNwbGF5TGVuZ3RoOms6dGhpcy5pdGVyYXRvcihcInRhYmxlXCIsZnVuY3Rpb24oYil7UmEoYixhKX0pfSk7dmFyIFViPWZ1bmN0aW9uKGEsYixjKXtpZihjKXt2YXIgZD1uZXcgdChhKTtkLm9uZShcImRyYXdcIixmdW5jdGlvbigpe2MoZC5hamF4Lmpzb24oKSl9KX1pZihcInNzcFwiPT15KGEpKVQoYSxiKTtlbHNle0MoYSwhMCk7dmFyIGU9YS5qcVhIUjtlJiY0IT09ZS5yZWFkeVN0YXRlJiZlLmFib3J0KCk7cmEoYSxbXSxmdW5jdGlvbihjKXtuYShhKTtmb3IodmFyIGM9c2EoYSxjKSxkPTAsZT1jLmxlbmd0aDtkPGU7ZCsrKU4oYSxjW2RdKTtUKGEsYik7QyhhLCExKX0pfX07cChcImFqYXguanNvbigpXCIsZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNvbnRleHQ7aWYoMDxcclxuYS5sZW5ndGgpcmV0dXJuIGFbMF0uanNvbn0pO3AoXCJhamF4LnBhcmFtcygpXCIsZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNvbnRleHQ7aWYoMDxhLmxlbmd0aClyZXR1cm4gYVswXS5vQWpheERhdGF9KTtwKFwiYWpheC5yZWxvYWQoKVwiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuaXRlcmF0b3IoXCJ0YWJsZVwiLGZ1bmN0aW9uKGMpe1ViKGMsITE9PT1iLGEpfSl9KTtwKFwiYWpheC51cmwoKVwiLGZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY29udGV4dDtpZihhPT09ayl7aWYoMD09PWIubGVuZ3RoKXJldHVybiBrO2I9YlswXTtyZXR1cm4gYi5hamF4P2guaXNQbGFpbk9iamVjdChiLmFqYXgpP2IuYWpheC51cmw6Yi5hamF4OmIuc0FqYXhTb3VyY2V9cmV0dXJuIHRoaXMuaXRlcmF0b3IoXCJ0YWJsZVwiLGZ1bmN0aW9uKGIpe2guaXNQbGFpbk9iamVjdChiLmFqYXgpP2IuYWpheC51cmw9YTpiLmFqYXg9YX0pfSk7cChcImFqYXgudXJsKCkubG9hZCgpXCIsZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5pdGVyYXRvcihcInRhYmxlXCIsXHJcbmZ1bmN0aW9uKGMpe1ViKGMsITE9PT1iLGEpfSl9KTt2YXIgJGE9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1bXSxnLGosaSxvLGwsbTtpPXR5cGVvZiBiO2lmKCFifHxcInN0cmluZ1wiPT09aXx8XCJmdW5jdGlvblwiPT09aXx8Yi5sZW5ndGg9PT1rKWI9W2JdO2k9MDtmb3Iobz1iLmxlbmd0aDtpPG87aSsrKXtqPWJbaV0mJmJbaV0uc3BsaXQ/YltpXS5zcGxpdChcIixcIik6W2JbaV1dO2w9MDtmb3IobT1qLmxlbmd0aDtsPG07bCsrKShnPWMoXCJzdHJpbmdcIj09PXR5cGVvZiBqW2xdP2gudHJpbShqW2xdKTpqW2xdKSkmJmcubGVuZ3RoJiYoZj1mLmNvbmNhdChnKSl9YT1zLnNlbGVjdG9yW2FdO2lmKGEubGVuZ3RoKXtpPTA7Zm9yKG89YS5sZW5ndGg7aTxvO2krKylmPWFbaV0oZCxlLGYpfXJldHVybiBwYShmKX0sYWI9ZnVuY3Rpb24oYSl7YXx8KGE9e30pO2EuZmlsdGVyJiZhLnNlYXJjaD09PWsmJihhLnNlYXJjaD1hLmZpbHRlcik7cmV0dXJuIGguZXh0ZW5kKHtzZWFyY2g6XCJub25lXCIsXHJcbm9yZGVyOlwiY3VycmVudFwiLHBhZ2U6XCJhbGxcIn0sYSl9LGJiPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wLGM9YS5sZW5ndGg7YjxjO2IrKylpZigwPGFbYl0ubGVuZ3RoKXJldHVybiBhWzBdPWFbYl0sYVswXS5sZW5ndGg9MSxhLmxlbmd0aD0xLGEuY29udGV4dD1bYS5jb250ZXh0W2JdXSxhO2EubGVuZ3RoPTA7cmV0dXJuIGF9LERhPWZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGY9W10sZz1hLmFpRGlzcGxheTtjPWEuYWlEaXNwbGF5TWFzdGVyO3ZhciBqPWIuc2VhcmNoO2Q9Yi5vcmRlcjtlPWIucGFnZTtpZihcInNzcFwiPT15KGEpKXJldHVyblwicmVtb3ZlZFwiPT09aj9bXTpYKDAsYy5sZW5ndGgpO2lmKFwiY3VycmVudFwiPT1lKXtjPWEuX2lEaXNwbGF5U3RhcnQ7Zm9yKGQ9YS5mbkRpc3BsYXlFbmQoKTtjPGQ7YysrKWYucHVzaChnW2NdKX1lbHNlIGlmKFwiY3VycmVudFwiPT1kfHxcImFwcGxpZWRcIj09ZClmPVwibm9uZVwiPT1qP2Muc2xpY2UoKTpcImFwcGxpZWRcIj09aj9nLnNsaWNlKCk6aC5tYXAoYyxcclxuZnVuY3Rpb24oYSl7cmV0dXJuLTE9PT1oLmluQXJyYXkoYSxnKT9hOm51bGx9KTtlbHNlIGlmKFwiaW5kZXhcIj09ZHx8XCJvcmlnaW5hbFwiPT1kKXtjPTA7Zm9yKGQ9YS5hb0RhdGEubGVuZ3RoO2M8ZDtjKyspXCJub25lXCI9PWo/Zi5wdXNoKGMpOihlPWguaW5BcnJheShjLGcpLCgtMT09PWUmJlwicmVtb3ZlZFwiPT1qfHwwPD1lJiZcImFwcGxpZWRcIj09aikmJmYucHVzaChjKSl9cmV0dXJuIGZ9O3AoXCJyb3dzKClcIixmdW5jdGlvbihhLGIpe2E9PT1rP2E9XCJcIjpoLmlzUGxhaW5PYmplY3QoYSkmJihiPWEsYT1cIlwiKTt2YXIgYj1hYihiKSxjPXRoaXMuaXRlcmF0b3IoXCJ0YWJsZVwiLGZ1bmN0aW9uKGMpe3ZhciBlPWI7cmV0dXJuICRhKFwicm93XCIsYSxmdW5jdGlvbihhKXt2YXIgYj1QYihhKTtpZihiIT09bnVsbCYmIWUpcmV0dXJuW2JdO3ZhciBqPURhKGMsZSk7aWYoYiE9PW51bGwmJmguaW5BcnJheShiLGopIT09LTEpcmV0dXJuW2JdO2lmKCFhKXJldHVybiBqO2lmKHR5cGVvZiBhPT09XCJmdW5jdGlvblwiKXJldHVybiBoLm1hcChqLFxyXG5mdW5jdGlvbihiKXt2YXIgZT1jLmFvRGF0YVtiXTtyZXR1cm4gYShiLGUuX2FEYXRhLGUublRyKT9iOm51bGx9KTtiPVNiKGphKGMuYW9EYXRhLGosXCJuVHJcIikpO2lmKGEubm9kZU5hbWUmJmguaW5BcnJheShhLGIpIT09LTEpcmV0dXJuW2EuX0RUX1Jvd0luZGV4XTtpZih0eXBlb2YgYT09PVwic3RyaW5nXCImJmEuY2hhckF0KDApPT09XCIjXCIpe2o9Yy5hSWRzW2EucmVwbGFjZSgvXiMvLFwiXCIpXTtpZihqIT09aylyZXR1cm5bai5pZHhdfXJldHVybiBoKGIpLmZpbHRlcihhKS5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fRFRfUm93SW5kZXh9KS50b0FycmF5KCl9LGMsZSl9LDEpO2Muc2VsZWN0b3Iucm93cz1hO2Muc2VsZWN0b3Iub3B0cz1iO3JldHVybiBjfSk7cChcInJvd3MoKS5ub2RlcygpXCIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pdGVyYXRvcihcInJvd1wiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuYW9EYXRhW2JdLm5Ucnx8a30sMSl9KTtwKFwicm93cygpLmRhdGEoKVwiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXRlcmF0b3IoITAsXHJcblwicm93c1wiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGphKGEuYW9EYXRhLGIsXCJfYURhdGFcIil9LDEpfSk7cihcInJvd3MoKS5jYWNoZSgpXCIsXCJyb3coKS5jYWNoZSgpXCIsZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaXRlcmF0b3IoXCJyb3dcIixmdW5jdGlvbihiLGMpe3ZhciBkPWIuYW9EYXRhW2NdO3JldHVyblwic2VhcmNoXCI9PT1hP2QuX2FGaWx0ZXJEYXRhOmQuX2FTb3J0RGF0YX0sMSl9KTtyKFwicm93cygpLmludmFsaWRhdGUoKVwiLFwicm93KCkuaW52YWxpZGF0ZSgpXCIsZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaXRlcmF0b3IoXCJyb3dcIixmdW5jdGlvbihiLGMpe2VhKGIsYyxhKX0pfSk7cihcInJvd3MoKS5pbmRleGVzKClcIixcInJvdygpLmluZGV4KClcIixmdW5jdGlvbigpe3JldHVybiB0aGlzLml0ZXJhdG9yKFwicm93XCIsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYn0sMSl9KTtyKFwicm93cygpLmlkcygpXCIsXCJyb3coKS5pZCgpXCIsZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGM9dGhpcy5jb250ZXh0LFxyXG5kPTAsZT1jLmxlbmd0aDtkPGU7ZCsrKWZvcih2YXIgZj0wLGc9dGhpc1tkXS5sZW5ndGg7ZjxnO2YrKyl7dmFyIGg9Y1tkXS5yb3dJZEZuKGNbZF0uYW9EYXRhW3RoaXNbZF1bZl1dLl9hRGF0YSk7Yi5wdXNoKCghMD09PWE/XCIjXCI6XCJcIikraCl9cmV0dXJuIG5ldyB0KGMsYil9KTtyKFwicm93cygpLnJlbW92ZSgpXCIsXCJyb3coKS5yZW1vdmUoKVwiLGZ1bmN0aW9uKCl7dmFyIGE9dGhpczt0aGlzLml0ZXJhdG9yKFwicm93XCIsZnVuY3Rpb24oYixjLGQpe3ZhciBlPWIuYW9EYXRhLGY9ZVtjXSxnLGgsaSxvLGw7ZS5zcGxpY2UoYywxKTtnPTA7Zm9yKGg9ZS5sZW5ndGg7ZzxoO2crKylpZihpPWVbZ10sbD1pLmFuQ2VsbHMsbnVsbCE9PWkublRyJiYoaS5uVHIuX0RUX1Jvd0luZGV4PWcpLG51bGwhPT1sKXtpPTA7Zm9yKG89bC5sZW5ndGg7aTxvO2krKylsW2ldLl9EVF9DZWxsSW5kZXgucm93PWd9b2EoYi5haURpc3BsYXlNYXN0ZXIsYyk7b2EoYi5haURpc3BsYXksYyk7b2EoYVtkXSxjLCExKTtcclxuU2EoYik7Yz1iLnJvd0lkRm4oZi5fYURhdGEpO2MhPT1rJiZkZWxldGUgYi5hSWRzW2NdfSk7dGhpcy5pdGVyYXRvcihcInRhYmxlXCIsZnVuY3Rpb24oYSl7Zm9yKHZhciBjPTAsZD1hLmFvRGF0YS5sZW5ndGg7YzxkO2MrKylhLmFvRGF0YVtjXS5pZHg9Y30pO3JldHVybiB0aGlzfSk7cChcInJvd3MuYWRkKClcIixmdW5jdGlvbihhKXt2YXIgYj10aGlzLml0ZXJhdG9yKFwidGFibGVcIixmdW5jdGlvbihiKXt2YXIgYyxmLGcsaD1bXTtmPTA7Zm9yKGc9YS5sZW5ndGg7ZjxnO2YrKyljPWFbZl0sYy5ub2RlTmFtZSYmXCJUUlwiPT09Yy5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpP2gucHVzaChtYShiLGMpWzBdKTpoLnB1c2goTihiLGMpKTtyZXR1cm4gaH0sMSksYz10aGlzLnJvd3MoLTEpO2MucG9wKCk7aC5tZXJnZShjLGIpO3JldHVybiBjfSk7cChcInJvdygpXCIsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYmIodGhpcy5yb3dzKGEsYikpfSk7cChcInJvdygpLmRhdGEoKVwiLGZ1bmN0aW9uKGEpe3ZhciBiPVxyXG50aGlzLmNvbnRleHQ7aWYoYT09PWspcmV0dXJuIGIubGVuZ3RoJiZ0aGlzLmxlbmd0aD9iWzBdLmFvRGF0YVt0aGlzWzBdXS5fYURhdGE6aztiWzBdLmFvRGF0YVt0aGlzWzBdXS5fYURhdGE9YTtlYShiWzBdLHRoaXNbMF0sXCJkYXRhXCIpO3JldHVybiB0aGlzfSk7cChcInJvdygpLm5vZGUoKVwiLGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jb250ZXh0O3JldHVybiBhLmxlbmd0aCYmdGhpcy5sZW5ndGg/YVswXS5hb0RhdGFbdGhpc1swXV0ublRyfHxudWxsOm51bGx9KTtwKFwicm93LmFkZCgpXCIsZnVuY3Rpb24oYSl7YSBpbnN0YW5jZW9mIGgmJmEubGVuZ3RoJiYoYT1hWzBdKTt2YXIgYj10aGlzLml0ZXJhdG9yKFwidGFibGVcIixmdW5jdGlvbihiKXtyZXR1cm4gYS5ub2RlTmFtZSYmXCJUUlwiPT09YS5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpP21hKGIsYSlbMF06TihiLGEpfSk7cmV0dXJuIHRoaXMucm93KGJbMF0pfSk7dmFyIGNiPWZ1bmN0aW9uKGEsYil7dmFyIGM9YS5jb250ZXh0O2lmKGMubGVuZ3RoJiZcclxuKGM9Y1swXS5hb0RhdGFbYiE9PWs/YjphWzBdXSkmJmMuX2RldGFpbHMpYy5fZGV0YWlscy5yZW1vdmUoKSxjLl9kZXRhaWxzU2hvdz1rLGMuX2RldGFpbHM9a30sVmI9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmNvbnRleHQ7aWYoYy5sZW5ndGgmJmEubGVuZ3RoKXt2YXIgZD1jWzBdLmFvRGF0YVthWzBdXTtpZihkLl9kZXRhaWxzKXsoZC5fZGV0YWlsc1Nob3c9Yik/ZC5fZGV0YWlscy5pbnNlcnRBZnRlcihkLm5Ucik6ZC5fZGV0YWlscy5kZXRhY2goKTt2YXIgZT1jWzBdLGY9bmV3IHQoZSksZz1lLmFvRGF0YTtmLm9mZihcImRyYXcuZHQuRFRfZGV0YWlscyBjb2x1bW4tdmlzaWJpbGl0eS5kdC5EVF9kZXRhaWxzIGRlc3Ryb3kuZHQuRFRfZGV0YWlsc1wiKTswPEQoZyxcIl9kZXRhaWxzXCIpLmxlbmd0aCYmKGYub24oXCJkcmF3LmR0LkRUX2RldGFpbHNcIixmdW5jdGlvbihhLGIpe2U9PT1iJiZmLnJvd3Moe3BhZ2U6XCJjdXJyZW50XCJ9KS5lcSgwKS5lYWNoKGZ1bmN0aW9uKGEpe2E9Z1thXTtcclxuYS5fZGV0YWlsc1Nob3cmJmEuX2RldGFpbHMuaW5zZXJ0QWZ0ZXIoYS5uVHIpfSl9KSxmLm9uKFwiY29sdW1uLXZpc2liaWxpdHkuZHQuRFRfZGV0YWlsc1wiLGZ1bmN0aW9uKGEsYil7aWYoZT09PWIpZm9yKHZhciBjLGQ9Y2EoYiksZj0wLGg9Zy5sZW5ndGg7ZjxoO2YrKyljPWdbZl0sYy5fZGV0YWlscyYmYy5fZGV0YWlscy5jaGlsZHJlbihcInRkW2NvbHNwYW5dXCIpLmF0dHIoXCJjb2xzcGFuXCIsZCl9KSxmLm9uKFwiZGVzdHJveS5kdC5EVF9kZXRhaWxzXCIsZnVuY3Rpb24oYSxiKXtpZihlPT09Yilmb3IodmFyIGM9MCxkPWcubGVuZ3RoO2M8ZDtjKyspZ1tjXS5fZGV0YWlscyYmY2IoZixjKX0pKX19fTtwKFwicm93KCkuY2hpbGQoKVwiLGZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5jb250ZXh0O2lmKGE9PT1rKXJldHVybiBjLmxlbmd0aCYmdGhpcy5sZW5ndGg/Y1swXS5hb0RhdGFbdGhpc1swXV0uX2RldGFpbHM6aztpZighMD09PWEpdGhpcy5jaGlsZC5zaG93KCk7ZWxzZSBpZighMT09PVxyXG5hKWNiKHRoaXMpO2Vsc2UgaWYoYy5sZW5ndGgmJnRoaXMubGVuZ3RoKXt2YXIgZD1jWzBdLGM9Y1swXS5hb0RhdGFbdGhpc1swXV0sZT1bXSxmPWZ1bmN0aW9uKGEsYil7aWYoaC5pc0FycmF5KGEpfHxhIGluc3RhbmNlb2YgaClmb3IodmFyIGM9MCxrPWEubGVuZ3RoO2M8aztjKyspZihhW2NdLGIpO2Vsc2UgYS5ub2RlTmFtZSYmXCJ0clwiPT09YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpP2UucHVzaChhKTooYz1oKFwiPHRyPjx0ZC8+PC90cj5cIikuYWRkQ2xhc3MoYiksaChcInRkXCIsYykuYWRkQ2xhc3MoYikuaHRtbChhKVswXS5jb2xTcGFuPWNhKGQpLGUucHVzaChjWzBdKSl9O2YoYSxiKTtjLl9kZXRhaWxzJiZjLl9kZXRhaWxzLnJlbW92ZSgpO2MuX2RldGFpbHM9aChlKTtjLl9kZXRhaWxzU2hvdyYmYy5fZGV0YWlscy5pbnNlcnRBZnRlcihjLm5Ucil9cmV0dXJuIHRoaXN9KTtwKFtcInJvdygpLmNoaWxkLnNob3coKVwiLFwicm93KCkuY2hpbGQoKS5zaG93KClcIl0sZnVuY3Rpb24oKXtWYih0aGlzLFxyXG4hMCk7cmV0dXJuIHRoaXN9KTtwKFtcInJvdygpLmNoaWxkLmhpZGUoKVwiLFwicm93KCkuY2hpbGQoKS5oaWRlKClcIl0sZnVuY3Rpb24oKXtWYih0aGlzLCExKTtyZXR1cm4gdGhpc30pO3AoW1wicm93KCkuY2hpbGQucmVtb3ZlKClcIixcInJvdygpLmNoaWxkKCkucmVtb3ZlKClcIl0sZnVuY3Rpb24oKXtjYih0aGlzKTtyZXR1cm4gdGhpc30pO3AoXCJyb3coKS5jaGlsZC5pc1Nob3duKClcIixmdW5jdGlvbigpe3ZhciBhPXRoaXMuY29udGV4dDtyZXR1cm4gYS5sZW5ndGgmJnRoaXMubGVuZ3RoP2FbMF0uYW9EYXRhW3RoaXNbMF1dLl9kZXRhaWxzU2hvd3x8ITE6ITF9KTt2YXIgZGM9L14oLispOihuYW1lfHZpc0lkeHx2aXNpYmxlKSQvLFdiPWZ1bmN0aW9uKGEsYixjLGQsZSl7Zm9yKHZhciBjPVtdLGQ9MCxmPWUubGVuZ3RoO2Q8ZjtkKyspYy5wdXNoKEIoYSxlW2RdLGIpKTtyZXR1cm4gY307cChcImNvbHVtbnMoKVwiLGZ1bmN0aW9uKGEsYil7YT09PWs/YT1cIlwiOmguaXNQbGFpbk9iamVjdChhKSYmXHJcbihiPWEsYT1cIlwiKTt2YXIgYj1hYihiKSxjPXRoaXMuaXRlcmF0b3IoXCJ0YWJsZVwiLGZ1bmN0aW9uKGMpe3ZhciBlPWEsZj1iLGc9Yy5hb0NvbHVtbnMsaj1EKGcsXCJzTmFtZVwiKSxpPUQoZyxcIm5UaFwiKTtyZXR1cm4gJGEoXCJjb2x1bW5cIixlLGZ1bmN0aW9uKGEpe3ZhciBiPVBiKGEpO2lmKGE9PT1cIlwiKXJldHVybiBYKGcubGVuZ3RoKTtpZihiIT09bnVsbClyZXR1cm5bYj49MD9iOmcubGVuZ3RoK2JdO2lmKHR5cGVvZiBhPT09XCJmdW5jdGlvblwiKXt2YXIgZT1EYShjLGYpO3JldHVybiBoLm1hcChnLGZ1bmN0aW9uKGIsZil7cmV0dXJuIGEoZixXYihjLGYsMCwwLGUpLGlbZl0pP2Y6bnVsbH0pfXZhciBrPXR5cGVvZiBhPT09XCJzdHJpbmdcIj9hLm1hdGNoKGRjKTpcIlwiO2lmKGspc3dpdGNoKGtbMl0pe2Nhc2UgXCJ2aXNJZHhcIjpjYXNlIFwidmlzaWJsZVwiOmI9cGFyc2VJbnQoa1sxXSwxMCk7aWYoYjwwKXt2YXIgbT1oLm1hcChnLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuYlZpc2libGU/YjpudWxsfSk7XHJcbnJldHVyblttW20ubGVuZ3RoK2JdXX1yZXR1cm5bJChjLGIpXTtjYXNlIFwibmFtZVwiOnJldHVybiBoLm1hcChqLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9PT1rWzFdP2I6bnVsbH0pfWVsc2UgcmV0dXJuIGgoaSkuZmlsdGVyKGEpLm1hcChmdW5jdGlvbigpe3JldHVybiBoLmluQXJyYXkodGhpcyxpKX0pLnRvQXJyYXkoKX0sYyxmKX0sMSk7Yy5zZWxlY3Rvci5jb2xzPWE7Yy5zZWxlY3Rvci5vcHRzPWI7cmV0dXJuIGN9KTtyKFwiY29sdW1ucygpLmhlYWRlcigpXCIsXCJjb2x1bW4oKS5oZWFkZXIoKVwiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXRlcmF0b3IoXCJjb2x1bW5cIixmdW5jdGlvbihhLGIpe3JldHVybiBhLmFvQ29sdW1uc1tiXS5uVGh9LDEpfSk7cihcImNvbHVtbnMoKS5mb290ZXIoKVwiLFwiY29sdW1uKCkuZm9vdGVyKClcIixmdW5jdGlvbigpe3JldHVybiB0aGlzLml0ZXJhdG9yKFwiY29sdW1uXCIsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5hb0NvbHVtbnNbYl0ublRmfSwxKX0pO3IoXCJjb2x1bW5zKCkuZGF0YSgpXCIsXHJcblwiY29sdW1uKCkuZGF0YSgpXCIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pdGVyYXRvcihcImNvbHVtbi1yb3dzXCIsV2IsMSl9KTtyKFwiY29sdW1ucygpLmRhdGFTcmMoKVwiLFwiY29sdW1uKCkuZGF0YVNyYygpXCIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pdGVyYXRvcihcImNvbHVtblwiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuYW9Db2x1bW5zW2JdLm1EYXRhfSwxKX0pO3IoXCJjb2x1bW5zKCkuY2FjaGUoKVwiLFwiY29sdW1uKCkuY2FjaGUoKVwiLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLml0ZXJhdG9yKFwiY29sdW1uLXJvd3NcIixmdW5jdGlvbihiLGMsZCxlLGYpe3JldHVybiBqYShiLmFvRGF0YSxmLFwic2VhcmNoXCI9PT1hP1wiX2FGaWx0ZXJEYXRhXCI6XCJfYVNvcnREYXRhXCIsYyl9LDEpfSk7cihcImNvbHVtbnMoKS5ub2RlcygpXCIsXCJjb2x1bW4oKS5ub2RlcygpXCIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pdGVyYXRvcihcImNvbHVtbi1yb3dzXCIsZnVuY3Rpb24oYSxiLGMsZCxlKXtyZXR1cm4gamEoYS5hb0RhdGEsXHJcbmUsXCJhbkNlbGxzXCIsYil9LDEpfSk7cihcImNvbHVtbnMoKS52aXNpYmxlKClcIixcImNvbHVtbigpLnZpc2libGUoKVwiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuaXRlcmF0b3IoXCJjb2x1bW5cIixmdW5jdGlvbihjLGQpe2lmKGE9PT1rKXJldHVybiBjLmFvQ29sdW1uc1tkXS5iVmlzaWJsZTt2YXIgZT1jLmFvQ29sdW1ucyxmPWVbZF0sZz1jLmFvRGF0YSxqLGksbTtpZihhIT09ayYmZi5iVmlzaWJsZSE9PWEpe2lmKGEpe3ZhciBsPWguaW5BcnJheSghMCxEKGUsXCJiVmlzaWJsZVwiKSxkKzEpO2o9MDtmb3IoaT1nLmxlbmd0aDtqPGk7aisrKW09Z1tqXS5uVHIsZT1nW2pdLmFuQ2VsbHMsbSYmbS5pbnNlcnRCZWZvcmUoZVtkXSxlW2xdfHxudWxsKX1lbHNlIGgoRChjLmFvRGF0YSxcImFuQ2VsbHNcIixkKSkuZGV0YWNoKCk7Zi5iVmlzaWJsZT1hO2dhKGMsYy5hb0hlYWRlcik7Z2EoYyxjLmFvRm9vdGVyKTtpZihiPT09a3x8YilVKGMpLChjLm9TY3JvbGwuc1h8fGMub1Njcm9sbC5zWSkmJlxyXG5aKGMpO3YoYyxudWxsLFwiY29sdW1uLXZpc2liaWxpdHlcIixbYyxkLGEsYl0pO3lhKGMpfX0pfSk7cihcImNvbHVtbnMoKS5pbmRleGVzKClcIixcImNvbHVtbigpLmluZGV4KClcIixmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pdGVyYXRvcihcImNvbHVtblwiLGZ1bmN0aW9uKGIsYyl7cmV0dXJuXCJ2aXNpYmxlXCI9PT1hP2JhKGIsYyk6Y30sMSl9KTtwKFwiY29sdW1ucy5hZGp1c3QoKVwiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXRlcmF0b3IoXCJ0YWJsZVwiLGZ1bmN0aW9uKGEpe1UoYSl9LDEpfSk7cChcImNvbHVtbi5pbmRleCgpXCIsZnVuY3Rpb24oYSxiKXtpZigwIT09dGhpcy5jb250ZXh0Lmxlbmd0aCl7dmFyIGM9dGhpcy5jb250ZXh0WzBdO2lmKFwiZnJvbVZpc2libGVcIj09PWF8fFwidG9EYXRhXCI9PT1hKXJldHVybiAkKGMsYik7aWYoXCJmcm9tRGF0YVwiPT09YXx8XCJ0b1Zpc2libGVcIj09PWEpcmV0dXJuIGJhKGMsYil9fSk7cChcImNvbHVtbigpXCIsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYmIodGhpcy5jb2x1bW5zKGEsXHJcbmIpKX0pO3AoXCJjZWxscygpXCIsZnVuY3Rpb24oYSxiLGMpe2guaXNQbGFpbk9iamVjdChhKSYmKGEucm93PT09az8oYz1hLGE9bnVsbCk6KGM9YixiPW51bGwpKTtoLmlzUGxhaW5PYmplY3QoYikmJihjPWIsYj1udWxsKTtpZihudWxsPT09Ynx8Yj09PWspcmV0dXJuIHRoaXMuaXRlcmF0b3IoXCJ0YWJsZVwiLGZ1bmN0aW9uKGIpe3ZhciBkPWEsZT1hYihjKSxmPWIuYW9EYXRhLGc9RGEoYixlKSxqPVNiKGphKGYsZyxcImFuQ2VsbHNcIikpLGk9aChbXS5jb25jYXQuYXBwbHkoW10saikpLGwsbT1iLmFvQ29sdW1ucy5sZW5ndGgsbyxwLHQscixzLHY7cmV0dXJuICRhKFwiY2VsbFwiLGQsZnVuY3Rpb24oYSl7dmFyIGM9dHlwZW9mIGE9PT1cImZ1bmN0aW9uXCI7aWYoYT09PW51bGx8fGE9PT1rfHxjKXtvPVtdO3A9MDtmb3IodD1nLmxlbmd0aDtwPHQ7cCsrKXtsPWdbcF07Zm9yKHI9MDtyPG07cisrKXtzPXtyb3c6bCxjb2x1bW46cn07aWYoYyl7dj1mW2xdO2EocyxCKGIsbCxyKSx2LmFuQ2VsbHM/XHJcbnYuYW5DZWxsc1tyXTpudWxsKSYmby5wdXNoKHMpfWVsc2Ugby5wdXNoKHMpfX1yZXR1cm4gb31yZXR1cm4gaC5pc1BsYWluT2JqZWN0KGEpP1thXTppLmZpbHRlcihhKS5tYXAoZnVuY3Rpb24oYSxiKXtyZXR1cm57cm93OmIuX0RUX0NlbGxJbmRleC5yb3csY29sdW1uOmIuX0RUX0NlbGxJbmRleC5jb2x1bW59fSkudG9BcnJheSgpfSxiLGUpfSk7dmFyIGQ9dGhpcy5jb2x1bW5zKGIsYyksZT10aGlzLnJvd3MoYSxjKSxmLGcsaixpLG0sbD10aGlzLml0ZXJhdG9yKFwidGFibGVcIixmdW5jdGlvbihhLGIpe2Y9W107Zz0wO2ZvcihqPWVbYl0ubGVuZ3RoO2c8ajtnKyspe2k9MDtmb3IobT1kW2JdLmxlbmd0aDtpPG07aSsrKWYucHVzaCh7cm93OmVbYl1bZ10sY29sdW1uOmRbYl1baV19KX1yZXR1cm4gZn0sMSk7aC5leHRlbmQobC5zZWxlY3Rvcix7Y29sczpiLHJvd3M6YSxvcHRzOmN9KTtyZXR1cm4gbH0pO3IoXCJjZWxscygpLm5vZGVzKClcIixcImNlbGwoKS5ub2RlKClcIixmdW5jdGlvbigpe3JldHVybiB0aGlzLml0ZXJhdG9yKFwiY2VsbFwiLFxyXG5mdW5jdGlvbihhLGIsYyl7cmV0dXJuKGE9YS5hb0RhdGFbYl0uYW5DZWxscyk/YVtjXTprfSwxKX0pO3AoXCJjZWxscygpLmRhdGEoKVwiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXRlcmF0b3IoXCJjZWxsXCIsZnVuY3Rpb24oYSxiLGMpe3JldHVybiBCKGEsYixjKX0sMSl9KTtyKFwiY2VsbHMoKS5jYWNoZSgpXCIsXCJjZWxsKCkuY2FjaGUoKVwiLGZ1bmN0aW9uKGEpe2E9XCJzZWFyY2hcIj09PWE/XCJfYUZpbHRlckRhdGFcIjpcIl9hU29ydERhdGFcIjtyZXR1cm4gdGhpcy5pdGVyYXRvcihcImNlbGxcIixmdW5jdGlvbihiLGMsZCl7cmV0dXJuIGIuYW9EYXRhW2NdW2FdW2RdfSwxKX0pO3IoXCJjZWxscygpLnJlbmRlcigpXCIsXCJjZWxsKCkucmVuZGVyKClcIixmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pdGVyYXRvcihcImNlbGxcIixmdW5jdGlvbihiLGMsZCl7cmV0dXJuIEIoYixjLGQsYSl9LDEpfSk7cihcImNlbGxzKCkuaW5kZXhlcygpXCIsXCJjZWxsKCkuaW5kZXgoKVwiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXRlcmF0b3IoXCJjZWxsXCIsXHJcbmZ1bmN0aW9uKGEsYixjKXtyZXR1cm57cm93OmIsY29sdW1uOmMsY29sdW1uVmlzaWJsZTpiYShhLGMpfX0sMSl9KTtyKFwiY2VsbHMoKS5pbnZhbGlkYXRlKClcIixcImNlbGwoKS5pbnZhbGlkYXRlKClcIixmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pdGVyYXRvcihcImNlbGxcIixmdW5jdGlvbihiLGMsZCl7ZWEoYixjLGEsZCl9KX0pO3AoXCJjZWxsKClcIixmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGJiKHRoaXMuY2VsbHMoYSxiLGMpKX0pO3AoXCJjZWxsKCkuZGF0YSgpXCIsZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jb250ZXh0LGM9dGhpc1swXTtpZihhPT09aylyZXR1cm4gYi5sZW5ndGgmJmMubGVuZ3RoP0IoYlswXSxjWzBdLnJvdyxjWzBdLmNvbHVtbik6aztqYihiWzBdLGNbMF0ucm93LGNbMF0uY29sdW1uLGEpO2VhKGJbMF0sY1swXS5yb3csXCJkYXRhXCIsY1swXS5jb2x1bW4pO3JldHVybiB0aGlzfSk7cChcIm9yZGVyKClcIixmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuY29udGV4dDtpZihhPT09XHJcbmspcmV0dXJuIDAhPT1jLmxlbmd0aD9jWzBdLmFhU29ydGluZzprO1wibnVtYmVyXCI9PT10eXBlb2YgYT9hPVtbYSxiXV06aC5pc0FycmF5KGFbMF0pfHwoYT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKTtyZXR1cm4gdGhpcy5pdGVyYXRvcihcInRhYmxlXCIsZnVuY3Rpb24oYil7Yi5hYVNvcnRpbmc9YS5zbGljZSgpfSl9KTtwKFwib3JkZXIubGlzdGVuZXIoKVwiLGZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdGhpcy5pdGVyYXRvcihcInRhYmxlXCIsZnVuY3Rpb24oZCl7T2EoZCxhLGIsYyl9KX0pO3AoXCJvcmRlci5maXhlZCgpXCIsZnVuY3Rpb24oYSl7aWYoIWEpe3ZhciBiPXRoaXMuY29udGV4dCxiPWIubGVuZ3RoP2JbMF0uYWFTb3J0aW5nRml4ZWQ6aztyZXR1cm4gaC5pc0FycmF5KGIpP3twcmU6Yn06Yn1yZXR1cm4gdGhpcy5pdGVyYXRvcihcInRhYmxlXCIsZnVuY3Rpb24oYil7Yi5hYVNvcnRpbmdGaXhlZD1oLmV4dGVuZCghMCx7fSxhKX0pfSk7cChbXCJjb2x1bW5zKCkub3JkZXIoKVwiLFxyXG5cImNvbHVtbigpLm9yZGVyKClcIl0sZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztyZXR1cm4gdGhpcy5pdGVyYXRvcihcInRhYmxlXCIsZnVuY3Rpb24oYyxkKXt2YXIgZT1bXTtoLmVhY2goYltkXSxmdW5jdGlvbihiLGMpe2UucHVzaChbYyxhXSl9KTtjLmFhU29ydGluZz1lfSl9KTtwKFwic2VhcmNoKClcIixmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT10aGlzLmNvbnRleHQ7cmV0dXJuIGE9PT1rPzAhPT1lLmxlbmd0aD9lWzBdLm9QcmV2aW91c1NlYXJjaC5zU2VhcmNoOms6dGhpcy5pdGVyYXRvcihcInRhYmxlXCIsZnVuY3Rpb24oZSl7ZS5vRmVhdHVyZXMuYkZpbHRlciYmaGEoZSxoLmV4dGVuZCh7fSxlLm9QcmV2aW91c1NlYXJjaCx7c1NlYXJjaDphK1wiXCIsYlJlZ2V4Om51bGw9PT1iPyExOmIsYlNtYXJ0Om51bGw9PT1jPyEwOmMsYkNhc2VJbnNlbnNpdGl2ZTpudWxsPT09ZD8hMDpkfSksMSl9KX0pO3IoXCJjb2x1bW5zKCkuc2VhcmNoKClcIixcImNvbHVtbigpLnNlYXJjaCgpXCIsZnVuY3Rpb24oYSxcclxuYixjLGQpe3JldHVybiB0aGlzLml0ZXJhdG9yKFwiY29sdW1uXCIsZnVuY3Rpb24oZSxmKXt2YXIgZz1lLmFvUHJlU2VhcmNoQ29scztpZihhPT09aylyZXR1cm4gZ1tmXS5zU2VhcmNoO2Uub0ZlYXR1cmVzLmJGaWx0ZXImJihoLmV4dGVuZChnW2ZdLHtzU2VhcmNoOmErXCJcIixiUmVnZXg6bnVsbD09PWI/ITE6YixiU21hcnQ6bnVsbD09PWM/ITA6YyxiQ2FzZUluc2Vuc2l0aXZlOm51bGw9PT1kPyEwOmR9KSxoYShlLGUub1ByZXZpb3VzU2VhcmNoLDEpKX0pfSk7cChcInN0YXRlKClcIixmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRleHQubGVuZ3RoP3RoaXMuY29udGV4dFswXS5vU2F2ZWRTdGF0ZTpudWxsfSk7cChcInN0YXRlLmNsZWFyKClcIixmdW5jdGlvbigpe3JldHVybiB0aGlzLml0ZXJhdG9yKFwidGFibGVcIixmdW5jdGlvbihhKXthLmZuU3RhdGVTYXZlQ2FsbGJhY2suY2FsbChhLm9JbnN0YW5jZSxhLHt9KX0pfSk7cChcInN0YXRlLmxvYWRlZCgpXCIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZXh0Lmxlbmd0aD9cclxudGhpcy5jb250ZXh0WzBdLm9Mb2FkZWRTdGF0ZTpudWxsfSk7cChcInN0YXRlLnNhdmUoKVwiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXRlcmF0b3IoXCJ0YWJsZVwiLGZ1bmN0aW9uKGEpe3lhKGEpfSl9KTttLnZlcnNpb25DaGVjaz1tLmZuVmVyc2lvbkNoZWNrPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1tLnZlcnNpb24uc3BsaXQoXCIuXCIpLGE9YS5zcGxpdChcIi5cIiksYyxkLGU9MCxmPWEubGVuZ3RoO2U8ZjtlKyspaWYoYz1wYXJzZUludChiW2VdLDEwKXx8MCxkPXBhcnNlSW50KGFbZV0sMTApfHwwLGMhPT1kKXJldHVybiBjPmQ7cmV0dXJuITB9O20uaXNEYXRhVGFibGU9bS5mbklzRGF0YVRhYmxlPWZ1bmN0aW9uKGEpe3ZhciBiPWgoYSkuZ2V0KDApLGM9ITE7aC5lYWNoKG0uc2V0dGluZ3MsZnVuY3Rpb24oYSxlKXt2YXIgZj1lLm5TY3JvbGxIZWFkP2goXCJ0YWJsZVwiLGUublNjcm9sbEhlYWQpWzBdOm51bGwsZz1lLm5TY3JvbGxGb290P2goXCJ0YWJsZVwiLGUublNjcm9sbEZvb3QpWzBdOlxyXG5udWxsO2lmKGUublRhYmxlPT09Ynx8Zj09PWJ8fGc9PT1iKWM9ITB9KTtyZXR1cm4gY307bS50YWJsZXM9bS5mblRhYmxlcz1mdW5jdGlvbihhKXt2YXIgYj0hMTtoLmlzUGxhaW5PYmplY3QoYSkmJihiPWEuYXBpLGE9YS52aXNpYmxlKTt2YXIgYz1oLm1hcChtLnNldHRpbmdzLGZ1bmN0aW9uKGIpe2lmKCFhfHxhJiZoKGIublRhYmxlKS5pcyhcIjp2aXNpYmxlXCIpKXJldHVybiBiLm5UYWJsZX0pO3JldHVybiBiP25ldyB0KGMpOmN9O20udXRpbD17dGhyb3R0bGU6dWEsZXNjYXBlUmVnZXg6dmF9O20uY2FtZWxUb0h1bmdhcmlhbj1KO3AoXCIkKClcIixmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMucm93cyhiKS5ub2RlcygpLGM9aChjKTtyZXR1cm4gaChbXS5jb25jYXQoYy5maWx0ZXIoYSkudG9BcnJheSgpLGMuZmluZChhKS50b0FycmF5KCkpKX0pO2guZWFjaChbXCJvblwiLFwib25lXCIsXCJvZmZcIl0sZnVuY3Rpb24oYSxiKXtwKGIrXCIoKVwiLGZ1bmN0aW9uKCl7dmFyIGE9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcclxuYVswXS5tYXRjaCgvXFwuZHRcXGIvKXx8KGFbMF0rPVwiLmR0XCIpO3ZhciBkPWgodGhpcy50YWJsZXMoKS5ub2RlcygpKTtkW2JdLmFwcGx5KGQsYSk7cmV0dXJuIHRoaXN9KX0pO3AoXCJjbGVhcigpXCIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pdGVyYXRvcihcInRhYmxlXCIsZnVuY3Rpb24oYSl7bmEoYSl9KX0pO3AoXCJzZXR0aW5ncygpXCIsZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHQodGhpcy5jb250ZXh0LHRoaXMuY29udGV4dCl9KTtwKFwiaW5pdCgpXCIsZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNvbnRleHQ7cmV0dXJuIGEubGVuZ3RoP2FbMF0ub0luaXQ6bnVsbH0pO3AoXCJkYXRhKClcIixmdW5jdGlvbigpe3JldHVybiB0aGlzLml0ZXJhdG9yKFwidGFibGVcIixmdW5jdGlvbihhKXtyZXR1cm4gRChhLmFvRGF0YSxcIl9hRGF0YVwiKX0pLmZsYXR0ZW4oKX0pO3AoXCJkZXN0cm95KClcIixmdW5jdGlvbihhKXthPWF8fCExO3JldHVybiB0aGlzLml0ZXJhdG9yKFwidGFibGVcIixmdW5jdGlvbihiKXt2YXIgYz1cclxuYi5uVGFibGVXcmFwcGVyLnBhcmVudE5vZGUsZD1iLm9DbGFzc2VzLGU9Yi5uVGFibGUsZj1iLm5UQm9keSxnPWIublRIZWFkLGo9Yi5uVEZvb3QsaT1oKGUpLGY9aChmKSxrPWgoYi5uVGFibGVXcmFwcGVyKSxsPWgubWFwKGIuYW9EYXRhLGZ1bmN0aW9uKGEpe3JldHVybiBhLm5Ucn0pLHA7Yi5iRGVzdHJveWluZz0hMDt2KGIsXCJhb0Rlc3Ryb3lDYWxsYmFja1wiLFwiZGVzdHJveVwiLFtiXSk7YXx8KG5ldyB0KGIpKS5jb2x1bW5zKCkudmlzaWJsZSghMCk7ay51bmJpbmQoXCIuRFRcIikuZmluZChcIjpub3QodGJvZHkgKilcIikudW5iaW5kKFwiLkRUXCIpO2goRSkudW5iaW5kKFwiLkRULVwiK2Iuc0luc3RhbmNlKTtlIT1nLnBhcmVudE5vZGUmJihpLmNoaWxkcmVuKFwidGhlYWRcIikuZGV0YWNoKCksaS5hcHBlbmQoZykpO2omJmUhPWoucGFyZW50Tm9kZSYmKGkuY2hpbGRyZW4oXCJ0Zm9vdFwiKS5kZXRhY2goKSxpLmFwcGVuZChqKSk7Yi5hYVNvcnRpbmc9W107Yi5hYVNvcnRpbmdGaXhlZD1bXTt4YShiKTtcclxuaChsKS5yZW1vdmVDbGFzcyhiLmFzU3RyaXBlQ2xhc3Nlcy5qb2luKFwiIFwiKSk7aChcInRoLCB0ZFwiLGcpLnJlbW92ZUNsYXNzKGQuc1NvcnRhYmxlK1wiIFwiK2Quc1NvcnRhYmxlQXNjK1wiIFwiK2Quc1NvcnRhYmxlRGVzYytcIiBcIitkLnNTb3J0YWJsZU5vbmUpO2IuYkpVSSYmKGgoXCJ0aCBzcGFuLlwiK2Quc1NvcnRJY29uK1wiLCB0ZCBzcGFuLlwiK2Quc1NvcnRJY29uLGcpLmRldGFjaCgpLGgoXCJ0aCwgdGRcIixnKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGE9aChcImRpdi5cIitkLnNTb3J0SlVJV3JhcHBlcix0aGlzKTtoKHRoaXMpLmFwcGVuZChhLmNvbnRlbnRzKCkpO2EuZGV0YWNoKCl9KSk7Zi5jaGlsZHJlbigpLmRldGFjaCgpO2YuYXBwZW5kKGwpO2c9YT9cInJlbW92ZVwiOlwiZGV0YWNoXCI7aVtnXSgpO2tbZ10oKTshYSYmYyYmKGMuaW5zZXJ0QmVmb3JlKGUsYi5uVGFibGVSZWluc2VydEJlZm9yZSksaS5jc3MoXCJ3aWR0aFwiLGIuc0Rlc3Ryb3lXaWR0aCkucmVtb3ZlQ2xhc3MoZC5zVGFibGUpLChwPVxyXG5iLmFzRGVzdHJveVN0cmlwZXMubGVuZ3RoKSYmZi5jaGlsZHJlbigpLmVhY2goZnVuY3Rpb24oYSl7aCh0aGlzKS5hZGRDbGFzcyhiLmFzRGVzdHJveVN0cmlwZXNbYSVwXSl9KSk7Yz1oLmluQXJyYXkoYixtLnNldHRpbmdzKTstMSE9PWMmJm0uc2V0dGluZ3Muc3BsaWNlKGMsMSl9KX0pO2guZWFjaChbXCJjb2x1bW5cIixcInJvd1wiLFwiY2VsbFwiXSxmdW5jdGlvbihhLGIpe3AoYitcInMoKS5ldmVyeSgpXCIsZnVuY3Rpb24oYSl7dmFyIGQ9dGhpcy5zZWxlY3Rvci5vcHRzLGU9dGhpcztyZXR1cm4gdGhpcy5pdGVyYXRvcihiLGZ1bmN0aW9uKGYsZyxoLGksbSl7YS5jYWxsKGVbYl0oZyxcImNlbGxcIj09PWI/aDpkLFwiY2VsbFwiPT09Yj9kOmspLGcsaCxpLG0pfSl9KX0pO3AoXCJpMThuKClcIixmdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5jb250ZXh0WzBdLGE9UShhKShkLm9MYW5ndWFnZSk7YT09PWsmJihhPWIpO2MhPT1rJiZoLmlzUGxhaW5PYmplY3QoYSkmJihhPWFbY10hPT1rP2FbY106YS5fKTtcclxucmV0dXJuIGEucmVwbGFjZShcIiVkXCIsYyl9KTttLnZlcnNpb249XCIxLjEwLjEwXCI7bS5zZXR0aW5ncz1bXTttLm1vZGVscz17fTttLm1vZGVscy5vU2VhcmNoPXtiQ2FzZUluc2Vuc2l0aXZlOiEwLHNTZWFyY2g6XCJcIixiUmVnZXg6ITEsYlNtYXJ0OiEwfTttLm1vZGVscy5vUm93PXtuVHI6bnVsbCxhbkNlbGxzOm51bGwsX2FEYXRhOltdLF9hU29ydERhdGE6bnVsbCxfYUZpbHRlckRhdGE6bnVsbCxfc0ZpbHRlclJvdzpudWxsLF9zUm93U3RyaXBlOlwiXCIsc3JjOm51bGwsaWR4Oi0xfTttLm1vZGVscy5vQ29sdW1uPXtpZHg6bnVsbCxhRGF0YVNvcnQ6bnVsbCxhc1NvcnRpbmc6bnVsbCxiU2VhcmNoYWJsZTpudWxsLGJTb3J0YWJsZTpudWxsLGJWaXNpYmxlOm51bGwsX3NNYW51YWxUeXBlOm51bGwsX2JBdHRyU3JjOiExLGZuQ3JlYXRlZENlbGw6bnVsbCxmbkdldERhdGE6bnVsbCxmblNldERhdGE6bnVsbCxtRGF0YTpudWxsLG1SZW5kZXI6bnVsbCxuVGg6bnVsbCxuVGY6bnVsbCxzQ2xhc3M6bnVsbCxcclxuc0NvbnRlbnRQYWRkaW5nOm51bGwsc0RlZmF1bHRDb250ZW50Om51bGwsc05hbWU6bnVsbCxzU29ydERhdGFUeXBlOlwic3RkXCIsc1NvcnRpbmdDbGFzczpudWxsLHNTb3J0aW5nQ2xhc3NKVUk6bnVsbCxzVGl0bGU6bnVsbCxzVHlwZTpudWxsLHNXaWR0aDpudWxsLHNXaWR0aE9yaWc6bnVsbH07bS5kZWZhdWx0cz17YWFEYXRhOm51bGwsYWFTb3J0aW5nOltbMCxcImFzY1wiXV0sYWFTb3J0aW5nRml4ZWQ6W10sYWpheDpudWxsLGFMZW5ndGhNZW51OlsxMCwyNSw1MCwxMDBdLGFvQ29sdW1uczpudWxsLGFvQ29sdW1uRGVmczpudWxsLGFvU2VhcmNoQ29sczpbXSxhc1N0cmlwZUNsYXNzZXM6bnVsbCxiQXV0b1dpZHRoOiEwLGJEZWZlclJlbmRlcjohMSxiRGVzdHJveTohMSxiRmlsdGVyOiEwLGJJbmZvOiEwLGJKUXVlcnlVSTohMSxiTGVuZ3RoQ2hhbmdlOiEwLGJQYWdpbmF0ZTohMCxiUHJvY2Vzc2luZzohMSxiUmV0cmlldmU6ITEsYlNjcm9sbENvbGxhcHNlOiExLGJTZXJ2ZXJTaWRlOiExLFxyXG5iU29ydDohMCxiU29ydE11bHRpOiEwLGJTb3J0Q2VsbHNUb3A6ITEsYlNvcnRDbGFzc2VzOiEwLGJTdGF0ZVNhdmU6ITEsZm5DcmVhdGVkUm93Om51bGwsZm5EcmF3Q2FsbGJhY2s6bnVsbCxmbkZvb3RlckNhbGxiYWNrOm51bGwsZm5Gb3JtYXROdW1iZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIGEudG9TdHJpbmcoKS5yZXBsYWNlKC9cXEIoPz0oXFxkezN9KSsoPyFcXGQpKS9nLHRoaXMub0xhbmd1YWdlLnNUaG91c2FuZHMpfSxmbkhlYWRlckNhbGxiYWNrOm51bGwsZm5JbmZvQ2FsbGJhY2s6bnVsbCxmbkluaXRDb21wbGV0ZTpudWxsLGZuUHJlRHJhd0NhbGxiYWNrOm51bGwsZm5Sb3dDYWxsYmFjazpudWxsLGZuU2VydmVyRGF0YTpudWxsLGZuU2VydmVyUGFyYW1zOm51bGwsZm5TdGF0ZUxvYWRDYWxsYmFjazpmdW5jdGlvbihhKXt0cnl7cmV0dXJuIEpTT04ucGFyc2UoKC0xPT09YS5pU3RhdGVEdXJhdGlvbj9zZXNzaW9uU3RvcmFnZTpsb2NhbFN0b3JhZ2UpLmdldEl0ZW0oXCJEYXRhVGFibGVzX1wiK1xyXG5hLnNJbnN0YW5jZStcIl9cIitsb2NhdGlvbi5wYXRobmFtZSkpfWNhdGNoKGIpe319LGZuU3RhdGVMb2FkUGFyYW1zOm51bGwsZm5TdGF0ZUxvYWRlZDpudWxsLGZuU3RhdGVTYXZlQ2FsbGJhY2s6ZnVuY3Rpb24oYSxiKXt0cnl7KC0xPT09YS5pU3RhdGVEdXJhdGlvbj9zZXNzaW9uU3RvcmFnZTpsb2NhbFN0b3JhZ2UpLnNldEl0ZW0oXCJEYXRhVGFibGVzX1wiK2Euc0luc3RhbmNlK1wiX1wiK2xvY2F0aW9uLnBhdGhuYW1lLEpTT04uc3RyaW5naWZ5KGIpKX1jYXRjaChjKXt9fSxmblN0YXRlU2F2ZVBhcmFtczpudWxsLGlTdGF0ZUR1cmF0aW9uOjcyMDAsaURlZmVyTG9hZGluZzpudWxsLGlEaXNwbGF5TGVuZ3RoOjEwLGlEaXNwbGF5U3RhcnQ6MCxpVGFiSW5kZXg6MCxvQ2xhc3Nlczp7fSxvTGFuZ3VhZ2U6e29BcmlhOntzU29ydEFzY2VuZGluZzpcIjogYWN0aXZhdGUgdG8gc29ydCBjb2x1bW4gYXNjZW5kaW5nXCIsc1NvcnREZXNjZW5kaW5nOlwiOiBhY3RpdmF0ZSB0byBzb3J0IGNvbHVtbiBkZXNjZW5kaW5nXCJ9LFxyXG5vUGFnaW5hdGU6e3NGaXJzdDpcIkZpcnN0XCIsc0xhc3Q6XCJMYXN0XCIsc05leHQ6XCJOZXh0XCIsc1ByZXZpb3VzOlwiUHJldmlvdXNcIn0sc0VtcHR5VGFibGU6XCJObyBkYXRhIGF2YWlsYWJsZSBpbiB0YWJsZVwiLHNJbmZvOlwiU2hvd2luZyBfU1RBUlRfIHRvIF9FTkRfIG9mIF9UT1RBTF8gZW50cmllc1wiLHNJbmZvRW1wdHk6XCJTaG93aW5nIDAgdG8gMCBvZiAwIGVudHJpZXNcIixzSW5mb0ZpbHRlcmVkOlwiKGZpbHRlcmVkIGZyb20gX01BWF8gdG90YWwgZW50cmllcylcIixzSW5mb1Bvc3RGaXg6XCJcIixzRGVjaW1hbDpcIlwiLHNUaG91c2FuZHM6XCIsXCIsc0xlbmd0aE1lbnU6XCJTaG93IF9NRU5VXyBlbnRyaWVzXCIsc0xvYWRpbmdSZWNvcmRzOlwiTG9hZGluZy4uLlwiLHNQcm9jZXNzaW5nOlwiUHJvY2Vzc2luZy4uLlwiLHNTZWFyY2g6XCJTZWFyY2g6XCIsc1NlYXJjaFBsYWNlaG9sZGVyOlwiXCIsc1VybDpcIlwiLHNaZXJvUmVjb3JkczpcIk5vIG1hdGNoaW5nIHJlY29yZHMgZm91bmRcIn0sb1NlYXJjaDpoLmV4dGVuZCh7fSxcclxubS5tb2RlbHMub1NlYXJjaCksc0FqYXhEYXRhUHJvcDpcImRhdGFcIixzQWpheFNvdXJjZTpudWxsLHNEb206XCJsZnJ0aXBcIixzZWFyY2hEZWxheTpudWxsLHNQYWdpbmF0aW9uVHlwZTpcInNpbXBsZV9udW1iZXJzXCIsc1Njcm9sbFg6XCJcIixzU2Nyb2xsWElubmVyOlwiXCIsc1Njcm9sbFk6XCJcIixzU2VydmVyTWV0aG9kOlwiR0VUXCIscmVuZGVyZXI6bnVsbCxyb3dJZDpcIkRUX1Jvd0lkXCJ9O1kobS5kZWZhdWx0cyk7bS5kZWZhdWx0cy5jb2x1bW49e2FEYXRhU29ydDpudWxsLGlEYXRhU29ydDotMSxhc1NvcnRpbmc6W1wiYXNjXCIsXCJkZXNjXCJdLGJTZWFyY2hhYmxlOiEwLGJTb3J0YWJsZTohMCxiVmlzaWJsZTohMCxmbkNyZWF0ZWRDZWxsOm51bGwsbURhdGE6bnVsbCxtUmVuZGVyOm51bGwsc0NlbGxUeXBlOlwidGRcIixzQ2xhc3M6XCJcIixzQ29udGVudFBhZGRpbmc6XCJcIixzRGVmYXVsdENvbnRlbnQ6bnVsbCxzTmFtZTpcIlwiLHNTb3J0RGF0YVR5cGU6XCJzdGRcIixzVGl0bGU6bnVsbCxzVHlwZTpudWxsLHNXaWR0aDpudWxsfTtcclxuWShtLmRlZmF1bHRzLmNvbHVtbik7bS5tb2RlbHMub1NldHRpbmdzPXtvRmVhdHVyZXM6e2JBdXRvV2lkdGg6bnVsbCxiRGVmZXJSZW5kZXI6bnVsbCxiRmlsdGVyOm51bGwsYkluZm86bnVsbCxiTGVuZ3RoQ2hhbmdlOm51bGwsYlBhZ2luYXRlOm51bGwsYlByb2Nlc3Npbmc6bnVsbCxiU2VydmVyU2lkZTpudWxsLGJTb3J0Om51bGwsYlNvcnRNdWx0aTpudWxsLGJTb3J0Q2xhc3NlczpudWxsLGJTdGF0ZVNhdmU6bnVsbH0sb1Njcm9sbDp7YkNvbGxhcHNlOm51bGwsaUJhcldpZHRoOjAsc1g6bnVsbCxzWElubmVyOm51bGwsc1k6bnVsbH0sb0xhbmd1YWdlOntmbkluZm9DYWxsYmFjazpudWxsfSxvQnJvd3Nlcjp7YlNjcm9sbE92ZXJzaXplOiExLGJTY3JvbGxiYXJMZWZ0OiExLGJCb3VuZGluZzohMSxiYXJXaWR0aDowfSxhamF4Om51bGwsYWFuRmVhdHVyZXM6W10sYW9EYXRhOltdLGFpRGlzcGxheTpbXSxhaURpc3BsYXlNYXN0ZXI6W10sYUlkczp7fSxhb0NvbHVtbnM6W10sYW9IZWFkZXI6W10sXHJcbmFvRm9vdGVyOltdLG9QcmV2aW91c1NlYXJjaDp7fSxhb1ByZVNlYXJjaENvbHM6W10sYWFTb3J0aW5nOm51bGwsYWFTb3J0aW5nRml4ZWQ6W10sYXNTdHJpcGVDbGFzc2VzOm51bGwsYXNEZXN0cm95U3RyaXBlczpbXSxzRGVzdHJveVdpZHRoOjAsYW9Sb3dDYWxsYmFjazpbXSxhb0hlYWRlckNhbGxiYWNrOltdLGFvRm9vdGVyQ2FsbGJhY2s6W10sYW9EcmF3Q2FsbGJhY2s6W10sYW9Sb3dDcmVhdGVkQ2FsbGJhY2s6W10sYW9QcmVEcmF3Q2FsbGJhY2s6W10sYW9Jbml0Q29tcGxldGU6W10sYW9TdGF0ZVNhdmVQYXJhbXM6W10sYW9TdGF0ZUxvYWRQYXJhbXM6W10sYW9TdGF0ZUxvYWRlZDpbXSxzVGFibGVJZDpcIlwiLG5UYWJsZTpudWxsLG5USGVhZDpudWxsLG5URm9vdDpudWxsLG5UQm9keTpudWxsLG5UYWJsZVdyYXBwZXI6bnVsbCxiRGVmZXJMb2FkaW5nOiExLGJJbml0aWFsaXNlZDohMSxhb09wZW5Sb3dzOltdLHNEb206bnVsbCxzZWFyY2hEZWxheTpudWxsLHNQYWdpbmF0aW9uVHlwZTpcInR3b19idXR0b25cIixcclxuaVN0YXRlRHVyYXRpb246MCxhb1N0YXRlU2F2ZTpbXSxhb1N0YXRlTG9hZDpbXSxvU2F2ZWRTdGF0ZTpudWxsLG9Mb2FkZWRTdGF0ZTpudWxsLHNBamF4U291cmNlOm51bGwsc0FqYXhEYXRhUHJvcDpudWxsLGJBamF4RGF0YUdldDohMCxqcVhIUjpudWxsLGpzb246ayxvQWpheERhdGE6ayxmblNlcnZlckRhdGE6bnVsbCxhb1NlcnZlclBhcmFtczpbXSxzU2VydmVyTWV0aG9kOm51bGwsZm5Gb3JtYXROdW1iZXI6bnVsbCxhTGVuZ3RoTWVudTpudWxsLGlEcmF3OjAsYkRyYXdpbmc6ITEsaURyYXdFcnJvcjotMSxfaURpc3BsYXlMZW5ndGg6MTAsX2lEaXNwbGF5U3RhcnQ6MCxfaVJlY29yZHNUb3RhbDowLF9pUmVjb3Jkc0Rpc3BsYXk6MCxiSlVJOm51bGwsb0NsYXNzZXM6e30sYkZpbHRlcmVkOiExLGJTb3J0ZWQ6ITEsYlNvcnRDZWxsc1RvcDpudWxsLG9Jbml0Om51bGwsYW9EZXN0cm95Q2FsbGJhY2s6W10sZm5SZWNvcmRzVG90YWw6ZnVuY3Rpb24oKXtyZXR1cm5cInNzcFwiPT15KHRoaXMpP1xyXG4xKnRoaXMuX2lSZWNvcmRzVG90YWw6dGhpcy5haURpc3BsYXlNYXN0ZXIubGVuZ3RofSxmblJlY29yZHNEaXNwbGF5OmZ1bmN0aW9uKCl7cmV0dXJuXCJzc3BcIj09eSh0aGlzKT8xKnRoaXMuX2lSZWNvcmRzRGlzcGxheTp0aGlzLmFpRGlzcGxheS5sZW5ndGh9LGZuRGlzcGxheUVuZDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuX2lEaXNwbGF5TGVuZ3RoLGI9dGhpcy5faURpc3BsYXlTdGFydCxjPWIrYSxkPXRoaXMuYWlEaXNwbGF5Lmxlbmd0aCxlPXRoaXMub0ZlYXR1cmVzLGY9ZS5iUGFnaW5hdGU7cmV0dXJuIGUuYlNlcnZlclNpZGU/ITE9PT1mfHwtMT09PWE/YitkOk1hdGgubWluKGIrYSx0aGlzLl9pUmVjb3Jkc0Rpc3BsYXkpOiFmfHxjPmR8fC0xPT09YT9kOmN9LG9JbnN0YW5jZTpudWxsLHNJbnN0YW5jZTpudWxsLGlUYWJJbmRleDowLG5TY3JvbGxIZWFkOm51bGwsblNjcm9sbEZvb3Q6bnVsbCxhTGFzdFNvcnQ6W10sb1BsdWdpbnM6e30scm93SWRGbjpudWxsLHJvd0lkOm51bGx9O1xyXG5tLmV4dD1zPXtidXR0b25zOnt9LGNsYXNzZXM6e30sYnVpbGRlcjpcIi1zb3VyY2UtXCIsZXJyTW9kZTpcImFsZXJ0XCIsZmVhdHVyZTpbXSxzZWFyY2g6W10sc2VsZWN0b3I6e2NlbGw6W10sY29sdW1uOltdLHJvdzpbXX0saW50ZXJuYWw6e30sbGVnYWN5OnthamF4Om51bGx9LHBhZ2VyOnt9LHJlbmRlcmVyOntwYWdlQnV0dG9uOnt9LGhlYWRlcjp7fX0sb3JkZXI6e30sdHlwZTp7ZGV0ZWN0OltdLHNlYXJjaDp7fSxvcmRlcjp7fX0sX3VuaXF1ZTowLGZuVmVyc2lvbkNoZWNrOm0uZm5WZXJzaW9uQ2hlY2ssaUFwaUluZGV4OjAsb0pVSUNsYXNzZXM6e30sc1ZlcnNpb246bS52ZXJzaW9ufTtoLmV4dGVuZChzLHthZm5GaWx0ZXJpbmc6cy5zZWFyY2gsYVR5cGVzOnMudHlwZS5kZXRlY3Qsb2ZuU2VhcmNoOnMudHlwZS5zZWFyY2gsb1NvcnQ6cy50eXBlLm9yZGVyLGFmblNvcnREYXRhOnMub3JkZXIsYW9GZWF0dXJlczpzLmZlYXR1cmUsb0FwaTpzLmludGVybmFsLG9TdGRDbGFzc2VzOnMuY2xhc3Nlcyxcclxub1BhZ2luYXRpb246cy5wYWdlcn0pO2guZXh0ZW5kKG0uZXh0LmNsYXNzZXMse3NUYWJsZTpcImRhdGFUYWJsZVwiLHNOb0Zvb3RlcjpcIm5vLWZvb3RlclwiLHNQYWdlQnV0dG9uOlwicGFnaW5hdGVfYnV0dG9uXCIsc1BhZ2VCdXR0b25BY3RpdmU6XCJjdXJyZW50XCIsc1BhZ2VCdXR0b25EaXNhYmxlZDpcImRpc2FibGVkXCIsc1N0cmlwZU9kZDpcIm9kZFwiLHNTdHJpcGVFdmVuOlwiZXZlblwiLHNSb3dFbXB0eTpcImRhdGFUYWJsZXNfZW1wdHlcIixzV3JhcHBlcjpcImRhdGFUYWJsZXNfd3JhcHBlclwiLHNGaWx0ZXI6XCJkYXRhVGFibGVzX2ZpbHRlclwiLHNJbmZvOlwiZGF0YVRhYmxlc19pbmZvXCIsc1BhZ2luZzpcImRhdGFUYWJsZXNfcGFnaW5hdGUgcGFnaW5nX1wiLHNMZW5ndGg6XCJkYXRhVGFibGVzX2xlbmd0aFwiLHNQcm9jZXNzaW5nOlwiZGF0YVRhYmxlc19wcm9jZXNzaW5nXCIsc1NvcnRBc2M6XCJzb3J0aW5nX2FzY1wiLHNTb3J0RGVzYzpcInNvcnRpbmdfZGVzY1wiLHNTb3J0YWJsZTpcInNvcnRpbmdcIixzU29ydGFibGVBc2M6XCJzb3J0aW5nX2FzY19kaXNhYmxlZFwiLFxyXG5zU29ydGFibGVEZXNjOlwic29ydGluZ19kZXNjX2Rpc2FibGVkXCIsc1NvcnRhYmxlTm9uZTpcInNvcnRpbmdfZGlzYWJsZWRcIixzU29ydENvbHVtbjpcInNvcnRpbmdfXCIsc0ZpbHRlcklucHV0OlwiXCIsc0xlbmd0aFNlbGVjdDpcIlwiLHNTY3JvbGxXcmFwcGVyOlwiZGF0YVRhYmxlc19zY3JvbGxcIixzU2Nyb2xsSGVhZDpcImRhdGFUYWJsZXNfc2Nyb2xsSGVhZFwiLHNTY3JvbGxIZWFkSW5uZXI6XCJkYXRhVGFibGVzX3Njcm9sbEhlYWRJbm5lclwiLHNTY3JvbGxCb2R5OlwiZGF0YVRhYmxlc19zY3JvbGxCb2R5XCIsc1Njcm9sbEZvb3Q6XCJkYXRhVGFibGVzX3Njcm9sbEZvb3RcIixzU2Nyb2xsRm9vdElubmVyOlwiZGF0YVRhYmxlc19zY3JvbGxGb290SW5uZXJcIixzSGVhZGVyVEg6XCJcIixzRm9vdGVyVEg6XCJcIixzU29ydEpVSUFzYzpcIlwiLHNTb3J0SlVJRGVzYzpcIlwiLHNTb3J0SlVJOlwiXCIsc1NvcnRKVUlBc2NBbGxvd2VkOlwiXCIsc1NvcnRKVUlEZXNjQWxsb3dlZDpcIlwiLHNTb3J0SlVJV3JhcHBlcjpcIlwiLHNTb3J0SWNvbjpcIlwiLFxyXG5zSlVJSGVhZGVyOlwiXCIsc0pVSUZvb3RlcjpcIlwifSk7dmFyIEVhPVwiXCIsRWE9XCJcIixHPUVhK1widWktc3RhdGUtZGVmYXVsdFwiLGthPUVhK1wiY3NzX3JpZ2h0IHVpLWljb24gdWktaWNvbi1cIixYYj1FYStcImZnLXRvb2xiYXIgdWktdG9vbGJhciB1aS13aWRnZXQtaGVhZGVyIHVpLWhlbHBlci1jbGVhcmZpeFwiO2guZXh0ZW5kKG0uZXh0Lm9KVUlDbGFzc2VzLG0uZXh0LmNsYXNzZXMse3NQYWdlQnV0dG9uOlwiZmctYnV0dG9uIHVpLWJ1dHRvbiBcIitHLHNQYWdlQnV0dG9uQWN0aXZlOlwidWktc3RhdGUtZGlzYWJsZWRcIixzUGFnZUJ1dHRvbkRpc2FibGVkOlwidWktc3RhdGUtZGlzYWJsZWRcIixzUGFnaW5nOlwiZGF0YVRhYmxlc19wYWdpbmF0ZSBmZy1idXR0b25zZXQgdWktYnV0dG9uc2V0IGZnLWJ1dHRvbnNldC1tdWx0aSB1aS1idXR0b25zZXQtbXVsdGkgcGFnaW5nX1wiLHNTb3J0QXNjOkcrXCIgc29ydGluZ19hc2NcIixzU29ydERlc2M6RytcIiBzb3J0aW5nX2Rlc2NcIixzU29ydGFibGU6RytcIiBzb3J0aW5nXCIsXHJcbnNTb3J0YWJsZUFzYzpHK1wiIHNvcnRpbmdfYXNjX2Rpc2FibGVkXCIsc1NvcnRhYmxlRGVzYzpHK1wiIHNvcnRpbmdfZGVzY19kaXNhYmxlZFwiLHNTb3J0YWJsZU5vbmU6RytcIiBzb3J0aW5nX2Rpc2FibGVkXCIsc1NvcnRKVUlBc2M6a2ErXCJ0cmlhbmdsZS0xLW5cIixzU29ydEpVSURlc2M6a2ErXCJ0cmlhbmdsZS0xLXNcIixzU29ydEpVSTprYStcImNhcmF0LTItbi1zXCIsc1NvcnRKVUlBc2NBbGxvd2VkOmthK1wiY2FyYXQtMS1uXCIsc1NvcnRKVUlEZXNjQWxsb3dlZDprYStcImNhcmF0LTEtc1wiLHNTb3J0SlVJV3JhcHBlcjpcIkRhdGFUYWJsZXNfc29ydF93cmFwcGVyXCIsc1NvcnRJY29uOlwiRGF0YVRhYmxlc19zb3J0X2ljb25cIixzU2Nyb2xsSGVhZDpcImRhdGFUYWJsZXNfc2Nyb2xsSGVhZCBcIitHLHNTY3JvbGxGb290OlwiZGF0YVRhYmxlc19zY3JvbGxGb290IFwiK0csc0hlYWRlclRIOkcsc0Zvb3RlclRIOkcsc0pVSUhlYWRlcjpYYitcIiB1aS1jb3JuZXItdGwgdWktY29ybmVyLXRyXCIsc0pVSUZvb3RlcjpYYitcclxuXCIgdWktY29ybmVyLWJsIHVpLWNvcm5lci1iclwifSk7dmFyIE1iPW0uZXh0LnBhZ2VyO2guZXh0ZW5kKE1iLHtzaW1wbGU6ZnVuY3Rpb24oKXtyZXR1cm5bXCJwcmV2aW91c1wiLFwibmV4dFwiXX0sZnVsbDpmdW5jdGlvbigpe3JldHVybltcImZpcnN0XCIsXCJwcmV2aW91c1wiLFwibmV4dFwiLFwibGFzdFwiXX0sbnVtYmVyczpmdW5jdGlvbihhLGIpe3JldHVybltBYShhLGIpXX0sc2ltcGxlX251bWJlcnM6ZnVuY3Rpb24oYSxiKXtyZXR1cm5bXCJwcmV2aW91c1wiLEFhKGEsYiksXCJuZXh0XCJdfSxmdWxsX251bWJlcnM6ZnVuY3Rpb24oYSxiKXtyZXR1cm5bXCJmaXJzdFwiLFwicHJldmlvdXNcIixBYShhLGIpLFwibmV4dFwiLFwibGFzdFwiXX0sX251bWJlcnM6QWEsbnVtYmVyc19sZW5ndGg6N30pO2guZXh0ZW5kKCEwLG0uZXh0LnJlbmRlcmVyLHtwYWdlQnV0dG9uOntfOmZ1bmN0aW9uKGEsYixjLGQsZSxmKXt2YXIgZz1hLm9DbGFzc2VzLGo9YS5vTGFuZ3VhZ2Uub1BhZ2luYXRlLGk9YS5vTGFuZ3VhZ2Uub0FyaWEucGFnaW5hdGV8fFxyXG57fSxrLGwsbT0wLHA9ZnVuY3Rpb24oYixkKXt2YXIgbixyLHQscyx2PWZ1bmN0aW9uKGIpe1RhKGEsYi5kYXRhLmFjdGlvbix0cnVlKX07bj0wO2ZvcihyPWQubGVuZ3RoO248cjtuKyspe3M9ZFtuXTtpZihoLmlzQXJyYXkocykpe3Q9aChcIjxcIisocy5EVF9lbHx8XCJkaXZcIikrXCIvPlwiKS5hcHBlbmRUbyhiKTtwKHQscyl9ZWxzZXtrPW51bGw7bD1cIlwiO3N3aXRjaChzKXtjYXNlIFwiZWxsaXBzaXNcIjpiLmFwcGVuZCgnPHNwYW4gY2xhc3M9XCJlbGxpcHNpc1wiPiYjeDIwMjY7PC9zcGFuPicpO2JyZWFrO2Nhc2UgXCJmaXJzdFwiOms9ai5zRmlyc3Q7bD1zKyhlPjA/XCJcIjpcIiBcIitnLnNQYWdlQnV0dG9uRGlzYWJsZWQpO2JyZWFrO2Nhc2UgXCJwcmV2aW91c1wiOms9ai5zUHJldmlvdXM7bD1zKyhlPjA/XCJcIjpcIiBcIitnLnNQYWdlQnV0dG9uRGlzYWJsZWQpO2JyZWFrO2Nhc2UgXCJuZXh0XCI6az1qLnNOZXh0O2w9cysoZTxmLTE/XCJcIjpcIiBcIitnLnNQYWdlQnV0dG9uRGlzYWJsZWQpO2JyZWFrO2Nhc2UgXCJsYXN0XCI6az1cclxuai5zTGFzdDtsPXMrKGU8Zi0xP1wiXCI6XCIgXCIrZy5zUGFnZUJ1dHRvbkRpc2FibGVkKTticmVhaztkZWZhdWx0Oms9cysxO2w9ZT09PXM/Zy5zUGFnZUJ1dHRvbkFjdGl2ZTpcIlwifWlmKGshPT1udWxsKXt0PWgoXCI8YT5cIix7XCJjbGFzc1wiOmcuc1BhZ2VCdXR0b24rXCIgXCIrbCxcImFyaWEtY29udHJvbHNcIjphLnNUYWJsZUlkLFwiYXJpYS1sYWJlbFwiOmlbc10sXCJkYXRhLWR0LWlkeFwiOm0sdGFiaW5kZXg6YS5pVGFiSW5kZXgsaWQ6Yz09PTAmJnR5cGVvZiBzPT09XCJzdHJpbmdcIj9hLnNUYWJsZUlkK1wiX1wiK3M6bnVsbH0pLmh0bWwoaykuYXBwZW5kVG8oYik7V2EodCx7YWN0aW9uOnN9LHYpO20rK319fX0scjt0cnl7cj1oKGIpLmZpbmQoSC5hY3RpdmVFbGVtZW50KS5kYXRhKFwiZHQtaWR4XCIpfWNhdGNoKG4pe31wKGgoYikuZW1wdHkoKSxkKTtyJiZoKGIpLmZpbmQoXCJbZGF0YS1kdC1pZHg9XCIrcitcIl1cIikuZm9jdXMoKX19fSk7aC5leHRlbmQobS5leHQudHlwZS5kZXRlY3QsW2Z1bmN0aW9uKGEsYil7dmFyIGM9XHJcbmIub0xhbmd1YWdlLnNEZWNpbWFsO3JldHVybiBaYShhLGMpP1wibnVtXCIrYzpudWxsfSxmdW5jdGlvbihhKXtpZihhJiYhKGEgaW5zdGFuY2VvZiBEYXRlKSYmKCFhYy50ZXN0KGEpfHwhYmMudGVzdChhKSkpcmV0dXJuIG51bGw7dmFyIGI9RGF0ZS5wYXJzZShhKTtyZXR1cm4gbnVsbCE9PWImJiFpc05hTihiKXx8TShhKT9cImRhdGVcIjpudWxsfSxmdW5jdGlvbihhLGIpe3ZhciBjPWIub0xhbmd1YWdlLnNEZWNpbWFsO3JldHVybiBaYShhLGMsITApP1wibnVtLWZtdFwiK2M6bnVsbH0sZnVuY3Rpb24oYSxiKXt2YXIgYz1iLm9MYW5ndWFnZS5zRGVjaW1hbDtyZXR1cm4gUmIoYSxjKT9cImh0bWwtbnVtXCIrYzpudWxsfSxmdW5jdGlvbihhLGIpe3ZhciBjPWIub0xhbmd1YWdlLnNEZWNpbWFsO3JldHVybiBSYihhLGMsITApP1wiaHRtbC1udW0tZm10XCIrYzpudWxsfSxmdW5jdGlvbihhKXtyZXR1cm4gTShhKXx8XCJzdHJpbmdcIj09PXR5cGVvZiBhJiYtMSE9PWEuaW5kZXhPZihcIjxcIik/XCJodG1sXCI6XHJcbm51bGx9XSk7aC5leHRlbmQobS5leHQudHlwZS5zZWFyY2gse2h0bWw6ZnVuY3Rpb24oYSl7cmV0dXJuIE0oYSk/YTpcInN0cmluZ1wiPT09dHlwZW9mIGE/YS5yZXBsYWNlKE9iLFwiIFwiKS5yZXBsYWNlKENhLFwiXCIpOlwiXCJ9LHN0cmluZzpmdW5jdGlvbihhKXtyZXR1cm4gTShhKT9hOlwic3RyaW5nXCI9PT10eXBlb2YgYT9hLnJlcGxhY2UoT2IsXCIgXCIpOmF9fSk7dmFyIEJhPWZ1bmN0aW9uKGEsYixjLGQpe2lmKDAhPT1hJiYoIWF8fFwiLVwiPT09YSkpcmV0dXJuLUluZmluaXR5O2ImJihhPVFiKGEsYikpO2EucmVwbGFjZSYmKGMmJihhPWEucmVwbGFjZShjLFwiXCIpKSxkJiYoYT1hLnJlcGxhY2UoZCxcIlwiKSkpO3JldHVybiAxKmF9O2guZXh0ZW5kKHMudHlwZS5vcmRlcix7XCJkYXRlLXByZVwiOmZ1bmN0aW9uKGEpe3JldHVybiBEYXRlLnBhcnNlKGEpfHwwfSxcImh0bWwtcHJlXCI6ZnVuY3Rpb24oYSl7cmV0dXJuIE0oYSk/XCJcIjphLnJlcGxhY2U/YS5yZXBsYWNlKC88Lio/Pi9nLFwiXCIpLnRvTG93ZXJDYXNlKCk6XHJcbmErXCJcIn0sXCJzdHJpbmctcHJlXCI6ZnVuY3Rpb24oYSl7cmV0dXJuIE0oYSk/XCJcIjpcInN0cmluZ1wiPT09dHlwZW9mIGE/YS50b0xvd2VyQ2FzZSgpOiFhLnRvU3RyaW5nP1wiXCI6YS50b1N0cmluZygpfSxcInN0cmluZy1hc2NcIjpmdW5jdGlvbihhLGIpe3JldHVybiBhPGI/LTE6YT5iPzE6MH0sXCJzdHJpbmctZGVzY1wiOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE8Yj8xOmE+Yj8tMTowfX0pO2RiKFwiXCIpO2guZXh0ZW5kKCEwLG0uZXh0LnJlbmRlcmVyLHtoZWFkZXI6e186ZnVuY3Rpb24oYSxiLGMsZCl7aChhLm5UYWJsZSkub24oXCJvcmRlci5kdC5EVFwiLGZ1bmN0aW9uKGUsZixnLGgpe2lmKGE9PT1mKXtlPWMuaWR4O2IucmVtb3ZlQ2xhc3MoYy5zU29ydGluZ0NsYXNzK1wiIFwiK2Quc1NvcnRBc2MrXCIgXCIrZC5zU29ydERlc2MpLmFkZENsYXNzKGhbZV09PVwiYXNjXCI/ZC5zU29ydEFzYzpoW2VdPT1cImRlc2NcIj9kLnNTb3J0RGVzYzpjLnNTb3J0aW5nQ2xhc3MpfX0pfSxqcXVlcnl1aTpmdW5jdGlvbihhLFxyXG5iLGMsZCl7aChcIjxkaXYvPlwiKS5hZGRDbGFzcyhkLnNTb3J0SlVJV3JhcHBlcikuYXBwZW5kKGIuY29udGVudHMoKSkuYXBwZW5kKGgoXCI8c3Bhbi8+XCIpLmFkZENsYXNzKGQuc1NvcnRJY29uK1wiIFwiK2Muc1NvcnRpbmdDbGFzc0pVSSkpLmFwcGVuZFRvKGIpO2goYS5uVGFibGUpLm9uKFwib3JkZXIuZHQuRFRcIixmdW5jdGlvbihlLGYsZyxoKXtpZihhPT09Zil7ZT1jLmlkeDtiLnJlbW92ZUNsYXNzKGQuc1NvcnRBc2MrXCIgXCIrZC5zU29ydERlc2MpLmFkZENsYXNzKGhbZV09PVwiYXNjXCI/ZC5zU29ydEFzYzpoW2VdPT1cImRlc2NcIj9kLnNTb3J0RGVzYzpjLnNTb3J0aW5nQ2xhc3MpO2IuZmluZChcInNwYW4uXCIrZC5zU29ydEljb24pLnJlbW92ZUNsYXNzKGQuc1NvcnRKVUlBc2MrXCIgXCIrZC5zU29ydEpVSURlc2MrXCIgXCIrZC5zU29ydEpVSStcIiBcIitkLnNTb3J0SlVJQXNjQWxsb3dlZCtcIiBcIitkLnNTb3J0SlVJRGVzY0FsbG93ZWQpLmFkZENsYXNzKGhbZV09PVwiYXNjXCI/ZC5zU29ydEpVSUFzYzpcclxuaFtlXT09XCJkZXNjXCI/ZC5zU29ydEpVSURlc2M6Yy5zU29ydGluZ0NsYXNzSlVJKX19KX19fSk7bS5yZW5kZXI9e251bWJlcjpmdW5jdGlvbihhLGIsYyxkLGUpe3JldHVybntkaXNwbGF5OmZ1bmN0aW9uKGYpe2lmKFwibnVtYmVyXCIhPT10eXBlb2YgZiYmXCJzdHJpbmdcIiE9PXR5cGVvZiBmKXJldHVybiBmO3ZhciBnPTA+Zj9cIi1cIjpcIlwiLGg9cGFyc2VGbG9hdChmKTtpZihpc05hTihoKSlyZXR1cm4gZjtmPU1hdGguYWJzKGgpO2g9cGFyc2VJbnQoZiwxMCk7Zj1jP2IrKGYtaCkudG9GaXhlZChjKS5zdWJzdHJpbmcoMik6XCJcIjtyZXR1cm4gZysoZHx8XCJcIikraC50b1N0cmluZygpLnJlcGxhY2UoL1xcQig/PShcXGR7M30pKyg/IVxcZCkpL2csYSkrZisoZXx8XCJcIil9fX0sdGV4dDpmdW5jdGlvbigpe3JldHVybntkaXNwbGF5OmZ1bmN0aW9uKGEpe3JldHVyblwic3RyaW5nXCI9PT10eXBlb2YgYT9hLnJlcGxhY2UoLzwvZyxcIiZsdDtcIikucmVwbGFjZSgvPi9nLFwiJmd0O1wiKS5yZXBsYWNlKC9cIi9nLFwiJnF1b3Q7XCIpOlxyXG5hfX19fTtoLmV4dGVuZChtLmV4dC5pbnRlcm5hbCx7X2ZuRXh0ZXJuQXBpRnVuYzpOYixfZm5CdWlsZEFqYXg6cmEsX2ZuQWpheFVwZGF0ZTpsYixfZm5BamF4UGFyYW1ldGVyczp1YixfZm5BamF4VXBkYXRlRHJhdzp2YixfZm5BamF4RGF0YVNyYzpzYSxfZm5BZGRDb2x1bW46R2EsX2ZuQ29sdW1uT3B0aW9uczpsYSxfZm5BZGp1c3RDb2x1bW5TaXppbmc6VSxfZm5WaXNpYmxlVG9Db2x1bW5JbmRleDokLF9mbkNvbHVtbkluZGV4VG9WaXNpYmxlOmJhLF9mblZpc2JsZUNvbHVtbnM6Y2EsX2ZuR2V0Q29sdW1uczphYSxfZm5Db2x1bW5UeXBlczpJYSxfZm5BcHBseUNvbHVtbkRlZnM6aWIsX2ZuSHVuZ2FyaWFuTWFwOlksX2ZuQ2FtZWxUb0h1bmdhcmlhbjpKLF9mbkxhbmd1YWdlQ29tcGF0OkZhLF9mbkJyb3dzZXJEZXRlY3Q6Z2IsX2ZuQWRkRGF0YTpOLF9mbkFkZFRyOm1hLF9mbk5vZGVUb0RhdGFJbmRleDpmdW5jdGlvbihhLGIpe3JldHVybiBiLl9EVF9Sb3dJbmRleCE9PWs/Yi5fRFRfUm93SW5kZXg6XHJcbm51bGx9LF9mbk5vZGVUb0NvbHVtbkluZGV4OmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gaC5pbkFycmF5KGMsYS5hb0RhdGFbYl0uYW5DZWxscyl9LF9mbkdldENlbGxEYXRhOkIsX2ZuU2V0Q2VsbERhdGE6amIsX2ZuU3BsaXRPYmpOb3RhdGlvbjpMYSxfZm5HZXRPYmplY3REYXRhRm46USxfZm5TZXRPYmplY3REYXRhRm46UixfZm5HZXREYXRhTWFzdGVyOk1hLF9mbkNsZWFyVGFibGU6bmEsX2ZuRGVsZXRlSW5kZXg6b2EsX2ZuSW52YWxpZGF0ZTplYSxfZm5HZXRSb3dFbGVtZW50czpLYSxfZm5DcmVhdGVUcjpKYSxfZm5CdWlsZEhlYWQ6a2IsX2ZuRHJhd0hlYWQ6Z2EsX2ZuRHJhdzpPLF9mblJlRHJhdzpULF9mbkFkZE9wdGlvbnNIdG1sOm5iLF9mbkRldGVjdEhlYWRlcjpmYSxfZm5HZXRVbmlxdWVUaHM6cWEsX2ZuRmVhdHVyZUh0bWxGaWx0ZXI6cGIsX2ZuRmlsdGVyQ29tcGxldGU6aGEsX2ZuRmlsdGVyQ3VzdG9tOnliLF9mbkZpbHRlckNvbHVtbjp4YixfZm5GaWx0ZXI6d2IsX2ZuRmlsdGVyQ3JlYXRlU2VhcmNoOlFhLFxyXG5fZm5Fc2NhcGVSZWdleDp2YSxfZm5GaWx0ZXJEYXRhOnpiLF9mbkZlYXR1cmVIdG1sSW5mbzpzYixfZm5VcGRhdGVJbmZvOkNiLF9mbkluZm9NYWNyb3M6RGIsX2ZuSW5pdGlhbGlzZTppYSxfZm5Jbml0Q29tcGxldGU6dGEsX2ZuTGVuZ3RoQ2hhbmdlOlJhLF9mbkZlYXR1cmVIdG1sTGVuZ3RoOm9iLF9mbkZlYXR1cmVIdG1sUGFnaW5hdGU6dGIsX2ZuUGFnZUNoYW5nZTpUYSxfZm5GZWF0dXJlSHRtbFByb2Nlc3Npbmc6cWIsX2ZuUHJvY2Vzc2luZ0Rpc3BsYXk6QyxfZm5GZWF0dXJlSHRtbFRhYmxlOnJiLF9mblNjcm9sbERyYXc6WixfZm5BcHBseVRvQ2hpbGRyZW46SSxfZm5DYWxjdWxhdGVDb2x1bW5XaWR0aHM6SGEsX2ZuVGhyb3R0bGU6dWEsX2ZuQ29udmVydFRvV2lkdGg6RmIsX2ZuR2V0V2lkZXN0Tm9kZTpHYixfZm5HZXRNYXhMZW5TdHJpbmc6SGIsX2ZuU3RyaW5nVG9Dc3M6dyxfZm5Tb3J0RmxhdHRlbjpXLF9mblNvcnQ6bWIsX2ZuU29ydEFyaWE6SmIsX2ZuU29ydExpc3RlbmVyOlZhLFxyXG5fZm5Tb3J0QXR0YWNoTGlzdGVuZXI6T2EsX2ZuU29ydGluZ0NsYXNzZXM6eGEsX2ZuU29ydERhdGE6SWIsX2ZuU2F2ZVN0YXRlOnlhLF9mbkxvYWRTdGF0ZTpLYixfZm5TZXR0aW5nc0Zyb21Ob2RlOnphLF9mbkxvZzpLLF9mbk1hcDpGLF9mbkJpbmRBY3Rpb246V2EsX2ZuQ2FsbGJhY2tSZWc6eixfZm5DYWxsYmFja0ZpcmU6dixfZm5MZW5ndGhPdmVyZmxvdzpTYSxfZm5SZW5kZXJlcjpQYSxfZm5EYXRhU291cmNlOnksX2ZuUm93QXR0cmlidXRlczpOYSxfZm5DYWxjdWxhdGVFbmQ6ZnVuY3Rpb24oKXt9fSk7aC5mbi5kYXRhVGFibGU9bTttLiQ9aDtoLmZuLmRhdGFUYWJsZVNldHRpbmdzPW0uc2V0dGluZ3M7aC5mbi5kYXRhVGFibGVFeHQ9bS5leHQ7aC5mbi5EYXRhVGFibGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGgodGhpcykuZGF0YVRhYmxlKGEpLmFwaSgpfTtoLmVhY2gobSxmdW5jdGlvbihhLGIpe2guZm4uRGF0YVRhYmxlW2FdPWJ9KTtyZXR1cm4gaC5mbi5kYXRhVGFibGV9KTtcclxuIl0sImZpbGUiOiJqcXVlcnkuZGF0YVRhYmxlcy5taW4uanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

/*** 
 * Copyright (c) 2014 
 * Licensed under the MIT License.
 *
 * Author: Michael Eisenbraun
 * Version: 2.2.2
 * Requires: jQuery 1.7.2+
 * Documentation: http://eisenbraun.github.io/columns/
 */if(!window.console)var console={log:function(){}};(function(e){e.fn.columns=function(n){var r=[],i=Array.prototype.slice.call(arguments,1);typeof n=="string"?this.each(function(){var t=e.data(this,"columns");if(typeof t=="undefined"||!e.isFunction(t[n]))return e.error('No such method "'+n+'" for Columns');var s=t[n].apply(t,i);s!==undefined&&s!==t&&r.push(s)}):this.each(function(){e.data(this,"columns")||e.data(this,"columns",new t(this,n))});return r.length===0?this.data("columns"):r.length===1?r[0]:r};var t=function(t,n){this.$el=e(t);n&&e.extend(this,n);this.VERSION="2.2.2";this.sort=function(){function n(e,n,r){n=n?-1:1;return function(i,s){i=i[e];s=s[e];if(t.test(i)&&t.test(s)){i=new Date(i);i=Date.parse(i);s=new Date(s);s=Date.parse(s)}else if(typeof r!="undefined"){i=r(i);s=r(s)}return i<s?n*-1:i>s?n*1:0}}var e=this,t=/^(Jan|January|Feb|February|Mar|March|Apr|April|May|Jun|June|Jul|July|Aug|August|Sep|September|Oct|October|Nov|November|Dec|December|(0?\d{1})|(10|11|12))(-|\s|\/|\.)(0?[1-9]|(1|2)[0-9]|3(0|1))(-|\s|\/|\.|,\s)(19|20)?\d\d$/i;e.total&&e.sortBy&&typeof e.data[0][e.sortBy]!="undefined"&&e.data.sort(n(e.sortBy,e.reverse))};this.filter=function(){var t=this,n=t.searchableFields.length;if(t.query){var r=new RegExp(t.query,"gi");t.data=e.grep(t.data,function(e){for(var i=0;i<n;i++)if(typeof e[t.searchableFields[i]]=="string"){if(e[t.searchableFields[i]].match(r))return!0}else if(typeof e[t.searchableFields[i]]=="number"&&e[t.searchableFields[i]]==t.query)return!0;return!1})}t.total=t.data.length};this.paginate=function(){var e=this;e.pages=Math.ceil(e.data.length/e.size);e.page=e.page<=e.pages?e.page:1;e.setRange();e.data=e.data.slice(e.range.start-1,e.range.end)};this.condition=function(){var e=this,t=[];if(e.schema){var n=e.data.length,r=e.schema.length;for(var i=0;i<n;i++){var s=e.data[i],o={};for(var u=0;u<r;u++){var a=e.schema[u];if(a.condition&&!a.condition(s[a.key])){o=null;break}o[a.key]=s[a.key]}o&&t.push(o)}e.data=t}};this.chevron=function(e,t){return Mustache.render(e,t)};this.create=function(){function n(){t.thead=[];e.each(t.schema,function(n,r){if(!r.hide){var i={};e.inArray(r.key,t.sortableFields)===-1?i.notSortable=!0:t.sortBy===r.key?t.reverse?i.sortedDown=!0:i.sortedUp=!0:i.sortable=!0;i.key=r.key;i.header=r.header;t.thead.push(i)}})}function r(n,r){var i=[];n%2===0?i.push('<tr data-columns-row-id="'+n+'" class="'+t.evenRowClass+'">'):i.push('<tr data-columns-row-id="'+n+'" class="'+t.oddRowClass+'">');e.each(t.schema,function(e,n){n.hide||(n.template?i.push("<td>"+t.chevron(n.template,r)+"</td>"):i.push("<td>"+r[n.key]+"</td>"))});i.push("</tr>");return i}function i(){var n=[];n.push("<select>");e.each(t.showRows,function(e,r){var i='<option value="'+r+'"';r===t.size&&(i+='selected="selected"');i+=">"+r+"</option>";n.push(i)});n.push("</select>");t.showRowsMenu=n.join("")}function s(){t.rows=[];t.total?e.each(t.data,function(e,i){e===0&&n();t.rows.push(r(e,i).join(""))}):t.rows.push('<tr class="'+t.evenRowClass+'"><td colspan="'+t.schema.length+'"><em>No Results</em></td>')}var t=this;t.resetData();t.searching&&t.filter();t.sorting&&t.sort();t.paginating&&t.paginate();s();i();var o={prevPage:t.page-1,nextPage:t.page+1,prevPageExists:t.pageExists(t.page-1),nextPageExists:t.pageExists(t.page+1),resultRange:t.range,tableTotal:t.total,showRowsMenu:t.showRowsMenu,rows:t.rows,headers:t.thead,query:t.query,search:t.search,table:t.table};e.extend(t.view,o);t.plugins&&e.each(t.plugins,function(e,n){typeof ColumnsPlugins!="undefined"&&typeof ColumnsPlugins[n]!="undefined"&&ColumnsPlugins[n].create.call(t)});if(t.search){t.$el.html(t.chevron(t.template,t.view));t.search=!1}else{e("[data-columns-table]",t.$el).remove();t.$el.append(t.chevron(t.template,t.view))}return!0};this.init=function(){function n(){t.schema=[];e.each(t.data[0],function(e){t.schema.push({header:e,key:e})})}function r(){t.searchableFields=[];e.each(t.data[0],function(e){t.searchableFields.push(e)})}function i(){t.sortableFields=[];e.each(t.data[0],function(e){t.sortableFields.push(e)})}function s(){e.ajax({url:t.templateFile,async:!1,success:function(e){t.template=e},error:function(){e.error("Template could not be found.")}})}var t=this;if(e.isArray(t.data)){t.master=[];t.view={};t.$el.addClass("columns");t.$el.on("click",".ui-table-sortable",function(n){var r=e(this).data("columns-sortby");t.sortBy===r&&(t.reverse=t.reverse?!1:!0);t.sortBy=r;t.sortHandler(n)});t.$el.on("click",".ui-table-control-next, .ui-table-control-prev",function(n){t.page=e(this).data("columns-page");t.pageHandler(n)});t.$el.on("keyup",".ui-table-search",function(n){t.query=e(this).val();t.searchHandler(n)});t.$el.on("change",".ui-table-size select",function(n){t.size=parseInt(e(this).val());t.sizeHandler(n)});t.plugins&&e.each(t.plugins,function(e,n){typeof ColumnsPlugins!="undefined"&&typeof ColumnsPlugins[n]!="undefined"&&ColumnsPlugins[n].init.call(t)});t.conditioning&&t.condition();t.schema||n();t.searchableFields||r();t.sortableFields||i();t.templateFile&&s();e.extend(t.master,t.data);t.create()}else e.error('The "data" parameter must be an array.')};this.init()};t.prototype={evenRowClass:"ui-table-rows-even",oddRowClass:"ui-table-rows-odd",liveSearch:!0,page:1,pages:1,plugins:null,query:null,reverse:!1,pagination:!0,schema:null,search:!0,searchableFields:null,showRows:[5,10,25,50],size:5,sortableFields:null,sortBy:null,table:!0,templateFile:null,template:'<!-- Search Box: Only rendered while search is true --> {{#search}} <div class="ui-columns-search"> <input class="ui-table-search" placeholder="Search" type="text" name="query" data-columns-search="true" value="{{query}}" /> </div> {{/search}} <!-- Search Box: Only rendered while search is true --> <!-- Columns Table: Only rendered while table is true --> {{#table}} <div class="ui-columns-table" data-columns-table="true"> <table class="ui-table"> <!-- Columns Table Head: Headers have 4 possible states (sortable, notSortable, sortedUp, sortedDown) --> <thead> {{#headers}} {{#sortable}} <th class="ui-table-sortable" data-columns-sortby="{{key}}">{{header}}</th> {{/sortable}} {{#notSortable}} <th class="">{{header}}</th> {{/notSortable}} {{#sortedUp}} <th class="ui-table-sort-up ui-table-sortable" data-columns-sortby="{{key}}">{{header}} <span class="ui-arrow">&#x25B2;</span></th> {{/sortedUp}} {{#sortedDown}} <th class="ui-table-sort-down ui-table-sortable" data-columns-sortby="{{key}}">{{header}} <span class="ui-arrow">&#x25BC;</span></th> {{/sortedDown}} {{/headers}} </thead> <!-- Columns Table Head: Headers have 4 possible states (sortable, notSortable, sortedUp, sortedDown) --> <!-- Columns Table Body: Table columns are rendered outside of this template  --> <tbody> {{#rows}} {{{.}}} {{/rows}} </tbody> <!-- Columns Table Body: Table columns are rendered outside of this template  --> </table> <!-- Columns Controls  --> <div class="ui-table-footer"> <span class="ui-table-size">Show rows: {{{showRowsMenu}}}</span> <span class="ui-table-results">Results: <strong>{{resultRange.start}} &ndash; {{resultRange.end}}</strong> of <strong>{{tableTotal}}</strong> </span> <span class="ui-table-controls"> {{#prevPageExists}} <span class="ui-table-control-prev" data-columns-page="{{prevPage}}"> <img src="images/arrow-left.png"> </span> {{/prevPageExists}} {{^prevPageExists}} <span class="ui-table-control-disabled"> <img src="images/arrow-left.png"> </span> {{/prevPageExists}} {{#nextPageExists}} <span class="ui-table-control-next" data-columns-page="{{nextPage}}"> <img src="images/arrow-right.png"> </span> {{/nextPageExists}} {{^nextPageExists}} <span class="ui-table-control-disabled"> <img src="images/arrow-right.png"> </span> {{/nextPageExists}} </span> </div> <!-- Columns Controls  --> </div> {{/table}} <!-- Columns Table: Only rendered while table is true -->',conditioning:!0,paginating:!0,searching:!0,sorting:!0,pageHandler:function(){this.create()},searchHandler:function(e){this.liveSearch?this.create():e.keyCode=="13"&&this.create()},sizeHandler:function(){this.create()},sortHandler:function(){this.page=1;this.create()},destroy:function(){this.$el.data("columns",null);this.$el.empty();return!0},getObject:function(){return this},getPage:function(){return this.page},getQuery:function(){return this.query},getRange:function(){return this.range},getRows:function(){return this.rows},getShowRowsMenu:function(){return this.showRowsMenu},getTemplate:function(){return this.template},getThead:function(){return this.thead},getTotal:function(){return this.total},getVersion:function(){return this.VERSION},getView:function(){return this.view},gotoPage:function(e){if(this.pageExists(e)){this.page=e;this.create();return!0}return!1},pageExists:function(e){return e>0&&e<=this.pages?!0:!1},resetData:function(e){this.data=this.master.slice(0);return this.data},setMaster:function(t){if(e.isArray(t)){this.master=t;return!0}return!1},setPage:function(e){this.page=this.pageExists(e)?e:this.page;return this.page},setRange:function(){var e=(this.page-1)*this.size,t=e+this.size<this.total?e+this.size:this.total;this.range={start:e+1,end:t}},setTotal:function(e){this.total=e;return!0},startTime:null,endTime:null,startTimer:function(){var e=new Date;this.startTime=e.getTime()},endTimer:function(){var e=new Date;this.endTime=e.getTime()},getTimer:function(){console.log((this.endTime-this.startTime)/1e3)}}})(jQuery);(function(e,t){e.Mustache=t({})})(this,function(e){function r(e){return typeof e=="function"}function i(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function o(e,t){return s.call(e,t)}function a(e){return!o(u,e)}function l(e){return String(e).replace(/[&<>"'\/]/g,function(e){return f[e]})}function m(t,r){function m(){if(f&&!l)while(u.length)delete o[u.pop()];else u=[];f=!1;l=!1}function x(e){typeof e=="string"&&(e=e.split(h,2));if(!n(e)||e.length!==2)throw new Error("Invalid tags: "+e);w=new RegExp(i(e[0])+"\\s*");E=new RegExp("\\s*"+i(e[1]));S=new RegExp("\\s*"+i("}"+e[1]))}if(!t)return[];var s=[],o=[],u=[],f=!1,l=!1,w,E,S;x(r||e.tags);var T=new b(t),N,C,k,L,A,O;while(!T.eos()){N=T.pos;k=T.scanUntil(w);if(k)for(var M=0,_=k.length;M<_;++M){L=k.charAt(M);a(L)?u.push(o.length):l=!0;o.push(["text",L,N,N+1]);N+=1;L==="\n"&&m()}if(!T.scan(w))break;f=!0;C=T.scan(v)||"name";T.scan(c);if(C==="="){k=T.scanUntil(p);T.scan(p);T.scanUntil(E)}else if(C==="{"){k=T.scanUntil(S);T.scan(d);T.scanUntil(E);C="&"}else k=T.scanUntil(E);if(!T.scan(E))throw new Error("Unclosed tag at "+T.pos);A=[C,k,N,T.pos];o.push(A);if(C==="#"||C==="^")s.push(A);else if(C==="/"){O=s.pop();if(!O)throw new Error('Unopened section "'+k+'" at '+N);if(O[1]!==k)throw new Error('Unclosed section "'+O[1]+'" at '+N)}else C==="name"||C==="{"||C==="&"?l=!0:C==="="&&x(k)}O=s.pop();if(O)throw new Error('Unclosed section "'+O[1]+'" at '+T.pos);return y(g(o))}function g(e){var t=[],n,r;for(var i=0,s=e.length;i<s;++i){n=e[i];if(n)if(n[0]==="text"&&r&&r[0]==="text"){r[1]+=n[1];r[3]=n[3]}else{t.push(n);r=n}}return t}function y(e){var t=[],n=t,r=[],i,s;for(var o=0,u=e.length;o<u;++o){i=e[o];switch(i[0]){case"#":case"^":n.push(i);r.push(i);n=i[4]=[];break;case"/":s=r.pop();s[5]=i[2];n=r.length>0?r[r.length-1][4]:t;break;default:n.push(i)}}return t}function b(e){this.string=e;this.tail=e;this.pos=0}function w(e,t){this.view=e==null?{}:e;this.cache={".":this.view};this.parent=t}function E(){this.cache={}}var t=Object.prototype.toString,n=Array.isArray||function(e){return t.call(e)==="[object Array]"},s=RegExp.prototype.test,u=/\S/,f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},c=/\s*/,h=/\s+/,p=/\s*=/,d=/\s*\}/,v=/#|\^|\/|>|\{|&|=|!/;b.prototype.eos=function(){return this.tail===""};b.prototype.scan=function(e){var t=this.tail.match(e);if(!t||t.index!==0)return"";var n=t[0];this.tail=this.tail.substring(n.length);this.pos+=n.length;return n};b.prototype.scanUntil=function(e){var t=this.tail.search(e),n;switch(t){case-1:n=this.tail;this.tail="";break;case 0:n="";break;default:n=this.tail.substring(0,t);this.tail=this.tail.substring(t)}this.pos+=n.length;return n};w.prototype.push=function(e){return new w(e,this)};w.prototype.lookup=function(e){var t=this.cache,n;if(e in t)n=t[e];else{var i=this,s,o;while(i){if(e.indexOf(".")>0){n=i.view;s=e.split(".");o=0;while(n!=null&&o<s.length)n=n[s[o++]]}else n=i.view[e];if(n!=null)break;i=i.parent}t[e]=n}r(n)&&(n=n.call(this.view));return n};E.prototype.clearCache=function(){this.cache={}};E.prototype.parse=function(e,t){var n=this.cache,r=n[e];r==null&&(r=n[e]=m(e,t));return r};E.prototype.render=function(e,t,n){var r=this.parse(e),i=t instanceof w?t:new w(t);return this.renderTokens(r,i,n,e)};E.prototype.renderTokens=function(t,i,s,o){function f(e){return a.render(e,i,s)}var u="",a=this,l,c;for(var h=0,p=t.length;h<p;++h){l=t[h];switch(l[0]){case"#":c=i.lookup(l[1]);if(!c)continue;if(n(c))for(var d=0,v=c.length;d<v;++d)u+=this.renderTokens(l[4],i.push(c[d]),s,o);else if(typeof c=="object"||typeof c=="string")u+=this.renderTokens(l[4],i.push(c),s,o);else if(r(c)){if(typeof o!="string")throw new Error("Cannot use higher-order sections without the original template");c=c.call(i.view,o.slice(l[3],l[5]),f);c!=null&&(u+=c)}else u+=this.renderTokens(l[4],i,s,o);break;case"^":c=i.lookup(l[1]);if(!c||n(c)&&c.length===0)u+=this.renderTokens(l[4],i,s,o);break;case">":if(!s)continue;c=r(s)?s(l[1]):s[l[1]];c!=null&&(u+=this.renderTokens(this.parse(c),i,s,c));break;case"&":c=i.lookup(l[1]);c!=null&&(u+=c);break;case"name":c=i.lookup(l[1]);c!=null&&(u+=e.escape(c));break;case"text":u+=l[1]}}return u};e.name="mustache.js";e.version="0.8.1";e.tags=["{{","}}"];var S=new E;e.clearCache=function(){return S.clearCache()};e.parse=function(e,t){return S.parse(e,t)};e.render=function(e,t,n){return S.render(e,t,n)};e.to_html=function(t,n,i,s){var o=e.render(t,n,i);if(!r(s))return o;s(o)};e.escape=l;e.Scanner=b;e.Context=w;e.Writer=E;return e});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJqcXVlcnkuY29sdW1ucy5taW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqKiBcbiAqIENvcHlyaWdodCAoYykgMjAxNCBcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqXG4gKiBBdXRob3I6IE1pY2hhZWwgRWlzZW5icmF1blxuICogVmVyc2lvbjogMi4yLjJcbiAqIFJlcXVpcmVzOiBqUXVlcnkgMS43LjIrXG4gKiBEb2N1bWVudGF0aW9uOiBodHRwOi8vZWlzZW5icmF1bi5naXRodWIuaW8vY29sdW1ucy9cbiAqL2lmKCF3aW5kb3cuY29uc29sZSl2YXIgY29uc29sZT17bG9nOmZ1bmN0aW9uKCl7fX07KGZ1bmN0aW9uKGUpe2UuZm4uY29sdW1ucz1mdW5jdGlvbihuKXt2YXIgcj1bXSxpPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTt0eXBlb2Ygbj09XCJzdHJpbmdcIj90aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1lLmRhdGEodGhpcyxcImNvbHVtbnNcIik7aWYodHlwZW9mIHQ9PVwidW5kZWZpbmVkXCJ8fCFlLmlzRnVuY3Rpb24odFtuXSkpcmV0dXJuIGUuZXJyb3IoJ05vIHN1Y2ggbWV0aG9kIFwiJytuKydcIiBmb3IgQ29sdW1ucycpO3ZhciBzPXRbbl0uYXBwbHkodCxpKTtzIT09dW5kZWZpbmVkJiZzIT09dCYmci5wdXNoKHMpfSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZS5kYXRhKHRoaXMsXCJjb2x1bW5zXCIpfHxlLmRhdGEodGhpcyxcImNvbHVtbnNcIixuZXcgdCh0aGlzLG4pKX0pO3JldHVybiByLmxlbmd0aD09PTA/dGhpcy5kYXRhKFwiY29sdW1uc1wiKTpyLmxlbmd0aD09PTE/clswXTpyfTt2YXIgdD1mdW5jdGlvbih0LG4pe3RoaXMuJGVsPWUodCk7biYmZS5leHRlbmQodGhpcyxuKTt0aGlzLlZFUlNJT049XCIyLjIuMlwiO3RoaXMuc29ydD1mdW5jdGlvbigpe2Z1bmN0aW9uIG4oZSxuLHIpe249bj8tMToxO3JldHVybiBmdW5jdGlvbihpLHMpe2k9aVtlXTtzPXNbZV07aWYodC50ZXN0KGkpJiZ0LnRlc3Qocykpe2k9bmV3IERhdGUoaSk7aT1EYXRlLnBhcnNlKGkpO3M9bmV3IERhdGUocyk7cz1EYXRlLnBhcnNlKHMpfWVsc2UgaWYodHlwZW9mIHIhPVwidW5kZWZpbmVkXCIpe2k9cihpKTtzPXIocyl9cmV0dXJuIGk8cz9uKi0xOmk+cz9uKjE6MH19dmFyIGU9dGhpcyx0PS9eKEphbnxKYW51YXJ5fEZlYnxGZWJydWFyeXxNYXJ8TWFyY2h8QXByfEFwcmlsfE1heXxKdW58SnVuZXxKdWx8SnVseXxBdWd8QXVndXN0fFNlcHxTZXB0ZW1iZXJ8T2N0fE9jdG9iZXJ8Tm92fE5vdmVtYmVyfERlY3xEZWNlbWJlcnwoMD9cXGR7MX0pfCgxMHwxMXwxMikpKC18XFxzfFxcL3xcXC4pKDA/WzEtOV18KDF8MilbMC05XXwzKDB8MSkpKC18XFxzfFxcL3xcXC58LFxccykoMTl8MjApP1xcZFxcZCQvaTtlLnRvdGFsJiZlLnNvcnRCeSYmdHlwZW9mIGUuZGF0YVswXVtlLnNvcnRCeV0hPVwidW5kZWZpbmVkXCImJmUuZGF0YS5zb3J0KG4oZS5zb3J0QnksZS5yZXZlcnNlKSl9O3RoaXMuZmlsdGVyPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxuPXQuc2VhcmNoYWJsZUZpZWxkcy5sZW5ndGg7aWYodC5xdWVyeSl7dmFyIHI9bmV3IFJlZ0V4cCh0LnF1ZXJ5LFwiZ2lcIik7dC5kYXRhPWUuZ3JlcCh0LmRhdGEsZnVuY3Rpb24oZSl7Zm9yKHZhciBpPTA7aTxuO2krKylpZih0eXBlb2YgZVt0LnNlYXJjaGFibGVGaWVsZHNbaV1dPT1cInN0cmluZ1wiKXtpZihlW3Quc2VhcmNoYWJsZUZpZWxkc1tpXV0ubWF0Y2gocikpcmV0dXJuITB9ZWxzZSBpZih0eXBlb2YgZVt0LnNlYXJjaGFibGVGaWVsZHNbaV1dPT1cIm51bWJlclwiJiZlW3Quc2VhcmNoYWJsZUZpZWxkc1tpXV09PXQucXVlcnkpcmV0dXJuITA7cmV0dXJuITF9KX10LnRvdGFsPXQuZGF0YS5sZW5ndGh9O3RoaXMucGFnaW5hdGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UucGFnZXM9TWF0aC5jZWlsKGUuZGF0YS5sZW5ndGgvZS5zaXplKTtlLnBhZ2U9ZS5wYWdlPD1lLnBhZ2VzP2UucGFnZToxO2Uuc2V0UmFuZ2UoKTtlLmRhdGE9ZS5kYXRhLnNsaWNlKGUucmFuZ2Uuc3RhcnQtMSxlLnJhbmdlLmVuZCl9O3RoaXMuY29uZGl0aW9uPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PVtdO2lmKGUuc2NoZW1hKXt2YXIgbj1lLmRhdGEubGVuZ3RoLHI9ZS5zY2hlbWEubGVuZ3RoO2Zvcih2YXIgaT0wO2k8bjtpKyspe3ZhciBzPWUuZGF0YVtpXSxvPXt9O2Zvcih2YXIgdT0wO3U8cjt1Kyspe3ZhciBhPWUuc2NoZW1hW3VdO2lmKGEuY29uZGl0aW9uJiYhYS5jb25kaXRpb24oc1thLmtleV0pKXtvPW51bGw7YnJlYWt9b1thLmtleV09c1thLmtleV19byYmdC5wdXNoKG8pfWUuZGF0YT10fX07dGhpcy5jaGV2cm9uPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE11c3RhY2hlLnJlbmRlcihlLHQpfTt0aGlzLmNyZWF0ZT1mdW5jdGlvbigpe2Z1bmN0aW9uIG4oKXt0LnRoZWFkPVtdO2UuZWFjaCh0LnNjaGVtYSxmdW5jdGlvbihuLHIpe2lmKCFyLmhpZGUpe3ZhciBpPXt9O2UuaW5BcnJheShyLmtleSx0LnNvcnRhYmxlRmllbGRzKT09PS0xP2kubm90U29ydGFibGU9ITA6dC5zb3J0Qnk9PT1yLmtleT90LnJldmVyc2U/aS5zb3J0ZWREb3duPSEwOmkuc29ydGVkVXA9ITA6aS5zb3J0YWJsZT0hMDtpLmtleT1yLmtleTtpLmhlYWRlcj1yLmhlYWRlcjt0LnRoZWFkLnB1c2goaSl9fSl9ZnVuY3Rpb24gcihuLHIpe3ZhciBpPVtdO24lMj09PTA/aS5wdXNoKCc8dHIgZGF0YS1jb2x1bW5zLXJvdy1pZD1cIicrbisnXCIgY2xhc3M9XCInK3QuZXZlblJvd0NsYXNzKydcIj4nKTppLnB1c2goJzx0ciBkYXRhLWNvbHVtbnMtcm93LWlkPVwiJytuKydcIiBjbGFzcz1cIicrdC5vZGRSb3dDbGFzcysnXCI+Jyk7ZS5lYWNoKHQuc2NoZW1hLGZ1bmN0aW9uKGUsbil7bi5oaWRlfHwobi50ZW1wbGF0ZT9pLnB1c2goXCI8dGQ+XCIrdC5jaGV2cm9uKG4udGVtcGxhdGUscikrXCI8L3RkPlwiKTppLnB1c2goXCI8dGQ+XCIrcltuLmtleV0rXCI8L3RkPlwiKSl9KTtpLnB1c2goXCI8L3RyPlwiKTtyZXR1cm4gaX1mdW5jdGlvbiBpKCl7dmFyIG49W107bi5wdXNoKFwiPHNlbGVjdD5cIik7ZS5lYWNoKHQuc2hvd1Jvd3MsZnVuY3Rpb24oZSxyKXt2YXIgaT0nPG9wdGlvbiB2YWx1ZT1cIicrcisnXCInO3I9PT10LnNpemUmJihpKz0nc2VsZWN0ZWQ9XCJzZWxlY3RlZFwiJyk7aSs9XCI+XCIrcitcIjwvb3B0aW9uPlwiO24ucHVzaChpKX0pO24ucHVzaChcIjwvc2VsZWN0PlwiKTt0LnNob3dSb3dzTWVudT1uLmpvaW4oXCJcIil9ZnVuY3Rpb24gcygpe3Qucm93cz1bXTt0LnRvdGFsP2UuZWFjaCh0LmRhdGEsZnVuY3Rpb24oZSxpKXtlPT09MCYmbigpO3Qucm93cy5wdXNoKHIoZSxpKS5qb2luKFwiXCIpKX0pOnQucm93cy5wdXNoKCc8dHIgY2xhc3M9XCInK3QuZXZlblJvd0NsYXNzKydcIj48dGQgY29sc3Bhbj1cIicrdC5zY2hlbWEubGVuZ3RoKydcIj48ZW0+Tm8gUmVzdWx0czwvZW0+PC90ZD4nKX12YXIgdD10aGlzO3QucmVzZXREYXRhKCk7dC5zZWFyY2hpbmcmJnQuZmlsdGVyKCk7dC5zb3J0aW5nJiZ0LnNvcnQoKTt0LnBhZ2luYXRpbmcmJnQucGFnaW5hdGUoKTtzKCk7aSgpO3ZhciBvPXtwcmV2UGFnZTp0LnBhZ2UtMSxuZXh0UGFnZTp0LnBhZ2UrMSxwcmV2UGFnZUV4aXN0czp0LnBhZ2VFeGlzdHModC5wYWdlLTEpLG5leHRQYWdlRXhpc3RzOnQucGFnZUV4aXN0cyh0LnBhZ2UrMSkscmVzdWx0UmFuZ2U6dC5yYW5nZSx0YWJsZVRvdGFsOnQudG90YWwsc2hvd1Jvd3NNZW51OnQuc2hvd1Jvd3NNZW51LHJvd3M6dC5yb3dzLGhlYWRlcnM6dC50aGVhZCxxdWVyeTp0LnF1ZXJ5LHNlYXJjaDp0LnNlYXJjaCx0YWJsZTp0LnRhYmxlfTtlLmV4dGVuZCh0LnZpZXcsbyk7dC5wbHVnaW5zJiZlLmVhY2godC5wbHVnaW5zLGZ1bmN0aW9uKGUsbil7dHlwZW9mIENvbHVtbnNQbHVnaW5zIT1cInVuZGVmaW5lZFwiJiZ0eXBlb2YgQ29sdW1uc1BsdWdpbnNbbl0hPVwidW5kZWZpbmVkXCImJkNvbHVtbnNQbHVnaW5zW25dLmNyZWF0ZS5jYWxsKHQpfSk7aWYodC5zZWFyY2gpe3QuJGVsLmh0bWwodC5jaGV2cm9uKHQudGVtcGxhdGUsdC52aWV3KSk7dC5zZWFyY2g9ITF9ZWxzZXtlKFwiW2RhdGEtY29sdW1ucy10YWJsZV1cIix0LiRlbCkucmVtb3ZlKCk7dC4kZWwuYXBwZW5kKHQuY2hldnJvbih0LnRlbXBsYXRlLHQudmlldykpfXJldHVybiEwfTt0aGlzLmluaXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKCl7dC5zY2hlbWE9W107ZS5lYWNoKHQuZGF0YVswXSxmdW5jdGlvbihlKXt0LnNjaGVtYS5wdXNoKHtoZWFkZXI6ZSxrZXk6ZX0pfSl9ZnVuY3Rpb24gcigpe3Quc2VhcmNoYWJsZUZpZWxkcz1bXTtlLmVhY2godC5kYXRhWzBdLGZ1bmN0aW9uKGUpe3Quc2VhcmNoYWJsZUZpZWxkcy5wdXNoKGUpfSl9ZnVuY3Rpb24gaSgpe3Quc29ydGFibGVGaWVsZHM9W107ZS5lYWNoKHQuZGF0YVswXSxmdW5jdGlvbihlKXt0LnNvcnRhYmxlRmllbGRzLnB1c2goZSl9KX1mdW5jdGlvbiBzKCl7ZS5hamF4KHt1cmw6dC50ZW1wbGF0ZUZpbGUsYXN5bmM6ITEsc3VjY2VzczpmdW5jdGlvbihlKXt0LnRlbXBsYXRlPWV9LGVycm9yOmZ1bmN0aW9uKCl7ZS5lcnJvcihcIlRlbXBsYXRlIGNvdWxkIG5vdCBiZSBmb3VuZC5cIil9fSl9dmFyIHQ9dGhpcztpZihlLmlzQXJyYXkodC5kYXRhKSl7dC5tYXN0ZXI9W107dC52aWV3PXt9O3QuJGVsLmFkZENsYXNzKFwiY29sdW1uc1wiKTt0LiRlbC5vbihcImNsaWNrXCIsXCIudWktdGFibGUtc29ydGFibGVcIixmdW5jdGlvbihuKXt2YXIgcj1lKHRoaXMpLmRhdGEoXCJjb2x1bW5zLXNvcnRieVwiKTt0LnNvcnRCeT09PXImJih0LnJldmVyc2U9dC5yZXZlcnNlPyExOiEwKTt0LnNvcnRCeT1yO3Quc29ydEhhbmRsZXIobil9KTt0LiRlbC5vbihcImNsaWNrXCIsXCIudWktdGFibGUtY29udHJvbC1uZXh0LCAudWktdGFibGUtY29udHJvbC1wcmV2XCIsZnVuY3Rpb24obil7dC5wYWdlPWUodGhpcykuZGF0YShcImNvbHVtbnMtcGFnZVwiKTt0LnBhZ2VIYW5kbGVyKG4pfSk7dC4kZWwub24oXCJrZXl1cFwiLFwiLnVpLXRhYmxlLXNlYXJjaFwiLGZ1bmN0aW9uKG4pe3QucXVlcnk9ZSh0aGlzKS52YWwoKTt0LnNlYXJjaEhhbmRsZXIobil9KTt0LiRlbC5vbihcImNoYW5nZVwiLFwiLnVpLXRhYmxlLXNpemUgc2VsZWN0XCIsZnVuY3Rpb24obil7dC5zaXplPXBhcnNlSW50KGUodGhpcykudmFsKCkpO3Quc2l6ZUhhbmRsZXIobil9KTt0LnBsdWdpbnMmJmUuZWFjaCh0LnBsdWdpbnMsZnVuY3Rpb24oZSxuKXt0eXBlb2YgQ29sdW1uc1BsdWdpbnMhPVwidW5kZWZpbmVkXCImJnR5cGVvZiBDb2x1bW5zUGx1Z2luc1tuXSE9XCJ1bmRlZmluZWRcIiYmQ29sdW1uc1BsdWdpbnNbbl0uaW5pdC5jYWxsKHQpfSk7dC5jb25kaXRpb25pbmcmJnQuY29uZGl0aW9uKCk7dC5zY2hlbWF8fG4oKTt0LnNlYXJjaGFibGVGaWVsZHN8fHIoKTt0LnNvcnRhYmxlRmllbGRzfHxpKCk7dC50ZW1wbGF0ZUZpbGUmJnMoKTtlLmV4dGVuZCh0Lm1hc3Rlcix0LmRhdGEpO3QuY3JlYXRlKCl9ZWxzZSBlLmVycm9yKCdUaGUgXCJkYXRhXCIgcGFyYW1ldGVyIG11c3QgYmUgYW4gYXJyYXkuJyl9O3RoaXMuaW5pdCgpfTt0LnByb3RvdHlwZT17ZXZlblJvd0NsYXNzOlwidWktdGFibGUtcm93cy1ldmVuXCIsb2RkUm93Q2xhc3M6XCJ1aS10YWJsZS1yb3dzLW9kZFwiLGxpdmVTZWFyY2g6ITAscGFnZToxLHBhZ2VzOjEscGx1Z2luczpudWxsLHF1ZXJ5Om51bGwscmV2ZXJzZTohMSxwYWdpbmF0aW9uOiEwLHNjaGVtYTpudWxsLHNlYXJjaDohMCxzZWFyY2hhYmxlRmllbGRzOm51bGwsc2hvd1Jvd3M6WzUsMTAsMjUsNTBdLHNpemU6NSxzb3J0YWJsZUZpZWxkczpudWxsLHNvcnRCeTpudWxsLHRhYmxlOiEwLHRlbXBsYXRlRmlsZTpudWxsLHRlbXBsYXRlOic8IS0tIFNlYXJjaCBCb3g6IE9ubHkgcmVuZGVyZWQgd2hpbGUgc2VhcmNoIGlzIHRydWUgLS0+IHt7I3NlYXJjaH19IDxkaXYgY2xhc3M9XCJ1aS1jb2x1bW5zLXNlYXJjaFwiPiA8aW5wdXQgY2xhc3M9XCJ1aS10YWJsZS1zZWFyY2hcIiBwbGFjZWhvbGRlcj1cIlNlYXJjaFwiIHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInF1ZXJ5XCIgZGF0YS1jb2x1bW5zLXNlYXJjaD1cInRydWVcIiB2YWx1ZT1cInt7cXVlcnl9fVwiIC8+IDwvZGl2PiB7ey9zZWFyY2h9fSA8IS0tIFNlYXJjaCBCb3g6IE9ubHkgcmVuZGVyZWQgd2hpbGUgc2VhcmNoIGlzIHRydWUgLS0+IDwhLS0gQ29sdW1ucyBUYWJsZTogT25seSByZW5kZXJlZCB3aGlsZSB0YWJsZSBpcyB0cnVlIC0tPiB7eyN0YWJsZX19IDxkaXYgY2xhc3M9XCJ1aS1jb2x1bW5zLXRhYmxlXCIgZGF0YS1jb2x1bW5zLXRhYmxlPVwidHJ1ZVwiPiA8dGFibGUgY2xhc3M9XCJ1aS10YWJsZVwiPiA8IS0tIENvbHVtbnMgVGFibGUgSGVhZDogSGVhZGVycyBoYXZlIDQgcG9zc2libGUgc3RhdGVzIChzb3J0YWJsZSwgbm90U29ydGFibGUsIHNvcnRlZFVwLCBzb3J0ZWREb3duKSAtLT4gPHRoZWFkPiB7eyNoZWFkZXJzfX0ge3sjc29ydGFibGV9fSA8dGggY2xhc3M9XCJ1aS10YWJsZS1zb3J0YWJsZVwiIGRhdGEtY29sdW1ucy1zb3J0Ynk9XCJ7e2tleX19XCI+e3toZWFkZXJ9fTwvdGg+IHt7L3NvcnRhYmxlfX0ge3sjbm90U29ydGFibGV9fSA8dGggY2xhc3M9XCJcIj57e2hlYWRlcn19PC90aD4ge3svbm90U29ydGFibGV9fSB7eyNzb3J0ZWRVcH19IDx0aCBjbGFzcz1cInVpLXRhYmxlLXNvcnQtdXAgdWktdGFibGUtc29ydGFibGVcIiBkYXRhLWNvbHVtbnMtc29ydGJ5PVwie3trZXl9fVwiPnt7aGVhZGVyfX0gPHNwYW4gY2xhc3M9XCJ1aS1hcnJvd1wiPiYjeDI1QjI7PC9zcGFuPjwvdGg+IHt7L3NvcnRlZFVwfX0ge3sjc29ydGVkRG93bn19IDx0aCBjbGFzcz1cInVpLXRhYmxlLXNvcnQtZG93biB1aS10YWJsZS1zb3J0YWJsZVwiIGRhdGEtY29sdW1ucy1zb3J0Ynk9XCJ7e2tleX19XCI+e3toZWFkZXJ9fSA8c3BhbiBjbGFzcz1cInVpLWFycm93XCI+JiN4MjVCQzs8L3NwYW4+PC90aD4ge3svc29ydGVkRG93bn19IHt7L2hlYWRlcnN9fSA8L3RoZWFkPiA8IS0tIENvbHVtbnMgVGFibGUgSGVhZDogSGVhZGVycyBoYXZlIDQgcG9zc2libGUgc3RhdGVzIChzb3J0YWJsZSwgbm90U29ydGFibGUsIHNvcnRlZFVwLCBzb3J0ZWREb3duKSAtLT4gPCEtLSBDb2x1bW5zIFRhYmxlIEJvZHk6IFRhYmxlIGNvbHVtbnMgYXJlIHJlbmRlcmVkIG91dHNpZGUgb2YgdGhpcyB0ZW1wbGF0ZSAgLS0+IDx0Ym9keT4ge3sjcm93c319IHt7ey59fX0ge3svcm93c319IDwvdGJvZHk+IDwhLS0gQ29sdW1ucyBUYWJsZSBCb2R5OiBUYWJsZSBjb2x1bW5zIGFyZSByZW5kZXJlZCBvdXRzaWRlIG9mIHRoaXMgdGVtcGxhdGUgIC0tPiA8L3RhYmxlPiA8IS0tIENvbHVtbnMgQ29udHJvbHMgIC0tPiA8ZGl2IGNsYXNzPVwidWktdGFibGUtZm9vdGVyXCI+IDxzcGFuIGNsYXNzPVwidWktdGFibGUtc2l6ZVwiPlNob3cgcm93czoge3t7c2hvd1Jvd3NNZW51fX19PC9zcGFuPiA8c3BhbiBjbGFzcz1cInVpLXRhYmxlLXJlc3VsdHNcIj5SZXN1bHRzOiA8c3Ryb25nPnt7cmVzdWx0UmFuZ2Uuc3RhcnR9fSAmbmRhc2g7IHt7cmVzdWx0UmFuZ2UuZW5kfX08L3N0cm9uZz4gb2YgPHN0cm9uZz57e3RhYmxlVG90YWx9fTwvc3Ryb25nPiA8L3NwYW4+IDxzcGFuIGNsYXNzPVwidWktdGFibGUtY29udHJvbHNcIj4ge3sjcHJldlBhZ2VFeGlzdHN9fSA8c3BhbiBjbGFzcz1cInVpLXRhYmxlLWNvbnRyb2wtcHJldlwiIGRhdGEtY29sdW1ucy1wYWdlPVwie3twcmV2UGFnZX19XCI+IDxpbWcgc3JjPVwiaW1hZ2VzL2Fycm93LWxlZnQucG5nXCI+IDwvc3Bhbj4ge3svcHJldlBhZ2VFeGlzdHN9fSB7e15wcmV2UGFnZUV4aXN0c319IDxzcGFuIGNsYXNzPVwidWktdGFibGUtY29udHJvbC1kaXNhYmxlZFwiPiA8aW1nIHNyYz1cImltYWdlcy9hcnJvdy1sZWZ0LnBuZ1wiPiA8L3NwYW4+IHt7L3ByZXZQYWdlRXhpc3RzfX0ge3sjbmV4dFBhZ2VFeGlzdHN9fSA8c3BhbiBjbGFzcz1cInVpLXRhYmxlLWNvbnRyb2wtbmV4dFwiIGRhdGEtY29sdW1ucy1wYWdlPVwie3tuZXh0UGFnZX19XCI+IDxpbWcgc3JjPVwiaW1hZ2VzL2Fycm93LXJpZ2h0LnBuZ1wiPiA8L3NwYW4+IHt7L25leHRQYWdlRXhpc3RzfX0ge3tebmV4dFBhZ2VFeGlzdHN9fSA8c3BhbiBjbGFzcz1cInVpLXRhYmxlLWNvbnRyb2wtZGlzYWJsZWRcIj4gPGltZyBzcmM9XCJpbWFnZXMvYXJyb3ctcmlnaHQucG5nXCI+IDwvc3Bhbj4ge3svbmV4dFBhZ2VFeGlzdHN9fSA8L3NwYW4+IDwvZGl2PiA8IS0tIENvbHVtbnMgQ29udHJvbHMgIC0tPiA8L2Rpdj4ge3svdGFibGV9fSA8IS0tIENvbHVtbnMgVGFibGU6IE9ubHkgcmVuZGVyZWQgd2hpbGUgdGFibGUgaXMgdHJ1ZSAtLT4nLGNvbmRpdGlvbmluZzohMCxwYWdpbmF0aW5nOiEwLHNlYXJjaGluZzohMCxzb3J0aW5nOiEwLHBhZ2VIYW5kbGVyOmZ1bmN0aW9uKCl7dGhpcy5jcmVhdGUoKX0sc2VhcmNoSGFuZGxlcjpmdW5jdGlvbihlKXt0aGlzLmxpdmVTZWFyY2g/dGhpcy5jcmVhdGUoKTplLmtleUNvZGU9PVwiMTNcIiYmdGhpcy5jcmVhdGUoKX0sc2l6ZUhhbmRsZXI6ZnVuY3Rpb24oKXt0aGlzLmNyZWF0ZSgpfSxzb3J0SGFuZGxlcjpmdW5jdGlvbigpe3RoaXMucGFnZT0xO3RoaXMuY3JlYXRlKCl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLiRlbC5kYXRhKFwiY29sdW1uc1wiLG51bGwpO3RoaXMuJGVsLmVtcHR5KCk7cmV0dXJuITB9LGdldE9iamVjdDpmdW5jdGlvbigpe3JldHVybiB0aGlzfSxnZXRQYWdlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFnZX0sZ2V0UXVlcnk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5xdWVyeX0sZ2V0UmFuZ2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yYW5nZX0sZ2V0Um93czpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJvd3N9LGdldFNob3dSb3dzTWVudTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNob3dSb3dzTWVudX0sZ2V0VGVtcGxhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZW1wbGF0ZX0sZ2V0VGhlYWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aGVhZH0sZ2V0VG90YWw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b3RhbH0sZ2V0VmVyc2lvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLlZFUlNJT059LGdldFZpZXc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52aWV3fSxnb3RvUGFnZTpmdW5jdGlvbihlKXtpZih0aGlzLnBhZ2VFeGlzdHMoZSkpe3RoaXMucGFnZT1lO3RoaXMuY3JlYXRlKCk7cmV0dXJuITB9cmV0dXJuITF9LHBhZ2VFeGlzdHM6ZnVuY3Rpb24oZSl7cmV0dXJuIGU+MCYmZTw9dGhpcy5wYWdlcz8hMDohMX0scmVzZXREYXRhOmZ1bmN0aW9uKGUpe3RoaXMuZGF0YT10aGlzLm1hc3Rlci5zbGljZSgwKTtyZXR1cm4gdGhpcy5kYXRhfSxzZXRNYXN0ZXI6ZnVuY3Rpb24odCl7aWYoZS5pc0FycmF5KHQpKXt0aGlzLm1hc3Rlcj10O3JldHVybiEwfXJldHVybiExfSxzZXRQYWdlOmZ1bmN0aW9uKGUpe3RoaXMucGFnZT10aGlzLnBhZ2VFeGlzdHMoZSk/ZTp0aGlzLnBhZ2U7cmV0dXJuIHRoaXMucGFnZX0sc2V0UmFuZ2U6ZnVuY3Rpb24oKXt2YXIgZT0odGhpcy5wYWdlLTEpKnRoaXMuc2l6ZSx0PWUrdGhpcy5zaXplPHRoaXMudG90YWw/ZSt0aGlzLnNpemU6dGhpcy50b3RhbDt0aGlzLnJhbmdlPXtzdGFydDplKzEsZW5kOnR9fSxzZXRUb3RhbDpmdW5jdGlvbihlKXt0aGlzLnRvdGFsPWU7cmV0dXJuITB9LHN0YXJ0VGltZTpudWxsLGVuZFRpbWU6bnVsbCxzdGFydFRpbWVyOmZ1bmN0aW9uKCl7dmFyIGU9bmV3IERhdGU7dGhpcy5zdGFydFRpbWU9ZS5nZXRUaW1lKCl9LGVuZFRpbWVyOmZ1bmN0aW9uKCl7dmFyIGU9bmV3IERhdGU7dGhpcy5lbmRUaW1lPWUuZ2V0VGltZSgpfSxnZXRUaW1lcjpmdW5jdGlvbigpe2NvbnNvbGUubG9nKCh0aGlzLmVuZFRpbWUtdGhpcy5zdGFydFRpbWUpLzFlMyl9fX0pKGpRdWVyeSk7KGZ1bmN0aW9uKGUsdCl7ZS5NdXN0YWNoZT10KHt9KX0pKHRoaXMsZnVuY3Rpb24oZSl7ZnVuY3Rpb24gcihlKXtyZXR1cm4gdHlwZW9mIGU9PVwiZnVuY3Rpb25cIn1mdW5jdGlvbiBpKGUpe3JldHVybiBlLnJlcGxhY2UoL1tcXC1cXFtcXF17fSgpKis/LixcXFxcXFxeJHwjXFxzXS9nLFwiXFxcXCQmXCIpfWZ1bmN0aW9uIG8oZSx0KXtyZXR1cm4gcy5jYWxsKGUsdCl9ZnVuY3Rpb24gYShlKXtyZXR1cm4hbyh1LGUpfWZ1bmN0aW9uIGwoZSl7cmV0dXJuIFN0cmluZyhlKS5yZXBsYWNlKC9bJjw+XCInXFwvXS9nLGZ1bmN0aW9uKGUpe3JldHVybiBmW2VdfSl9ZnVuY3Rpb24gbSh0LHIpe2Z1bmN0aW9uIG0oKXtpZihmJiYhbCl3aGlsZSh1Lmxlbmd0aClkZWxldGUgb1t1LnBvcCgpXTtlbHNlIHU9W107Zj0hMTtsPSExfWZ1bmN0aW9uIHgoZSl7dHlwZW9mIGU9PVwic3RyaW5nXCImJihlPWUuc3BsaXQoaCwyKSk7aWYoIW4oZSl8fGUubGVuZ3RoIT09Mil0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHRhZ3M6IFwiK2UpO3c9bmV3IFJlZ0V4cChpKGVbMF0pK1wiXFxcXHMqXCIpO0U9bmV3IFJlZ0V4cChcIlxcXFxzKlwiK2koZVsxXSkpO1M9bmV3IFJlZ0V4cChcIlxcXFxzKlwiK2koXCJ9XCIrZVsxXSkpfWlmKCF0KXJldHVybltdO3ZhciBzPVtdLG89W10sdT1bXSxmPSExLGw9ITEsdyxFLFM7eChyfHxlLnRhZ3MpO3ZhciBUPW5ldyBiKHQpLE4sQyxrLEwsQSxPO3doaWxlKCFULmVvcygpKXtOPVQucG9zO2s9VC5zY2FuVW50aWwodyk7aWYoaylmb3IodmFyIE09MCxfPWsubGVuZ3RoO008XzsrK00pe0w9ay5jaGFyQXQoTSk7YShMKT91LnB1c2goby5sZW5ndGgpOmw9ITA7by5wdXNoKFtcInRleHRcIixMLE4sTisxXSk7Tis9MTtMPT09XCJcXG5cIiYmbSgpfWlmKCFULnNjYW4odykpYnJlYWs7Zj0hMDtDPVQuc2Nhbih2KXx8XCJuYW1lXCI7VC5zY2FuKGMpO2lmKEM9PT1cIj1cIil7az1ULnNjYW5VbnRpbChwKTtULnNjYW4ocCk7VC5zY2FuVW50aWwoRSl9ZWxzZSBpZihDPT09XCJ7XCIpe2s9VC5zY2FuVW50aWwoUyk7VC5zY2FuKGQpO1Quc2NhblVudGlsKEUpO0M9XCImXCJ9ZWxzZSBrPVQuc2NhblVudGlsKEUpO2lmKCFULnNjYW4oRSkpdGhyb3cgbmV3IEVycm9yKFwiVW5jbG9zZWQgdGFnIGF0IFwiK1QucG9zKTtBPVtDLGssTixULnBvc107by5wdXNoKEEpO2lmKEM9PT1cIiNcInx8Qz09PVwiXlwiKXMucHVzaChBKTtlbHNlIGlmKEM9PT1cIi9cIil7Tz1zLnBvcCgpO2lmKCFPKXRocm93IG5ldyBFcnJvcignVW5vcGVuZWQgc2VjdGlvbiBcIicraysnXCIgYXQgJytOKTtpZihPWzFdIT09ayl0aHJvdyBuZXcgRXJyb3IoJ1VuY2xvc2VkIHNlY3Rpb24gXCInK09bMV0rJ1wiIGF0ICcrTil9ZWxzZSBDPT09XCJuYW1lXCJ8fEM9PT1cIntcInx8Qz09PVwiJlwiP2w9ITA6Qz09PVwiPVwiJiZ4KGspfU89cy5wb3AoKTtpZihPKXRocm93IG5ldyBFcnJvcignVW5jbG9zZWQgc2VjdGlvbiBcIicrT1sxXSsnXCIgYXQgJytULnBvcyk7cmV0dXJuIHkoZyhvKSl9ZnVuY3Rpb24gZyhlKXt2YXIgdD1bXSxuLHI7Zm9yKHZhciBpPTAscz1lLmxlbmd0aDtpPHM7KytpKXtuPWVbaV07aWYobilpZihuWzBdPT09XCJ0ZXh0XCImJnImJnJbMF09PT1cInRleHRcIil7clsxXSs9blsxXTtyWzNdPW5bM119ZWxzZXt0LnB1c2gobik7cj1ufX1yZXR1cm4gdH1mdW5jdGlvbiB5KGUpe3ZhciB0PVtdLG49dCxyPVtdLGkscztmb3IodmFyIG89MCx1PWUubGVuZ3RoO288dTsrK28pe2k9ZVtvXTtzd2l0Y2goaVswXSl7Y2FzZVwiI1wiOmNhc2VcIl5cIjpuLnB1c2goaSk7ci5wdXNoKGkpO249aVs0XT1bXTticmVhaztjYXNlXCIvXCI6cz1yLnBvcCgpO3NbNV09aVsyXTtuPXIubGVuZ3RoPjA/cltyLmxlbmd0aC0xXVs0XTp0O2JyZWFrO2RlZmF1bHQ6bi5wdXNoKGkpfX1yZXR1cm4gdH1mdW5jdGlvbiBiKGUpe3RoaXMuc3RyaW5nPWU7dGhpcy50YWlsPWU7dGhpcy5wb3M9MH1mdW5jdGlvbiB3KGUsdCl7dGhpcy52aWV3PWU9PW51bGw/e306ZTt0aGlzLmNhY2hlPXtcIi5cIjp0aGlzLnZpZXd9O3RoaXMucGFyZW50PXR9ZnVuY3Rpb24gRSgpe3RoaXMuY2FjaGU9e319dmFyIHQ9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxuPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVybiB0LmNhbGwoZSk9PT1cIltvYmplY3QgQXJyYXldXCJ9LHM9UmVnRXhwLnByb3RvdHlwZS50ZXN0LHU9L1xcUy8sZj17XCImXCI6XCImYW1wO1wiLFwiPFwiOlwiJmx0O1wiLFwiPlwiOlwiJmd0O1wiLCdcIic6XCImcXVvdDtcIixcIidcIjpcIiYjMzk7XCIsXCIvXCI6XCImI3gyRjtcIn0sYz0vXFxzKi8saD0vXFxzKy8scD0vXFxzKj0vLGQ9L1xccypcXH0vLHY9LyN8XFxefFxcL3w+fFxce3wmfD18IS87Yi5wcm90b3R5cGUuZW9zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGFpbD09PVwiXCJ9O2IucHJvdG90eXBlLnNjYW49ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy50YWlsLm1hdGNoKGUpO2lmKCF0fHx0LmluZGV4IT09MClyZXR1cm5cIlwiO3ZhciBuPXRbMF07dGhpcy50YWlsPXRoaXMudGFpbC5zdWJzdHJpbmcobi5sZW5ndGgpO3RoaXMucG9zKz1uLmxlbmd0aDtyZXR1cm4gbn07Yi5wcm90b3R5cGUuc2NhblVudGlsPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMudGFpbC5zZWFyY2goZSksbjtzd2l0Y2godCl7Y2FzZS0xOm49dGhpcy50YWlsO3RoaXMudGFpbD1cIlwiO2JyZWFrO2Nhc2UgMDpuPVwiXCI7YnJlYWs7ZGVmYXVsdDpuPXRoaXMudGFpbC5zdWJzdHJpbmcoMCx0KTt0aGlzLnRhaWw9dGhpcy50YWlsLnN1YnN0cmluZyh0KX10aGlzLnBvcys9bi5sZW5ndGg7cmV0dXJuIG59O3cucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB3KGUsdGhpcyl9O3cucHJvdG90eXBlLmxvb2t1cD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmNhY2hlLG47aWYoZSBpbiB0KW49dFtlXTtlbHNle3ZhciBpPXRoaXMscyxvO3doaWxlKGkpe2lmKGUuaW5kZXhPZihcIi5cIik+MCl7bj1pLnZpZXc7cz1lLnNwbGl0KFwiLlwiKTtvPTA7d2hpbGUobiE9bnVsbCYmbzxzLmxlbmd0aCluPW5bc1tvKytdXX1lbHNlIG49aS52aWV3W2VdO2lmKG4hPW51bGwpYnJlYWs7aT1pLnBhcmVudH10W2VdPW59cihuKSYmKG49bi5jYWxsKHRoaXMudmlldykpO3JldHVybiBufTtFLnByb3RvdHlwZS5jbGVhckNhY2hlPWZ1bmN0aW9uKCl7dGhpcy5jYWNoZT17fX07RS5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmNhY2hlLHI9bltlXTtyPT1udWxsJiYocj1uW2VdPW0oZSx0KSk7cmV0dXJuIHJ9O0UucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbihlLHQsbil7dmFyIHI9dGhpcy5wYXJzZShlKSxpPXQgaW5zdGFuY2VvZiB3P3Q6bmV3IHcodCk7cmV0dXJuIHRoaXMucmVuZGVyVG9rZW5zKHIsaSxuLGUpfTtFLnByb3RvdHlwZS5yZW5kZXJUb2tlbnM9ZnVuY3Rpb24odCxpLHMsbyl7ZnVuY3Rpb24gZihlKXtyZXR1cm4gYS5yZW5kZXIoZSxpLHMpfXZhciB1PVwiXCIsYT10aGlzLGwsYztmb3IodmFyIGg9MCxwPXQubGVuZ3RoO2g8cDsrK2gpe2w9dFtoXTtzd2l0Y2gobFswXSl7Y2FzZVwiI1wiOmM9aS5sb29rdXAobFsxXSk7aWYoIWMpY29udGludWU7aWYobihjKSlmb3IodmFyIGQ9MCx2PWMubGVuZ3RoO2Q8djsrK2QpdSs9dGhpcy5yZW5kZXJUb2tlbnMobFs0XSxpLnB1c2goY1tkXSkscyxvKTtlbHNlIGlmKHR5cGVvZiBjPT1cIm9iamVjdFwifHx0eXBlb2YgYz09XCJzdHJpbmdcIil1Kz10aGlzLnJlbmRlclRva2VucyhsWzRdLGkucHVzaChjKSxzLG8pO2Vsc2UgaWYocihjKSl7aWYodHlwZW9mIG8hPVwic3RyaW5nXCIpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHVzZSBoaWdoZXItb3JkZXIgc2VjdGlvbnMgd2l0aG91dCB0aGUgb3JpZ2luYWwgdGVtcGxhdGVcIik7Yz1jLmNhbGwoaS52aWV3LG8uc2xpY2UobFszXSxsWzVdKSxmKTtjIT1udWxsJiYodSs9Yyl9ZWxzZSB1Kz10aGlzLnJlbmRlclRva2VucyhsWzRdLGkscyxvKTticmVhaztjYXNlXCJeXCI6Yz1pLmxvb2t1cChsWzFdKTtpZighY3x8bihjKSYmYy5sZW5ndGg9PT0wKXUrPXRoaXMucmVuZGVyVG9rZW5zKGxbNF0saSxzLG8pO2JyZWFrO2Nhc2VcIj5cIjppZighcyljb250aW51ZTtjPXIocyk/cyhsWzFdKTpzW2xbMV1dO2MhPW51bGwmJih1Kz10aGlzLnJlbmRlclRva2Vucyh0aGlzLnBhcnNlKGMpLGkscyxjKSk7YnJlYWs7Y2FzZVwiJlwiOmM9aS5sb29rdXAobFsxXSk7YyE9bnVsbCYmKHUrPWMpO2JyZWFrO2Nhc2VcIm5hbWVcIjpjPWkubG9va3VwKGxbMV0pO2MhPW51bGwmJih1Kz1lLmVzY2FwZShjKSk7YnJlYWs7Y2FzZVwidGV4dFwiOnUrPWxbMV19fXJldHVybiB1fTtlLm5hbWU9XCJtdXN0YWNoZS5qc1wiO2UudmVyc2lvbj1cIjAuOC4xXCI7ZS50YWdzPVtcInt7XCIsXCJ9fVwiXTt2YXIgUz1uZXcgRTtlLmNsZWFyQ2FjaGU9ZnVuY3Rpb24oKXtyZXR1cm4gUy5jbGVhckNhY2hlKCl9O2UucGFyc2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gUy5wYXJzZShlLHQpfTtlLnJlbmRlcj1mdW5jdGlvbihlLHQsbil7cmV0dXJuIFMucmVuZGVyKGUsdCxuKX07ZS50b19odG1sPWZ1bmN0aW9uKHQsbixpLHMpe3ZhciBvPWUucmVuZGVyKHQsbixpKTtpZighcihzKSlyZXR1cm4gbztzKG8pfTtlLmVzY2FwZT1sO2UuU2Nhbm5lcj1iO2UuQ29udGV4dD13O2UuV3JpdGVyPUU7cmV0dXJuIGV9KTsiXSwiZmlsZSI6ImpxdWVyeS5jb2x1bW5zLm1pbi5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9

/*
 * jQuery srt
 *
 * version 0.1 (November 28, 2008)
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 */
/*
  usage:
    <video src="example.ogg" id="examplevideo" />
    <div class="srt" data-video="examplevideo" data-srt="example.srt"></div>

  jquery.srt.js will try to load subtitles in all elements with 'srt' class.
  'data-video' atribute is used to link to the related video,
  if no data-srt is provided, the contents of the div is parsed as srt.
*/
var srt = function () {
    function toSeconds(t) {
        var s = 0.0
        if (t) {
            var p = t.split(':');
            for (i = 0; i < p.length; i++) s = s * 60 + parseFloat(p[i].replace(',', '.'))
        }
        return s;
    }

    function strip(s) {
        return s.replace(/^\s+|\s+$/g, "");
    }

    function playSubtitles(subtitleElement) {
        var videoId = subtitleElement.attr('data-video');
        var srt = subtitleElement.text();
        subtitleElement.text('');
        srt = srt.replace(/\r\n|\r|\n/g, '\n')
        var subtitles = {};
        srt = strip(srt);
        var srt_ = srt.split('\n\n');
        for (s in srt_) {
            st = srt_[s].split('\n');
            if (st.length >= 2) {
                n = st[0];
                i = strip(st[1].split(' --> ')[0]);
                o = strip(st[1].split(' --> ')[1]);
                t = st[2];
                if (st.length > 2) {
                    for (j = 3; j < st.length; j++) t += '\n' + st[j];
                }
                is = toSeconds(i);
                os = toSeconds(o);
                subtitles[is] = {
                    i: i,
                    o: o,
                    t: t
                };
            }
        }
        var currentSubtitle = -1;
        var ival = setInterval(function () {
            var currentTime = document.getElementById(videoId)
                .currentTime;
            var subtitle = -1;
            for (s in subtitles) {
                if (s > currentTime) break
                subtitle = s;
            }
            if (subtitle > 0) {
                if (subtitle != currentSubtitle) {
                    subtitleElement.html(subtitles[subtitle].t);
                    currentSubtitle = subtitle;
                } else if (subtitles[subtitle].o < currentTime) {
                    subtitleElement.html('');
                }
            }
        }, 100);
    }
    $('.srt')
        .each(function () {
            var subtitleElement = $(this);
            var videoId = subtitleElement.attr('data-video');
            if (!videoId) return;
            var srtUrl = subtitleElement.attr('data-srt');
            if (srtUrl) {
                $(this)
                    .load(srtUrl, function (responseText, textStatus, req) {
                        playSubtitles(subtitleElement)
                    })
            } else {
                playSubtitles(subtitleElement);
            }
        });
};


//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJqcXVlcnkuc3J0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiAqIGpRdWVyeSBzcnRcclxuICpcclxuICogdmVyc2lvbiAwLjEgKE5vdmVtYmVyIDI4LCAyMDA4KVxyXG4gKlxyXG4gKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgYW5kIEdQTCBsaWNlbnNlczpcclxuICogICBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxyXG4gKiAgIGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy9ncGwuaHRtbFxyXG4gKi9cclxuLypcclxuICB1c2FnZTpcclxuICAgIDx2aWRlbyBzcmM9XCJleGFtcGxlLm9nZ1wiIGlkPVwiZXhhbXBsZXZpZGVvXCIgLz5cclxuICAgIDxkaXYgY2xhc3M9XCJzcnRcIiBkYXRhLXZpZGVvPVwiZXhhbXBsZXZpZGVvXCIgZGF0YS1zcnQ9XCJleGFtcGxlLnNydFwiPjwvZGl2PlxyXG5cclxuICBqcXVlcnkuc3J0LmpzIHdpbGwgdHJ5IHRvIGxvYWQgc3VidGl0bGVzIGluIGFsbCBlbGVtZW50cyB3aXRoICdzcnQnIGNsYXNzLlxyXG4gICdkYXRhLXZpZGVvJyBhdHJpYnV0ZSBpcyB1c2VkIHRvIGxpbmsgdG8gdGhlIHJlbGF0ZWQgdmlkZW8sXHJcbiAgaWYgbm8gZGF0YS1zcnQgaXMgcHJvdmlkZWQsIHRoZSBjb250ZW50cyBvZiB0aGUgZGl2IGlzIHBhcnNlZCBhcyBzcnQuXHJcbiovXHJcbnZhciBzcnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiB0b1NlY29uZHModCkge1xyXG4gICAgICAgIHZhciBzID0gMC4wXHJcbiAgICAgICAgaWYgKHQpIHtcclxuICAgICAgICAgICAgdmFyIHAgPSB0LnNwbGl0KCc6Jyk7XHJcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBwLmxlbmd0aDsgaSsrKSBzID0gcyAqIDYwICsgcGFyc2VGbG9hdChwW2ldLnJlcGxhY2UoJywnLCAnLicpKVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzdHJpcChzKSB7XHJcbiAgICAgICAgcmV0dXJuIHMucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgXCJcIik7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcGxheVN1YnRpdGxlcyhzdWJ0aXRsZUVsZW1lbnQpIHtcclxuICAgICAgICB2YXIgdmlkZW9JZCA9IHN1YnRpdGxlRWxlbWVudC5hdHRyKCdkYXRhLXZpZGVvJyk7XHJcbiAgICAgICAgdmFyIHNydCA9IHN1YnRpdGxlRWxlbWVudC50ZXh0KCk7XHJcbiAgICAgICAgc3VidGl0bGVFbGVtZW50LnRleHQoJycpO1xyXG4gICAgICAgIHNydCA9IHNydC5yZXBsYWNlKC9cXHJcXG58XFxyfFxcbi9nLCAnXFxuJylcclxuICAgICAgICB2YXIgc3VidGl0bGVzID0ge307XHJcbiAgICAgICAgc3J0ID0gc3RyaXAoc3J0KTtcclxuICAgICAgICB2YXIgc3J0XyA9IHNydC5zcGxpdCgnXFxuXFxuJyk7XHJcbiAgICAgICAgZm9yIChzIGluIHNydF8pIHtcclxuICAgICAgICAgICAgc3QgPSBzcnRfW3NdLnNwbGl0KCdcXG4nKTtcclxuICAgICAgICAgICAgaWYgKHN0Lmxlbmd0aCA+PSAyKSB7XHJcbiAgICAgICAgICAgICAgICBuID0gc3RbMF07XHJcbiAgICAgICAgICAgICAgICBpID0gc3RyaXAoc3RbMV0uc3BsaXQoJyAtLT4gJylbMF0pO1xyXG4gICAgICAgICAgICAgICAgbyA9IHN0cmlwKHN0WzFdLnNwbGl0KCcgLS0+ICcpWzFdKTtcclxuICAgICAgICAgICAgICAgIHQgPSBzdFsyXTtcclxuICAgICAgICAgICAgICAgIGlmIChzdC5sZW5ndGggPiAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChqID0gMzsgaiA8IHN0Lmxlbmd0aDsgaisrKSB0ICs9ICdcXG4nICsgc3Rbal07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpcyA9IHRvU2Vjb25kcyhpKTtcclxuICAgICAgICAgICAgICAgIG9zID0gdG9TZWNvbmRzKG8pO1xyXG4gICAgICAgICAgICAgICAgc3VidGl0bGVzW2lzXSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBpOiBpLFxyXG4gICAgICAgICAgICAgICAgICAgIG86IG8sXHJcbiAgICAgICAgICAgICAgICAgICAgdDogdFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgY3VycmVudFN1YnRpdGxlID0gLTE7XHJcbiAgICAgICAgdmFyIGl2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBjdXJyZW50VGltZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHZpZGVvSWQpXHJcbiAgICAgICAgICAgICAgICAuY3VycmVudFRpbWU7XHJcbiAgICAgICAgICAgIHZhciBzdWJ0aXRsZSA9IC0xO1xyXG4gICAgICAgICAgICBmb3IgKHMgaW4gc3VidGl0bGVzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocyA+IGN1cnJlbnRUaW1lKSBicmVha1xyXG4gICAgICAgICAgICAgICAgc3VidGl0bGUgPSBzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzdWJ0aXRsZSA+IDApIHtcclxuICAgICAgICAgICAgICAgIGlmIChzdWJ0aXRsZSAhPSBjdXJyZW50U3VidGl0bGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZUVsZW1lbnQuaHRtbChzdWJ0aXRsZXNbc3VidGl0bGVdLnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdWJ0aXRsZSA9IHN1YnRpdGxlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzdWJ0aXRsZXNbc3VidGl0bGVdLm8gPCBjdXJyZW50VGltZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlRWxlbWVudC5odG1sKCcnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIDEwMCk7XHJcbiAgICB9XHJcbiAgICAkKCcuc3J0JylcclxuICAgICAgICAuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBzdWJ0aXRsZUVsZW1lbnQgPSAkKHRoaXMpO1xyXG4gICAgICAgICAgICB2YXIgdmlkZW9JZCA9IHN1YnRpdGxlRWxlbWVudC5hdHRyKCdkYXRhLXZpZGVvJyk7XHJcbiAgICAgICAgICAgIGlmICghdmlkZW9JZCkgcmV0dXJuO1xyXG4gICAgICAgICAgICB2YXIgc3J0VXJsID0gc3VidGl0bGVFbGVtZW50LmF0dHIoJ2RhdGEtc3J0Jyk7XHJcbiAgICAgICAgICAgIGlmIChzcnRVcmwpIHtcclxuICAgICAgICAgICAgICAgICQodGhpcylcclxuICAgICAgICAgICAgICAgICAgICAubG9hZChzcnRVcmwsIGZ1bmN0aW9uIChyZXNwb25zZVRleHQsIHRleHRTdGF0dXMsIHJlcSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5U3VidGl0bGVzKHN1YnRpdGxlRWxlbWVudClcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcGxheVN1YnRpdGxlcyhzdWJ0aXRsZUVsZW1lbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbn07XHJcblxyXG4iXSwiZmlsZSI6ImpxdWVyeS5zcnQuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

!function(a){var b=function(){window.asyncWebshims||(window.asyncWebshims={cfg:[],ready:[]})},c=function(){window.jQuery&&(a(jQuery),a=function(){return window.webshims})};window.webshims={setOptions:function(){b(),window.asyncWebshims.cfg.push(arguments)},ready:function(){b(),window.asyncWebshims.ready.push(arguments)},activeLang:function(a){b(),window.asyncWebshims.lang=a},polyfill:function(a){b(),window.asyncWebshims.polyfill=a},_curScript:function(){var a,b,c,d,e,f=document.currentScript;if(!f){try{throw new Error("")}catch(g){for(c=(g.sourceURL||g.stack||"").split("\n"),e=/(?:fil|htt|wid|abo|app|res)(.)+/i,b=0;b<c.length;b++)if(d=c[b].match(e)){c=d[0].replace(/[\:\s\(]+[\d\:\)\(\s]+$/,"");break}}for(a=document.scripts||document.getElementsByTagName("script"),b=0;b<a.length&&(!a[b].getAttribute("src")||(f=a[b],"interactive"!=a[b].readyState&&c!=a[b].src));b++);}return f}()},window.webshim=window.webshims,window.webshims.timer=setInterval(c,0),c(),"function"==typeof define&&define.amd&&define("polyfiller",["jquery"],a)}(function(a){"use strict";function b(a){return document.createElement(a)}var c,d,e=window.navigator,f=window.webshims,g="dom-support",h=a.event.special,i=a([]),j=window.asyncWebshims,k={},l=window.Object,m=function(a){return a+"\n//# sourceURL="+this.url},n=function(a){return q.enhanceAuto||"auto"!=a?a:!1},o={matchmedia:"matchMedia",xhr2:"filereader",promise:"es6",URL:"url"},p="capture"in b("input");clearInterval(f.timer),k.advancedObjectProperties=k.objectAccessor=k.ES5=!!("create"in l&&"seal"in l),!k.ES5||"toJSON"in Date.prototype||(k.ES5=!1),d=a.support.hrefNormalized===!1?f._curScript.getAttribute("src",4):f._curScript.src,d=d.split("?")[0].slice(0,d.lastIndexOf("/")+1)+"shims/",a.extend(f,{version:"1.15.10",cfg:{enhanceAuto:window.Audio&&(!window.matchMedia||matchMedia("(min-device-width: 721px)").matches),waitReady:!0,loadStyles:!0,wsdoc:document,wspopover:{appendTo:"auto",hideOnBlur:!0},ajax:{crossDomain:!0},loadScript:function(b,c){a.ajax(a.extend({},q.ajax,{url:b,success:c,dataType:"script",cache:!0,global:!1,dataFilter:m}))},basePath:d},support:k,bugs:{},modules:{},features:{},featureList:[],setOptions:function(b,c){"string"==typeof b&&arguments.length>1?q[b]=a.isPlainObject(c)?a.extend(!0,q[b]||{},c):c:"object"==typeof b&&a.extend(!0,q,b)},_getAutoEnhance:n,addPolyfill:function(b,c){c=c||{};var d=c.f||b;r[d]||(r[d]=[],f.featureList.push(d),q[d]={}),r[d].push(b),c.options=a.extend(q[d],c.options),y(b,c),c.methodNames&&a.each(c.methodNames,function(a,b){f.addMethodName(b)})},polyfill:function(){return function(a){a||(a=f.featureList),"string"==typeof a&&(a=a.split(" "));return f._polyfill(a)}}(),_polyfill:function(b){var d,e,f=[];c.run||(d=-1!==a.inArray("forms-ext",b),c(),e=d&&!v["form-number-date-ui"].test()||!p&&-1!==a.inArray("mediacapture",b),d&&-1==a.inArray("forms",b)&&b.push("forms"),q.loadStyles&&w.loadCSS("styles/shim"+(e?"-ext":"")+".css")),q.waitReady&&(a.readyWait++,t(b,function(){a.ready(!0)})),a.each(b,function(a,b){return b=o[b]||b,r[b]?(b!==r[b][0]&&t(r[b],function(){s(b,!0)}),void(f=f.concat(r[b]))):void s(b,!0)}),x(f),a.each(b,function(a,b){var c=q[b];c&&("mediaelement"==b&&(c.replaceUI=n(c.replaceUI))&&c.plugins.unshift("mediacontrols"),c.plugins&&c.plugins.length&&x(q[b].plugins))})},reTest:function(){var b,c=function(c,d){var e=v[d],f=d+"Ready";!e||e.loaded||(e.test&&a.isFunction(e.test)?e.test([]):e.test)||(h[f]&&delete h[f],r[e.f],b.push(d))};return function(d){"string"==typeof d&&(d=d.split(" ")),b=[],a.each(d,c),x(b)}}(),isReady:function(b,c){if(b+="Ready",c){if(h[b]&&h[b].add)return!0;h[b]=a.extend(h[b]||{},{add:function(a){a.handler.call(this,b)}}),a(document).triggerHandler(b)}return!(!h[b]||!h[b].add)||!1},ready:function(b,c){var d=arguments[2];if("string"==typeof b&&(b=b.split(" ")),d||(b=a.map(a.grep(b,function(a){return!s(a)}),function(a){return a+"Ready"})),!b.length)return void c(a,f,window,document);var e=b.shift(),g=function(){t(b,c,!0)};a(document).one(e,g)},capturingEvents:function(b,c){document.addEventListener&&("string"==typeof b&&(b=[b]),a.each(b,function(b,d){var e=function(b){return b=a.event.fix(b),c&&f.capturingEventPrevented&&f.capturingEventPrevented(b),a.event.dispatch.call(this,b)};h[d]=h[d]||{},h[d].setup||h[d].teardown||a.extend(h[d],{setup:function(){this.addEventListener(d,e,!0)},teardown:function(){this.removeEventListener(d,e,!0)}})}))},register:function(b,c){var d=v[b];if(!d)return void f.error("can't find module: "+b);d.loaded=!0;var e=function(){c(a,f,window,document,void 0,d.options),s(b,!0)};d.d&&d.d.length?t(d.d,e):e()},c:{},loader:{addModule:function(b,c){v[b]=c,c.name=c.name||b,c.c||(c.c=[]),a.each(c.c,function(a,c){f.c[c]||(f.c[c]=[]),f.c[c].push(b)})},loadList:function(){var b=[],c=function(c,d){"string"==typeof d&&(d=[d]),a.merge(b,d),w.loadScript(c,!1,d)},d=function(c,d){if(s(c)||-1!=a.inArray(c,b))return!0;var e,f=v[c];return f?(e=f.test&&a.isFunction(f.test)?f.test(d):f.test,e?(s(c,!0),!0):!1):!0},e=function(b,c){if(b.d&&b.d.length){var e=function(b,e){d(e,c)||-1!=a.inArray(e,c)||c.push(e)};a.each(b.d,function(b,c){v[c]?v[c].loaded||e(b,c):r[c]&&(a.each(r[c],e),t(r[c],function(){s(c,!0)}))}),b.noAutoCallback||(b.noAutoCallback=!0)}};return function(g){var h,i,j,k,l=[],m=function(d,e){return k=e,a.each(f.c[e],function(c,d){return-1==a.inArray(d,l)||-1!=a.inArray(d,b)?(k=!1,!1):void 0}),k?(c("combos/"+k,f.c[k]),!1):void 0};for(i=0;i<g.length;i++)h=v[g[i]],h&&!d(h.name,g)&&(h.css&&q.loadStyles&&w.loadCSS(h.css),h.loadInit&&h.loadInit(),e(h,g),h.loaded||l.push(h.name),h.loaded=!0);for(i=0,j=l.length;j>i;i++)k=!1,h=l[i],-1==a.inArray(h,b)&&("noCombo"!=q.debug&&a.each(v[h].c,m),k||c(v[h].src||h,h))}}(),makePath:function(a){return-1!=a.indexOf("//")||0===a.indexOf("/")?a:(-1==a.indexOf(".")&&(a+=".js"),q.addCacheBuster&&(a+=q.addCacheBuster),q.basePath+a)},loadCSS:function(){var b,c={};return function(d){d=this.makePath(d),c[d]||(b=b||a("link, style")[0]||a("script")[0],c[d]=1,a('<link rel="stylesheet" />').insertBefore(b).attr({href:d}))}}(),loadScript:function(){var b={};return function(c,d,e,f){if(f||(c=w.makePath(c)),!b[c]){var g=function(){d&&d(),e&&("string"==typeof e&&(e=e.split(" ")),a.each(e,function(a,b){v[b]&&(v[b].afterLoad&&v[b].afterLoad(),s(v[b].noAutoCallback?b+"FileLoaded":b,!0))}))};b[c]=1,q.loadScript(c,g,a.noop)}}}()}});var q=f.cfg,r=f.features,s=f.isReady,t=f.ready,u=f.addPolyfill,v=f.modules,w=f.loader,x=w.loadList,y=w.addModule,z=f.bugs,A=[],B={warn:1,error:1},C=a.fn,D=b("video");f.addMethodName=function(a){a=a.split(":");var b=a[1];1==a.length?(b=a[0],a=a[0]):a=a[0],C[a]=function(){return this.callProp(b,arguments)}},C.callProp=function(b,c){var d;return c||(c=[]),this.each(function(){var e=a.prop(this,b);if(e&&e.apply){if(d=e.apply(this,c),void 0!==d)return!1}else f.warn(b+" is not a method of "+this)}),void 0!==d?d:this},f.activeLang=function(){"language"in e||(e.language=e.browserLanguage||"");var b=a.attr(document.documentElement,"lang")||e.language;return t("webshimLocalization",function(){f.activeLang(b)}),function(a){if(a)if("string"==typeof a)b=a;else if("object"==typeof a){var c=arguments,d=this;t("webshimLocalization",function(){f.activeLang.apply(d,c)})}return b}}(),f.errorLog=[],a.each(["log","error","warn","info"],function(a,b){f[b]=function(a){(B[b]&&q.debug!==!1||q.debug)&&(f.errorLog.push(a),window.console&&console.log&&console[console[b]?b:"log"](a))}}),function(){a.isDOMReady=a.isReady;var b=function(){a.isDOMReady=!0,s("DOM",!0),setTimeout(function(){s("WINDOWLOAD",!0)},9999)};c=function(){if(!c.run){if(!a.isDOMReady&&q.waitReady){var d=a.ready;a.ready=function(a){return a!==!0&&document.body&&b(),d.apply(this,arguments)},a.ready.promise=d.promise}q.readyEvt?a(document).one(q.readyEvt,b):a(b)}c.run=!0},a(window).on("load",function(){b(),setTimeout(function(){s("WINDOWLOAD",!0)},9)});var d=[],e=function(){1==this.nodeType&&f.triggerDomUpdate(this)};a.extend(f,{addReady:function(a){var b=function(b,c){f.ready("DOM",function(){a(b,c)})};d.push(b),q.wsdoc&&b(q.wsdoc,i)},triggerDomUpdate:function(b){if(!b||!b.nodeType)return void(b&&b.jquery&&b.each(function(){f.triggerDomUpdate(this)}));var c=b.nodeType;if(1==c||9==c){var e=b!==document?a(b):i;a.each(d,function(a,c){c(b,e)})}}}),C.clonePolyfill=C.clone,C.htmlPolyfill=function(b){if(!arguments.length)return a(this.clonePolyfill()).html();var c=C.html.call(this,b);return c===this&&a.isDOMReady&&this.each(e),c},C.jProp=function(){return this.pushStack(a(C.prop.apply(this,arguments)||[]))},a.each(["after","before","append","prepend","replaceWith"],function(b,c){C[c+"Polyfill"]=function(b){return b=a(b),C[c].call(this,b),a.isDOMReady&&b.each(e),this}}),a.each(["insertAfter","insertBefore","appendTo","prependTo","replaceAll"],function(b,c){C[c.replace(/[A-Z]/,function(a){return"Polyfill"+a})]=function(){return C[c].apply(this,arguments),a.isDOMReady&&f.triggerDomUpdate(this),this}}),C.updatePolyfill=function(){return a.isDOMReady&&f.triggerDomUpdate(this),this},a.each(["getNativeElement","getShadowElement","getShadowFocusElement"],function(a,b){C[b]=function(){return this.pushStack(this)}})}(),l.create&&(f.objectCreate=function(b,c,d){var e=l.create(b);return d&&(e.options=a.extend(!0,{},e.options||{},d),d=e.options),e._create&&a.isFunction(e._create)&&e._create(d),e}),y("swfmini",{test:function(){return window.swfobject&&!window.swfmini&&(window.swfmini=window.swfobject),"swfmini"in window},c:[16,7,2,8,1,12,23]}),v.swfmini.test(),y("sizzle",{test:a.expr.filters}),u("es5",{test:!(!k.ES5||!Function.prototype.bind),d:["sizzle"]}),u("dom-extend",{f:g,noAutoCallback:!0,d:["es5"],c:[16,7,2,15,30,3,8,4,9,10,25,31,34]}),b("picture"),u("picture",{test:"picturefill"in window||!!window.HTMLPictureElement||"respimage"in window,d:["matchMedia"],c:[18],loadInit:function(){s("picture",!0)}}),u("matchMedia",{test:!(!window.matchMedia||!matchMedia("all").addListener),c:[18]}),u("sticky",{test:-1!=(a(b("b")).attr("style","position: -webkit-sticky; position: sticky").css("position")||"").indexOf("sticky"),d:["es5","matchMedia"]}),u("es6",{test:!!(Math.imul&&Number.MIN_SAFE_INTEGER&&l.is&&window.Promise&&Promise.all),d:["es5"]}),u("geolocation",{test:"geolocation"in e,options:{destroyWrite:!0},c:[21]}),function(){u("canvas",{src:"excanvas",test:"getContext"in b("canvas"),options:{type:"flash"},noAutoCallback:!0,loadInit:function(){var a=this.options.type;!a||-1===a.indexOf("flash")||v.swfmini.test()&&!swfmini.hasFlashPlayerVersion("9.0.0")||(this.src="flash"==a?"FlashCanvas/flashcanvas":"FlashCanvasPro/flashcanvas")},methodNames:["getContext"],d:[g]})}();var E="getUserMedia"in e;u("usermedia-core",{f:"usermedia",test:E&&window.URL,d:["url",g]}),u("usermedia-shim",{f:"usermedia",test:!!(E||e.webkitGetUserMedia||e.mozGetUserMedia||e.msGetUserMedia),d:["url","mediaelement",g]}),u("mediacapture",{test:p,d:["swfmini","usermedia",g,"filereader","forms","canvas"]}),function(){var c,d,h="form-shim-extend",i="formvalidation",j="form-number-date-api",l=!1,m=!1,o=!1,p={},r=b("progress"),s=b("output"),t=function(){var d,f,g="1(",j=b("input");if(f=a('<fieldset><textarea required="" /></fieldset>')[0],k.inputtypes=p,a.each(["range","date","datetime-local","month","color","number"],function(a,b){j.setAttribute("type",b),p[b]=j.type==b&&(j.value=g)&&j.value!=g}),k.datalist=!!("options"in b("datalist")&&window.HTMLDataListElement),k[i]="checkValidity"in j,k.fieldsetelements="elements"in f,k.fieldsetdisabled="disabled"in f){try{f.querySelector(":invalid")&&(f.disabled=!0,d=!f.querySelector(":invalid")&&f.querySelector(":disabled"))}catch(n){}k.fieldsetdisabled=!!d}if(k[i]&&(m=!(k.fieldsetdisabled&&k.fieldsetelements&&"value"in r&&"value"in s),o=m&&/Android/i.test(e.userAgent),l=window.opera||z.bustedValidity||m||!k.datalist,!l&&p.number)){l=!0;try{j.type="number",j.value="",j.stepUp(),l="1"!=j.value}catch(q){}}return z.bustedValidity=l,c=k[i]&&!l?"form-native-extend":h,t=a.noop,!1},w=function(b){var c=!0;return b._types||(b._types=b.types.split(" ")),a.each(b._types,function(a,b){return b in p&&!p[b]?(c=!1,!1):void 0}),c};f.validationMessages=f.validityMessages={langSrc:"i18n/formcfg-",availableLangs:"ar bg ca cs el es fa fi fr he hi hu it ja lt nl no pl pt pt-BR pt-PT ru sv zh-CN zh-TW".split(" ")},f.formcfg=a.extend({},f.validationMessages),f.inputTypes={},u("form-core",{f:"forms",test:t,d:["es5"],options:{placeholderType:"value",messagePopover:{},list:{popover:{constrainWidth:!0}},iVal:{sel:".ws-validate",handleBubble:"hide",recheckDelay:400}},methodNames:["setCustomValidity","checkValidity","setSelectionRange"],c:[16,7,2,8,1,15,30,3,31]}),d=q.forms,u("form-native-extend",{f:"forms",test:function(b){return t(),!k[i]||l||-1==a.inArray(j,b||[])||v[j].test()},d:["form-core",g,"form-message"],c:[6,5,14,29]}),u(h,{f:"forms",test:function(){return t(),k[i]&&!l},d:["form-core",g,"sizzle"],c:[16,15,28]}),u(h+"2",{f:"forms",test:function(){return t(),k[i]&&!m},d:[h],c:[27]}),u("form-message",{f:"forms",test:function(a){return t(),!(d.customMessages||!k[i]||l||!v[c].test(a))},d:[g],c:[16,7,15,30,3,8,4,14,28]}),u(j,{f:"forms-ext",options:{types:"date time range number"},test:function(){t();var a=!l;return a&&(a=w(this.options)),a},methodNames:["stepUp","stepDown"],d:["forms",g],c:[6,5,17,14,28,29,33]}),y("range-ui",{options:{},noAutoCallback:!0,test:function(){return!!C.rangeUI},d:["es5"],c:[6,5,9,10,17,11]}),u("form-number-date-ui",{f:"forms-ext",test:function(){var a=this.options;return a.replaceUI=n(a.replaceUI),t(),!a.replaceUI&&o&&(a.replaceUI=!0),!a.replaceUI&&w(a)},d:["forms",g,j,"range-ui"],options:{widgets:{calculateWidth:!0,animate:!0}},c:[6,5,9,10,17,11]}),u("form-datalist",{f:"forms",test:function(){return t(),o&&(d.customDatalist=!0),k.datalist&&!d.fD},d:["form-core",g],c:[16,7,6,2,9,15,30,31,28,33]})}();var F="FileReader"in window&&"FormData"in window;return u("filereader-xhr",{f:"filereader",test:F,d:[g,"swfmini"],c:[25,27]}),u("canvas-blob",{f:"filereader",methodNames:["toBlob"],test:!(F&&!b("canvas").toBlob)}),u("details",{test:"open"in b("details"),d:[g],options:{text:"Details"},c:[21,22]}),u("url",{test:function(){var a=!1;try{a=new URL("b","http://a"),a=!(!a.searchParams||"http://a/b"!=a.href)}catch(b){}return a},d:["es5"]}),function(){f.mediaelement={};var c=b("track");if(k.mediaelement="canPlayType"in D,k.texttrackapi="addTextTrack"in D,k.track="kind"in c,b("audio"),!(z.track=!k.texttrackapi))try{z.track=!("oncuechange"in D.addTextTrack("metadata"))}catch(d){}u("mediaelement-core",{f:"mediaelement",noAutoCallback:!0,options:{jme:{},plugins:[],vars:{},params:{},attrs:{},changeSWF:a.noop},methodNames:["play","pause","canPlayType","mediaLoad:load"],d:["swfmini"],c:[16,7,2,8,1,12,13,23]}),u("mediaelement-jaris",{f:"mediaelement",d:["mediaelement-core",g],test:function(){var a=this.options;return!k.mediaelement||f.mediaelement.loadSwf?!1:(a.preferFlash&&!v.swfmini.test()&&(a.preferFlash=!1),!(a.preferFlash&&swfmini.hasFlashPlayerVersion("11.3")))},c:[21,25]}),u("track",{options:{positionDisplay:!0,override:z.track},test:function(){var a=this.options;return a.override=n(a.override),!a.override&&!z.track},d:["mediaelement",g],methodNames:["addTextTrack"],c:[21,12,13,22,34]}),y("jmebase",{src:"jme/base",c:[98,99,97]}),a.each([["mediacontrols",{c:[98,99],css:"jme/controls.css"}],["playlist",{c:[98,97]}],["alternate-media"]],function(b,c){y(c[0],a.extend({src:"jme/"+c[0],d:["jmebase"]},c[1]))}),y("track-ui",{d:["track",g]})}(),u("feature-dummy",{test:!0,loaded:!0,c:A}),f.$=a,a.webshims=f,a.webshim=webshim,f.callAsync=function(){f.callAsync=a.noop,j&&(j.cfg&&(j.cfg.length||(j.cfg=[[j.cfg]]),a.each(j.cfg,function(a,b){f.setOptions.apply(f,b)})),j.ready&&a.each(j.ready,function(a,b){f.ready.apply(f,b)}),j.lang&&f.activeLang(j.lang),"polyfill"in j&&f.polyfill(j.polyfill)),f.isReady("jquery",!0)},f.callAsync(),f});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJwb2x5ZmlsbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIiFmdW5jdGlvbihhKXt2YXIgYj1mdW5jdGlvbigpe3dpbmRvdy5hc3luY1dlYnNoaW1zfHwod2luZG93LmFzeW5jV2Vic2hpbXM9e2NmZzpbXSxyZWFkeTpbXX0pfSxjPWZ1bmN0aW9uKCl7d2luZG93LmpRdWVyeSYmKGEoalF1ZXJ5KSxhPWZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy53ZWJzaGltc30pfTt3aW5kb3cud2Vic2hpbXM9e3NldE9wdGlvbnM6ZnVuY3Rpb24oKXtiKCksd2luZG93LmFzeW5jV2Vic2hpbXMuY2ZnLnB1c2goYXJndW1lbnRzKX0scmVhZHk6ZnVuY3Rpb24oKXtiKCksd2luZG93LmFzeW5jV2Vic2hpbXMucmVhZHkucHVzaChhcmd1bWVudHMpfSxhY3RpdmVMYW5nOmZ1bmN0aW9uKGEpe2IoKSx3aW5kb3cuYXN5bmNXZWJzaGltcy5sYW5nPWF9LHBvbHlmaWxsOmZ1bmN0aW9uKGEpe2IoKSx3aW5kb3cuYXN5bmNXZWJzaGltcy5wb2x5ZmlsbD1hfSxfY3VyU2NyaXB0OmZ1bmN0aW9uKCl7dmFyIGEsYixjLGQsZSxmPWRvY3VtZW50LmN1cnJlbnRTY3JpcHQ7aWYoIWYpe3RyeXt0aHJvdyBuZXcgRXJyb3IoXCJcIil9Y2F0Y2goZyl7Zm9yKGM9KGcuc291cmNlVVJMfHxnLnN0YWNrfHxcIlwiKS5zcGxpdChcIlxcblwiKSxlPS8oPzpmaWx8aHR0fHdpZHxhYm98YXBwfHJlcykoLikrL2ksYj0wO2I8Yy5sZW5ndGg7YisrKWlmKGQ9Y1tiXS5tYXRjaChlKSl7Yz1kWzBdLnJlcGxhY2UoL1tcXDpcXHNcXChdK1tcXGRcXDpcXClcXChcXHNdKyQvLFwiXCIpO2JyZWFrfX1mb3IoYT1kb2N1bWVudC5zY3JpcHRzfHxkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKSxiPTA7YjxhLmxlbmd0aCYmKCFhW2JdLmdldEF0dHJpYnV0ZShcInNyY1wiKXx8KGY9YVtiXSxcImludGVyYWN0aXZlXCIhPWFbYl0ucmVhZHlTdGF0ZSYmYyE9YVtiXS5zcmMpKTtiKyspO31yZXR1cm4gZn0oKX0sd2luZG93LndlYnNoaW09d2luZG93LndlYnNoaW1zLHdpbmRvdy53ZWJzaGltcy50aW1lcj1zZXRJbnRlcnZhbChjLDApLGMoKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQmJmRlZmluZShcInBvbHlmaWxsZXJcIixbXCJqcXVlcnlcIl0sYSl9KGZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGIoYSl7cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYSl9dmFyIGMsZCxlPXdpbmRvdy5uYXZpZ2F0b3IsZj13aW5kb3cud2Vic2hpbXMsZz1cImRvbS1zdXBwb3J0XCIsaD1hLmV2ZW50LnNwZWNpYWwsaT1hKFtdKSxqPXdpbmRvdy5hc3luY1dlYnNoaW1zLGs9e30sbD13aW5kb3cuT2JqZWN0LG09ZnVuY3Rpb24oYSl7cmV0dXJuIGErXCJcXG4vLyMgc291cmNlVVJMPVwiK3RoaXMudXJsfSxuPWZ1bmN0aW9uKGEpe3JldHVybiBxLmVuaGFuY2VBdXRvfHxcImF1dG9cIiE9YT9hOiExfSxvPXttYXRjaG1lZGlhOlwibWF0Y2hNZWRpYVwiLHhocjI6XCJmaWxlcmVhZGVyXCIscHJvbWlzZTpcImVzNlwiLFVSTDpcInVybFwifSxwPVwiY2FwdHVyZVwiaW4gYihcImlucHV0XCIpO2NsZWFySW50ZXJ2YWwoZi50aW1lciksay5hZHZhbmNlZE9iamVjdFByb3BlcnRpZXM9ay5vYmplY3RBY2Nlc3Nvcj1rLkVTNT0hIShcImNyZWF0ZVwiaW4gbCYmXCJzZWFsXCJpbiBsKSwhay5FUzV8fFwidG9KU09OXCJpbiBEYXRlLnByb3RvdHlwZXx8KGsuRVM1PSExKSxkPWEuc3VwcG9ydC5ocmVmTm9ybWFsaXplZD09PSExP2YuX2N1clNjcmlwdC5nZXRBdHRyaWJ1dGUoXCJzcmNcIiw0KTpmLl9jdXJTY3JpcHQuc3JjLGQ9ZC5zcGxpdChcIj9cIilbMF0uc2xpY2UoMCxkLmxhc3RJbmRleE9mKFwiL1wiKSsxKStcInNoaW1zL1wiLGEuZXh0ZW5kKGYse3ZlcnNpb246XCIxLjE1LjEwXCIsY2ZnOntlbmhhbmNlQXV0bzp3aW5kb3cuQXVkaW8mJighd2luZG93Lm1hdGNoTWVkaWF8fG1hdGNoTWVkaWEoXCIobWluLWRldmljZS13aWR0aDogNzIxcHgpXCIpLm1hdGNoZXMpLHdhaXRSZWFkeTohMCxsb2FkU3R5bGVzOiEwLHdzZG9jOmRvY3VtZW50LHdzcG9wb3Zlcjp7YXBwZW5kVG86XCJhdXRvXCIsaGlkZU9uQmx1cjohMH0sYWpheDp7Y3Jvc3NEb21haW46ITB9LGxvYWRTY3JpcHQ6ZnVuY3Rpb24oYixjKXthLmFqYXgoYS5leHRlbmQoe30scS5hamF4LHt1cmw6YixzdWNjZXNzOmMsZGF0YVR5cGU6XCJzY3JpcHRcIixjYWNoZTohMCxnbG9iYWw6ITEsZGF0YUZpbHRlcjptfSkpfSxiYXNlUGF0aDpkfSxzdXBwb3J0OmssYnVnczp7fSxtb2R1bGVzOnt9LGZlYXR1cmVzOnt9LGZlYXR1cmVMaXN0OltdLHNldE9wdGlvbnM6ZnVuY3Rpb24oYixjKXtcInN0cmluZ1wiPT10eXBlb2YgYiYmYXJndW1lbnRzLmxlbmd0aD4xP3FbYl09YS5pc1BsYWluT2JqZWN0KGMpP2EuZXh0ZW5kKCEwLHFbYl18fHt9LGMpOmM6XCJvYmplY3RcIj09dHlwZW9mIGImJmEuZXh0ZW5kKCEwLHEsYil9LF9nZXRBdXRvRW5oYW5jZTpuLGFkZFBvbHlmaWxsOmZ1bmN0aW9uKGIsYyl7Yz1jfHx7fTt2YXIgZD1jLmZ8fGI7cltkXXx8KHJbZF09W10sZi5mZWF0dXJlTGlzdC5wdXNoKGQpLHFbZF09e30pLHJbZF0ucHVzaChiKSxjLm9wdGlvbnM9YS5leHRlbmQocVtkXSxjLm9wdGlvbnMpLHkoYixjKSxjLm1ldGhvZE5hbWVzJiZhLmVhY2goYy5tZXRob2ROYW1lcyxmdW5jdGlvbihhLGIpe2YuYWRkTWV0aG9kTmFtZShiKX0pfSxwb2x5ZmlsbDpmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihhKXthfHwoYT1mLmZlYXR1cmVMaXN0KSxcInN0cmluZ1wiPT10eXBlb2YgYSYmKGE9YS5zcGxpdChcIiBcIikpO3JldHVybiBmLl9wb2x5ZmlsbChhKX19KCksX3BvbHlmaWxsOmZ1bmN0aW9uKGIpe3ZhciBkLGUsZj1bXTtjLnJ1bnx8KGQ9LTEhPT1hLmluQXJyYXkoXCJmb3Jtcy1leHRcIixiKSxjKCksZT1kJiYhdltcImZvcm0tbnVtYmVyLWRhdGUtdWlcIl0udGVzdCgpfHwhcCYmLTEhPT1hLmluQXJyYXkoXCJtZWRpYWNhcHR1cmVcIixiKSxkJiYtMT09YS5pbkFycmF5KFwiZm9ybXNcIixiKSYmYi5wdXNoKFwiZm9ybXNcIikscS5sb2FkU3R5bGVzJiZ3LmxvYWRDU1MoXCJzdHlsZXMvc2hpbVwiKyhlP1wiLWV4dFwiOlwiXCIpK1wiLmNzc1wiKSkscS53YWl0UmVhZHkmJihhLnJlYWR5V2FpdCsrLHQoYixmdW5jdGlvbigpe2EucmVhZHkoITApfSkpLGEuZWFjaChiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGI9b1tiXXx8YixyW2JdPyhiIT09cltiXVswXSYmdChyW2JdLGZ1bmN0aW9uKCl7cyhiLCEwKX0pLHZvaWQoZj1mLmNvbmNhdChyW2JdKSkpOnZvaWQgcyhiLCEwKX0pLHgoZiksYS5lYWNoKGIsZnVuY3Rpb24oYSxiKXt2YXIgYz1xW2JdO2MmJihcIm1lZGlhZWxlbWVudFwiPT1iJiYoYy5yZXBsYWNlVUk9bihjLnJlcGxhY2VVSSkpJiZjLnBsdWdpbnMudW5zaGlmdChcIm1lZGlhY29udHJvbHNcIiksYy5wbHVnaW5zJiZjLnBsdWdpbnMubGVuZ3RoJiZ4KHFbYl0ucGx1Z2lucykpfSl9LHJlVGVzdDpmdW5jdGlvbigpe3ZhciBiLGM9ZnVuY3Rpb24oYyxkKXt2YXIgZT12W2RdLGY9ZCtcIlJlYWR5XCI7IWV8fGUubG9hZGVkfHwoZS50ZXN0JiZhLmlzRnVuY3Rpb24oZS50ZXN0KT9lLnRlc3QoW10pOmUudGVzdCl8fChoW2ZdJiZkZWxldGUgaFtmXSxyW2UuZl0sYi5wdXNoKGQpKX07cmV0dXJuIGZ1bmN0aW9uKGQpe1wic3RyaW5nXCI9PXR5cGVvZiBkJiYoZD1kLnNwbGl0KFwiIFwiKSksYj1bXSxhLmVhY2goZCxjKSx4KGIpfX0oKSxpc1JlYWR5OmZ1bmN0aW9uKGIsYyl7aWYoYis9XCJSZWFkeVwiLGMpe2lmKGhbYl0mJmhbYl0uYWRkKXJldHVybiEwO2hbYl09YS5leHRlbmQoaFtiXXx8e30se2FkZDpmdW5jdGlvbihhKXthLmhhbmRsZXIuY2FsbCh0aGlzLGIpfX0pLGEoZG9jdW1lbnQpLnRyaWdnZXJIYW5kbGVyKGIpfXJldHVybiEoIWhbYl18fCFoW2JdLmFkZCl8fCExfSxyZWFkeTpmdW5jdGlvbihiLGMpe3ZhciBkPWFyZ3VtZW50c1syXTtpZihcInN0cmluZ1wiPT10eXBlb2YgYiYmKGI9Yi5zcGxpdChcIiBcIikpLGR8fChiPWEubWFwKGEuZ3JlcChiLGZ1bmN0aW9uKGEpe3JldHVybiFzKGEpfSksZnVuY3Rpb24oYSl7cmV0dXJuIGErXCJSZWFkeVwifSkpLCFiLmxlbmd0aClyZXR1cm4gdm9pZCBjKGEsZix3aW5kb3csZG9jdW1lbnQpO3ZhciBlPWIuc2hpZnQoKSxnPWZ1bmN0aW9uKCl7dChiLGMsITApfTthKGRvY3VtZW50KS5vbmUoZSxnKX0sY2FwdHVyaW5nRXZlbnRzOmZ1bmN0aW9uKGIsYyl7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciYmKFwic3RyaW5nXCI9PXR5cGVvZiBiJiYoYj1bYl0pLGEuZWFjaChiLGZ1bmN0aW9uKGIsZCl7dmFyIGU9ZnVuY3Rpb24oYil7cmV0dXJuIGI9YS5ldmVudC5maXgoYiksYyYmZi5jYXB0dXJpbmdFdmVudFByZXZlbnRlZCYmZi5jYXB0dXJpbmdFdmVudFByZXZlbnRlZChiKSxhLmV2ZW50LmRpc3BhdGNoLmNhbGwodGhpcyxiKX07aFtkXT1oW2RdfHx7fSxoW2RdLnNldHVwfHxoW2RdLnRlYXJkb3dufHxhLmV4dGVuZChoW2RdLHtzZXR1cDpmdW5jdGlvbigpe3RoaXMuYWRkRXZlbnRMaXN0ZW5lcihkLGUsITApfSx0ZWFyZG93bjpmdW5jdGlvbigpe3RoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihkLGUsITApfX0pfSkpfSxyZWdpc3RlcjpmdW5jdGlvbihiLGMpe3ZhciBkPXZbYl07aWYoIWQpcmV0dXJuIHZvaWQgZi5lcnJvcihcImNhbid0IGZpbmQgbW9kdWxlOiBcIitiKTtkLmxvYWRlZD0hMDt2YXIgZT1mdW5jdGlvbigpe2MoYSxmLHdpbmRvdyxkb2N1bWVudCx2b2lkIDAsZC5vcHRpb25zKSxzKGIsITApfTtkLmQmJmQuZC5sZW5ndGg/dChkLmQsZSk6ZSgpfSxjOnt9LGxvYWRlcjp7YWRkTW9kdWxlOmZ1bmN0aW9uKGIsYyl7dltiXT1jLGMubmFtZT1jLm5hbWV8fGIsYy5jfHwoYy5jPVtdKSxhLmVhY2goYy5jLGZ1bmN0aW9uKGEsYyl7Zi5jW2NdfHwoZi5jW2NdPVtdKSxmLmNbY10ucHVzaChiKX0pfSxsb2FkTGlzdDpmdW5jdGlvbigpe3ZhciBiPVtdLGM9ZnVuY3Rpb24oYyxkKXtcInN0cmluZ1wiPT10eXBlb2YgZCYmKGQ9W2RdKSxhLm1lcmdlKGIsZCksdy5sb2FkU2NyaXB0KGMsITEsZCl9LGQ9ZnVuY3Rpb24oYyxkKXtpZihzKGMpfHwtMSE9YS5pbkFycmF5KGMsYikpcmV0dXJuITA7dmFyIGUsZj12W2NdO3JldHVybiBmPyhlPWYudGVzdCYmYS5pc0Z1bmN0aW9uKGYudGVzdCk/Zi50ZXN0KGQpOmYudGVzdCxlPyhzKGMsITApLCEwKTohMSk6ITB9LGU9ZnVuY3Rpb24oYixjKXtpZihiLmQmJmIuZC5sZW5ndGgpe3ZhciBlPWZ1bmN0aW9uKGIsZSl7ZChlLGMpfHwtMSE9YS5pbkFycmF5KGUsYyl8fGMucHVzaChlKX07YS5lYWNoKGIuZCxmdW5jdGlvbihiLGMpe3ZbY10/dltjXS5sb2FkZWR8fGUoYixjKTpyW2NdJiYoYS5lYWNoKHJbY10sZSksdChyW2NdLGZ1bmN0aW9uKCl7cyhjLCEwKX0pKX0pLGIubm9BdXRvQ2FsbGJhY2t8fChiLm5vQXV0b0NhbGxiYWNrPSEwKX19O3JldHVybiBmdW5jdGlvbihnKXt2YXIgaCxpLGosayxsPVtdLG09ZnVuY3Rpb24oZCxlKXtyZXR1cm4gaz1lLGEuZWFjaChmLmNbZV0sZnVuY3Rpb24oYyxkKXtyZXR1cm4tMT09YS5pbkFycmF5KGQsbCl8fC0xIT1hLmluQXJyYXkoZCxiKT8oaz0hMSwhMSk6dm9pZCAwfSksaz8oYyhcImNvbWJvcy9cIitrLGYuY1trXSksITEpOnZvaWQgMH07Zm9yKGk9MDtpPGcubGVuZ3RoO2krKyloPXZbZ1tpXV0saCYmIWQoaC5uYW1lLGcpJiYoaC5jc3MmJnEubG9hZFN0eWxlcyYmdy5sb2FkQ1NTKGguY3NzKSxoLmxvYWRJbml0JiZoLmxvYWRJbml0KCksZShoLGcpLGgubG9hZGVkfHxsLnB1c2goaC5uYW1lKSxoLmxvYWRlZD0hMCk7Zm9yKGk9MCxqPWwubGVuZ3RoO2o+aTtpKyspaz0hMSxoPWxbaV0sLTE9PWEuaW5BcnJheShoLGIpJiYoXCJub0NvbWJvXCIhPXEuZGVidWcmJmEuZWFjaCh2W2hdLmMsbSksa3x8Yyh2W2hdLnNyY3x8aCxoKSl9fSgpLG1ha2VQYXRoOmZ1bmN0aW9uKGEpe3JldHVybi0xIT1hLmluZGV4T2YoXCIvL1wiKXx8MD09PWEuaW5kZXhPZihcIi9cIik/YTooLTE9PWEuaW5kZXhPZihcIi5cIikmJihhKz1cIi5qc1wiKSxxLmFkZENhY2hlQnVzdGVyJiYoYSs9cS5hZGRDYWNoZUJ1c3RlcikscS5iYXNlUGF0aCthKX0sbG9hZENTUzpmdW5jdGlvbigpe3ZhciBiLGM9e307cmV0dXJuIGZ1bmN0aW9uKGQpe2Q9dGhpcy5tYWtlUGF0aChkKSxjW2RdfHwoYj1ifHxhKFwibGluaywgc3R5bGVcIilbMF18fGEoXCJzY3JpcHRcIilbMF0sY1tkXT0xLGEoJzxsaW5rIHJlbD1cInN0eWxlc2hlZXRcIiAvPicpLmluc2VydEJlZm9yZShiKS5hdHRyKHtocmVmOmR9KSl9fSgpLGxvYWRTY3JpcHQ6ZnVuY3Rpb24oKXt2YXIgYj17fTtyZXR1cm4gZnVuY3Rpb24oYyxkLGUsZil7aWYoZnx8KGM9dy5tYWtlUGF0aChjKSksIWJbY10pe3ZhciBnPWZ1bmN0aW9uKCl7ZCYmZCgpLGUmJihcInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9ZS5zcGxpdChcIiBcIikpLGEuZWFjaChlLGZ1bmN0aW9uKGEsYil7dltiXSYmKHZbYl0uYWZ0ZXJMb2FkJiZ2W2JdLmFmdGVyTG9hZCgpLHModltiXS5ub0F1dG9DYWxsYmFjaz9iK1wiRmlsZUxvYWRlZFwiOmIsITApKX0pKX07YltjXT0xLHEubG9hZFNjcmlwdChjLGcsYS5ub29wKX19fSgpfX0pO3ZhciBxPWYuY2ZnLHI9Zi5mZWF0dXJlcyxzPWYuaXNSZWFkeSx0PWYucmVhZHksdT1mLmFkZFBvbHlmaWxsLHY9Zi5tb2R1bGVzLHc9Zi5sb2FkZXIseD13LmxvYWRMaXN0LHk9dy5hZGRNb2R1bGUsej1mLmJ1Z3MsQT1bXSxCPXt3YXJuOjEsZXJyb3I6MX0sQz1hLmZuLEQ9YihcInZpZGVvXCIpO2YuYWRkTWV0aG9kTmFtZT1mdW5jdGlvbihhKXthPWEuc3BsaXQoXCI6XCIpO3ZhciBiPWFbMV07MT09YS5sZW5ndGg/KGI9YVswXSxhPWFbMF0pOmE9YVswXSxDW2FdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2FsbFByb3AoYixhcmd1bWVudHMpfX0sQy5jYWxsUHJvcD1mdW5jdGlvbihiLGMpe3ZhciBkO3JldHVybiBjfHwoYz1bXSksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9YS5wcm9wKHRoaXMsYik7aWYoZSYmZS5hcHBseSl7aWYoZD1lLmFwcGx5KHRoaXMsYyksdm9pZCAwIT09ZClyZXR1cm4hMX1lbHNlIGYud2FybihiK1wiIGlzIG5vdCBhIG1ldGhvZCBvZiBcIit0aGlzKX0pLHZvaWQgMCE9PWQ/ZDp0aGlzfSxmLmFjdGl2ZUxhbmc9ZnVuY3Rpb24oKXtcImxhbmd1YWdlXCJpbiBlfHwoZS5sYW5ndWFnZT1lLmJyb3dzZXJMYW5ndWFnZXx8XCJcIik7dmFyIGI9YS5hdHRyKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxcImxhbmdcIil8fGUubGFuZ3VhZ2U7cmV0dXJuIHQoXCJ3ZWJzaGltTG9jYWxpemF0aW9uXCIsZnVuY3Rpb24oKXtmLmFjdGl2ZUxhbmcoYil9KSxmdW5jdGlvbihhKXtpZihhKWlmKFwic3RyaW5nXCI9PXR5cGVvZiBhKWI9YTtlbHNlIGlmKFwib2JqZWN0XCI9PXR5cGVvZiBhKXt2YXIgYz1hcmd1bWVudHMsZD10aGlzO3QoXCJ3ZWJzaGltTG9jYWxpemF0aW9uXCIsZnVuY3Rpb24oKXtmLmFjdGl2ZUxhbmcuYXBwbHkoZCxjKX0pfXJldHVybiBifX0oKSxmLmVycm9yTG9nPVtdLGEuZWFjaChbXCJsb2dcIixcImVycm9yXCIsXCJ3YXJuXCIsXCJpbmZvXCJdLGZ1bmN0aW9uKGEsYil7ZltiXT1mdW5jdGlvbihhKXsoQltiXSYmcS5kZWJ1ZyE9PSExfHxxLmRlYnVnKSYmKGYuZXJyb3JMb2cucHVzaChhKSx3aW5kb3cuY29uc29sZSYmY29uc29sZS5sb2cmJmNvbnNvbGVbY29uc29sZVtiXT9iOlwibG9nXCJdKGEpKX19KSxmdW5jdGlvbigpe2EuaXNET01SZWFkeT1hLmlzUmVhZHk7dmFyIGI9ZnVuY3Rpb24oKXthLmlzRE9NUmVhZHk9ITAscyhcIkRPTVwiLCEwKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cyhcIldJTkRPV0xPQURcIiwhMCl9LDk5OTkpfTtjPWZ1bmN0aW9uKCl7aWYoIWMucnVuKXtpZighYS5pc0RPTVJlYWR5JiZxLndhaXRSZWFkeSl7dmFyIGQ9YS5yZWFkeTthLnJlYWR5PWZ1bmN0aW9uKGEpe3JldHVybiBhIT09ITAmJmRvY3VtZW50LmJvZHkmJmIoKSxkLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sYS5yZWFkeS5wcm9taXNlPWQucHJvbWlzZX1xLnJlYWR5RXZ0P2EoZG9jdW1lbnQpLm9uZShxLnJlYWR5RXZ0LGIpOmEoYil9Yy5ydW49ITB9LGEod2luZG93KS5vbihcImxvYWRcIixmdW5jdGlvbigpe2IoKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cyhcIldJTkRPV0xPQURcIiwhMCl9LDkpfSk7dmFyIGQ9W10sZT1mdW5jdGlvbigpezE9PXRoaXMubm9kZVR5cGUmJmYudHJpZ2dlckRvbVVwZGF0ZSh0aGlzKX07YS5leHRlbmQoZix7YWRkUmVhZHk6ZnVuY3Rpb24oYSl7dmFyIGI9ZnVuY3Rpb24oYixjKXtmLnJlYWR5KFwiRE9NXCIsZnVuY3Rpb24oKXthKGIsYyl9KX07ZC5wdXNoKGIpLHEud3Nkb2MmJmIocS53c2RvYyxpKX0sdHJpZ2dlckRvbVVwZGF0ZTpmdW5jdGlvbihiKXtpZighYnx8IWIubm9kZVR5cGUpcmV0dXJuIHZvaWQoYiYmYi5qcXVlcnkmJmIuZWFjaChmdW5jdGlvbigpe2YudHJpZ2dlckRvbVVwZGF0ZSh0aGlzKX0pKTt2YXIgYz1iLm5vZGVUeXBlO2lmKDE9PWN8fDk9PWMpe3ZhciBlPWIhPT1kb2N1bWVudD9hKGIpOmk7YS5lYWNoKGQsZnVuY3Rpb24oYSxjKXtjKGIsZSl9KX19fSksQy5jbG9uZVBvbHlmaWxsPUMuY2xvbmUsQy5odG1sUG9seWZpbGw9ZnVuY3Rpb24oYil7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIGEodGhpcy5jbG9uZVBvbHlmaWxsKCkpLmh0bWwoKTt2YXIgYz1DLmh0bWwuY2FsbCh0aGlzLGIpO3JldHVybiBjPT09dGhpcyYmYS5pc0RPTVJlYWR5JiZ0aGlzLmVhY2goZSksY30sQy5qUHJvcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnB1c2hTdGFjayhhKEMucHJvcC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fFtdKSl9LGEuZWFjaChbXCJhZnRlclwiLFwiYmVmb3JlXCIsXCJhcHBlbmRcIixcInByZXBlbmRcIixcInJlcGxhY2VXaXRoXCJdLGZ1bmN0aW9uKGIsYyl7Q1tjK1wiUG9seWZpbGxcIl09ZnVuY3Rpb24oYil7cmV0dXJuIGI9YShiKSxDW2NdLmNhbGwodGhpcyxiKSxhLmlzRE9NUmVhZHkmJmIuZWFjaChlKSx0aGlzfX0pLGEuZWFjaChbXCJpbnNlcnRBZnRlclwiLFwiaW5zZXJ0QmVmb3JlXCIsXCJhcHBlbmRUb1wiLFwicHJlcGVuZFRvXCIsXCJyZXBsYWNlQWxsXCJdLGZ1bmN0aW9uKGIsYyl7Q1tjLnJlcGxhY2UoL1tBLVpdLyxmdW5jdGlvbihhKXtyZXR1cm5cIlBvbHlmaWxsXCIrYX0pXT1mdW5jdGlvbigpe3JldHVybiBDW2NdLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxhLmlzRE9NUmVhZHkmJmYudHJpZ2dlckRvbVVwZGF0ZSh0aGlzKSx0aGlzfX0pLEMudXBkYXRlUG9seWZpbGw9ZnVuY3Rpb24oKXtyZXR1cm4gYS5pc0RPTVJlYWR5JiZmLnRyaWdnZXJEb21VcGRhdGUodGhpcyksdGhpc30sYS5lYWNoKFtcImdldE5hdGl2ZUVsZW1lbnRcIixcImdldFNoYWRvd0VsZW1lbnRcIixcImdldFNoYWRvd0ZvY3VzRWxlbWVudFwiXSxmdW5jdGlvbihhLGIpe0NbYl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2sodGhpcyl9fSl9KCksbC5jcmVhdGUmJihmLm9iamVjdENyZWF0ZT1mdW5jdGlvbihiLGMsZCl7dmFyIGU9bC5jcmVhdGUoYik7cmV0dXJuIGQmJihlLm9wdGlvbnM9YS5leHRlbmQoITAse30sZS5vcHRpb25zfHx7fSxkKSxkPWUub3B0aW9ucyksZS5fY3JlYXRlJiZhLmlzRnVuY3Rpb24oZS5fY3JlYXRlKSYmZS5fY3JlYXRlKGQpLGV9KSx5KFwic3dmbWluaVwiLHt0ZXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy5zd2ZvYmplY3QmJiF3aW5kb3cuc3dmbWluaSYmKHdpbmRvdy5zd2ZtaW5pPXdpbmRvdy5zd2ZvYmplY3QpLFwic3dmbWluaVwiaW4gd2luZG93fSxjOlsxNiw3LDIsOCwxLDEyLDIzXX0pLHYuc3dmbWluaS50ZXN0KCkseShcInNpenpsZVwiLHt0ZXN0OmEuZXhwci5maWx0ZXJzfSksdShcImVzNVwiLHt0ZXN0OiEoIWsuRVM1fHwhRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQpLGQ6W1wic2l6emxlXCJdfSksdShcImRvbS1leHRlbmRcIix7ZjpnLG5vQXV0b0NhbGxiYWNrOiEwLGQ6W1wiZXM1XCJdLGM6WzE2LDcsMiwxNSwzMCwzLDgsNCw5LDEwLDI1LDMxLDM0XX0pLGIoXCJwaWN0dXJlXCIpLHUoXCJwaWN0dXJlXCIse3Rlc3Q6XCJwaWN0dXJlZmlsbFwiaW4gd2luZG93fHwhIXdpbmRvdy5IVE1MUGljdHVyZUVsZW1lbnR8fFwicmVzcGltYWdlXCJpbiB3aW5kb3csZDpbXCJtYXRjaE1lZGlhXCJdLGM6WzE4XSxsb2FkSW5pdDpmdW5jdGlvbigpe3MoXCJwaWN0dXJlXCIsITApfX0pLHUoXCJtYXRjaE1lZGlhXCIse3Rlc3Q6ISghd2luZG93Lm1hdGNoTWVkaWF8fCFtYXRjaE1lZGlhKFwiYWxsXCIpLmFkZExpc3RlbmVyKSxjOlsxOF19KSx1KFwic3RpY2t5XCIse3Rlc3Q6LTEhPShhKGIoXCJiXCIpKS5hdHRyKFwic3R5bGVcIixcInBvc2l0aW9uOiAtd2Via2l0LXN0aWNreTsgcG9zaXRpb246IHN0aWNreVwiKS5jc3MoXCJwb3NpdGlvblwiKXx8XCJcIikuaW5kZXhPZihcInN0aWNreVwiKSxkOltcImVzNVwiLFwibWF0Y2hNZWRpYVwiXX0pLHUoXCJlczZcIix7dGVzdDohIShNYXRoLmltdWwmJk51bWJlci5NSU5fU0FGRV9JTlRFR0VSJiZsLmlzJiZ3aW5kb3cuUHJvbWlzZSYmUHJvbWlzZS5hbGwpLGQ6W1wiZXM1XCJdfSksdShcImdlb2xvY2F0aW9uXCIse3Rlc3Q6XCJnZW9sb2NhdGlvblwiaW4gZSxvcHRpb25zOntkZXN0cm95V3JpdGU6ITB9LGM6WzIxXX0pLGZ1bmN0aW9uKCl7dShcImNhbnZhc1wiLHtzcmM6XCJleGNhbnZhc1wiLHRlc3Q6XCJnZXRDb250ZXh0XCJpbiBiKFwiY2FudmFzXCIpLG9wdGlvbnM6e3R5cGU6XCJmbGFzaFwifSxub0F1dG9DYWxsYmFjazohMCxsb2FkSW5pdDpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3B0aW9ucy50eXBlOyFhfHwtMT09PWEuaW5kZXhPZihcImZsYXNoXCIpfHx2LnN3Zm1pbmkudGVzdCgpJiYhc3dmbWluaS5oYXNGbGFzaFBsYXllclZlcnNpb24oXCI5LjAuMFwiKXx8KHRoaXMuc3JjPVwiZmxhc2hcIj09YT9cIkZsYXNoQ2FudmFzL2ZsYXNoY2FudmFzXCI6XCJGbGFzaENhbnZhc1Byby9mbGFzaGNhbnZhc1wiKX0sbWV0aG9kTmFtZXM6W1wiZ2V0Q29udGV4dFwiXSxkOltnXX0pfSgpO3ZhciBFPVwiZ2V0VXNlck1lZGlhXCJpbiBlO3UoXCJ1c2VybWVkaWEtY29yZVwiLHtmOlwidXNlcm1lZGlhXCIsdGVzdDpFJiZ3aW5kb3cuVVJMLGQ6W1widXJsXCIsZ119KSx1KFwidXNlcm1lZGlhLXNoaW1cIix7ZjpcInVzZXJtZWRpYVwiLHRlc3Q6ISEoRXx8ZS53ZWJraXRHZXRVc2VyTWVkaWF8fGUubW96R2V0VXNlck1lZGlhfHxlLm1zR2V0VXNlck1lZGlhKSxkOltcInVybFwiLFwibWVkaWFlbGVtZW50XCIsZ119KSx1KFwibWVkaWFjYXB0dXJlXCIse3Rlc3Q6cCxkOltcInN3Zm1pbmlcIixcInVzZXJtZWRpYVwiLGcsXCJmaWxlcmVhZGVyXCIsXCJmb3Jtc1wiLFwiY2FudmFzXCJdfSksZnVuY3Rpb24oKXt2YXIgYyxkLGg9XCJmb3JtLXNoaW0tZXh0ZW5kXCIsaT1cImZvcm12YWxpZGF0aW9uXCIsaj1cImZvcm0tbnVtYmVyLWRhdGUtYXBpXCIsbD0hMSxtPSExLG89ITEscD17fSxyPWIoXCJwcm9ncmVzc1wiKSxzPWIoXCJvdXRwdXRcIiksdD1mdW5jdGlvbigpe3ZhciBkLGYsZz1cIjEoXCIsaj1iKFwiaW5wdXRcIik7aWYoZj1hKCc8ZmllbGRzZXQ+PHRleHRhcmVhIHJlcXVpcmVkPVwiXCIgLz48L2ZpZWxkc2V0PicpWzBdLGsuaW5wdXR0eXBlcz1wLGEuZWFjaChbXCJyYW5nZVwiLFwiZGF0ZVwiLFwiZGF0ZXRpbWUtbG9jYWxcIixcIm1vbnRoXCIsXCJjb2xvclwiLFwibnVtYmVyXCJdLGZ1bmN0aW9uKGEsYil7ai5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsYikscFtiXT1qLnR5cGU9PWImJihqLnZhbHVlPWcpJiZqLnZhbHVlIT1nfSksay5kYXRhbGlzdD0hIShcIm9wdGlvbnNcImluIGIoXCJkYXRhbGlzdFwiKSYmd2luZG93LkhUTUxEYXRhTGlzdEVsZW1lbnQpLGtbaV09XCJjaGVja1ZhbGlkaXR5XCJpbiBqLGsuZmllbGRzZXRlbGVtZW50cz1cImVsZW1lbnRzXCJpbiBmLGsuZmllbGRzZXRkaXNhYmxlZD1cImRpc2FibGVkXCJpbiBmKXt0cnl7Zi5xdWVyeVNlbGVjdG9yKFwiOmludmFsaWRcIikmJihmLmRpc2FibGVkPSEwLGQ9IWYucXVlcnlTZWxlY3RvcihcIjppbnZhbGlkXCIpJiZmLnF1ZXJ5U2VsZWN0b3IoXCI6ZGlzYWJsZWRcIikpfWNhdGNoKG4pe31rLmZpZWxkc2V0ZGlzYWJsZWQ9ISFkfWlmKGtbaV0mJihtPSEoay5maWVsZHNldGRpc2FibGVkJiZrLmZpZWxkc2V0ZWxlbWVudHMmJlwidmFsdWVcImluIHImJlwidmFsdWVcImluIHMpLG89bSYmL0FuZHJvaWQvaS50ZXN0KGUudXNlckFnZW50KSxsPXdpbmRvdy5vcGVyYXx8ei5idXN0ZWRWYWxpZGl0eXx8bXx8IWsuZGF0YWxpc3QsIWwmJnAubnVtYmVyKSl7bD0hMDt0cnl7ai50eXBlPVwibnVtYmVyXCIsai52YWx1ZT1cIlwiLGouc3RlcFVwKCksbD1cIjFcIiE9ai52YWx1ZX1jYXRjaChxKXt9fXJldHVybiB6LmJ1c3RlZFZhbGlkaXR5PWwsYz1rW2ldJiYhbD9cImZvcm0tbmF0aXZlLWV4dGVuZFwiOmgsdD1hLm5vb3AsITF9LHc9ZnVuY3Rpb24oYil7dmFyIGM9ITA7cmV0dXJuIGIuX3R5cGVzfHwoYi5fdHlwZXM9Yi50eXBlcy5zcGxpdChcIiBcIikpLGEuZWFjaChiLl90eXBlcyxmdW5jdGlvbihhLGIpe3JldHVybiBiIGluIHAmJiFwW2JdPyhjPSExLCExKTp2b2lkIDB9KSxjfTtmLnZhbGlkYXRpb25NZXNzYWdlcz1mLnZhbGlkaXR5TWVzc2FnZXM9e2xhbmdTcmM6XCJpMThuL2Zvcm1jZmctXCIsYXZhaWxhYmxlTGFuZ3M6XCJhciBiZyBjYSBjcyBlbCBlcyBmYSBmaSBmciBoZSBoaSBodSBpdCBqYSBsdCBubCBubyBwbCBwdCBwdC1CUiBwdC1QVCBydSBzdiB6aC1DTiB6aC1UV1wiLnNwbGl0KFwiIFwiKX0sZi5mb3JtY2ZnPWEuZXh0ZW5kKHt9LGYudmFsaWRhdGlvbk1lc3NhZ2VzKSxmLmlucHV0VHlwZXM9e30sdShcImZvcm0tY29yZVwiLHtmOlwiZm9ybXNcIix0ZXN0OnQsZDpbXCJlczVcIl0sb3B0aW9uczp7cGxhY2Vob2xkZXJUeXBlOlwidmFsdWVcIixtZXNzYWdlUG9wb3Zlcjp7fSxsaXN0Ontwb3BvdmVyOntjb25zdHJhaW5XaWR0aDohMH19LGlWYWw6e3NlbDpcIi53cy12YWxpZGF0ZVwiLGhhbmRsZUJ1YmJsZTpcImhpZGVcIixyZWNoZWNrRGVsYXk6NDAwfX0sbWV0aG9kTmFtZXM6W1wic2V0Q3VzdG9tVmFsaWRpdHlcIixcImNoZWNrVmFsaWRpdHlcIixcInNldFNlbGVjdGlvblJhbmdlXCJdLGM6WzE2LDcsMiw4LDEsMTUsMzAsMywzMV19KSxkPXEuZm9ybXMsdShcImZvcm0tbmF0aXZlLWV4dGVuZFwiLHtmOlwiZm9ybXNcIix0ZXN0OmZ1bmN0aW9uKGIpe3JldHVybiB0KCksIWtbaV18fGx8fC0xPT1hLmluQXJyYXkoaixifHxbXSl8fHZbal0udGVzdCgpfSxkOltcImZvcm0tY29yZVwiLGcsXCJmb3JtLW1lc3NhZ2VcIl0sYzpbNiw1LDE0LDI5XX0pLHUoaCx7ZjpcImZvcm1zXCIsdGVzdDpmdW5jdGlvbigpe3JldHVybiB0KCksa1tpXSYmIWx9LGQ6W1wiZm9ybS1jb3JlXCIsZyxcInNpenpsZVwiXSxjOlsxNiwxNSwyOF19KSx1KGgrXCIyXCIse2Y6XCJmb3Jtc1wiLHRlc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdCgpLGtbaV0mJiFtfSxkOltoXSxjOlsyN119KSx1KFwiZm9ybS1tZXNzYWdlXCIse2Y6XCJmb3Jtc1wiLHRlc3Q6ZnVuY3Rpb24oYSl7cmV0dXJuIHQoKSwhKGQuY3VzdG9tTWVzc2FnZXN8fCFrW2ldfHxsfHwhdltjXS50ZXN0KGEpKX0sZDpbZ10sYzpbMTYsNywxNSwzMCwzLDgsNCwxNCwyOF19KSx1KGose2Y6XCJmb3Jtcy1leHRcIixvcHRpb25zOnt0eXBlczpcImRhdGUgdGltZSByYW5nZSBudW1iZXJcIn0sdGVzdDpmdW5jdGlvbigpe3QoKTt2YXIgYT0hbDtyZXR1cm4gYSYmKGE9dyh0aGlzLm9wdGlvbnMpKSxhfSxtZXRob2ROYW1lczpbXCJzdGVwVXBcIixcInN0ZXBEb3duXCJdLGQ6W1wiZm9ybXNcIixnXSxjOls2LDUsMTcsMTQsMjgsMjksMzNdfSkseShcInJhbmdlLXVpXCIse29wdGlvbnM6e30sbm9BdXRvQ2FsbGJhY2s6ITAsdGVzdDpmdW5jdGlvbigpe3JldHVybiEhQy5yYW5nZVVJfSxkOltcImVzNVwiXSxjOls2LDUsOSwxMCwxNywxMV19KSx1KFwiZm9ybS1udW1iZXItZGF0ZS11aVwiLHtmOlwiZm9ybXMtZXh0XCIsdGVzdDpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3B0aW9ucztyZXR1cm4gYS5yZXBsYWNlVUk9bihhLnJlcGxhY2VVSSksdCgpLCFhLnJlcGxhY2VVSSYmbyYmKGEucmVwbGFjZVVJPSEwKSwhYS5yZXBsYWNlVUkmJncoYSl9LGQ6W1wiZm9ybXNcIixnLGosXCJyYW5nZS11aVwiXSxvcHRpb25zOnt3aWRnZXRzOntjYWxjdWxhdGVXaWR0aDohMCxhbmltYXRlOiEwfX0sYzpbNiw1LDksMTAsMTcsMTFdfSksdShcImZvcm0tZGF0YWxpc3RcIix7ZjpcImZvcm1zXCIsdGVzdDpmdW5jdGlvbigpe3JldHVybiB0KCksbyYmKGQuY3VzdG9tRGF0YWxpc3Q9ITApLGsuZGF0YWxpc3QmJiFkLmZEfSxkOltcImZvcm0tY29yZVwiLGddLGM6WzE2LDcsNiwyLDksMTUsMzAsMzEsMjgsMzNdfSl9KCk7dmFyIEY9XCJGaWxlUmVhZGVyXCJpbiB3aW5kb3cmJlwiRm9ybURhdGFcImluIHdpbmRvdztyZXR1cm4gdShcImZpbGVyZWFkZXIteGhyXCIse2Y6XCJmaWxlcmVhZGVyXCIsdGVzdDpGLGQ6W2csXCJzd2ZtaW5pXCJdLGM6WzI1LDI3XX0pLHUoXCJjYW52YXMtYmxvYlwiLHtmOlwiZmlsZXJlYWRlclwiLG1ldGhvZE5hbWVzOltcInRvQmxvYlwiXSx0ZXN0OiEoRiYmIWIoXCJjYW52YXNcIikudG9CbG9iKX0pLHUoXCJkZXRhaWxzXCIse3Rlc3Q6XCJvcGVuXCJpbiBiKFwiZGV0YWlsc1wiKSxkOltnXSxvcHRpb25zOnt0ZXh0OlwiRGV0YWlsc1wifSxjOlsyMSwyMl19KSx1KFwidXJsXCIse3Rlc3Q6ZnVuY3Rpb24oKXt2YXIgYT0hMTt0cnl7YT1uZXcgVVJMKFwiYlwiLFwiaHR0cDovL2FcIiksYT0hKCFhLnNlYXJjaFBhcmFtc3x8XCJodHRwOi8vYS9iXCIhPWEuaHJlZil9Y2F0Y2goYil7fXJldHVybiBhfSxkOltcImVzNVwiXX0pLGZ1bmN0aW9uKCl7Zi5tZWRpYWVsZW1lbnQ9e307dmFyIGM9YihcInRyYWNrXCIpO2lmKGsubWVkaWFlbGVtZW50PVwiY2FuUGxheVR5cGVcImluIEQsay50ZXh0dHJhY2thcGk9XCJhZGRUZXh0VHJhY2tcImluIEQsay50cmFjaz1cImtpbmRcImluIGMsYihcImF1ZGlvXCIpLCEoei50cmFjaz0hay50ZXh0dHJhY2thcGkpKXRyeXt6LnRyYWNrPSEoXCJvbmN1ZWNoYW5nZVwiaW4gRC5hZGRUZXh0VHJhY2soXCJtZXRhZGF0YVwiKSl9Y2F0Y2goZCl7fXUoXCJtZWRpYWVsZW1lbnQtY29yZVwiLHtmOlwibWVkaWFlbGVtZW50XCIsbm9BdXRvQ2FsbGJhY2s6ITAsb3B0aW9uczp7am1lOnt9LHBsdWdpbnM6W10sdmFyczp7fSxwYXJhbXM6e30sYXR0cnM6e30sY2hhbmdlU1dGOmEubm9vcH0sbWV0aG9kTmFtZXM6W1wicGxheVwiLFwicGF1c2VcIixcImNhblBsYXlUeXBlXCIsXCJtZWRpYUxvYWQ6bG9hZFwiXSxkOltcInN3Zm1pbmlcIl0sYzpbMTYsNywyLDgsMSwxMiwxMywyM119KSx1KFwibWVkaWFlbGVtZW50LWphcmlzXCIse2Y6XCJtZWRpYWVsZW1lbnRcIixkOltcIm1lZGlhZWxlbWVudC1jb3JlXCIsZ10sdGVzdDpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3B0aW9ucztyZXR1cm4hay5tZWRpYWVsZW1lbnR8fGYubWVkaWFlbGVtZW50LmxvYWRTd2Y/ITE6KGEucHJlZmVyRmxhc2gmJiF2LnN3Zm1pbmkudGVzdCgpJiYoYS5wcmVmZXJGbGFzaD0hMSksIShhLnByZWZlckZsYXNoJiZzd2ZtaW5pLmhhc0ZsYXNoUGxheWVyVmVyc2lvbihcIjExLjNcIikpKX0sYzpbMjEsMjVdfSksdShcInRyYWNrXCIse29wdGlvbnM6e3Bvc2l0aW9uRGlzcGxheTohMCxvdmVycmlkZTp6LnRyYWNrfSx0ZXN0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zO3JldHVybiBhLm92ZXJyaWRlPW4oYS5vdmVycmlkZSksIWEub3ZlcnJpZGUmJiF6LnRyYWNrfSxkOltcIm1lZGlhZWxlbWVudFwiLGddLG1ldGhvZE5hbWVzOltcImFkZFRleHRUcmFja1wiXSxjOlsyMSwxMiwxMywyMiwzNF19KSx5KFwiam1lYmFzZVwiLHtzcmM6XCJqbWUvYmFzZVwiLGM6Wzk4LDk5LDk3XX0pLGEuZWFjaChbW1wibWVkaWFjb250cm9sc1wiLHtjOls5OCw5OV0sY3NzOlwiam1lL2NvbnRyb2xzLmNzc1wifV0sW1wicGxheWxpc3RcIix7YzpbOTgsOTddfV0sW1wiYWx0ZXJuYXRlLW1lZGlhXCJdXSxmdW5jdGlvbihiLGMpe3koY1swXSxhLmV4dGVuZCh7c3JjOlwiam1lL1wiK2NbMF0sZDpbXCJqbWViYXNlXCJdfSxjWzFdKSl9KSx5KFwidHJhY2stdWlcIix7ZDpbXCJ0cmFja1wiLGddfSl9KCksdShcImZlYXR1cmUtZHVtbXlcIix7dGVzdDohMCxsb2FkZWQ6ITAsYzpBfSksZi4kPWEsYS53ZWJzaGltcz1mLGEud2Vic2hpbT13ZWJzaGltLGYuY2FsbEFzeW5jPWZ1bmN0aW9uKCl7Zi5jYWxsQXN5bmM9YS5ub29wLGomJihqLmNmZyYmKGouY2ZnLmxlbmd0aHx8KGouY2ZnPVtbai5jZmddXSksYS5lYWNoKGouY2ZnLGZ1bmN0aW9uKGEsYil7Zi5zZXRPcHRpb25zLmFwcGx5KGYsYil9KSksai5yZWFkeSYmYS5lYWNoKGoucmVhZHksZnVuY3Rpb24oYSxiKXtmLnJlYWR5LmFwcGx5KGYsYil9KSxqLmxhbmcmJmYuYWN0aXZlTGFuZyhqLmxhbmcpLFwicG9seWZpbGxcImluIGomJmYucG9seWZpbGwoai5wb2x5ZmlsbCkpLGYuaXNSZWFkeShcImpxdWVyeVwiLCEwKX0sZi5jYWxsQXN5bmMoKSxmfSk7Il0sImZpbGUiOiJwb2x5ZmlsbGVyLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=

(function(A){if("object"===typeof exports&&"undefined"!==typeof module)module.f=A();else if("function"===typeof define&&define.M)define([],A);else{var g;"undefined"!==typeof window?g=window:"undefined"!==typeof global?g=global:"undefined"!==typeof self?g=self:g=this;g.ID3=A()}})(function(){return function g(l,h,f){function c(b,d){if(!h[b]){if(!l[b]){var e="function"==typeof require&&require;if(!d&&e)return e(b,!0);if(a)return a(b,!0);e=Error("Cannot find module '"+b+"'");throw e.code="MODULE_NOT_FOUND",
e;}e=h[b]={f:{}};l[b][0].call(e.f,function(a){var e=l[b][1][a];return c(e?e:a)},e,e.f,g,l,h,f)}return h[b].f}for(var a="function"==typeof require&&require,b=0;b<f.length;b++)c(f[b]);return c}({1:[function(g,l){var h=g("./stringutils");if("undefined"!==typeof document){var f=document.createElement("script");f.type="text/vbscript";f.textContent="Function IEBinary_getByteAt(strBinary, iOffset)\r\n\tIEBinary_getByteAt = AscB(MidB(strBinary,iOffset+1,1))\r\nEnd Function\r\nFunction IEBinary_getLength(strBinary)\r\n\tIEBinary_getLength = LenB(strBinary)\r\nEnd Function\r\n";
document.getElementsByTagName("head")[0].appendChild(f)}else g("btoa"),g("atob");l.f=function(c,a,b){var m=a||0,d=0;"string"==typeof c?(d=b||c.length,this.a=function(a){return c.charCodeAt(a+m)&255}):"unknown"==typeof c&&(d=b||IEBinary_getLength(c),this.a=function(a){return IEBinary_getByteAt(c,a+m)});this.s=function(a,b){for(var d=Array(b),m=0;m<b;m++)d[m]=this.a(a+m);return d};this.l=function(){return d};this.g=function(a,b){return 0!=(this.a(a)&1<<b)};this.F=function(a){a=(this.a(a+1)<<8)+this.a(a);
0>a&&(a+=65536);return a};this.m=function(a){var b=this.a(a),d=this.a(a+1),m=this.a(a+2);a=this.a(a+3);b=(((b<<8)+d<<8)+m<<8)+a;0>b&&(b+=4294967296);return b};this.w=function(a){var b=this.a(a),d=this.a(a+1);a=this.a(a+2);b=((b<<8)+d<<8)+a;0>b&&(b+=16777216);return b};this.c=function(a,b){for(var d=[],m=a,c=0;m<a+b;m++,c++)d[c]=String.fromCharCode(this.a(m));return d.join("")};this.h=function(a,b,d){a=this.s(a,b);switch(d.toLowerCase()){case "utf-16":case "utf-16le":case "utf-16be":d=h.J(a,d);break;
case "utf-8":d=h.K(a);break;default:d=h.I(a)}return d};this.i=function(a,b){b()}}},{"./stringutils":9,atob:void 0,btoa:void 0}],2:[function(g,l){var h=g("./binaryfile");l.f=function(f,c,a){function b(a,b,d,e,c,f){var k=m();k?("undefined"===typeof f&&(f=!0),b&&("undefined"!=typeof k.onload?(k.onload=function(){"200"==k.status||"206"==k.status?(k.fileSize=c||k.getResponseHeader("Content-Length"),b(k)):d&&d({error:"xhr",xhr:k});k=null},d&&(k.onerror=function(){d({error:"xhr",xhr:k});k=null})):k.onreadystatechange=
function(){4==k.readyState&&("200"==k.status||"206"==k.status?(k.fileSize=c||k.getResponseHeader("Content-Length"),b(k)):d&&d({error:"xhr",xhr:k}),k=null)}),k.open("GET",a,f),k.overrideMimeType&&k.overrideMimeType("text/plain; charset=x-user-defined"),e&&k.setRequestHeader("Range","bytes="+e[0]+"-"+e[1]),k.setRequestHeader("If-Modified-Since","Sat, 01 Jan 1970 00:00:00 GMT"),k.send(null)):d&&d({error:"Unable to create XHR object"})}function m(){var a=null;"undefined"===typeof window?a=new (g("xmlhttprequest").XMLHttpRequest):
window.XMLHttpRequest?a=new window.XMLHttpRequest:window.ActiveXObject&&(a=new window.ActiveXObject("Microsoft.XMLHTTP"));return a}function d(a,b,d){var e=m();e?(b&&("undefined"!=typeof e.onload?(e.onload=function(){"200"==e.status||"206"==e.status?b(this):d&&d({error:"xhr",xhr:e});e=null},d&&(e.onerror=function(){d({error:"xhr",xhr:e});e=null})):e.onreadystatechange=function(){4==e.readyState&&("200"==e.status||"206"==e.status?b(this):d&&d({error:"xhr",xhr:e}),e=null)}),e.open("HEAD",a,!0),e.send(null)):
d&&d({error:"Unable to create XHR object"})}function e(d,e){var m,c;function f(a){var b=~~(a[0]/m)-c;a=~~(a[1]/m)+1+c;0>b&&(b=0);a>=blockTotal&&(a=blockTotal-1);return[b,a]}function g(c,f){for(;n[c[0]];)if(c[0]++,c[0]>c[1]){f&&f();return}for(;n[c[1]];)if(c[1]--,c[0]>c[1]){f&&f();return}var h=[c[0]*m,(c[1]+1)*m-1];b(d,function(a){parseInt(a.getResponseHeader("Content-Length"),10)==e&&(c[0]=0,c[1]=blockTotal-1,h[0]=0,h[1]=e-1);a={data:a.W||a.responseText,offset:h[0]};for(var b=c[0];b<=c[1];b++)n[b]=
a;f&&f()},a,h,k,!!f)}var k,l=new h("",0,e),n=[];m=m||2048;c="undefined"===typeof c?0:c;blockTotal=~~((e-1)/m)+1;for(var p in l)l.hasOwnProperty(p)&&"function"===typeof l[p]&&(this[p]=l[p]);this.a=function(a){var b;g(f([a,a]));return(b=n[~~(a/m)])&&"string"==typeof b.data?b.data.charCodeAt(a-b.offset)&255:b&&"unknown"==typeof b.data?IEBinary_getByteAt(b.data,a-b.offset):""};this.i=function(a,b){g(f(a),b)}}(function(){d(f,function(a){a=parseInt(a.getResponseHeader("Content-Length"),10)||-1;c(new e(f,
a))},a)})()}},{"./binaryfile":1,xmlhttprequest:void 0}],3:[function(g,l){var h=g("./binaryfile");l.f=function(f,c){return function(a,b){var m=c||new FileReader;m.onload=function(a){b(new h(a.target.result))};m.readAsBinaryString(f)}}},{"./binaryfile":1}],4:[function(g,l){function h(b){return"ftypM4A"==b.c(4,7)?f:"ID3"==b.c(0,3)?a:c}var f=g("./id4"),c=g("./id3v1"),a=g("./id3v2"),b=g("./bufferedbinaryajax"),m=g("./filereader");"undefined"!==typeof window&&(window.FileAPIReader=m);var d={},e={},r=[0,
7];d.B=function(a){delete e[a]};d.A=function(){e={}};d.H=function(a,d,c){c=c||{};(c.dataReader||b)(a,function(b){b.i(r,function(){var m=h(b);m.u(b,function(){var f=c.tags,h=m.v(b,f),f=e[a]||{},r;for(r in h)h.hasOwnProperty(r)&&(f[r]=h[r]);e[a]=f;d&&d()})})},c.onError)};d.D=function(a){if(!e[a])return null;var b={},d;for(d in e[a])e[a].hasOwnProperty(d)&&(b[d]=e[a][d]);return b};d.G=function(a,b){return e[a]?e[a][b]:null};d.FileAPIReader=m;d.loadTags=d.H;d.getAllTags=d.D;d.getTag=d.G;d.clearTags=d.B;
d.clearAll=d.A;l.f=d},{"./bufferedbinaryajax":2,"./filereader":3,"./id3v1":5,"./id3v2":6,"./id4":8}],5:[function(g,l){var h={},f="Blues;Classic Rock;Country;Dance;Disco;Funk;Grunge;Hip-Hop;Jazz;Metal;New Age;Oldies;Other;Pop;R&B;Rap;Reggae;Rock;Techno;Industrial;Alternative;Ska;Death Metal;Pranks;Soundtrack;Euro-Techno;Ambient;Trip-Hop;Vocal;Jazz+Funk;Fusion;Trance;Classical;Instrumental;Acid;House;Game;Sound Clip;Gospel;Noise;AlternRock;Bass;Soul;Punk;Space;Meditative;Instrumental Pop;Instrumental Rock;Ethnic;Gothic;Darkwave;Techno-Industrial;Electronic;Pop-Folk;Eurodance;Dream;Southern Rock;Comedy;Cult;Gangsta;Top 40;Christian Rap;Pop/Funk;Jungle;Native American;Cabaret;New Wave;Psychadelic;Rave;Showtunes;Trailer;Lo-Fi;Tribal;Acid Punk;Acid Jazz;Polka;Retro;Musical;Rock & Roll;Hard Rock;Folk;Folk-Rock;National Folk;Swing;Fast Fusion;Bebob;Latin;Revival;Celtic;Bluegrass;Avantgarde;Gothic Rock;Progressive Rock;Psychedelic Rock;Symphonic Rock;Slow Rock;Big Band;Chorus;Easy Listening;Acoustic;Humour;Speech;Chanson;Opera;Chamber Music;Sonata;Symphony;Booty Bass;Primus;Porn Groove;Satire;Slow Jam;Club;Tango;Samba;Folklore;Ballad;Power Ballad;Rhythmic Soul;Freestyle;Duet;Punk Rock;Drum Solo;Acapella;Euro-House;Dance Hall".split(";");
h.u=function(c,a){var b=c.l();c.i([b-128-1,b],a)};h.v=function(c){var a=c.l()-128;if("TAG"==c.c(a,3)){var b=c.c(a+3,30).replace(/\0/g,""),m=c.c(a+33,30).replace(/\0/g,""),d=c.c(a+63,30).replace(/\0/g,""),e=c.c(a+93,4).replace(/\0/g,"");if(0==c.a(a+97+28))var h=c.c(a+97,28).replace(/\0/g,""),g=c.a(a+97+29);else h="",g=0;c=c.a(a+97+30);return{version:"1.1",title:b,artist:m,album:d,year:e,comment:h,track:g,genre:255>c?f[c]:""}}return{}};l.f=h},{}],6:[function(g,l){function h(a,c){var d=c.a(a),e=c.a(a+
1),f=c.a(a+2);return c.a(a+3)&127|(f&127)<<7|(e&127)<<14|(d&127)<<21}var f=g("./id3v2frames");f.frames={BUF:"Recommended buffer size",CNT:"Play counter",COM:"Comments",CRA:"Audio encryption",CRM:"Encrypted meta frame",ETC:"Event timing codes",EQU:"Equalization",GEO:"General encapsulated object",IPL:"Involved people list",LNK:"Linked information",MCI:"Music CD Identifier",MLL:"MPEG location lookup table",PIC:"Attached picture",POP:"Popularimeter",REV:"Reverb",RVA:"Relative volume adjustment",SLT:"Synchronized lyric/text",
STC:"Synced tempo codes",TAL:"Album/Movie/Show title",TBP:"BPM (Beats Per Minute)",TCM:"Composer",TCO:"Content type",TCR:"Copyright message",TDA:"Date",TDY:"Playlist delay",TEN:"Encoded by",TFT:"File type",TIM:"Time",TKE:"Initial key",TLA:"Language(s)",TLE:"Length",TMT:"Media type",TOA:"Original artist(s)/performer(s)",TOF:"Original filename",TOL:"Original Lyricist(s)/text writer(s)",TOR:"Original release year",TOT:"Original album/Movie/Show title",TP1:"Lead artist(s)/Lead performer(s)/Soloist(s)/Performing group",
TP2:"Band/Orchestra/Accompaniment",TP3:"Conductor/Performer refinement",TP4:"Interpreted, remixed, or otherwise modified by",TPA:"Part of a set",TPB:"Publisher",TRC:"ISRC (International Standard Recording Code)",TRD:"Recording dates",TRK:"Track number/Position in set",TSI:"Size",TSS:"Software/hardware and settings used for encoding",TT1:"Content group description",TT2:"Title/Songname/Content description",TT3:"Subtitle/Description refinement",TXT:"Lyricist/text writer",TXX:"User defined text information frame",
TYE:"Year",UFI:"Unique file identifier",ULT:"Unsychronized lyric/text transcription",WAF:"Official audio file webpage",WAR:"Official artist/performer webpage",WAS:"Official audio source webpage",WCM:"Commercial information",WCP:"Copyright/Legal information",WPB:"Publishers official webpage",WXX:"User defined URL link frame",AENC:"Audio encryption",APIC:"Attached picture",COMM:"Comments",COMR:"Commercial frame",ENCR:"Encryption method registration",EQUA:"Equalization",ETCO:"Event timing codes",GEOB:"General encapsulated object",
GRID:"Group identification registration",IPLS:"Involved people list",LINK:"Linked information",MCDI:"Music CD identifier",MLLT:"MPEG location lookup table",OWNE:"Ownership frame",PRIV:"Private frame",PCNT:"Play counter",POPM:"Popularimeter",POSS:"Position synchronisation frame",RBUF:"Recommended buffer size",RVAD:"Relative volume adjustment",RVRB:"Reverb",SYLT:"Synchronized lyric/text",SYTC:"Synchronized tempo codes",TALB:"Album/Movie/Show title",TBPM:"BPM (beats per minute)",TCOM:"Composer",TCON:"Content type",
TCOP:"Copyright message",TDAT:"Date",TDLY:"Playlist delay",TENC:"Encoded by",TEXT:"Lyricist/Text writer",TFLT:"File type",TIME:"Time",TIT1:"Content group description",TIT2:"Title/songname/content description",TIT3:"Subtitle/Description refinement",TKEY:"Initial key",TLAN:"Language(s)",TLEN:"Length",TMED:"Media type",TOAL:"Original album/movie/show title",TOFN:"Original filename",TOLY:"Original lyricist(s)/text writer(s)",TOPE:"Original artist(s)/performer(s)",TORY:"Original release year",TOWN:"File owner/licensee",
TPE1:"Lead performer(s)/Soloist(s)",TPE2:"Band/orchestra/accompaniment",TPE3:"Conductor/performer refinement",TPE4:"Interpreted, remixed, or otherwise modified by",TPOS:"Part of a set",TPUB:"Publisher",TRCK:"Track number/Position in set",TRDA:"Recording dates",TRSN:"Internet radio station name",TRSO:"Internet radio station owner",TSIZ:"Size",TSRC:"ISRC (international standard recording code)",TSSE:"Software/Hardware and settings used for encoding",TYER:"Year",TXXX:"User defined text information frame",
UFID:"Unique file identifier",USER:"Terms of use",USLT:"Unsychronized lyric/text transcription",WCOM:"Commercial information",WCOP:"Copyright/Legal information",WOAF:"Official audio file webpage",WOAR:"Official artist/performer webpage",WOAS:"Official audio source webpage",WORS:"Official internet radio station homepage",WPAY:"Payment",WPUB:"Publishers official webpage",WXXX:"User defined URL link frame"};var c={title:["TIT2","TT2"],artist:["TPE1","TP1"],album:["TALB","TAL"],year:["TYER","TYE"],comment:["COMM",
"COM"],track:["TRCK","TRK"],genre:["TCON","TCO"],picture:["APIC","PIC"],lyrics:["USLT","ULT"]},a=["title","artist","album","track"];f.u=function(a,c){a.i([0,h(6,a)],c)};f.v=function(b,m){var d=0,e=b.a(d+3);if(4<e)return{version:">2.4"};var r=b.a(d+4),g=b.g(d+5,7),l=b.g(d+5,6),w=b.g(d+5,5),x=h(d+6,b),d=d+10;if(l)var q=b.m(d),d=d+(q+4);var e={version:"2."+e+"."+r,major:e,revision:r,flags:{unsynchronisation:g,extended_header:l,experimental_indicator:w},size:x},k;if(g)k={};else{for(var x=x-10,g=b,r=m,
l={},w=e.major,q=[],u=0,n;n=(r||a)[u];u++)q=q.concat(c[n]||[n]);for(r=q;d<x;){q=null;u=g;n=d;var p=null;switch(w){case 2:k=u.c(n,3);var t=u.w(n+3),z=6;break;case 3:k=u.c(n,4);t=u.m(n+4);z=10;break;case 4:k=u.c(n,4),t=h(n+4,u),z=10}if(""==k)break;d+=z+t;if(!(0>r.indexOf(k))){if(2<w)var p=u,y=n+8,p={message:{Y:p.g(y,6),R:p.g(y,5),V:p.g(y,4)},format:{T:p.g(y+1,7),N:p.g(y+1,3),P:p.g(y+1,2),L:p.g(y+1,1),C:p.g(y+1,0)}};n+=z;p&&p.format.C&&(h(n,u),n+=4,t-=4);p&&p.format.L||(k in f.b?q=f.b[k]:"T"==k[0]&&
(q=f.b["T*"]),q=q?q(n,t,u,p):void 0,q={id:k,size:t,description:k in f.frames?f.frames[k]:"Unknown",data:q},k in l?(l[k].id&&(l[k]=[l[k]]),l[k].push(q)):l[k]=q)}}k=l}for(var B in c)if(c.hasOwnProperty(B)){a:{t=c[B];"string"==typeof t&&(t=[t]);z=0;for(d=void 0;d=t[z];z++)if(d in k){b=k[d].data;break a}b=void 0}b&&(e[B]=b)}for(var C in k)k.hasOwnProperty(C)&&(e[C]=k[C]);return e};l.f=f},{"./id3v2frames":7}],7:[function(g,l){function h(a){var b;switch(a){case 0:b="iso-8859-1";break;case 1:b="utf-16";
break;case 2:b="utf-16be";break;case 3:b="utf-8"}return b}var f={b:{}},c="32x32 pixels 'file icon' (PNG only);Other file icon;Cover (front);Cover (back);Leaflet page;Media (e.g. lable side of CD);Lead artist/lead performer/soloist;Artist/performer;Conductor;Band/Orchestra;Composer;Lyricist/text writer;Recording Location;During recording;During performance;Movie/video screen capture;A bright coloured fish;Illustration;Band/artist logotype;Publisher/Studio logotype".split(";");f.b.APIC=function(a,b,
m,d,e){e=e||"3";d=a;var f=h(m.a(a));switch(e){case "2":var g=m.c(a+1,3);a+=4;break;case "3":case "4":g=m.h(a+1,b-(a-d),""),a+=1+g.j}e=m.a(a,1);e=c[e];f=m.h(a+1,b-(a-d),f);a+=1+f.j;return{format:g.toString(),type:e,description:f.toString(),data:m.s(a,d+b-a)}};f.b.COMM=function(a,b,c){var d=a,e=h(c.a(a)),f=c.c(a+1,3),g=c.h(a+4,b-4,e);a+=4+g.j;a=c.h(a,d+b-a,e);return{language:f,X:g.toString(),text:a.toString()}};f.b.COM=f.b.COMM;f.b.PIC=function(a,b,c,d){return f.b.APIC(a,b,c,d,"2")};f.b.PCNT=function(a,
b,c){return c.S(a)};f.b.CNT=f.b.PCNT;f.b["T*"]=function(a,b,c){var d=h(c.a(a));return c.h(a+1,b-1,d).toString()};f.b.TCON=function(a,b,c){return f.b["T*"].apply(this,arguments).replace(/^\(\d+\)/,"")};f.b.TCO=f.b.TCON;f.b.USLT=function(a,b,c){var d=a,e=h(c.a(a)),f=c.c(a+1,3),g=c.h(a+4,b-4,e);a+=4+g.j;a=c.h(a,d+b-a,e);return{language:f,O:g.toString(),U:a.toString()}};f.b.ULT=f.b.USLT;l.f=f},{}],8:[function(g,l){function h(a,b,f,d){var e=a.m(b);if(0==e)d();else{var g=a.c(b+4,4);-1<["moov","udta","meta",
"ilst"].indexOf(g)?("meta"==g&&(b+=4),a.i([b+8,b+8+8],function(){h(a,b+8,e-8,d)})):a.i([b+(g in c.o?0:e),b+e+8],function(){h(a,b+e,f,d)})}}function f(a,b,h,d,e){e=void 0===e?"":e+"  ";for(var g=h;g<h+d;){var l=b.m(g);if(0==l)break;var v=b.c(g+4,4);if(-1<["moov","udta","meta","ilst"].indexOf(v)){"meta"==v&&(g+=4);f(a,b,g+8,l-8,e);break}if(c.o[v]){var w=b.w(g+16+1),x=c.o[v],w=c.types[w];if("trkn"==v)a[x[0]]=b.a(g+16+11),a.count=b.a(g+16+13);else{var v=g+16+4+4,q=l-16-4-4,k;switch(w){case "text":k=b.h(v,
q,"UTF-8");break;case "uint8":k=b.F(v);break;case "jpeg":case "png":k={format:"image/"+w,data:b.s(v,q)}}a[x[0]]="comment"===x[0]?{text:k}:k}}g+=l}}var c={types:{0:"uint8",1:"text",13:"jpeg",14:"png",21:"uint8"},o:{"\u00a9alb":["album"],"\u00a9art":["artist"],"\u00a9ART":["artist"],aART:["artist"],"\u00a9day":["year"],"\u00a9nam":["title"],"\u00a9gen":["genre"],trkn:["track"],"\u00a9wrt":["composer"],"\u00a9too":["encoder"],cprt:["copyright"],covr:["picture"],"\u00a9grp":["grouping"],keyw:["keyword"],
"\u00a9lyr":["lyrics"],"\u00a9cmt":["comment"],tmpo:["tempo"],cpil:["compilation"],disk:["disc"]},u:function(a,b){a.i([0,7],function(){h(a,0,a.l(),b)})},v:function(a){var b={};f(b,a,0,a.l());return b}};l.f=c},{}],9:[function(g,l){l.f={J:function(h,f,c){var a=0,b=1,g=0;c=Math.min(c||h.length,h.length);254==h[0]&&255==h[1]?(f=!0,a=2):255==h[0]&&254==h[1]&&(f=!1,a=2);f&&(b=0,g=1);f=[];for(var d=0;a<c;d++){var e=h[a+b],l=(e<<8)+h[a+g],a=a+2;if(0==l)break;else 216>e||224<=e?f[d]=String.fromCharCode(l):
(e=(h[a+b]<<8)+h[a+g],a+=2,f[d]=String.fromCharCode(l,e))}h=new String(f.join(""));h.j=a;return h},K:function(h,f){var c=0;f=Math.min(f||h.length,h.length);239==h[0]&&187==h[1]&&191==h[2]&&(c=3);for(var a=[],b=0;c<f;b++){var g=h[c++];if(0==g)break;else if(128>g)a[b]=String.fromCharCode(g);else if(194<=g&&224>g){var d=h[c++];a[b]=String.fromCharCode(((g&31)<<6)+(d&63))}else if(224<=g&&240>g){var d=h[c++],e=h[c++];a[b]=String.fromCharCode(((g&255)<<12)+((d&63)<<6)+(e&63))}else if(240<=g&&245>g){var d=
h[c++],e=h[c++],l=h[c++],g=((g&7)<<18)+((d&63)<<12)+((e&63)<<6)+(l&63)-65536;a[b]=String.fromCharCode((g>>10)+55296,(g&1023)+56320)}}a=new String(a.join(""));a.j=c;return a},I:function(g,f){var c=[];f=f||g.length;for(var a=0;a<f;){var b=g[a++];if(0==b)break;c[a-1]=String.fromCharCode(b)}c=new String(c.join(""));c.j=a;return c}}},{}]},{},[4])(4)});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJpZDMtbWluaW1pemVkLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbihBKXtpZihcIm9iamVjdFwiPT09dHlwZW9mIGV4cG9ydHMmJlwidW5kZWZpbmVkXCIhPT10eXBlb2YgbW9kdWxlKW1vZHVsZS5mPUEoKTtlbHNlIGlmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5NKWRlZmluZShbXSxBKTtlbHNle3ZhciBnO1widW5kZWZpbmVkXCIhPT10eXBlb2Ygd2luZG93P2c9d2luZG93OlwidW5kZWZpbmVkXCIhPT10eXBlb2YgZ2xvYmFsP2c9Z2xvYmFsOlwidW5kZWZpbmVkXCIhPT10eXBlb2Ygc2VsZj9nPXNlbGY6Zz10aGlzO2cuSUQzPUEoKX19KShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbiBnKGwsaCxmKXtmdW5jdGlvbiBjKGIsZCl7aWYoIWhbYl0pe2lmKCFsW2JdKXt2YXIgZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFkJiZlKXJldHVybiBlKGIsITApO2lmKGEpcmV0dXJuIGEoYiwhMCk7ZT1FcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrYitcIidcIik7dGhyb3cgZS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLFxyXG5lO31lPWhbYl09e2Y6e319O2xbYl1bMF0uY2FsbChlLmYsZnVuY3Rpb24oYSl7dmFyIGU9bFtiXVsxXVthXTtyZXR1cm4gYyhlP2U6YSl9LGUsZS5mLGcsbCxoLGYpfXJldHVybiBoW2JdLmZ9Zm9yKHZhciBhPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsYj0wO2I8Zi5sZW5ndGg7YisrKWMoZltiXSk7cmV0dXJuIGN9KHsxOltmdW5jdGlvbihnLGwpe3ZhciBoPWcoXCIuL3N0cmluZ3V0aWxzXCIpO2lmKFwidW5kZWZpbmVkXCIhPT10eXBlb2YgZG9jdW1lbnQpe3ZhciBmPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7Zi50eXBlPVwidGV4dC92YnNjcmlwdFwiO2YudGV4dENvbnRlbnQ9XCJGdW5jdGlvbiBJRUJpbmFyeV9nZXRCeXRlQXQoc3RyQmluYXJ5LCBpT2Zmc2V0KVxcclxcblxcdElFQmluYXJ5X2dldEJ5dGVBdCA9IEFzY0IoTWlkQihzdHJCaW5hcnksaU9mZnNldCsxLDEpKVxcclxcbkVuZCBGdW5jdGlvblxcclxcbkZ1bmN0aW9uIElFQmluYXJ5X2dldExlbmd0aChzdHJCaW5hcnkpXFxyXFxuXFx0SUVCaW5hcnlfZ2V0TGVuZ3RoID0gTGVuQihzdHJCaW5hcnkpXFxyXFxuRW5kIEZ1bmN0aW9uXFxyXFxuXCI7XHJcbmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXS5hcHBlbmRDaGlsZChmKX1lbHNlIGcoXCJidG9hXCIpLGcoXCJhdG9iXCIpO2wuZj1mdW5jdGlvbihjLGEsYil7dmFyIG09YXx8MCxkPTA7XCJzdHJpbmdcIj09dHlwZW9mIGM/KGQ9Ynx8Yy5sZW5ndGgsdGhpcy5hPWZ1bmN0aW9uKGEpe3JldHVybiBjLmNoYXJDb2RlQXQoYSttKSYyNTV9KTpcInVua25vd25cIj09dHlwZW9mIGMmJihkPWJ8fElFQmluYXJ5X2dldExlbmd0aChjKSx0aGlzLmE9ZnVuY3Rpb24oYSl7cmV0dXJuIElFQmluYXJ5X2dldEJ5dGVBdChjLGErbSl9KTt0aGlzLnM9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGQ9QXJyYXkoYiksbT0wO208YjttKyspZFttXT10aGlzLmEoYSttKTtyZXR1cm4gZH07dGhpcy5sPWZ1bmN0aW9uKCl7cmV0dXJuIGR9O3RoaXMuZz1mdW5jdGlvbihhLGIpe3JldHVybiAwIT0odGhpcy5hKGEpJjE8PGIpfTt0aGlzLkY9ZnVuY3Rpb24oYSl7YT0odGhpcy5hKGErMSk8PDgpK3RoaXMuYShhKTtcclxuMD5hJiYoYSs9NjU1MzYpO3JldHVybiBhfTt0aGlzLm09ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5hKGEpLGQ9dGhpcy5hKGErMSksbT10aGlzLmEoYSsyKTthPXRoaXMuYShhKzMpO2I9KCgoYjw8OCkrZDw8OCkrbTw8OCkrYTswPmImJihiKz00Mjk0OTY3Mjk2KTtyZXR1cm4gYn07dGhpcy53PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYShhKSxkPXRoaXMuYShhKzEpO2E9dGhpcy5hKGErMik7Yj0oKGI8PDgpK2Q8PDgpK2E7MD5iJiYoYis9MTY3NzcyMTYpO3JldHVybiBifTt0aGlzLmM9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGQ9W10sbT1hLGM9MDttPGErYjttKyssYysrKWRbY109U3RyaW5nLmZyb21DaGFyQ29kZSh0aGlzLmEobSkpO3JldHVybiBkLmpvaW4oXCJcIil9O3RoaXMuaD1mdW5jdGlvbihhLGIsZCl7YT10aGlzLnMoYSxiKTtzd2l0Y2goZC50b0xvd2VyQ2FzZSgpKXtjYXNlIFwidXRmLTE2XCI6Y2FzZSBcInV0Zi0xNmxlXCI6Y2FzZSBcInV0Zi0xNmJlXCI6ZD1oLkooYSxkKTticmVhaztcclxuY2FzZSBcInV0Zi04XCI6ZD1oLksoYSk7YnJlYWs7ZGVmYXVsdDpkPWguSShhKX1yZXR1cm4gZH07dGhpcy5pPWZ1bmN0aW9uKGEsYil7YigpfX19LHtcIi4vc3RyaW5ndXRpbHNcIjo5LGF0b2I6dm9pZCAwLGJ0b2E6dm9pZCAwfV0sMjpbZnVuY3Rpb24oZyxsKXt2YXIgaD1nKFwiLi9iaW5hcnlmaWxlXCIpO2wuZj1mdW5jdGlvbihmLGMsYSl7ZnVuY3Rpb24gYihhLGIsZCxlLGMsZil7dmFyIGs9bSgpO2s/KFwidW5kZWZpbmVkXCI9PT10eXBlb2YgZiYmKGY9ITApLGImJihcInVuZGVmaW5lZFwiIT10eXBlb2Ygay5vbmxvYWQ/KGsub25sb2FkPWZ1bmN0aW9uKCl7XCIyMDBcIj09ay5zdGF0dXN8fFwiMjA2XCI9PWsuc3RhdHVzPyhrLmZpbGVTaXplPWN8fGsuZ2V0UmVzcG9uc2VIZWFkZXIoXCJDb250ZW50LUxlbmd0aFwiKSxiKGspKTpkJiZkKHtlcnJvcjpcInhoclwiLHhocjprfSk7az1udWxsfSxkJiYoay5vbmVycm9yPWZ1bmN0aW9uKCl7ZCh7ZXJyb3I6XCJ4aHJcIix4aHI6a30pO2s9bnVsbH0pKTprLm9ucmVhZHlzdGF0ZWNoYW5nZT1cclxuZnVuY3Rpb24oKXs0PT1rLnJlYWR5U3RhdGUmJihcIjIwMFwiPT1rLnN0YXR1c3x8XCIyMDZcIj09ay5zdGF0dXM/KGsuZmlsZVNpemU9Y3x8ay5nZXRSZXNwb25zZUhlYWRlcihcIkNvbnRlbnQtTGVuZ3RoXCIpLGIoaykpOmQmJmQoe2Vycm9yOlwieGhyXCIseGhyOmt9KSxrPW51bGwpfSksay5vcGVuKFwiR0VUXCIsYSxmKSxrLm92ZXJyaWRlTWltZVR5cGUmJmsub3ZlcnJpZGVNaW1lVHlwZShcInRleHQvcGxhaW47IGNoYXJzZXQ9eC11c2VyLWRlZmluZWRcIiksZSYmay5zZXRSZXF1ZXN0SGVhZGVyKFwiUmFuZ2VcIixcImJ5dGVzPVwiK2VbMF0rXCItXCIrZVsxXSksay5zZXRSZXF1ZXN0SGVhZGVyKFwiSWYtTW9kaWZpZWQtU2luY2VcIixcIlNhdCwgMDEgSmFuIDE5NzAgMDA6MDA6MDAgR01UXCIpLGsuc2VuZChudWxsKSk6ZCYmZCh7ZXJyb3I6XCJVbmFibGUgdG8gY3JlYXRlIFhIUiBvYmplY3RcIn0pfWZ1bmN0aW9uIG0oKXt2YXIgYT1udWxsO1widW5kZWZpbmVkXCI9PT10eXBlb2Ygd2luZG93P2E9bmV3IChnKFwieG1saHR0cHJlcXVlc3RcIikuWE1MSHR0cFJlcXVlc3QpOlxyXG53aW5kb3cuWE1MSHR0cFJlcXVlc3Q/YT1uZXcgd2luZG93LlhNTEh0dHBSZXF1ZXN0OndpbmRvdy5BY3RpdmVYT2JqZWN0JiYoYT1uZXcgd2luZG93LkFjdGl2ZVhPYmplY3QoXCJNaWNyb3NvZnQuWE1MSFRUUFwiKSk7cmV0dXJuIGF9ZnVuY3Rpb24gZChhLGIsZCl7dmFyIGU9bSgpO2U/KGImJihcInVuZGVmaW5lZFwiIT10eXBlb2YgZS5vbmxvYWQ/KGUub25sb2FkPWZ1bmN0aW9uKCl7XCIyMDBcIj09ZS5zdGF0dXN8fFwiMjA2XCI9PWUuc3RhdHVzP2IodGhpcyk6ZCYmZCh7ZXJyb3I6XCJ4aHJcIix4aHI6ZX0pO2U9bnVsbH0sZCYmKGUub25lcnJvcj1mdW5jdGlvbigpe2Qoe2Vycm9yOlwieGhyXCIseGhyOmV9KTtlPW51bGx9KSk6ZS5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXs0PT1lLnJlYWR5U3RhdGUmJihcIjIwMFwiPT1lLnN0YXR1c3x8XCIyMDZcIj09ZS5zdGF0dXM/Yih0aGlzKTpkJiZkKHtlcnJvcjpcInhoclwiLHhocjplfSksZT1udWxsKX0pLGUub3BlbihcIkhFQURcIixhLCEwKSxlLnNlbmQobnVsbCkpOlxyXG5kJiZkKHtlcnJvcjpcIlVuYWJsZSB0byBjcmVhdGUgWEhSIG9iamVjdFwifSl9ZnVuY3Rpb24gZShkLGUpe3ZhciBtLGM7ZnVuY3Rpb24gZihhKXt2YXIgYj1+fihhWzBdL20pLWM7YT1+fihhWzFdL20pKzErYzswPmImJihiPTApO2E+PWJsb2NrVG90YWwmJihhPWJsb2NrVG90YWwtMSk7cmV0dXJuW2IsYV19ZnVuY3Rpb24gZyhjLGYpe2Zvcig7bltjWzBdXTspaWYoY1swXSsrLGNbMF0+Y1sxXSl7ZiYmZigpO3JldHVybn1mb3IoO25bY1sxXV07KWlmKGNbMV0tLSxjWzBdPmNbMV0pe2YmJmYoKTtyZXR1cm59dmFyIGg9W2NbMF0qbSwoY1sxXSsxKSptLTFdO2IoZCxmdW5jdGlvbihhKXtwYXJzZUludChhLmdldFJlc3BvbnNlSGVhZGVyKFwiQ29udGVudC1MZW5ndGhcIiksMTApPT1lJiYoY1swXT0wLGNbMV09YmxvY2tUb3RhbC0xLGhbMF09MCxoWzFdPWUtMSk7YT17ZGF0YTphLld8fGEucmVzcG9uc2VUZXh0LG9mZnNldDpoWzBdfTtmb3IodmFyIGI9Y1swXTtiPD1jWzFdO2IrKyluW2JdPVxyXG5hO2YmJmYoKX0sYSxoLGssISFmKX12YXIgayxsPW5ldyBoKFwiXCIsMCxlKSxuPVtdO209bXx8MjA0ODtjPVwidW5kZWZpbmVkXCI9PT10eXBlb2YgYz8wOmM7YmxvY2tUb3RhbD1+figoZS0xKS9tKSsxO2Zvcih2YXIgcCBpbiBsKWwuaGFzT3duUHJvcGVydHkocCkmJlwiZnVuY3Rpb25cIj09PXR5cGVvZiBsW3BdJiYodGhpc1twXT1sW3BdKTt0aGlzLmE9ZnVuY3Rpb24oYSl7dmFyIGI7ZyhmKFthLGFdKSk7cmV0dXJuKGI9blt+fihhL20pXSkmJlwic3RyaW5nXCI9PXR5cGVvZiBiLmRhdGE/Yi5kYXRhLmNoYXJDb2RlQXQoYS1iLm9mZnNldCkmMjU1OmImJlwidW5rbm93blwiPT10eXBlb2YgYi5kYXRhP0lFQmluYXJ5X2dldEJ5dGVBdChiLmRhdGEsYS1iLm9mZnNldCk6XCJcIn07dGhpcy5pPWZ1bmN0aW9uKGEsYil7ZyhmKGEpLGIpfX0oZnVuY3Rpb24oKXtkKGYsZnVuY3Rpb24oYSl7YT1wYXJzZUludChhLmdldFJlc3BvbnNlSGVhZGVyKFwiQ29udGVudC1MZW5ndGhcIiksMTApfHwtMTtjKG5ldyBlKGYsXHJcbmEpKX0sYSl9KSgpfX0se1wiLi9iaW5hcnlmaWxlXCI6MSx4bWxodHRwcmVxdWVzdDp2b2lkIDB9XSwzOltmdW5jdGlvbihnLGwpe3ZhciBoPWcoXCIuL2JpbmFyeWZpbGVcIik7bC5mPWZ1bmN0aW9uKGYsYyl7cmV0dXJuIGZ1bmN0aW9uKGEsYil7dmFyIG09Y3x8bmV3IEZpbGVSZWFkZXI7bS5vbmxvYWQ9ZnVuY3Rpb24oYSl7YihuZXcgaChhLnRhcmdldC5yZXN1bHQpKX07bS5yZWFkQXNCaW5hcnlTdHJpbmcoZil9fX0se1wiLi9iaW5hcnlmaWxlXCI6MX1dLDQ6W2Z1bmN0aW9uKGcsbCl7ZnVuY3Rpb24gaChiKXtyZXR1cm5cImZ0eXBNNEFcIj09Yi5jKDQsNyk/ZjpcIklEM1wiPT1iLmMoMCwzKT9hOmN9dmFyIGY9ZyhcIi4vaWQ0XCIpLGM9ZyhcIi4vaWQzdjFcIiksYT1nKFwiLi9pZDN2MlwiKSxiPWcoXCIuL2J1ZmZlcmVkYmluYXJ5YWpheFwiKSxtPWcoXCIuL2ZpbGVyZWFkZXJcIik7XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiB3aW5kb3cmJih3aW5kb3cuRmlsZUFQSVJlYWRlcj1tKTt2YXIgZD17fSxlPXt9LHI9WzAsXHJcbjddO2QuQj1mdW5jdGlvbihhKXtkZWxldGUgZVthXX07ZC5BPWZ1bmN0aW9uKCl7ZT17fX07ZC5IPWZ1bmN0aW9uKGEsZCxjKXtjPWN8fHt9OyhjLmRhdGFSZWFkZXJ8fGIpKGEsZnVuY3Rpb24oYil7Yi5pKHIsZnVuY3Rpb24oKXt2YXIgbT1oKGIpO20udShiLGZ1bmN0aW9uKCl7dmFyIGY9Yy50YWdzLGg9bS52KGIsZiksZj1lW2FdfHx7fSxyO2ZvcihyIGluIGgpaC5oYXNPd25Qcm9wZXJ0eShyKSYmKGZbcl09aFtyXSk7ZVthXT1mO2QmJmQoKX0pfSl9LGMub25FcnJvcil9O2QuRD1mdW5jdGlvbihhKXtpZighZVthXSlyZXR1cm4gbnVsbDt2YXIgYj17fSxkO2ZvcihkIGluIGVbYV0pZVthXS5oYXNPd25Qcm9wZXJ0eShkKSYmKGJbZF09ZVthXVtkXSk7cmV0dXJuIGJ9O2QuRz1mdW5jdGlvbihhLGIpe3JldHVybiBlW2FdP2VbYV1bYl06bnVsbH07ZC5GaWxlQVBJUmVhZGVyPW07ZC5sb2FkVGFncz1kLkg7ZC5nZXRBbGxUYWdzPWQuRDtkLmdldFRhZz1kLkc7ZC5jbGVhclRhZ3M9ZC5CO1xyXG5kLmNsZWFyQWxsPWQuQTtsLmY9ZH0se1wiLi9idWZmZXJlZGJpbmFyeWFqYXhcIjoyLFwiLi9maWxlcmVhZGVyXCI6MyxcIi4vaWQzdjFcIjo1LFwiLi9pZDN2MlwiOjYsXCIuL2lkNFwiOjh9XSw1OltmdW5jdGlvbihnLGwpe3ZhciBoPXt9LGY9XCJCbHVlcztDbGFzc2ljIFJvY2s7Q291bnRyeTtEYW5jZTtEaXNjbztGdW5rO0dydW5nZTtIaXAtSG9wO0pheno7TWV0YWw7TmV3IEFnZTtPbGRpZXM7T3RoZXI7UG9wO1ImQjtSYXA7UmVnZ2FlO1JvY2s7VGVjaG5vO0luZHVzdHJpYWw7QWx0ZXJuYXRpdmU7U2thO0RlYXRoIE1ldGFsO1ByYW5rcztTb3VuZHRyYWNrO0V1cm8tVGVjaG5vO0FtYmllbnQ7VHJpcC1Ib3A7Vm9jYWw7SmF6eitGdW5rO0Z1c2lvbjtUcmFuY2U7Q2xhc3NpY2FsO0luc3RydW1lbnRhbDtBY2lkO0hvdXNlO0dhbWU7U291bmQgQ2xpcDtHb3NwZWw7Tm9pc2U7QWx0ZXJuUm9jaztCYXNzO1NvdWw7UHVuaztTcGFjZTtNZWRpdGF0aXZlO0luc3RydW1lbnRhbCBQb3A7SW5zdHJ1bWVudGFsIFJvY2s7RXRobmljO0dvdGhpYztEYXJrd2F2ZTtUZWNobm8tSW5kdXN0cmlhbDtFbGVjdHJvbmljO1BvcC1Gb2xrO0V1cm9kYW5jZTtEcmVhbTtTb3V0aGVybiBSb2NrO0NvbWVkeTtDdWx0O0dhbmdzdGE7VG9wIDQwO0NocmlzdGlhbiBSYXA7UG9wL0Z1bms7SnVuZ2xlO05hdGl2ZSBBbWVyaWNhbjtDYWJhcmV0O05ldyBXYXZlO1BzeWNoYWRlbGljO1JhdmU7U2hvd3R1bmVzO1RyYWlsZXI7TG8tRmk7VHJpYmFsO0FjaWQgUHVuaztBY2lkIEpheno7UG9sa2E7UmV0cm87TXVzaWNhbDtSb2NrICYgUm9sbDtIYXJkIFJvY2s7Rm9saztGb2xrLVJvY2s7TmF0aW9uYWwgRm9saztTd2luZztGYXN0IEZ1c2lvbjtCZWJvYjtMYXRpbjtSZXZpdmFsO0NlbHRpYztCbHVlZ3Jhc3M7QXZhbnRnYXJkZTtHb3RoaWMgUm9jaztQcm9ncmVzc2l2ZSBSb2NrO1BzeWNoZWRlbGljIFJvY2s7U3ltcGhvbmljIFJvY2s7U2xvdyBSb2NrO0JpZyBCYW5kO0Nob3J1cztFYXN5IExpc3RlbmluZztBY291c3RpYztIdW1vdXI7U3BlZWNoO0NoYW5zb247T3BlcmE7Q2hhbWJlciBNdXNpYztTb25hdGE7U3ltcGhvbnk7Qm9vdHkgQmFzcztQcmltdXM7UG9ybiBHcm9vdmU7U2F0aXJlO1Nsb3cgSmFtO0NsdWI7VGFuZ287U2FtYmE7Rm9sa2xvcmU7QmFsbGFkO1Bvd2VyIEJhbGxhZDtSaHl0aG1pYyBTb3VsO0ZyZWVzdHlsZTtEdWV0O1B1bmsgUm9jaztEcnVtIFNvbG87QWNhcGVsbGE7RXVyby1Ib3VzZTtEYW5jZSBIYWxsXCIuc3BsaXQoXCI7XCIpO1xyXG5oLnU9ZnVuY3Rpb24oYyxhKXt2YXIgYj1jLmwoKTtjLmkoW2ItMTI4LTEsYl0sYSl9O2gudj1mdW5jdGlvbihjKXt2YXIgYT1jLmwoKS0xMjg7aWYoXCJUQUdcIj09Yy5jKGEsMykpe3ZhciBiPWMuYyhhKzMsMzApLnJlcGxhY2UoL1xcMC9nLFwiXCIpLG09Yy5jKGErMzMsMzApLnJlcGxhY2UoL1xcMC9nLFwiXCIpLGQ9Yy5jKGErNjMsMzApLnJlcGxhY2UoL1xcMC9nLFwiXCIpLGU9Yy5jKGErOTMsNCkucmVwbGFjZSgvXFwwL2csXCJcIik7aWYoMD09Yy5hKGErOTcrMjgpKXZhciBoPWMuYyhhKzk3LDI4KS5yZXBsYWNlKC9cXDAvZyxcIlwiKSxnPWMuYShhKzk3KzI5KTtlbHNlIGg9XCJcIixnPTA7Yz1jLmEoYSs5NyszMCk7cmV0dXJue3ZlcnNpb246XCIxLjFcIix0aXRsZTpiLGFydGlzdDptLGFsYnVtOmQseWVhcjplLGNvbW1lbnQ6aCx0cmFjazpnLGdlbnJlOjI1NT5jP2ZbY106XCJcIn19cmV0dXJue319O2wuZj1ofSx7fV0sNjpbZnVuY3Rpb24oZyxsKXtmdW5jdGlvbiBoKGEsYyl7dmFyIGQ9Yy5hKGEpLGU9Yy5hKGErXHJcbjEpLGY9Yy5hKGErMik7cmV0dXJuIGMuYShhKzMpJjEyN3woZiYxMjcpPDw3fChlJjEyNyk8PDE0fChkJjEyNyk8PDIxfXZhciBmPWcoXCIuL2lkM3YyZnJhbWVzXCIpO2YuZnJhbWVzPXtCVUY6XCJSZWNvbW1lbmRlZCBidWZmZXIgc2l6ZVwiLENOVDpcIlBsYXkgY291bnRlclwiLENPTTpcIkNvbW1lbnRzXCIsQ1JBOlwiQXVkaW8gZW5jcnlwdGlvblwiLENSTTpcIkVuY3J5cHRlZCBtZXRhIGZyYW1lXCIsRVRDOlwiRXZlbnQgdGltaW5nIGNvZGVzXCIsRVFVOlwiRXF1YWxpemF0aW9uXCIsR0VPOlwiR2VuZXJhbCBlbmNhcHN1bGF0ZWQgb2JqZWN0XCIsSVBMOlwiSW52b2x2ZWQgcGVvcGxlIGxpc3RcIixMTks6XCJMaW5rZWQgaW5mb3JtYXRpb25cIixNQ0k6XCJNdXNpYyBDRCBJZGVudGlmaWVyXCIsTUxMOlwiTVBFRyBsb2NhdGlvbiBsb29rdXAgdGFibGVcIixQSUM6XCJBdHRhY2hlZCBwaWN0dXJlXCIsUE9QOlwiUG9wdWxhcmltZXRlclwiLFJFVjpcIlJldmVyYlwiLFJWQTpcIlJlbGF0aXZlIHZvbHVtZSBhZGp1c3RtZW50XCIsU0xUOlwiU3luY2hyb25pemVkIGx5cmljL3RleHRcIixcclxuU1RDOlwiU3luY2VkIHRlbXBvIGNvZGVzXCIsVEFMOlwiQWxidW0vTW92aWUvU2hvdyB0aXRsZVwiLFRCUDpcIkJQTSAoQmVhdHMgUGVyIE1pbnV0ZSlcIixUQ006XCJDb21wb3NlclwiLFRDTzpcIkNvbnRlbnQgdHlwZVwiLFRDUjpcIkNvcHlyaWdodCBtZXNzYWdlXCIsVERBOlwiRGF0ZVwiLFREWTpcIlBsYXlsaXN0IGRlbGF5XCIsVEVOOlwiRW5jb2RlZCBieVwiLFRGVDpcIkZpbGUgdHlwZVwiLFRJTTpcIlRpbWVcIixUS0U6XCJJbml0aWFsIGtleVwiLFRMQTpcIkxhbmd1YWdlKHMpXCIsVExFOlwiTGVuZ3RoXCIsVE1UOlwiTWVkaWEgdHlwZVwiLFRPQTpcIk9yaWdpbmFsIGFydGlzdChzKS9wZXJmb3JtZXIocylcIixUT0Y6XCJPcmlnaW5hbCBmaWxlbmFtZVwiLFRPTDpcIk9yaWdpbmFsIEx5cmljaXN0KHMpL3RleHQgd3JpdGVyKHMpXCIsVE9SOlwiT3JpZ2luYWwgcmVsZWFzZSB5ZWFyXCIsVE9UOlwiT3JpZ2luYWwgYWxidW0vTW92aWUvU2hvdyB0aXRsZVwiLFRQMTpcIkxlYWQgYXJ0aXN0KHMpL0xlYWQgcGVyZm9ybWVyKHMpL1NvbG9pc3QocykvUGVyZm9ybWluZyBncm91cFwiLFxyXG5UUDI6XCJCYW5kL09yY2hlc3RyYS9BY2NvbXBhbmltZW50XCIsVFAzOlwiQ29uZHVjdG9yL1BlcmZvcm1lciByZWZpbmVtZW50XCIsVFA0OlwiSW50ZXJwcmV0ZWQsIHJlbWl4ZWQsIG9yIG90aGVyd2lzZSBtb2RpZmllZCBieVwiLFRQQTpcIlBhcnQgb2YgYSBzZXRcIixUUEI6XCJQdWJsaXNoZXJcIixUUkM6XCJJU1JDIChJbnRlcm5hdGlvbmFsIFN0YW5kYXJkIFJlY29yZGluZyBDb2RlKVwiLFRSRDpcIlJlY29yZGluZyBkYXRlc1wiLFRSSzpcIlRyYWNrIG51bWJlci9Qb3NpdGlvbiBpbiBzZXRcIixUU0k6XCJTaXplXCIsVFNTOlwiU29mdHdhcmUvaGFyZHdhcmUgYW5kIHNldHRpbmdzIHVzZWQgZm9yIGVuY29kaW5nXCIsVFQxOlwiQ29udGVudCBncm91cCBkZXNjcmlwdGlvblwiLFRUMjpcIlRpdGxlL1NvbmduYW1lL0NvbnRlbnQgZGVzY3JpcHRpb25cIixUVDM6XCJTdWJ0aXRsZS9EZXNjcmlwdGlvbiByZWZpbmVtZW50XCIsVFhUOlwiTHlyaWNpc3QvdGV4dCB3cml0ZXJcIixUWFg6XCJVc2VyIGRlZmluZWQgdGV4dCBpbmZvcm1hdGlvbiBmcmFtZVwiLFxyXG5UWUU6XCJZZWFyXCIsVUZJOlwiVW5pcXVlIGZpbGUgaWRlbnRpZmllclwiLFVMVDpcIlVuc3ljaHJvbml6ZWQgbHlyaWMvdGV4dCB0cmFuc2NyaXB0aW9uXCIsV0FGOlwiT2ZmaWNpYWwgYXVkaW8gZmlsZSB3ZWJwYWdlXCIsV0FSOlwiT2ZmaWNpYWwgYXJ0aXN0L3BlcmZvcm1lciB3ZWJwYWdlXCIsV0FTOlwiT2ZmaWNpYWwgYXVkaW8gc291cmNlIHdlYnBhZ2VcIixXQ006XCJDb21tZXJjaWFsIGluZm9ybWF0aW9uXCIsV0NQOlwiQ29weXJpZ2h0L0xlZ2FsIGluZm9ybWF0aW9uXCIsV1BCOlwiUHVibGlzaGVycyBvZmZpY2lhbCB3ZWJwYWdlXCIsV1hYOlwiVXNlciBkZWZpbmVkIFVSTCBsaW5rIGZyYW1lXCIsQUVOQzpcIkF1ZGlvIGVuY3J5cHRpb25cIixBUElDOlwiQXR0YWNoZWQgcGljdHVyZVwiLENPTU06XCJDb21tZW50c1wiLENPTVI6XCJDb21tZXJjaWFsIGZyYW1lXCIsRU5DUjpcIkVuY3J5cHRpb24gbWV0aG9kIHJlZ2lzdHJhdGlvblwiLEVRVUE6XCJFcXVhbGl6YXRpb25cIixFVENPOlwiRXZlbnQgdGltaW5nIGNvZGVzXCIsR0VPQjpcIkdlbmVyYWwgZW5jYXBzdWxhdGVkIG9iamVjdFwiLFxyXG5HUklEOlwiR3JvdXAgaWRlbnRpZmljYXRpb24gcmVnaXN0cmF0aW9uXCIsSVBMUzpcIkludm9sdmVkIHBlb3BsZSBsaXN0XCIsTElOSzpcIkxpbmtlZCBpbmZvcm1hdGlvblwiLE1DREk6XCJNdXNpYyBDRCBpZGVudGlmaWVyXCIsTUxMVDpcIk1QRUcgbG9jYXRpb24gbG9va3VwIHRhYmxlXCIsT1dORTpcIk93bmVyc2hpcCBmcmFtZVwiLFBSSVY6XCJQcml2YXRlIGZyYW1lXCIsUENOVDpcIlBsYXkgY291bnRlclwiLFBPUE06XCJQb3B1bGFyaW1ldGVyXCIsUE9TUzpcIlBvc2l0aW9uIHN5bmNocm9uaXNhdGlvbiBmcmFtZVwiLFJCVUY6XCJSZWNvbW1lbmRlZCBidWZmZXIgc2l6ZVwiLFJWQUQ6XCJSZWxhdGl2ZSB2b2x1bWUgYWRqdXN0bWVudFwiLFJWUkI6XCJSZXZlcmJcIixTWUxUOlwiU3luY2hyb25pemVkIGx5cmljL3RleHRcIixTWVRDOlwiU3luY2hyb25pemVkIHRlbXBvIGNvZGVzXCIsVEFMQjpcIkFsYnVtL01vdmllL1Nob3cgdGl0bGVcIixUQlBNOlwiQlBNIChiZWF0cyBwZXIgbWludXRlKVwiLFRDT006XCJDb21wb3NlclwiLFRDT046XCJDb250ZW50IHR5cGVcIixcclxuVENPUDpcIkNvcHlyaWdodCBtZXNzYWdlXCIsVERBVDpcIkRhdGVcIixURExZOlwiUGxheWxpc3QgZGVsYXlcIixURU5DOlwiRW5jb2RlZCBieVwiLFRFWFQ6XCJMeXJpY2lzdC9UZXh0IHdyaXRlclwiLFRGTFQ6XCJGaWxlIHR5cGVcIixUSU1FOlwiVGltZVwiLFRJVDE6XCJDb250ZW50IGdyb3VwIGRlc2NyaXB0aW9uXCIsVElUMjpcIlRpdGxlL3NvbmduYW1lL2NvbnRlbnQgZGVzY3JpcHRpb25cIixUSVQzOlwiU3VidGl0bGUvRGVzY3JpcHRpb24gcmVmaW5lbWVudFwiLFRLRVk6XCJJbml0aWFsIGtleVwiLFRMQU46XCJMYW5ndWFnZShzKVwiLFRMRU46XCJMZW5ndGhcIixUTUVEOlwiTWVkaWEgdHlwZVwiLFRPQUw6XCJPcmlnaW5hbCBhbGJ1bS9tb3ZpZS9zaG93IHRpdGxlXCIsVE9GTjpcIk9yaWdpbmFsIGZpbGVuYW1lXCIsVE9MWTpcIk9yaWdpbmFsIGx5cmljaXN0KHMpL3RleHQgd3JpdGVyKHMpXCIsVE9QRTpcIk9yaWdpbmFsIGFydGlzdChzKS9wZXJmb3JtZXIocylcIixUT1JZOlwiT3JpZ2luYWwgcmVsZWFzZSB5ZWFyXCIsVE9XTjpcIkZpbGUgb3duZXIvbGljZW5zZWVcIixcclxuVFBFMTpcIkxlYWQgcGVyZm9ybWVyKHMpL1NvbG9pc3QocylcIixUUEUyOlwiQmFuZC9vcmNoZXN0cmEvYWNjb21wYW5pbWVudFwiLFRQRTM6XCJDb25kdWN0b3IvcGVyZm9ybWVyIHJlZmluZW1lbnRcIixUUEU0OlwiSW50ZXJwcmV0ZWQsIHJlbWl4ZWQsIG9yIG90aGVyd2lzZSBtb2RpZmllZCBieVwiLFRQT1M6XCJQYXJ0IG9mIGEgc2V0XCIsVFBVQjpcIlB1Ymxpc2hlclwiLFRSQ0s6XCJUcmFjayBudW1iZXIvUG9zaXRpb24gaW4gc2V0XCIsVFJEQTpcIlJlY29yZGluZyBkYXRlc1wiLFRSU046XCJJbnRlcm5ldCByYWRpbyBzdGF0aW9uIG5hbWVcIixUUlNPOlwiSW50ZXJuZXQgcmFkaW8gc3RhdGlvbiBvd25lclwiLFRTSVo6XCJTaXplXCIsVFNSQzpcIklTUkMgKGludGVybmF0aW9uYWwgc3RhbmRhcmQgcmVjb3JkaW5nIGNvZGUpXCIsVFNTRTpcIlNvZnR3YXJlL0hhcmR3YXJlIGFuZCBzZXR0aW5ncyB1c2VkIGZvciBlbmNvZGluZ1wiLFRZRVI6XCJZZWFyXCIsVFhYWDpcIlVzZXIgZGVmaW5lZCB0ZXh0IGluZm9ybWF0aW9uIGZyYW1lXCIsXHJcblVGSUQ6XCJVbmlxdWUgZmlsZSBpZGVudGlmaWVyXCIsVVNFUjpcIlRlcm1zIG9mIHVzZVwiLFVTTFQ6XCJVbnN5Y2hyb25pemVkIGx5cmljL3RleHQgdHJhbnNjcmlwdGlvblwiLFdDT006XCJDb21tZXJjaWFsIGluZm9ybWF0aW9uXCIsV0NPUDpcIkNvcHlyaWdodC9MZWdhbCBpbmZvcm1hdGlvblwiLFdPQUY6XCJPZmZpY2lhbCBhdWRpbyBmaWxlIHdlYnBhZ2VcIixXT0FSOlwiT2ZmaWNpYWwgYXJ0aXN0L3BlcmZvcm1lciB3ZWJwYWdlXCIsV09BUzpcIk9mZmljaWFsIGF1ZGlvIHNvdXJjZSB3ZWJwYWdlXCIsV09SUzpcIk9mZmljaWFsIGludGVybmV0IHJhZGlvIHN0YXRpb24gaG9tZXBhZ2VcIixXUEFZOlwiUGF5bWVudFwiLFdQVUI6XCJQdWJsaXNoZXJzIG9mZmljaWFsIHdlYnBhZ2VcIixXWFhYOlwiVXNlciBkZWZpbmVkIFVSTCBsaW5rIGZyYW1lXCJ9O3ZhciBjPXt0aXRsZTpbXCJUSVQyXCIsXCJUVDJcIl0sYXJ0aXN0OltcIlRQRTFcIixcIlRQMVwiXSxhbGJ1bTpbXCJUQUxCXCIsXCJUQUxcIl0seWVhcjpbXCJUWUVSXCIsXCJUWUVcIl0sY29tbWVudDpbXCJDT01NXCIsXHJcblwiQ09NXCJdLHRyYWNrOltcIlRSQ0tcIixcIlRSS1wiXSxnZW5yZTpbXCJUQ09OXCIsXCJUQ09cIl0scGljdHVyZTpbXCJBUElDXCIsXCJQSUNcIl0sbHlyaWNzOltcIlVTTFRcIixcIlVMVFwiXX0sYT1bXCJ0aXRsZVwiLFwiYXJ0aXN0XCIsXCJhbGJ1bVwiLFwidHJhY2tcIl07Zi51PWZ1bmN0aW9uKGEsYyl7YS5pKFswLGgoNixhKV0sYyl9O2Yudj1mdW5jdGlvbihiLG0pe3ZhciBkPTAsZT1iLmEoZCszKTtpZig0PGUpcmV0dXJue3ZlcnNpb246XCI+Mi40XCJ9O3ZhciByPWIuYShkKzQpLGc9Yi5nKGQrNSw3KSxsPWIuZyhkKzUsNiksdz1iLmcoZCs1LDUpLHg9aChkKzYsYiksZD1kKzEwO2lmKGwpdmFyIHE9Yi5tKGQpLGQ9ZCsocSs0KTt2YXIgZT17dmVyc2lvbjpcIjIuXCIrZStcIi5cIityLG1ham9yOmUscmV2aXNpb246cixmbGFnczp7dW5zeW5jaHJvbmlzYXRpb246ZyxleHRlbmRlZF9oZWFkZXI6bCxleHBlcmltZW50YWxfaW5kaWNhdG9yOnd9LHNpemU6eH0saztpZihnKWs9e307ZWxzZXtmb3IodmFyIHg9eC0xMCxnPWIscj1tLFxyXG5sPXt9LHc9ZS5tYWpvcixxPVtdLHU9MCxuO249KHJ8fGEpW3VdO3UrKylxPXEuY29uY2F0KGNbbl18fFtuXSk7Zm9yKHI9cTtkPHg7KXtxPW51bGw7dT1nO249ZDt2YXIgcD1udWxsO3N3aXRjaCh3KXtjYXNlIDI6az11LmMobiwzKTt2YXIgdD11LncobiszKSx6PTY7YnJlYWs7Y2FzZSAzOms9dS5jKG4sNCk7dD11Lm0obis0KTt6PTEwO2JyZWFrO2Nhc2UgNDprPXUuYyhuLDQpLHQ9aChuKzQsdSksej0xMH1pZihcIlwiPT1rKWJyZWFrO2QrPXordDtpZighKDA+ci5pbmRleE9mKGspKSl7aWYoMjx3KXZhciBwPXUseT1uKzgscD17bWVzc2FnZTp7WTpwLmcoeSw2KSxSOnAuZyh5LDUpLFY6cC5nKHksNCl9LGZvcm1hdDp7VDpwLmcoeSsxLDcpLE46cC5nKHkrMSwzKSxQOnAuZyh5KzEsMiksTDpwLmcoeSsxLDEpLEM6cC5nKHkrMSwwKX19O24rPXo7cCYmcC5mb3JtYXQuQyYmKGgobix1KSxuKz00LHQtPTQpO3AmJnAuZm9ybWF0Lkx8fChrIGluIGYuYj9xPWYuYltrXTpcIlRcIj09a1swXSYmXHJcbihxPWYuYltcIlQqXCJdKSxxPXE/cShuLHQsdSxwKTp2b2lkIDAscT17aWQ6ayxzaXplOnQsZGVzY3JpcHRpb246ayBpbiBmLmZyYW1lcz9mLmZyYW1lc1trXTpcIlVua25vd25cIixkYXRhOnF9LGsgaW4gbD8obFtrXS5pZCYmKGxba109W2xba11dKSxsW2tdLnB1c2gocSkpOmxba109cSl9fWs9bH1mb3IodmFyIEIgaW4gYylpZihjLmhhc093blByb3BlcnR5KEIpKXthOnt0PWNbQl07XCJzdHJpbmdcIj09dHlwZW9mIHQmJih0PVt0XSk7ej0wO2ZvcihkPXZvaWQgMDtkPXRbel07eisrKWlmKGQgaW4gayl7Yj1rW2RdLmRhdGE7YnJlYWsgYX1iPXZvaWQgMH1iJiYoZVtCXT1iKX1mb3IodmFyIEMgaW4gaylrLmhhc093blByb3BlcnR5KEMpJiYoZVtDXT1rW0NdKTtyZXR1cm4gZX07bC5mPWZ9LHtcIi4vaWQzdjJmcmFtZXNcIjo3fV0sNzpbZnVuY3Rpb24oZyxsKXtmdW5jdGlvbiBoKGEpe3ZhciBiO3N3aXRjaChhKXtjYXNlIDA6Yj1cImlzby04ODU5LTFcIjticmVhaztjYXNlIDE6Yj1cInV0Zi0xNlwiO1xyXG5icmVhaztjYXNlIDI6Yj1cInV0Zi0xNmJlXCI7YnJlYWs7Y2FzZSAzOmI9XCJ1dGYtOFwifXJldHVybiBifXZhciBmPXtiOnt9fSxjPVwiMzJ4MzIgcGl4ZWxzICdmaWxlIGljb24nIChQTkcgb25seSk7T3RoZXIgZmlsZSBpY29uO0NvdmVyIChmcm9udCk7Q292ZXIgKGJhY2spO0xlYWZsZXQgcGFnZTtNZWRpYSAoZS5nLiBsYWJsZSBzaWRlIG9mIENEKTtMZWFkIGFydGlzdC9sZWFkIHBlcmZvcm1lci9zb2xvaXN0O0FydGlzdC9wZXJmb3JtZXI7Q29uZHVjdG9yO0JhbmQvT3JjaGVzdHJhO0NvbXBvc2VyO0x5cmljaXN0L3RleHQgd3JpdGVyO1JlY29yZGluZyBMb2NhdGlvbjtEdXJpbmcgcmVjb3JkaW5nO0R1cmluZyBwZXJmb3JtYW5jZTtNb3ZpZS92aWRlbyBzY3JlZW4gY2FwdHVyZTtBIGJyaWdodCBjb2xvdXJlZCBmaXNoO0lsbHVzdHJhdGlvbjtCYW5kL2FydGlzdCBsb2dvdHlwZTtQdWJsaXNoZXIvU3R1ZGlvIGxvZ290eXBlXCIuc3BsaXQoXCI7XCIpO2YuYi5BUElDPWZ1bmN0aW9uKGEsYixcclxubSxkLGUpe2U9ZXx8XCIzXCI7ZD1hO3ZhciBmPWgobS5hKGEpKTtzd2l0Y2goZSl7Y2FzZSBcIjJcIjp2YXIgZz1tLmMoYSsxLDMpO2ErPTQ7YnJlYWs7Y2FzZSBcIjNcIjpjYXNlIFwiNFwiOmc9bS5oKGErMSxiLShhLWQpLFwiXCIpLGErPTErZy5qfWU9bS5hKGEsMSk7ZT1jW2VdO2Y9bS5oKGErMSxiLShhLWQpLGYpO2ErPTErZi5qO3JldHVybntmb3JtYXQ6Zy50b1N0cmluZygpLHR5cGU6ZSxkZXNjcmlwdGlvbjpmLnRvU3RyaW5nKCksZGF0YTptLnMoYSxkK2ItYSl9fTtmLmIuQ09NTT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YSxlPWgoYy5hKGEpKSxmPWMuYyhhKzEsMyksZz1jLmgoYSs0LGItNCxlKTthKz00K2cuajthPWMuaChhLGQrYi1hLGUpO3JldHVybntsYW5ndWFnZTpmLFg6Zy50b1N0cmluZygpLHRleHQ6YS50b1N0cmluZygpfX07Zi5iLkNPTT1mLmIuQ09NTTtmLmIuUElDPWZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBmLmIuQVBJQyhhLGIsYyxkLFwiMlwiKX07Zi5iLlBDTlQ9ZnVuY3Rpb24oYSxcclxuYixjKXtyZXR1cm4gYy5TKGEpfTtmLmIuQ05UPWYuYi5QQ05UO2YuYltcIlQqXCJdPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1oKGMuYShhKSk7cmV0dXJuIGMuaChhKzEsYi0xLGQpLnRvU3RyaW5nKCl9O2YuYi5UQ09OPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZi5iW1wiVCpcIl0uYXBwbHkodGhpcyxhcmd1bWVudHMpLnJlcGxhY2UoL15cXChcXGQrXFwpLyxcIlwiKX07Zi5iLlRDTz1mLmIuVENPTjtmLmIuVVNMVD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YSxlPWgoYy5hKGEpKSxmPWMuYyhhKzEsMyksZz1jLmgoYSs0LGItNCxlKTthKz00K2cuajthPWMuaChhLGQrYi1hLGUpO3JldHVybntsYW5ndWFnZTpmLE86Zy50b1N0cmluZygpLFU6YS50b1N0cmluZygpfX07Zi5iLlVMVD1mLmIuVVNMVDtsLmY9Zn0se31dLDg6W2Z1bmN0aW9uKGcsbCl7ZnVuY3Rpb24gaChhLGIsZixkKXt2YXIgZT1hLm0oYik7aWYoMD09ZSlkKCk7ZWxzZXt2YXIgZz1hLmMoYis0LDQpOy0xPFtcIm1vb3ZcIixcInVkdGFcIixcIm1ldGFcIixcclxuXCJpbHN0XCJdLmluZGV4T2YoZyk/KFwibWV0YVwiPT1nJiYoYis9NCksYS5pKFtiKzgsYis4KzhdLGZ1bmN0aW9uKCl7aChhLGIrOCxlLTgsZCl9KSk6YS5pKFtiKyhnIGluIGMubz8wOmUpLGIrZSs4XSxmdW5jdGlvbigpe2goYSxiK2UsZixkKX0pfX1mdW5jdGlvbiBmKGEsYixoLGQsZSl7ZT12b2lkIDA9PT1lP1wiXCI6ZStcIiAgXCI7Zm9yKHZhciBnPWg7ZzxoK2Q7KXt2YXIgbD1iLm0oZyk7aWYoMD09bClicmVhazt2YXIgdj1iLmMoZys0LDQpO2lmKC0xPFtcIm1vb3ZcIixcInVkdGFcIixcIm1ldGFcIixcImlsc3RcIl0uaW5kZXhPZih2KSl7XCJtZXRhXCI9PXYmJihnKz00KTtmKGEsYixnKzgsbC04LGUpO2JyZWFrfWlmKGMub1t2XSl7dmFyIHc9Yi53KGcrMTYrMSkseD1jLm9bdl0sdz1jLnR5cGVzW3ddO2lmKFwidHJrblwiPT12KWFbeFswXV09Yi5hKGcrMTYrMTEpLGEuY291bnQ9Yi5hKGcrMTYrMTMpO2Vsc2V7dmFyIHY9ZysxNis0KzQscT1sLTE2LTQtNCxrO3N3aXRjaCh3KXtjYXNlIFwidGV4dFwiOms9Yi5oKHYsXHJcbnEsXCJVVEYtOFwiKTticmVhaztjYXNlIFwidWludDhcIjprPWIuRih2KTticmVhaztjYXNlIFwianBlZ1wiOmNhc2UgXCJwbmdcIjprPXtmb3JtYXQ6XCJpbWFnZS9cIit3LGRhdGE6Yi5zKHYscSl9fWFbeFswXV09XCJjb21tZW50XCI9PT14WzBdP3t0ZXh0Omt9Omt9fWcrPWx9fXZhciBjPXt0eXBlczp7MDpcInVpbnQ4XCIsMTpcInRleHRcIiwxMzpcImpwZWdcIiwxNDpcInBuZ1wiLDIxOlwidWludDhcIn0sbzp7XCJcXHUwMGE5YWxiXCI6W1wiYWxidW1cIl0sXCJcXHUwMGE5YXJ0XCI6W1wiYXJ0aXN0XCJdLFwiXFx1MDBhOUFSVFwiOltcImFydGlzdFwiXSxhQVJUOltcImFydGlzdFwiXSxcIlxcdTAwYTlkYXlcIjpbXCJ5ZWFyXCJdLFwiXFx1MDBhOW5hbVwiOltcInRpdGxlXCJdLFwiXFx1MDBhOWdlblwiOltcImdlbnJlXCJdLHRya246W1widHJhY2tcIl0sXCJcXHUwMGE5d3J0XCI6W1wiY29tcG9zZXJcIl0sXCJcXHUwMGE5dG9vXCI6W1wiZW5jb2RlclwiXSxjcHJ0OltcImNvcHlyaWdodFwiXSxjb3ZyOltcInBpY3R1cmVcIl0sXCJcXHUwMGE5Z3JwXCI6W1wiZ3JvdXBpbmdcIl0sa2V5dzpbXCJrZXl3b3JkXCJdLFxyXG5cIlxcdTAwYTlseXJcIjpbXCJseXJpY3NcIl0sXCJcXHUwMGE5Y210XCI6W1wiY29tbWVudFwiXSx0bXBvOltcInRlbXBvXCJdLGNwaWw6W1wiY29tcGlsYXRpb25cIl0sZGlzazpbXCJkaXNjXCJdfSx1OmZ1bmN0aW9uKGEsYil7YS5pKFswLDddLGZ1bmN0aW9uKCl7aChhLDAsYS5sKCksYil9KX0sdjpmdW5jdGlvbihhKXt2YXIgYj17fTtmKGIsYSwwLGEubCgpKTtyZXR1cm4gYn19O2wuZj1jfSx7fV0sOTpbZnVuY3Rpb24oZyxsKXtsLmY9e0o6ZnVuY3Rpb24oaCxmLGMpe3ZhciBhPTAsYj0xLGc9MDtjPU1hdGgubWluKGN8fGgubGVuZ3RoLGgubGVuZ3RoKTsyNTQ9PWhbMF0mJjI1NT09aFsxXT8oZj0hMCxhPTIpOjI1NT09aFswXSYmMjU0PT1oWzFdJiYoZj0hMSxhPTIpO2YmJihiPTAsZz0xKTtmPVtdO2Zvcih2YXIgZD0wO2E8YztkKyspe3ZhciBlPWhbYStiXSxsPShlPDw4KStoW2ErZ10sYT1hKzI7aWYoMD09bClicmVhaztlbHNlIDIxNj5lfHwyMjQ8PWU/ZltkXT1TdHJpbmcuZnJvbUNoYXJDb2RlKGwpOlxyXG4oZT0oaFthK2JdPDw4KStoW2ErZ10sYSs9MixmW2RdPVN0cmluZy5mcm9tQ2hhckNvZGUobCxlKSl9aD1uZXcgU3RyaW5nKGYuam9pbihcIlwiKSk7aC5qPWE7cmV0dXJuIGh9LEs6ZnVuY3Rpb24oaCxmKXt2YXIgYz0wO2Y9TWF0aC5taW4oZnx8aC5sZW5ndGgsaC5sZW5ndGgpOzIzOT09aFswXSYmMTg3PT1oWzFdJiYxOTE9PWhbMl0mJihjPTMpO2Zvcih2YXIgYT1bXSxiPTA7YzxmO2IrKyl7dmFyIGc9aFtjKytdO2lmKDA9PWcpYnJlYWs7ZWxzZSBpZigxMjg+ZylhW2JdPVN0cmluZy5mcm9tQ2hhckNvZGUoZyk7ZWxzZSBpZigxOTQ8PWcmJjIyND5nKXt2YXIgZD1oW2MrK107YVtiXT1TdHJpbmcuZnJvbUNoYXJDb2RlKCgoZyYzMSk8PDYpKyhkJjYzKSl9ZWxzZSBpZigyMjQ8PWcmJjI0MD5nKXt2YXIgZD1oW2MrK10sZT1oW2MrK107YVtiXT1TdHJpbmcuZnJvbUNoYXJDb2RlKCgoZyYyNTUpPDwxMikrKChkJjYzKTw8NikrKGUmNjMpKX1lbHNlIGlmKDI0MDw9ZyYmMjQ1Pmcpe3ZhciBkPVxyXG5oW2MrK10sZT1oW2MrK10sbD1oW2MrK10sZz0oKGcmNyk8PDE4KSsoKGQmNjMpPDwxMikrKChlJjYzKTw8NikrKGwmNjMpLTY1NTM2O2FbYl09U3RyaW5nLmZyb21DaGFyQ29kZSgoZz4+MTApKzU1Mjk2LChnJjEwMjMpKzU2MzIwKX19YT1uZXcgU3RyaW5nKGEuam9pbihcIlwiKSk7YS5qPWM7cmV0dXJuIGF9LEk6ZnVuY3Rpb24oZyxmKXt2YXIgYz1bXTtmPWZ8fGcubGVuZ3RoO2Zvcih2YXIgYT0wO2E8Zjspe3ZhciBiPWdbYSsrXTtpZigwPT1iKWJyZWFrO2NbYS0xXT1TdHJpbmcuZnJvbUNoYXJDb2RlKGIpfWM9bmV3IFN0cmluZyhjLmpvaW4oXCJcIikpO2Muaj1hO3JldHVybiBjfX19LHt9XX0se30sWzRdKSg0KX0pO1xyXG4iXSwiZmlsZSI6ImlkMy1taW5pbWl6ZWQuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

/**!
 * Google Drive File Picker Example
 * By Daniel Lo Nigro (http://dan.cx/)
 */
(function() {

    /**
     * Initialise a Google Driver file picker
     */
    var FilePicker = window.FilePicker = function(options) {
        // Config
        this.apiKey = options.apiKey;
        this.clientId = options.clientId;
        // Elements
        this.buttonEl = options.buttonEl;
        // Events
        this.onSelect = options.onSelect;
        this.buttonEl.addEventListener('click', this.open.bind(this));
        // Disable the button until the API loads, as it won't work properly until then.
        this.buttonEl.disabled = true;
        // Load the drive API
        if (window.gapi && window.google) {
            gapi.client.setApiKey(this.apiKey);
            gapi.client.load('drive', 'v2', this._driveApiLoaded.bind(this));
            google.load('picker', '1', {
                callback: this._pickerApiLoaded.bind(this)
            });
        }

    };
    FilePicker.prototype = {
        /**
         * Open the file picker.
         */
        open: function() {
            // Check if the user has already authenticated
            var token = gapi.auth.getToken();
            if (token) {
                this._showPicker();
            } else {
                // The user has not yet authenticated with Google
                // We need to do the authentication before displaying the Drive picker.
                this._doAuth(false, function() {
                    this._showPicker();
                }.bind(this));
            }
        },
        /**
         * Show the file picker once authentication has been done.
         * @private
         */
        _showPicker: function() {
            var accessToken = gapi.auth.getToken()
                .access_token;
            this.picker = new google.picker.PickerBuilder()
                .addView(google.picker.ViewId.FOLDERS)
                .setAppId(this.clientId)
                .setOAuthToken(accessToken)
                .enableFeature(google.picker.Feature.MULTISELECT_ENABLED)
                .setCallback(this._pickerCallback.bind(this))
                .build()
                .setVisible(true);
        },
        /**
         * Called when a file has been selected in the Google Drive file picker.
         * @private
         */
        _pickerCallback: function(data) {
            if (data[google.picker.Response.ACTION] == google.picker.Action.PICKED) {
                var files = data.docs;
                this._fileGetCallback(files);
            }
        },
        /**
         * Called when file details have been retrieved from Google Drive.
         * @private
         */
        _fileGetCallback: function(file) {
            if (this.onSelect) {
                this.onSelect(file);
            }
        },
        /**
         * Called when the Google Drive file picker API has finished loading.
         * @private
         */
        _pickerApiLoaded: function() {
            this.buttonEl.disabled = false;
        },
        /**
         * Called when the Google Drive API has finished loading.
         * @private
         */
        _driveApiLoaded: function() {
            this._doAuth(true);
        },
        /**
         * Authenticate with Google Drive via the Google JavaScript API.
         * @private
         */
        _doAuth: function(immediate, callback) {
            gapi.auth.authorize({
                client_id: this.clientId + '-4sbpcq4qcjto2tl1ao2m6qpanc56c5af.apps.googleusercontent.com',
                scope: 'https://www.googleapis.com/auth/drive https://www.googleapis.com/auth/youtube',
                immediate: immediate
            }, callback);
        }
    };

}());

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJmaWxlcGlja2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKiFcclxuICogR29vZ2xlIERyaXZlIEZpbGUgUGlja2VyIEV4YW1wbGVcclxuICogQnkgRGFuaWVsIExvIE5pZ3JvIChodHRwOi8vZGFuLmN4LylcclxuICovXHJcbihmdW5jdGlvbigpIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEluaXRpYWxpc2UgYSBHb29nbGUgRHJpdmVyIGZpbGUgcGlja2VyXHJcbiAgICAgKi9cclxuICAgIHZhciBGaWxlUGlja2VyID0gd2luZG93LkZpbGVQaWNrZXIgPSBmdW5jdGlvbihvcHRpb25zKSB7XHJcbiAgICAgICAgLy8gQ29uZmlnXHJcbiAgICAgICAgdGhpcy5hcGlLZXkgPSBvcHRpb25zLmFwaUtleTtcclxuICAgICAgICB0aGlzLmNsaWVudElkID0gb3B0aW9ucy5jbGllbnRJZDtcclxuICAgICAgICAvLyBFbGVtZW50c1xyXG4gICAgICAgIHRoaXMuYnV0dG9uRWwgPSBvcHRpb25zLmJ1dHRvbkVsO1xyXG4gICAgICAgIC8vIEV2ZW50c1xyXG4gICAgICAgIHRoaXMub25TZWxlY3QgPSBvcHRpb25zLm9uU2VsZWN0O1xyXG4gICAgICAgIHRoaXMuYnV0dG9uRWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9wZW4uYmluZCh0aGlzKSk7XHJcbiAgICAgICAgLy8gRGlzYWJsZSB0aGUgYnV0dG9uIHVudGlsIHRoZSBBUEkgbG9hZHMsIGFzIGl0IHdvbid0IHdvcmsgcHJvcGVybHkgdW50aWwgdGhlbi5cclxuICAgICAgICB0aGlzLmJ1dHRvbkVsLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAvLyBMb2FkIHRoZSBkcml2ZSBBUElcclxuICAgICAgICBpZiAod2luZG93LmdhcGkgJiYgd2luZG93Lmdvb2dsZSkge1xyXG4gICAgICAgICAgICBnYXBpLmNsaWVudC5zZXRBcGlLZXkodGhpcy5hcGlLZXkpO1xyXG4gICAgICAgICAgICBnYXBpLmNsaWVudC5sb2FkKCdkcml2ZScsICd2MicsIHRoaXMuX2RyaXZlQXBpTG9hZGVkLmJpbmQodGhpcykpO1xyXG4gICAgICAgICAgICBnb29nbGUubG9hZCgncGlja2VyJywgJzEnLCB7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogdGhpcy5fcGlja2VyQXBpTG9hZGVkLmJpbmQodGhpcylcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH07XHJcbiAgICBGaWxlUGlja2VyLnByb3RvdHlwZSA9IHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBPcGVuIHRoZSBmaWxlIHBpY2tlci5cclxuICAgICAgICAgKi9cclxuICAgICAgICBvcGVuOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHVzZXIgaGFzIGFscmVhZHkgYXV0aGVudGljYXRlZFxyXG4gICAgICAgICAgICB2YXIgdG9rZW4gPSBnYXBpLmF1dGguZ2V0VG9rZW4oKTtcclxuICAgICAgICAgICAgaWYgKHRva2VuKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zaG93UGlja2VyKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBUaGUgdXNlciBoYXMgbm90IHlldCBhdXRoZW50aWNhdGVkIHdpdGggR29vZ2xlXHJcbiAgICAgICAgICAgICAgICAvLyBXZSBuZWVkIHRvIGRvIHRoZSBhdXRoZW50aWNhdGlvbiBiZWZvcmUgZGlzcGxheWluZyB0aGUgRHJpdmUgcGlja2VyLlxyXG4gICAgICAgICAgICAgICAgdGhpcy5fZG9BdXRoKGZhbHNlLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zaG93UGlja2VyKCk7XHJcbiAgICAgICAgICAgICAgICB9LmJpbmQodGhpcykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBTaG93IHRoZSBmaWxlIHBpY2tlciBvbmNlIGF1dGhlbnRpY2F0aW9uIGhhcyBiZWVuIGRvbmUuXHJcbiAgICAgICAgICogQHByaXZhdGVcclxuICAgICAgICAgKi9cclxuICAgICAgICBfc2hvd1BpY2tlcjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBhY2Nlc3NUb2tlbiA9IGdhcGkuYXV0aC5nZXRUb2tlbigpXHJcbiAgICAgICAgICAgICAgICAuYWNjZXNzX3Rva2VuO1xyXG4gICAgICAgICAgICB0aGlzLnBpY2tlciA9IG5ldyBnb29nbGUucGlja2VyLlBpY2tlckJ1aWxkZXIoKVxyXG4gICAgICAgICAgICAgICAgLmFkZFZpZXcoZ29vZ2xlLnBpY2tlci5WaWV3SWQuRk9MREVSUylcclxuICAgICAgICAgICAgICAgIC5zZXRBcHBJZCh0aGlzLmNsaWVudElkKVxyXG4gICAgICAgICAgICAgICAgLnNldE9BdXRoVG9rZW4oYWNjZXNzVG9rZW4pXHJcbiAgICAgICAgICAgICAgICAuZW5hYmxlRmVhdHVyZShnb29nbGUucGlja2VyLkZlYXR1cmUuTVVMVElTRUxFQ1RfRU5BQkxFRClcclxuICAgICAgICAgICAgICAgIC5zZXRDYWxsYmFjayh0aGlzLl9waWNrZXJDYWxsYmFjay5iaW5kKHRoaXMpKVxyXG4gICAgICAgICAgICAgICAgLmJ1aWxkKClcclxuICAgICAgICAgICAgICAgIC5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ2FsbGVkIHdoZW4gYSBmaWxlIGhhcyBiZWVuIHNlbGVjdGVkIGluIHRoZSBHb29nbGUgRHJpdmUgZmlsZSBwaWNrZXIuXHJcbiAgICAgICAgICogQHByaXZhdGVcclxuICAgICAgICAgKi9cclxuICAgICAgICBfcGlja2VyQ2FsbGJhY2s6IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgaWYgKGRhdGFbZ29vZ2xlLnBpY2tlci5SZXNwb25zZS5BQ1RJT05dID09IGdvb2dsZS5waWNrZXIuQWN0aW9uLlBJQ0tFRCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGZpbGVzID0gZGF0YS5kb2NzO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZmlsZUdldENhbGxiYWNrKGZpbGVzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ2FsbGVkIHdoZW4gZmlsZSBkZXRhaWxzIGhhdmUgYmVlbiByZXRyaWV2ZWQgZnJvbSBHb29nbGUgRHJpdmUuXHJcbiAgICAgICAgICogQHByaXZhdGVcclxuICAgICAgICAgKi9cclxuICAgICAgICBfZmlsZUdldENhbGxiYWNrOiBmdW5jdGlvbihmaWxlKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9uU2VsZWN0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uU2VsZWN0KGZpbGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDYWxsZWQgd2hlbiB0aGUgR29vZ2xlIERyaXZlIGZpbGUgcGlja2VyIEFQSSBoYXMgZmluaXNoZWQgbG9hZGluZy5cclxuICAgICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIF9waWNrZXJBcGlMb2FkZWQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB0aGlzLmJ1dHRvbkVsLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDYWxsZWQgd2hlbiB0aGUgR29vZ2xlIERyaXZlIEFQSSBoYXMgZmluaXNoZWQgbG9hZGluZy5cclxuICAgICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIF9kcml2ZUFwaUxvYWRlZDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2RvQXV0aCh0cnVlKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEF1dGhlbnRpY2F0ZSB3aXRoIEdvb2dsZSBEcml2ZSB2aWEgdGhlIEdvb2dsZSBKYXZhU2NyaXB0IEFQSS5cclxuICAgICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIF9kb0F1dGg6IGZ1bmN0aW9uKGltbWVkaWF0ZSwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgZ2FwaS5hdXRoLmF1dGhvcml6ZSh7XHJcbiAgICAgICAgICAgICAgICBjbGllbnRfaWQ6IHRoaXMuY2xpZW50SWQgKyAnLTRzYnBjcTRxY2p0bzJ0bDFhbzJtNnFwYW5jNTZjNWFmLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tJyxcclxuICAgICAgICAgICAgICAgIHNjb3BlOiAnaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYXV0aC9kcml2ZSBodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9hdXRoL3lvdXR1YmUnLFxyXG4gICAgICAgICAgICAgICAgaW1tZWRpYXRlOiBpbW1lZGlhdGVcclxuICAgICAgICAgICAgfSwgY2FsbGJhY2spO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG59KCkpO1xyXG4iXSwiZmlsZSI6ImZpbGVwaWNrZXIuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

(function defineMustache(global,factory){if(typeof exports==="object"&&exports&&typeof exports.nodeName!=="string"){factory(exports)}else if(typeof define==="function"&&define.amd){define(["exports"],factory)}else{global.Mustache={};factory(global.Mustache)}})(this,function mustacheFactory(mustache){var objectToString=Object.prototype.toString;var isArray=Array.isArray||function isArrayPolyfill(object){return objectToString.call(object)==="[object Array]"};function isFunction(object){return typeof object==="function"}function typeStr(obj){return isArray(obj)?"array":typeof obj}function escapeRegExp(string){return string.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function hasProperty(obj,propName){return obj!=null&&typeof obj==="object"&&propName in obj}var regExpTest=RegExp.prototype.test;function testRegExp(re,string){return regExpTest.call(re,string)}var nonSpaceRe=/\S/;function isWhitespace(string){return!testRegExp(nonSpaceRe,string)}var entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function escapeHtml(string){return String(string).replace(/[&<>"'`=\/]/g,function fromEntityMap(s){return entityMap[s]})}var whiteRe=/\s*/;var spaceRe=/\s+/;var equalsRe=/\s*=/;var curlyRe=/\s*\}/;var tagRe=/#|\^|\/|>|\{|&|=|!/;function parseTemplate(template,tags){if(!template)return[];var sections=[];var tokens=[];var spaces=[];var hasTag=false;var nonSpace=false;function stripSpace(){if(hasTag&&!nonSpace){while(spaces.length)delete tokens[spaces.pop()]}else{spaces=[]}hasTag=false;nonSpace=false}var openingTagRe,closingTagRe,closingCurlyRe;function compileTags(tagsToCompile){if(typeof tagsToCompile==="string")tagsToCompile=tagsToCompile.split(spaceRe,2);if(!isArray(tagsToCompile)||tagsToCompile.length!==2)throw new Error("Invalid tags: "+tagsToCompile);openingTagRe=new RegExp(escapeRegExp(tagsToCompile[0])+"\\s*");closingTagRe=new RegExp("\\s*"+escapeRegExp(tagsToCompile[1]));closingCurlyRe=new RegExp("\\s*"+escapeRegExp("}"+tagsToCompile[1]))}compileTags(tags||mustache.tags);var scanner=new Scanner(template);var start,type,value,chr,token,openSection;while(!scanner.eos()){start=scanner.pos;value=scanner.scanUntil(openingTagRe);if(value){for(var i=0,valueLength=value.length;i<valueLength;++i){chr=value.charAt(i);if(isWhitespace(chr)){spaces.push(tokens.length)}else{nonSpace=true}tokens.push(["text",chr,start,start+1]);start+=1;if(chr==="\n")stripSpace()}}if(!scanner.scan(openingTagRe))break;hasTag=true;type=scanner.scan(tagRe)||"name";scanner.scan(whiteRe);if(type==="="){value=scanner.scanUntil(equalsRe);scanner.scan(equalsRe);scanner.scanUntil(closingTagRe)}else if(type==="{"){value=scanner.scanUntil(closingCurlyRe);scanner.scan(curlyRe);scanner.scanUntil(closingTagRe);type="&"}else{value=scanner.scanUntil(closingTagRe)}if(!scanner.scan(closingTagRe))throw new Error("Unclosed tag at "+scanner.pos);token=[type,value,start,scanner.pos];tokens.push(token);if(type==="#"||type==="^"){sections.push(token)}else if(type==="/"){openSection=sections.pop();if(!openSection)throw new Error('Unopened section "'+value+'" at '+start);if(openSection[1]!==value)throw new Error('Unclosed section "'+openSection[1]+'" at '+start)}else if(type==="name"||type==="{"||type==="&"){nonSpace=true}else if(type==="="){compileTags(value)}}openSection=sections.pop();if(openSection)throw new Error('Unclosed section "'+openSection[1]+'" at '+scanner.pos);return nestTokens(squashTokens(tokens))}function squashTokens(tokens){var squashedTokens=[];var token,lastToken;for(var i=0,numTokens=tokens.length;i<numTokens;++i){token=tokens[i];if(token){if(token[0]==="text"&&lastToken&&lastToken[0]==="text"){lastToken[1]+=token[1];lastToken[3]=token[3]}else{squashedTokens.push(token);lastToken=token}}}return squashedTokens}function nestTokens(tokens){var nestedTokens=[];var collector=nestedTokens;var sections=[];var token,section;for(var i=0,numTokens=tokens.length;i<numTokens;++i){token=tokens[i];switch(token[0]){case"#":case"^":collector.push(token);sections.push(token);collector=token[4]=[];break;case"/":section=sections.pop();section[5]=token[2];collector=sections.length>0?sections[sections.length-1][4]:nestedTokens;break;default:collector.push(token)}}return nestedTokens}function Scanner(string){this.string=string;this.tail=string;this.pos=0}Scanner.prototype.eos=function eos(){return this.tail===""};Scanner.prototype.scan=function scan(re){var match=this.tail.match(re);if(!match||match.index!==0)return"";var string=match[0];this.tail=this.tail.substring(string.length);this.pos+=string.length;return string};Scanner.prototype.scanUntil=function scanUntil(re){var index=this.tail.search(re),match;switch(index){case-1:match=this.tail;this.tail="";break;case 0:match="";break;default:match=this.tail.substring(0,index);this.tail=this.tail.substring(index)}this.pos+=match.length;return match};function Context(view,parentContext){this.view=view;this.cache={".":this.view};this.parent=parentContext}Context.prototype.push=function push(view){return new Context(view,this)};Context.prototype.lookup=function lookup(name){var cache=this.cache;var value;if(cache.hasOwnProperty(name)){value=cache[name]}else{var context=this,names,index,lookupHit=false;while(context){if(name.indexOf(".")>0){value=context.view;names=name.split(".");index=0;while(value!=null&&index<names.length){if(index===names.length-1)lookupHit=hasProperty(value,names[index]);value=value[names[index++]]}}else{value=context.view[name];lookupHit=hasProperty(context.view,name)}if(lookupHit)break;context=context.parent}cache[name]=value}if(isFunction(value))value=value.call(this.view);return value};function Writer(){this.cache={}}Writer.prototype.clearCache=function clearCache(){this.cache={}};Writer.prototype.parse=function parse(template,tags){var cache=this.cache;var tokens=cache[template];if(tokens==null)tokens=cache[template]=parseTemplate(template,tags);return tokens};Writer.prototype.render=function render(template,view,partials){var tokens=this.parse(template);var context=view instanceof Context?view:new Context(view);return this.renderTokens(tokens,context,partials,template)};Writer.prototype.renderTokens=function renderTokens(tokens,context,partials,originalTemplate){var buffer="";var token,symbol,value;for(var i=0,numTokens=tokens.length;i<numTokens;++i){value=undefined;token=tokens[i];symbol=token[0];if(symbol==="#")value=this.renderSection(token,context,partials,originalTemplate);else if(symbol==="^")value=this.renderInverted(token,context,partials,originalTemplate);else if(symbol===">")value=this.renderPartial(token,context,partials,originalTemplate);else if(symbol==="&")value=this.unescapedValue(token,context);else if(symbol==="name")value=this.escapedValue(token,context);else if(symbol==="text")value=this.rawValue(token);if(value!==undefined)buffer+=value}return buffer};Writer.prototype.renderSection=function renderSection(token,context,partials,originalTemplate){var self=this;var buffer="";var value=context.lookup(token[1]);function subRender(template){return self.render(template,context,partials)}if(!value)return;if(isArray(value)){for(var j=0,valueLength=value.length;j<valueLength;++j){buffer+=this.renderTokens(token[4],context.push(value[j]),partials,originalTemplate)}}else if(typeof value==="object"||typeof value==="string"||typeof value==="number"){buffer+=this.renderTokens(token[4],context.push(value),partials,originalTemplate)}else if(isFunction(value)){if(typeof originalTemplate!=="string")throw new Error("Cannot use higher-order sections without the original template");value=value.call(context.view,originalTemplate.slice(token[3],token[5]),subRender);if(value!=null)buffer+=value}else{buffer+=this.renderTokens(token[4],context,partials,originalTemplate)}return buffer};Writer.prototype.renderInverted=function renderInverted(token,context,partials,originalTemplate){var value=context.lookup(token[1]);if(!value||isArray(value)&&value.length===0)return this.renderTokens(token[4],context,partials,originalTemplate)};Writer.prototype.renderPartial=function renderPartial(token,context,partials){if(!partials)return;var value=isFunction(partials)?partials(token[1]):partials[token[1]];if(value!=null)return this.renderTokens(this.parse(value),context,partials,value)};Writer.prototype.unescapedValue=function unescapedValue(token,context){var value=context.lookup(token[1]);if(value!=null)return value};Writer.prototype.escapedValue=function escapedValue(token,context){var value=context.lookup(token[1]);if(value!=null)return mustache.escape(value)};Writer.prototype.rawValue=function rawValue(token){return token[1]};mustache.name="mustache.js";mustache.version="2.2.1";mustache.tags=["{{","}}"];var defaultWriter=new Writer;mustache.clearCache=function clearCache(){return defaultWriter.clearCache()};mustache.parse=function parse(template,tags){return defaultWriter.parse(template,tags)};mustache.render=function render(template,view,partials){if(typeof template!=="string"){throw new TypeError('Invalid template! Template should be a "string" '+'but "'+typeStr(template)+'" was given as the first '+"argument for mustache#render(template, view, partials)")}return defaultWriter.render(template,view,partials)};mustache.to_html=function to_html(template,view,partials,send){var result=mustache.render(template,view,partials);if(isFunction(send)){send(result)}else{return result}};mustache.escape=escapeHtml;mustache.Scanner=Scanner;mustache.Context=Context;mustache.Writer=Writer});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJtdXN0YWNoZS5taW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGRlZmluZU11c3RhY2hlKGdsb2JhbCxmYWN0b3J5KXtpZih0eXBlb2YgZXhwb3J0cz09PVwib2JqZWN0XCImJmV4cG9ydHMmJnR5cGVvZiBleHBvcnRzLm5vZGVOYW1lIT09XCJzdHJpbmdcIil7ZmFjdG9yeShleHBvcnRzKX1lbHNlIGlmKHR5cGVvZiBkZWZpbmU9PT1cImZ1bmN0aW9uXCImJmRlZmluZS5hbWQpe2RlZmluZShbXCJleHBvcnRzXCJdLGZhY3RvcnkpfWVsc2V7Z2xvYmFsLk11c3RhY2hlPXt9O2ZhY3RvcnkoZ2xvYmFsLk11c3RhY2hlKX19KSh0aGlzLGZ1bmN0aW9uIG11c3RhY2hlRmFjdG9yeShtdXN0YWNoZSl7dmFyIG9iamVjdFRvU3RyaW5nPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7dmFyIGlzQXJyYXk9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24gaXNBcnJheVBvbHlmaWxsKG9iamVjdCl7cmV0dXJuIG9iamVjdFRvU3RyaW5nLmNhbGwob2JqZWN0KT09PVwiW29iamVjdCBBcnJheV1cIn07ZnVuY3Rpb24gaXNGdW5jdGlvbihvYmplY3Qpe3JldHVybiB0eXBlb2Ygb2JqZWN0PT09XCJmdW5jdGlvblwifWZ1bmN0aW9uIHR5cGVTdHIob2JqKXtyZXR1cm4gaXNBcnJheShvYmopP1wiYXJyYXlcIjp0eXBlb2Ygb2JqfWZ1bmN0aW9uIGVzY2FwZVJlZ0V4cChzdHJpbmcpe3JldHVybiBzdHJpbmcucmVwbGFjZSgvW1xcLVxcW1xcXXt9KCkqKz8uLFxcXFxcXF4kfCNcXHNdL2csXCJcXFxcJCZcIil9ZnVuY3Rpb24gaGFzUHJvcGVydHkob2JqLHByb3BOYW1lKXtyZXR1cm4gb2JqIT1udWxsJiZ0eXBlb2Ygb2JqPT09XCJvYmplY3RcIiYmcHJvcE5hbWUgaW4gb2JqfXZhciByZWdFeHBUZXN0PVJlZ0V4cC5wcm90b3R5cGUudGVzdDtmdW5jdGlvbiB0ZXN0UmVnRXhwKHJlLHN0cmluZyl7cmV0dXJuIHJlZ0V4cFRlc3QuY2FsbChyZSxzdHJpbmcpfXZhciBub25TcGFjZVJlPS9cXFMvO2Z1bmN0aW9uIGlzV2hpdGVzcGFjZShzdHJpbmcpe3JldHVybiF0ZXN0UmVnRXhwKG5vblNwYWNlUmUsc3RyaW5nKX12YXIgZW50aXR5TWFwPXtcIiZcIjpcIiZhbXA7XCIsXCI8XCI6XCImbHQ7XCIsXCI+XCI6XCImZ3Q7XCIsJ1wiJzpcIiZxdW90O1wiLFwiJ1wiOlwiJiMzOTtcIixcIi9cIjpcIiYjeDJGO1wiLFwiYFwiOlwiJiN4NjA7XCIsXCI9XCI6XCImI3gzRDtcIn07ZnVuY3Rpb24gZXNjYXBlSHRtbChzdHJpbmcpe3JldHVybiBTdHJpbmcoc3RyaW5nKS5yZXBsYWNlKC9bJjw+XCInYD1cXC9dL2csZnVuY3Rpb24gZnJvbUVudGl0eU1hcChzKXtyZXR1cm4gZW50aXR5TWFwW3NdfSl9dmFyIHdoaXRlUmU9L1xccyovO3ZhciBzcGFjZVJlPS9cXHMrLzt2YXIgZXF1YWxzUmU9L1xccyo9Lzt2YXIgY3VybHlSZT0vXFxzKlxcfS87dmFyIHRhZ1JlPS8jfFxcXnxcXC98PnxcXHt8Jnw9fCEvO2Z1bmN0aW9uIHBhcnNlVGVtcGxhdGUodGVtcGxhdGUsdGFncyl7aWYoIXRlbXBsYXRlKXJldHVybltdO3ZhciBzZWN0aW9ucz1bXTt2YXIgdG9rZW5zPVtdO3ZhciBzcGFjZXM9W107dmFyIGhhc1RhZz1mYWxzZTt2YXIgbm9uU3BhY2U9ZmFsc2U7ZnVuY3Rpb24gc3RyaXBTcGFjZSgpe2lmKGhhc1RhZyYmIW5vblNwYWNlKXt3aGlsZShzcGFjZXMubGVuZ3RoKWRlbGV0ZSB0b2tlbnNbc3BhY2VzLnBvcCgpXX1lbHNle3NwYWNlcz1bXX1oYXNUYWc9ZmFsc2U7bm9uU3BhY2U9ZmFsc2V9dmFyIG9wZW5pbmdUYWdSZSxjbG9zaW5nVGFnUmUsY2xvc2luZ0N1cmx5UmU7ZnVuY3Rpb24gY29tcGlsZVRhZ3ModGFnc1RvQ29tcGlsZSl7aWYodHlwZW9mIHRhZ3NUb0NvbXBpbGU9PT1cInN0cmluZ1wiKXRhZ3NUb0NvbXBpbGU9dGFnc1RvQ29tcGlsZS5zcGxpdChzcGFjZVJlLDIpO2lmKCFpc0FycmF5KHRhZ3NUb0NvbXBpbGUpfHx0YWdzVG9Db21waWxlLmxlbmd0aCE9PTIpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB0YWdzOiBcIit0YWdzVG9Db21waWxlKTtvcGVuaW5nVGFnUmU9bmV3IFJlZ0V4cChlc2NhcGVSZWdFeHAodGFnc1RvQ29tcGlsZVswXSkrXCJcXFxccypcIik7Y2xvc2luZ1RhZ1JlPW5ldyBSZWdFeHAoXCJcXFxccypcIitlc2NhcGVSZWdFeHAodGFnc1RvQ29tcGlsZVsxXSkpO2Nsb3NpbmdDdXJseVJlPW5ldyBSZWdFeHAoXCJcXFxccypcIitlc2NhcGVSZWdFeHAoXCJ9XCIrdGFnc1RvQ29tcGlsZVsxXSkpfWNvbXBpbGVUYWdzKHRhZ3N8fG11c3RhY2hlLnRhZ3MpO3ZhciBzY2FubmVyPW5ldyBTY2FubmVyKHRlbXBsYXRlKTt2YXIgc3RhcnQsdHlwZSx2YWx1ZSxjaHIsdG9rZW4sb3BlblNlY3Rpb247d2hpbGUoIXNjYW5uZXIuZW9zKCkpe3N0YXJ0PXNjYW5uZXIucG9zO3ZhbHVlPXNjYW5uZXIuc2NhblVudGlsKG9wZW5pbmdUYWdSZSk7aWYodmFsdWUpe2Zvcih2YXIgaT0wLHZhbHVlTGVuZ3RoPXZhbHVlLmxlbmd0aDtpPHZhbHVlTGVuZ3RoOysraSl7Y2hyPXZhbHVlLmNoYXJBdChpKTtpZihpc1doaXRlc3BhY2UoY2hyKSl7c3BhY2VzLnB1c2godG9rZW5zLmxlbmd0aCl9ZWxzZXtub25TcGFjZT10cnVlfXRva2Vucy5wdXNoKFtcInRleHRcIixjaHIsc3RhcnQsc3RhcnQrMV0pO3N0YXJ0Kz0xO2lmKGNocj09PVwiXFxuXCIpc3RyaXBTcGFjZSgpfX1pZighc2Nhbm5lci5zY2FuKG9wZW5pbmdUYWdSZSkpYnJlYWs7aGFzVGFnPXRydWU7dHlwZT1zY2FubmVyLnNjYW4odGFnUmUpfHxcIm5hbWVcIjtzY2FubmVyLnNjYW4od2hpdGVSZSk7aWYodHlwZT09PVwiPVwiKXt2YWx1ZT1zY2FubmVyLnNjYW5VbnRpbChlcXVhbHNSZSk7c2Nhbm5lci5zY2FuKGVxdWFsc1JlKTtzY2FubmVyLnNjYW5VbnRpbChjbG9zaW5nVGFnUmUpfWVsc2UgaWYodHlwZT09PVwie1wiKXt2YWx1ZT1zY2FubmVyLnNjYW5VbnRpbChjbG9zaW5nQ3VybHlSZSk7c2Nhbm5lci5zY2FuKGN1cmx5UmUpO3NjYW5uZXIuc2NhblVudGlsKGNsb3NpbmdUYWdSZSk7dHlwZT1cIiZcIn1lbHNle3ZhbHVlPXNjYW5uZXIuc2NhblVudGlsKGNsb3NpbmdUYWdSZSl9aWYoIXNjYW5uZXIuc2NhbihjbG9zaW5nVGFnUmUpKXRocm93IG5ldyBFcnJvcihcIlVuY2xvc2VkIHRhZyBhdCBcIitzY2FubmVyLnBvcyk7dG9rZW49W3R5cGUsdmFsdWUsc3RhcnQsc2Nhbm5lci5wb3NdO3Rva2Vucy5wdXNoKHRva2VuKTtpZih0eXBlPT09XCIjXCJ8fHR5cGU9PT1cIl5cIil7c2VjdGlvbnMucHVzaCh0b2tlbil9ZWxzZSBpZih0eXBlPT09XCIvXCIpe29wZW5TZWN0aW9uPXNlY3Rpb25zLnBvcCgpO2lmKCFvcGVuU2VjdGlvbil0aHJvdyBuZXcgRXJyb3IoJ1Vub3BlbmVkIHNlY3Rpb24gXCInK3ZhbHVlKydcIiBhdCAnK3N0YXJ0KTtpZihvcGVuU2VjdGlvblsxXSE9PXZhbHVlKXRocm93IG5ldyBFcnJvcignVW5jbG9zZWQgc2VjdGlvbiBcIicrb3BlblNlY3Rpb25bMV0rJ1wiIGF0ICcrc3RhcnQpfWVsc2UgaWYodHlwZT09PVwibmFtZVwifHx0eXBlPT09XCJ7XCJ8fHR5cGU9PT1cIiZcIil7bm9uU3BhY2U9dHJ1ZX1lbHNlIGlmKHR5cGU9PT1cIj1cIil7Y29tcGlsZVRhZ3ModmFsdWUpfX1vcGVuU2VjdGlvbj1zZWN0aW9ucy5wb3AoKTtpZihvcGVuU2VjdGlvbil0aHJvdyBuZXcgRXJyb3IoJ1VuY2xvc2VkIHNlY3Rpb24gXCInK29wZW5TZWN0aW9uWzFdKydcIiBhdCAnK3NjYW5uZXIucG9zKTtyZXR1cm4gbmVzdFRva2VucyhzcXVhc2hUb2tlbnModG9rZW5zKSl9ZnVuY3Rpb24gc3F1YXNoVG9rZW5zKHRva2Vucyl7dmFyIHNxdWFzaGVkVG9rZW5zPVtdO3ZhciB0b2tlbixsYXN0VG9rZW47Zm9yKHZhciBpPTAsbnVtVG9rZW5zPXRva2Vucy5sZW5ndGg7aTxudW1Ub2tlbnM7KytpKXt0b2tlbj10b2tlbnNbaV07aWYodG9rZW4pe2lmKHRva2VuWzBdPT09XCJ0ZXh0XCImJmxhc3RUb2tlbiYmbGFzdFRva2VuWzBdPT09XCJ0ZXh0XCIpe2xhc3RUb2tlblsxXSs9dG9rZW5bMV07bGFzdFRva2VuWzNdPXRva2VuWzNdfWVsc2V7c3F1YXNoZWRUb2tlbnMucHVzaCh0b2tlbik7bGFzdFRva2VuPXRva2VufX19cmV0dXJuIHNxdWFzaGVkVG9rZW5zfWZ1bmN0aW9uIG5lc3RUb2tlbnModG9rZW5zKXt2YXIgbmVzdGVkVG9rZW5zPVtdO3ZhciBjb2xsZWN0b3I9bmVzdGVkVG9rZW5zO3ZhciBzZWN0aW9ucz1bXTt2YXIgdG9rZW4sc2VjdGlvbjtmb3IodmFyIGk9MCxudW1Ub2tlbnM9dG9rZW5zLmxlbmd0aDtpPG51bVRva2VuczsrK2kpe3Rva2VuPXRva2Vuc1tpXTtzd2l0Y2godG9rZW5bMF0pe2Nhc2VcIiNcIjpjYXNlXCJeXCI6Y29sbGVjdG9yLnB1c2godG9rZW4pO3NlY3Rpb25zLnB1c2godG9rZW4pO2NvbGxlY3Rvcj10b2tlbls0XT1bXTticmVhaztjYXNlXCIvXCI6c2VjdGlvbj1zZWN0aW9ucy5wb3AoKTtzZWN0aW9uWzVdPXRva2VuWzJdO2NvbGxlY3Rvcj1zZWN0aW9ucy5sZW5ndGg+MD9zZWN0aW9uc1tzZWN0aW9ucy5sZW5ndGgtMV1bNF06bmVzdGVkVG9rZW5zO2JyZWFrO2RlZmF1bHQ6Y29sbGVjdG9yLnB1c2godG9rZW4pfX1yZXR1cm4gbmVzdGVkVG9rZW5zfWZ1bmN0aW9uIFNjYW5uZXIoc3RyaW5nKXt0aGlzLnN0cmluZz1zdHJpbmc7dGhpcy50YWlsPXN0cmluZzt0aGlzLnBvcz0wfVNjYW5uZXIucHJvdG90eXBlLmVvcz1mdW5jdGlvbiBlb3MoKXtyZXR1cm4gdGhpcy50YWlsPT09XCJcIn07U2Nhbm5lci5wcm90b3R5cGUuc2Nhbj1mdW5jdGlvbiBzY2FuKHJlKXt2YXIgbWF0Y2g9dGhpcy50YWlsLm1hdGNoKHJlKTtpZighbWF0Y2h8fG1hdGNoLmluZGV4IT09MClyZXR1cm5cIlwiO3ZhciBzdHJpbmc9bWF0Y2hbMF07dGhpcy50YWlsPXRoaXMudGFpbC5zdWJzdHJpbmcoc3RyaW5nLmxlbmd0aCk7dGhpcy5wb3MrPXN0cmluZy5sZW5ndGg7cmV0dXJuIHN0cmluZ307U2Nhbm5lci5wcm90b3R5cGUuc2NhblVudGlsPWZ1bmN0aW9uIHNjYW5VbnRpbChyZSl7dmFyIGluZGV4PXRoaXMudGFpbC5zZWFyY2gocmUpLG1hdGNoO3N3aXRjaChpbmRleCl7Y2FzZS0xOm1hdGNoPXRoaXMudGFpbDt0aGlzLnRhaWw9XCJcIjticmVhaztjYXNlIDA6bWF0Y2g9XCJcIjticmVhaztkZWZhdWx0Om1hdGNoPXRoaXMudGFpbC5zdWJzdHJpbmcoMCxpbmRleCk7dGhpcy50YWlsPXRoaXMudGFpbC5zdWJzdHJpbmcoaW5kZXgpfXRoaXMucG9zKz1tYXRjaC5sZW5ndGg7cmV0dXJuIG1hdGNofTtmdW5jdGlvbiBDb250ZXh0KHZpZXcscGFyZW50Q29udGV4dCl7dGhpcy52aWV3PXZpZXc7dGhpcy5jYWNoZT17XCIuXCI6dGhpcy52aWV3fTt0aGlzLnBhcmVudD1wYXJlbnRDb250ZXh0fUNvbnRleHQucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24gcHVzaCh2aWV3KXtyZXR1cm4gbmV3IENvbnRleHQodmlldyx0aGlzKX07Q29udGV4dC5wcm90b3R5cGUubG9va3VwPWZ1bmN0aW9uIGxvb2t1cChuYW1lKXt2YXIgY2FjaGU9dGhpcy5jYWNoZTt2YXIgdmFsdWU7aWYoY2FjaGUuaGFzT3duUHJvcGVydHkobmFtZSkpe3ZhbHVlPWNhY2hlW25hbWVdfWVsc2V7dmFyIGNvbnRleHQ9dGhpcyxuYW1lcyxpbmRleCxsb29rdXBIaXQ9ZmFsc2U7d2hpbGUoY29udGV4dCl7aWYobmFtZS5pbmRleE9mKFwiLlwiKT4wKXt2YWx1ZT1jb250ZXh0LnZpZXc7bmFtZXM9bmFtZS5zcGxpdChcIi5cIik7aW5kZXg9MDt3aGlsZSh2YWx1ZSE9bnVsbCYmaW5kZXg8bmFtZXMubGVuZ3RoKXtpZihpbmRleD09PW5hbWVzLmxlbmd0aC0xKWxvb2t1cEhpdD1oYXNQcm9wZXJ0eSh2YWx1ZSxuYW1lc1tpbmRleF0pO3ZhbHVlPXZhbHVlW25hbWVzW2luZGV4KytdXX19ZWxzZXt2YWx1ZT1jb250ZXh0LnZpZXdbbmFtZV07bG9va3VwSGl0PWhhc1Byb3BlcnR5KGNvbnRleHQudmlldyxuYW1lKX1pZihsb29rdXBIaXQpYnJlYWs7Y29udGV4dD1jb250ZXh0LnBhcmVudH1jYWNoZVtuYW1lXT12YWx1ZX1pZihpc0Z1bmN0aW9uKHZhbHVlKSl2YWx1ZT12YWx1ZS5jYWxsKHRoaXMudmlldyk7cmV0dXJuIHZhbHVlfTtmdW5jdGlvbiBXcml0ZXIoKXt0aGlzLmNhY2hlPXt9fVdyaXRlci5wcm90b3R5cGUuY2xlYXJDYWNoZT1mdW5jdGlvbiBjbGVhckNhY2hlKCl7dGhpcy5jYWNoZT17fX07V3JpdGVyLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbiBwYXJzZSh0ZW1wbGF0ZSx0YWdzKXt2YXIgY2FjaGU9dGhpcy5jYWNoZTt2YXIgdG9rZW5zPWNhY2hlW3RlbXBsYXRlXTtpZih0b2tlbnM9PW51bGwpdG9rZW5zPWNhY2hlW3RlbXBsYXRlXT1wYXJzZVRlbXBsYXRlKHRlbXBsYXRlLHRhZ3MpO3JldHVybiB0b2tlbnN9O1dyaXRlci5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uIHJlbmRlcih0ZW1wbGF0ZSx2aWV3LHBhcnRpYWxzKXt2YXIgdG9rZW5zPXRoaXMucGFyc2UodGVtcGxhdGUpO3ZhciBjb250ZXh0PXZpZXcgaW5zdGFuY2VvZiBDb250ZXh0P3ZpZXc6bmV3IENvbnRleHQodmlldyk7cmV0dXJuIHRoaXMucmVuZGVyVG9rZW5zKHRva2Vucyxjb250ZXh0LHBhcnRpYWxzLHRlbXBsYXRlKX07V3JpdGVyLnByb3RvdHlwZS5yZW5kZXJUb2tlbnM9ZnVuY3Rpb24gcmVuZGVyVG9rZW5zKHRva2Vucyxjb250ZXh0LHBhcnRpYWxzLG9yaWdpbmFsVGVtcGxhdGUpe3ZhciBidWZmZXI9XCJcIjt2YXIgdG9rZW4sc3ltYm9sLHZhbHVlO2Zvcih2YXIgaT0wLG51bVRva2Vucz10b2tlbnMubGVuZ3RoO2k8bnVtVG9rZW5zOysraSl7dmFsdWU9dW5kZWZpbmVkO3Rva2VuPXRva2Vuc1tpXTtzeW1ib2w9dG9rZW5bMF07aWYoc3ltYm9sPT09XCIjXCIpdmFsdWU9dGhpcy5yZW5kZXJTZWN0aW9uKHRva2VuLGNvbnRleHQscGFydGlhbHMsb3JpZ2luYWxUZW1wbGF0ZSk7ZWxzZSBpZihzeW1ib2w9PT1cIl5cIil2YWx1ZT10aGlzLnJlbmRlckludmVydGVkKHRva2VuLGNvbnRleHQscGFydGlhbHMsb3JpZ2luYWxUZW1wbGF0ZSk7ZWxzZSBpZihzeW1ib2w9PT1cIj5cIil2YWx1ZT10aGlzLnJlbmRlclBhcnRpYWwodG9rZW4sY29udGV4dCxwYXJ0aWFscyxvcmlnaW5hbFRlbXBsYXRlKTtlbHNlIGlmKHN5bWJvbD09PVwiJlwiKXZhbHVlPXRoaXMudW5lc2NhcGVkVmFsdWUodG9rZW4sY29udGV4dCk7ZWxzZSBpZihzeW1ib2w9PT1cIm5hbWVcIil2YWx1ZT10aGlzLmVzY2FwZWRWYWx1ZSh0b2tlbixjb250ZXh0KTtlbHNlIGlmKHN5bWJvbD09PVwidGV4dFwiKXZhbHVlPXRoaXMucmF3VmFsdWUodG9rZW4pO2lmKHZhbHVlIT09dW5kZWZpbmVkKWJ1ZmZlcis9dmFsdWV9cmV0dXJuIGJ1ZmZlcn07V3JpdGVyLnByb3RvdHlwZS5yZW5kZXJTZWN0aW9uPWZ1bmN0aW9uIHJlbmRlclNlY3Rpb24odG9rZW4sY29udGV4dCxwYXJ0aWFscyxvcmlnaW5hbFRlbXBsYXRlKXt2YXIgc2VsZj10aGlzO3ZhciBidWZmZXI9XCJcIjt2YXIgdmFsdWU9Y29udGV4dC5sb29rdXAodG9rZW5bMV0pO2Z1bmN0aW9uIHN1YlJlbmRlcih0ZW1wbGF0ZSl7cmV0dXJuIHNlbGYucmVuZGVyKHRlbXBsYXRlLGNvbnRleHQscGFydGlhbHMpfWlmKCF2YWx1ZSlyZXR1cm47aWYoaXNBcnJheSh2YWx1ZSkpe2Zvcih2YXIgaj0wLHZhbHVlTGVuZ3RoPXZhbHVlLmxlbmd0aDtqPHZhbHVlTGVuZ3RoOysrail7YnVmZmVyKz10aGlzLnJlbmRlclRva2Vucyh0b2tlbls0XSxjb250ZXh0LnB1c2godmFsdWVbal0pLHBhcnRpYWxzLG9yaWdpbmFsVGVtcGxhdGUpfX1lbHNlIGlmKHR5cGVvZiB2YWx1ZT09PVwib2JqZWN0XCJ8fHR5cGVvZiB2YWx1ZT09PVwic3RyaW5nXCJ8fHR5cGVvZiB2YWx1ZT09PVwibnVtYmVyXCIpe2J1ZmZlcis9dGhpcy5yZW5kZXJUb2tlbnModG9rZW5bNF0sY29udGV4dC5wdXNoKHZhbHVlKSxwYXJ0aWFscyxvcmlnaW5hbFRlbXBsYXRlKX1lbHNlIGlmKGlzRnVuY3Rpb24odmFsdWUpKXtpZih0eXBlb2Ygb3JpZ2luYWxUZW1wbGF0ZSE9PVwic3RyaW5nXCIpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHVzZSBoaWdoZXItb3JkZXIgc2VjdGlvbnMgd2l0aG91dCB0aGUgb3JpZ2luYWwgdGVtcGxhdGVcIik7dmFsdWU9dmFsdWUuY2FsbChjb250ZXh0LnZpZXcsb3JpZ2luYWxUZW1wbGF0ZS5zbGljZSh0b2tlblszXSx0b2tlbls1XSksc3ViUmVuZGVyKTtpZih2YWx1ZSE9bnVsbClidWZmZXIrPXZhbHVlfWVsc2V7YnVmZmVyKz10aGlzLnJlbmRlclRva2Vucyh0b2tlbls0XSxjb250ZXh0LHBhcnRpYWxzLG9yaWdpbmFsVGVtcGxhdGUpfXJldHVybiBidWZmZXJ9O1dyaXRlci5wcm90b3R5cGUucmVuZGVySW52ZXJ0ZWQ9ZnVuY3Rpb24gcmVuZGVySW52ZXJ0ZWQodG9rZW4sY29udGV4dCxwYXJ0aWFscyxvcmlnaW5hbFRlbXBsYXRlKXt2YXIgdmFsdWU9Y29udGV4dC5sb29rdXAodG9rZW5bMV0pO2lmKCF2YWx1ZXx8aXNBcnJheSh2YWx1ZSkmJnZhbHVlLmxlbmd0aD09PTApcmV0dXJuIHRoaXMucmVuZGVyVG9rZW5zKHRva2VuWzRdLGNvbnRleHQscGFydGlhbHMsb3JpZ2luYWxUZW1wbGF0ZSl9O1dyaXRlci5wcm90b3R5cGUucmVuZGVyUGFydGlhbD1mdW5jdGlvbiByZW5kZXJQYXJ0aWFsKHRva2VuLGNvbnRleHQscGFydGlhbHMpe2lmKCFwYXJ0aWFscylyZXR1cm47dmFyIHZhbHVlPWlzRnVuY3Rpb24ocGFydGlhbHMpP3BhcnRpYWxzKHRva2VuWzFdKTpwYXJ0aWFsc1t0b2tlblsxXV07aWYodmFsdWUhPW51bGwpcmV0dXJuIHRoaXMucmVuZGVyVG9rZW5zKHRoaXMucGFyc2UodmFsdWUpLGNvbnRleHQscGFydGlhbHMsdmFsdWUpfTtXcml0ZXIucHJvdG90eXBlLnVuZXNjYXBlZFZhbHVlPWZ1bmN0aW9uIHVuZXNjYXBlZFZhbHVlKHRva2VuLGNvbnRleHQpe3ZhciB2YWx1ZT1jb250ZXh0Lmxvb2t1cCh0b2tlblsxXSk7aWYodmFsdWUhPW51bGwpcmV0dXJuIHZhbHVlfTtXcml0ZXIucHJvdG90eXBlLmVzY2FwZWRWYWx1ZT1mdW5jdGlvbiBlc2NhcGVkVmFsdWUodG9rZW4sY29udGV4dCl7dmFyIHZhbHVlPWNvbnRleHQubG9va3VwKHRva2VuWzFdKTtpZih2YWx1ZSE9bnVsbClyZXR1cm4gbXVzdGFjaGUuZXNjYXBlKHZhbHVlKX07V3JpdGVyLnByb3RvdHlwZS5yYXdWYWx1ZT1mdW5jdGlvbiByYXdWYWx1ZSh0b2tlbil7cmV0dXJuIHRva2VuWzFdfTttdXN0YWNoZS5uYW1lPVwibXVzdGFjaGUuanNcIjttdXN0YWNoZS52ZXJzaW9uPVwiMi4yLjFcIjttdXN0YWNoZS50YWdzPVtcInt7XCIsXCJ9fVwiXTt2YXIgZGVmYXVsdFdyaXRlcj1uZXcgV3JpdGVyO211c3RhY2hlLmNsZWFyQ2FjaGU9ZnVuY3Rpb24gY2xlYXJDYWNoZSgpe3JldHVybiBkZWZhdWx0V3JpdGVyLmNsZWFyQ2FjaGUoKX07bXVzdGFjaGUucGFyc2U9ZnVuY3Rpb24gcGFyc2UodGVtcGxhdGUsdGFncyl7cmV0dXJuIGRlZmF1bHRXcml0ZXIucGFyc2UodGVtcGxhdGUsdGFncyl9O211c3RhY2hlLnJlbmRlcj1mdW5jdGlvbiByZW5kZXIodGVtcGxhdGUsdmlldyxwYXJ0aWFscyl7aWYodHlwZW9mIHRlbXBsYXRlIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCB0ZW1wbGF0ZSEgVGVtcGxhdGUgc2hvdWxkIGJlIGEgXCJzdHJpbmdcIiAnKydidXQgXCInK3R5cGVTdHIodGVtcGxhdGUpKydcIiB3YXMgZ2l2ZW4gYXMgdGhlIGZpcnN0ICcrXCJhcmd1bWVudCBmb3IgbXVzdGFjaGUjcmVuZGVyKHRlbXBsYXRlLCB2aWV3LCBwYXJ0aWFscylcIil9cmV0dXJuIGRlZmF1bHRXcml0ZXIucmVuZGVyKHRlbXBsYXRlLHZpZXcscGFydGlhbHMpfTttdXN0YWNoZS50b19odG1sPWZ1bmN0aW9uIHRvX2h0bWwodGVtcGxhdGUsdmlldyxwYXJ0aWFscyxzZW5kKXt2YXIgcmVzdWx0PW11c3RhY2hlLnJlbmRlcih0ZW1wbGF0ZSx2aWV3LHBhcnRpYWxzKTtpZihpc0Z1bmN0aW9uKHNlbmQpKXtzZW5kKHJlc3VsdCl9ZWxzZXtyZXR1cm4gcmVzdWx0fX07bXVzdGFjaGUuZXNjYXBlPWVzY2FwZUh0bWw7bXVzdGFjaGUuU2Nhbm5lcj1TY2FubmVyO211c3RhY2hlLkNvbnRleHQ9Q29udGV4dDttdXN0YWNoZS5Xcml0ZXI9V3JpdGVyfSk7XG4iXSwiZmlsZSI6Im11c3RhY2hlLm1pbi5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9

if (!Object.keys) {
    Object.keys = (function() {
        'use strict';
        var hasOwnProperty = Object.prototype.hasOwnProperty,
            hasDontEnumBug = !({
                toString: null
            })
            .propertyIsEnumerable('toString'),
            dontEnums = ['toString', 'toLocaleString', 'valueOf', 'hasOwnProperty', 'isPrototypeOf', 'propertyIsEnumerable', 'constructor'],
            dontEnumsLength = dontEnums.length;
        return function(obj) {
            if (typeof obj !== 'object' && (typeof obj !== 'function' || obj === null)) {
                throw new TypeError('Object.keys called on non-object');
            }
            var result = [],
                prop, i;
            for (prop in obj) {
                if (hasOwnProperty.call(obj, prop)) {
                    result.push(prop);
                }
            }
            if (hasDontEnumBug) {
                for (i = 0; i < dontEnumsLength; i++) {
                    if (hasOwnProperty.call(obj, dontEnums[i])) {
                        result.push(dontEnums[i]);
                    }
                }
            }
            return result;
        };
    }());
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJtcC5oZWxwZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaWYgKCFPYmplY3Qua2V5cykge1xyXG4gICAgT2JqZWN0LmtleXMgPSAoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgJ3VzZSBzdHJpY3QnO1xyXG4gICAgICAgIHZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksXHJcbiAgICAgICAgICAgIGhhc0RvbnRFbnVtQnVnID0gISh7XHJcbiAgICAgICAgICAgICAgICB0b1N0cmluZzogbnVsbFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAucHJvcGVydHlJc0VudW1lcmFibGUoJ3RvU3RyaW5nJyksXHJcbiAgICAgICAgICAgIGRvbnRFbnVtcyA9IFsndG9TdHJpbmcnLCAndG9Mb2NhbGVTdHJpbmcnLCAndmFsdWVPZicsICdoYXNPd25Qcm9wZXJ0eScsICdpc1Byb3RvdHlwZU9mJywgJ3Byb3BlcnR5SXNFbnVtZXJhYmxlJywgJ2NvbnN0cnVjdG9yJ10sXHJcbiAgICAgICAgICAgIGRvbnRFbnVtc0xlbmd0aCA9IGRvbnRFbnVtcy5sZW5ndGg7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iaikge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcgJiYgKHR5cGVvZiBvYmogIT09ICdmdW5jdGlvbicgfHwgb2JqID09PSBudWxsKSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0LmtleXMgY2FsbGVkIG9uIG5vbi1vYmplY3QnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gW10sXHJcbiAgICAgICAgICAgICAgICBwcm9wLCBpO1xyXG4gICAgICAgICAgICBmb3IgKHByb3AgaW4gb2JqKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gocHJvcCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGhhc0RvbnRFbnVtQnVnKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZG9udEVudW1zTGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGRvbnRFbnVtc1tpXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goZG9udEVudW1zW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9O1xyXG4gICAgfSgpKTtcclxufVxyXG4iXSwiZmlsZSI6Im1wLmhlbHBlci5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9

window.MP = window.MP || {};
MP.network = (function($) {
    'use strict';
    // if (window.chrome && window.chrome.app && window.chrome.app.window) {

    // } else {
        $('head').append([
            '<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">',
        ]);
        $('#font-link').attr('src', 'https://fonts.googleapis.com/css?family=Roboto');
        $('body').append([
            '<script src="https://www.google.com/jsapi?key=AIzaSyCtkghKt38OyadfYdhm3Ybubq2JVFl-QAo"></script>',
            '<script src="https://apis.google.com/js/client.js"></script>',
            '<script type="text/javascript" src="https://www.dropbox.com/static/api/2/dropins.js" id="dropboxjs" data-app-key="1h54ipc0xt6l0os"></script>'
        ].join(''));
    // }
    var network = {
        init: {

        }
    };

    return network;
}(jQuery));

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJtcC5uZXR3b3JrLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIndpbmRvdy5NUCA9IHdpbmRvdy5NUCB8fCB7fTtcclxuTVAubmV0d29yayA9IChmdW5jdGlvbigkKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcbiAgICAvLyBpZiAod2luZG93LmNocm9tZSAmJiB3aW5kb3cuY2hyb21lLmFwcCAmJiB3aW5kb3cuY2hyb21lLmFwcC53aW5kb3cpIHtcclxuXHJcbiAgICAvLyB9IGVsc2Uge1xyXG4gICAgICAgICQoJ2hlYWQnKS5hcHBlbmQoW1xyXG4gICAgICAgICAgICAnPGxpbmsgaHJlZj1cImh0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vaWNvbj9mYW1pbHk9TWF0ZXJpYWwrSWNvbnNcIiByZWw9XCJzdHlsZXNoZWV0XCI+JyxcclxuICAgICAgICBdKTtcclxuICAgICAgICAkKCcjZm9udC1saW5rJykuYXR0cignc3JjJywgJ2h0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzP2ZhbWlseT1Sb2JvdG8nKTtcclxuICAgICAgICAkKCdib2R5JykuYXBwZW5kKFtcclxuICAgICAgICAgICAgJzxzY3JpcHQgc3JjPVwiaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9qc2FwaT9rZXk9QUl6YVN5Q3RrZ2hLdDM4T3lhZGZZZGhtM1lidWJxMkpWRmwtUUFvXCI+PC9zY3JpcHQ+JyxcclxuICAgICAgICAgICAgJzxzY3JpcHQgc3JjPVwiaHR0cHM6Ly9hcGlzLmdvb2dsZS5jb20vanMvY2xpZW50LmpzXCI+PC9zY3JpcHQ+JyxcclxuICAgICAgICAgICAgJzxzY3JpcHQgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiIHNyYz1cImh0dHBzOi8vd3d3LmRyb3Bib3guY29tL3N0YXRpYy9hcGkvMi9kcm9waW5zLmpzXCIgaWQ9XCJkcm9wYm94anNcIiBkYXRhLWFwcC1rZXk9XCIxaDU0aXBjMHh0Nmwwb3NcIj48L3NjcmlwdD4nXHJcbiAgICAgICAgXS5qb2luKCcnKSk7XHJcbiAgICAvLyB9XHJcbiAgICB2YXIgbmV0d29yayA9IHtcclxuICAgICAgICBpbml0OiB7XHJcblxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIG5ldHdvcms7XHJcbn0oalF1ZXJ5KSk7XHJcbiJdLCJmaWxlIjoibXAubmV0d29yay5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9

window.MP = window.MP || {};
MP.init = (function($) {
    'use strict';
    /*
        Helper Variables
     */
    var $wrapper = $('#wrapper');
    var $window = $(window);
    return {
        preventDefault: function preventDefault(e) {
            e.preventDefault();
        },
        libraryview: $('#libraryview'),
        databaseName: 'MP',
        databaseSchema: 'id,artist,album,track,title,file,dom',
        defaultTableContent: '<thead><th>No Songs</th></thead><tbody><td>No Songs</td></tbody>',
        el: {
            searchInput: $('#fixed-header-drawer-exp'),
            libraryView: $('#libraryview'),
            deleteDatabase: $('#deletedatabase'),
        },
        option: {
            table: {
                paging: false,
                order: [
                    [1, "asc"],
                    [0, "asc"]
                ],
            }
        }

    };
})(jQuery);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJtcC5pbml0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIndpbmRvdy5NUCA9IHdpbmRvdy5NUCB8fCB7fTtcclxuTVAuaW5pdCA9IChmdW5jdGlvbigkKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcbiAgICAvKlxyXG4gICAgICAgIEhlbHBlciBWYXJpYWJsZXNcclxuICAgICAqL1xyXG4gICAgdmFyICR3cmFwcGVyID0gJCgnI3dyYXBwZXInKTtcclxuICAgIHZhciAkd2luZG93ID0gJCh3aW5kb3cpO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24gcHJldmVudERlZmF1bHQoZSkge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBsaWJyYXJ5dmlldzogJCgnI2xpYnJhcnl2aWV3JyksXHJcbiAgICAgICAgZGF0YWJhc2VOYW1lOiAnTVAnLFxyXG4gICAgICAgIGRhdGFiYXNlU2NoZW1hOiAnaWQsYXJ0aXN0LGFsYnVtLHRyYWNrLHRpdGxlLGZpbGUsZG9tJyxcclxuICAgICAgICBkZWZhdWx0VGFibGVDb250ZW50OiAnPHRoZWFkPjx0aD5ObyBTb25nczwvdGg+PC90aGVhZD48dGJvZHk+PHRkPk5vIFNvbmdzPC90ZD48L3Rib2R5PicsXHJcbiAgICAgICAgZWw6IHtcclxuICAgICAgICAgICAgc2VhcmNoSW5wdXQ6ICQoJyNmaXhlZC1oZWFkZXItZHJhd2VyLWV4cCcpLFxyXG4gICAgICAgICAgICBsaWJyYXJ5VmlldzogJCgnI2xpYnJhcnl2aWV3JyksXHJcbiAgICAgICAgICAgIGRlbGV0ZURhdGFiYXNlOiAkKCcjZGVsZXRlZGF0YWJhc2UnKSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIG9wdGlvbjoge1xyXG4gICAgICAgICAgICB0YWJsZToge1xyXG4gICAgICAgICAgICAgICAgcGFnaW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIG9yZGVyOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgWzEsIFwiYXNjXCJdLFxyXG4gICAgICAgICAgICAgICAgICAgIFswLCBcImFzY1wiXVxyXG4gICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9O1xyXG59KShqUXVlcnkpO1xyXG4iXSwiZmlsZSI6Im1wLmluaXQuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

window.MP = window.MP || {};
MP.db = (function($) {
    var $window = $(window);
    var $document = $(document);
    var databaseName = MP.init.databaseName;
    var defaultTableContent = MP.init.defaultTableContent;
    var databaseSchema = MP.init.databaseSchema;
    var $searchinput = MP.init.el.searchInput;
    var $libraryview = MP.init.el.libraryView;
    var $databasedeleted = MP.init.el.deleteDatabase;
    var tableOption = MP.init.option.table;
    var songs = [];

    var db = new Dexie(databaseName);

    $searchinput.on('keyup', searchLibrary);

    function searchLibrary(e) {
        var value = $(this)
            .val();
        $libraryview
            .DataTable()
            .search($(this)
                .val())
            .draw();
        console.log('Spacebar events initialized.');
    }

    function createRows(song) {
        var src = URL.createObjectURL(song.file);
        var number = $(song.dom).find('.track-number').text();
        songs.push({
            tracknumber: number,
            artist: song.artist,
            album: song.album,
            title: song.title,
            id: song.id,
            source: src
        });
    }

    function rowsCreated() {
        var template = $('#library-template').html();
        Mustache.parse(template);
        var rendered = Mustache.render(template, { songs: songs });
        $libraryview.html(rendered);
        console.log('Library rendered.');
    }

    function databaseError(error) {
        console.log('Fail to render library.');
        console.log(error);
    }

    function renderLibrary() {
        rows = [];
        db.songs.each(createRows)
            .then(rowsCreated)
            .catch(databaseError);
    }

    function insertSongToDB(event, dom, tags, file) {
        console.log('Metadata is ready, adding file to database.', [arguments]);
        db.songs.add({
                id: tags.artist + '|' + tags.album + '|' + tags.track + '|' + tags.title,
                artist: tags.artist,
                album: tags.album,
                track: tags.track,
                title: tags.title,
                dom: dom[0].outerHTML,
                file: file,
            })
            .then(songInserted)
            .catch(errorInsertingSong);
    }

    function songInserted() {
        $window.trigger('mp:databaseinserted');
        console.log('Database inserted for:', arguments);
    }

    function errorInsertingSong(e) {
        console.log(e);
    }

    function databaseDeleted() {
        $window.trigger('mp:databasedeleted');
        console.log('Database deleted!');
        alert('Database deleted!');
    }

    function errorDeletingDatabase(e) {
        alert('Error deleting database!');
        console.log(e);
    }

    function deleteDatabase() {
        var yes = confirm('Are you sure? A deleted database contains cached files and it could not be restored.');
        if (yes) {
            db.songs.clear().then(databaseDeleted).catch(errorDeletingDatabase);
        }
    }

    db.version(1)
        .stores({
            songs: databaseSchema,
        });
    db.open();
    db.transaction("rw", db.songs, function() {
            renderLibrary();
            $databasedeleted.on('click', deleteDatabase);
            $window.on('mp:metadataready', insertSongToDB);
            $window.on('mp:databaseinserted', renderLibrary);
            $window.on('mp:databasedeleted', renderLibrary);
        })
        .catch(function(error) {
            console.error(error);
        });
    return db;
})(jQuery);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJtcC5kYi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJ3aW5kb3cuTVAgPSB3aW5kb3cuTVAgfHwge307XHJcbk1QLmRiID0gKGZ1bmN0aW9uKCQpIHtcclxuICAgIHZhciAkd2luZG93ID0gJCh3aW5kb3cpO1xyXG4gICAgdmFyICRkb2N1bWVudCA9ICQoZG9jdW1lbnQpO1xyXG4gICAgdmFyIGRhdGFiYXNlTmFtZSA9IE1QLmluaXQuZGF0YWJhc2VOYW1lO1xyXG4gICAgdmFyIGRlZmF1bHRUYWJsZUNvbnRlbnQgPSBNUC5pbml0LmRlZmF1bHRUYWJsZUNvbnRlbnQ7XHJcbiAgICB2YXIgZGF0YWJhc2VTY2hlbWEgPSBNUC5pbml0LmRhdGFiYXNlU2NoZW1hO1xyXG4gICAgdmFyICRzZWFyY2hpbnB1dCA9IE1QLmluaXQuZWwuc2VhcmNoSW5wdXQ7XHJcbiAgICB2YXIgJGxpYnJhcnl2aWV3ID0gTVAuaW5pdC5lbC5saWJyYXJ5VmlldztcclxuICAgIHZhciAkZGF0YWJhc2VkZWxldGVkID0gTVAuaW5pdC5lbC5kZWxldGVEYXRhYmFzZTtcclxuICAgIHZhciB0YWJsZU9wdGlvbiA9IE1QLmluaXQub3B0aW9uLnRhYmxlO1xyXG4gICAgdmFyIHNvbmdzID0gW107XHJcblxyXG4gICAgdmFyIGRiID0gbmV3IERleGllKGRhdGFiYXNlTmFtZSk7XHJcblxyXG4gICAgJHNlYXJjaGlucHV0Lm9uKCdrZXl1cCcsIHNlYXJjaExpYnJhcnkpO1xyXG5cclxuICAgIGZ1bmN0aW9uIHNlYXJjaExpYnJhcnkoZSkge1xyXG4gICAgICAgIHZhciB2YWx1ZSA9ICQodGhpcylcclxuICAgICAgICAgICAgLnZhbCgpO1xyXG4gICAgICAgICRsaWJyYXJ5dmlld1xyXG4gICAgICAgICAgICAuRGF0YVRhYmxlKClcclxuICAgICAgICAgICAgLnNlYXJjaCgkKHRoaXMpXHJcbiAgICAgICAgICAgICAgICAudmFsKCkpXHJcbiAgICAgICAgICAgIC5kcmF3KCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1NwYWNlYmFyIGV2ZW50cyBpbml0aWFsaXplZC4nKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjcmVhdGVSb3dzKHNvbmcpIHtcclxuICAgICAgICB2YXIgc3JjID0gVVJMLmNyZWF0ZU9iamVjdFVSTChzb25nLmZpbGUpO1xyXG4gICAgICAgIHZhciBudW1iZXIgPSAkKHNvbmcuZG9tKS5maW5kKCcudHJhY2stbnVtYmVyJykudGV4dCgpO1xyXG4gICAgICAgIHNvbmdzLnB1c2goe1xyXG4gICAgICAgICAgICB0cmFja251bWJlcjogbnVtYmVyLFxyXG4gICAgICAgICAgICBhcnRpc3Q6IHNvbmcuYXJ0aXN0LFxyXG4gICAgICAgICAgICBhbGJ1bTogc29uZy5hbGJ1bSxcclxuICAgICAgICAgICAgdGl0bGU6IHNvbmcudGl0bGUsXHJcbiAgICAgICAgICAgIGlkOiBzb25nLmlkLFxyXG4gICAgICAgICAgICBzb3VyY2U6IHNyY1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJvd3NDcmVhdGVkKCkge1xyXG4gICAgICAgIHZhciB0ZW1wbGF0ZSA9ICQoJyNsaWJyYXJ5LXRlbXBsYXRlJykuaHRtbCgpO1xyXG4gICAgICAgIE11c3RhY2hlLnBhcnNlKHRlbXBsYXRlKTtcclxuICAgICAgICB2YXIgcmVuZGVyZWQgPSBNdXN0YWNoZS5yZW5kZXIodGVtcGxhdGUsIHsgc29uZ3M6IHNvbmdzIH0pO1xyXG4gICAgICAgICRsaWJyYXJ5dmlldy5odG1sKHJlbmRlcmVkKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnTGlicmFyeSByZW5kZXJlZC4nKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBkYXRhYmFzZUVycm9yKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0ZhaWwgdG8gcmVuZGVyIGxpYnJhcnkuJyk7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlbmRlckxpYnJhcnkoKSB7XHJcbiAgICAgICAgcm93cyA9IFtdO1xyXG4gICAgICAgIGRiLnNvbmdzLmVhY2goY3JlYXRlUm93cylcclxuICAgICAgICAgICAgLnRoZW4ocm93c0NyZWF0ZWQpXHJcbiAgICAgICAgICAgIC5jYXRjaChkYXRhYmFzZUVycm9yKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpbnNlcnRTb25nVG9EQihldmVudCwgZG9tLCB0YWdzLCBmaWxlKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ01ldGFkYXRhIGlzIHJlYWR5LCBhZGRpbmcgZmlsZSB0byBkYXRhYmFzZS4nLCBbYXJndW1lbnRzXSk7XHJcbiAgICAgICAgZGIuc29uZ3MuYWRkKHtcclxuICAgICAgICAgICAgICAgIGlkOiB0YWdzLmFydGlzdCArICd8JyArIHRhZ3MuYWxidW0gKyAnfCcgKyB0YWdzLnRyYWNrICsgJ3wnICsgdGFncy50aXRsZSxcclxuICAgICAgICAgICAgICAgIGFydGlzdDogdGFncy5hcnRpc3QsXHJcbiAgICAgICAgICAgICAgICBhbGJ1bTogdGFncy5hbGJ1bSxcclxuICAgICAgICAgICAgICAgIHRyYWNrOiB0YWdzLnRyYWNrLFxyXG4gICAgICAgICAgICAgICAgdGl0bGU6IHRhZ3MudGl0bGUsXHJcbiAgICAgICAgICAgICAgICBkb206IGRvbVswXS5vdXRlckhUTUwsXHJcbiAgICAgICAgICAgICAgICBmaWxlOiBmaWxlLFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbihzb25nSW5zZXJ0ZWQpXHJcbiAgICAgICAgICAgIC5jYXRjaChlcnJvckluc2VydGluZ1NvbmcpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNvbmdJbnNlcnRlZCgpIHtcclxuICAgICAgICAkd2luZG93LnRyaWdnZXIoJ21wOmRhdGFiYXNlaW5zZXJ0ZWQnKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnRGF0YWJhc2UgaW5zZXJ0ZWQgZm9yOicsIGFyZ3VtZW50cyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZXJyb3JJbnNlcnRpbmdTb25nKGUpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBkYXRhYmFzZURlbGV0ZWQoKSB7XHJcbiAgICAgICAgJHdpbmRvdy50cmlnZ2VyKCdtcDpkYXRhYmFzZWRlbGV0ZWQnKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnRGF0YWJhc2UgZGVsZXRlZCEnKTtcclxuICAgICAgICBhbGVydCgnRGF0YWJhc2UgZGVsZXRlZCEnKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBlcnJvckRlbGV0aW5nRGF0YWJhc2UoZSkge1xyXG4gICAgICAgIGFsZXJ0KCdFcnJvciBkZWxldGluZyBkYXRhYmFzZSEnKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBkZWxldGVEYXRhYmFzZSgpIHtcclxuICAgICAgICB2YXIgeWVzID0gY29uZmlybSgnQXJlIHlvdSBzdXJlPyBBIGRlbGV0ZWQgZGF0YWJhc2UgY29udGFpbnMgY2FjaGVkIGZpbGVzIGFuZCBpdCBjb3VsZCBub3QgYmUgcmVzdG9yZWQuJyk7XHJcbiAgICAgICAgaWYgKHllcykge1xyXG4gICAgICAgICAgICBkYi5zb25ncy5jbGVhcigpLnRoZW4oZGF0YWJhc2VEZWxldGVkKS5jYXRjaChlcnJvckRlbGV0aW5nRGF0YWJhc2UpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkYi52ZXJzaW9uKDEpXHJcbiAgICAgICAgLnN0b3Jlcyh7XHJcbiAgICAgICAgICAgIHNvbmdzOiBkYXRhYmFzZVNjaGVtYSxcclxuICAgICAgICB9KTtcclxuICAgIGRiLm9wZW4oKTtcclxuICAgIGRiLnRyYW5zYWN0aW9uKFwicndcIiwgZGIuc29uZ3MsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZW5kZXJMaWJyYXJ5KCk7XHJcbiAgICAgICAgICAgICRkYXRhYmFzZWRlbGV0ZWQub24oJ2NsaWNrJywgZGVsZXRlRGF0YWJhc2UpO1xyXG4gICAgICAgICAgICAkd2luZG93Lm9uKCdtcDptZXRhZGF0YXJlYWR5JywgaW5zZXJ0U29uZ1RvREIpO1xyXG4gICAgICAgICAgICAkd2luZG93Lm9uKCdtcDpkYXRhYmFzZWluc2VydGVkJywgcmVuZGVyTGlicmFyeSk7XHJcbiAgICAgICAgICAgICR3aW5kb3cub24oJ21wOmRhdGFiYXNlZGVsZXRlZCcsIHJlbmRlckxpYnJhcnkpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgcmV0dXJuIGRiO1xyXG59KShqUXVlcnkpO1xyXG4iXSwiZmlsZSI6Im1wLmRiLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=

window.MP = window.MP || {};
MP.player = (function($) {
    /*
        Player View
     */
    var $window = $(window);
    var $playerwrapper = $('footer');
    var $playlistview = $('#playlist-view');
    var $player = $('#player');
    var player = $player[0];
    var $subtitle = $('#subtitle');
    var $slider = $('#slider');
    var slider = $slider[0];
    var $loop = $('#loop');
    var $shuffle = $('#shuffle');
    var $play = $('#play');
    var $pause = $('#pause');
    var $previous = $('#previous');
    var $next = $('#next');
    var $currenttrack = $('#currenttrack');
    var $time = $('#time');
    var $fileselect = $('#fileselect');
    var $wrapper = $('#wrapper');
    var sliderResolution = $slider.attr('max');

    function formatTime(seconds) {
        var minutes = Math.floor(seconds / 60);
        seconds = Math.floor(seconds % 60);
        minutes = (minutes >= 10) ? minutes : "0" + minutes;
        seconds = (seconds >= 10) ? seconds : "0" + seconds;
        return minutes + ":" + seconds;
    }

    function seek(event) {
        var seekTo = player.duration * ($slider.val() / sliderResolution);
        player.currentTime = seekTo;
    }

    function play(url) {
        player.src = url;
        player.play();
        $playerwrapper.addClass('loading');
    }

    function playBtnHandler() {
        if ($player.attr('src')) {
            player.play();
        } else {
            $('.track')
                .first()
                .click();
        }
    }

    function pauseBtnHandler() {
        player.pause();
    }

    function prevBtnHandler() {
        if ($shuffle.hasClass('active')) {
            shuffle();
        } else {
            $('.track.active')
                .prev()
                .click();
        }
    }

    function nextBtnHandler() {
        if ($shuffle.hasClass('active')) {
            shuffle();
        } else {
            $('.track.active')
                .next()
                .click();
        }
    }

    function onPlay() {
        var currentTrack = [];
        var $activeTrack = $('.track.active');
        $playerwrapper.removeClass('paused');
        $playerwrapper.addClass('played');
        $activeTrack.find('td')
            .each(function(index, info) {
                var $info = $(info);
                if (index && $info.text() && index !== 4) {
                    currentTrack.push($info.text());
                }
            });
        currenttrack = currentTrack.join(' - ');
        console.log(currenttrack);
        if (!currenttrack.length) {
            currenttrack = $activeTrack.find('.track-file').text();
        }
        $currenttrack.html(currenttrack);
        $('[href="#nowplaying"]')
            .find('span')
            .click();
        $window.trigger('mp:played', [$activeTrack]);
        srt();
    }

    function onPause() {
        $playerwrapper.removeClass('played');
        $playerwrapper.addClass('paused');
    }

    function onTimeupdate(e) {
        var value = (e.target.currentTime / e.target.duration) * sliderResolution;
        var time = '(' + formatTime(e.target.currentTime) + ' / ' + formatTime(e.target.duration) + ')';
        slider.MaterialSlider.change(value);
        $time.html(time);
        $playerwrapper.removeClass('loading');
    }

    function onEnded(e) {
        if ($loop.hasClass('active')) {
            e.target.pause();
            e.target.currentTime = '0';
            e.target.play();
        } else if ($shuffle.hasClass('active')) {
            shuffle();
        } else {
            $('.track.active')
                .next()
                .click();
        }
    }

    function shuffle() {
        var $siblings = $('.track.active')
            .siblings('.track');
        var random = Math.floor(Math.random() * $siblings.length);
        $($siblings)
            .eq(random)
            .click();
    }

    function toggleActive(e) {
        var $target = $(e.target);
        $target.toggleClass('active');
    }

    function keyupListener(e) {
        if (e.keyCode == 32) {
            if (e.target.tagName !== 'INPUT') {
                e.preventDefault();
                if ($playerwrapper.hasClass('played')) {
                    $pause.click();
                } else {
                    $play.click();
                }
            }
        }
    }

    function setupPlayerEvents() {
        $play.on('click', playBtnHandler);
        $pause.on('click', pauseBtnHandler);
        $previous.on('click', prevBtnHandler);
        $next.on('click', nextBtnHandler);
        $player.on('pause', onPause);
        $player.on('play', onPlay);
        $player.on('ended', onEnded);
        player.ontimeupdate = onTimeupdate;
        $loop.on('click', toggleActive);
        $shuffle.on('click', toggleActive);
        $wrapper.on('keyup', keyupListener);
        $slider.on("change input", seek);
        $window.on('mp:playlistrendered', playFirstSong);
    }

    function playFirstSong() {
        $playlistview
            .find('.track')
            .first()
            .click();
    }

    $window.on('load', setupPlayerEvents);
    return {
        play: play
    };
}(jQuery));

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJtcC5wbGF5ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsid2luZG93Lk1QID0gd2luZG93Lk1QIHx8IHt9O1xyXG5NUC5wbGF5ZXIgPSAoZnVuY3Rpb24oJCkge1xyXG4gICAgLypcclxuICAgICAgICBQbGF5ZXIgVmlld1xyXG4gICAgICovXHJcbiAgICB2YXIgJHdpbmRvdyA9ICQod2luZG93KTtcclxuICAgIHZhciAkcGxheWVyd3JhcHBlciA9ICQoJ2Zvb3RlcicpO1xyXG4gICAgdmFyICRwbGF5bGlzdHZpZXcgPSAkKCcjcGxheWxpc3QtdmlldycpO1xyXG4gICAgdmFyICRwbGF5ZXIgPSAkKCcjcGxheWVyJyk7XHJcbiAgICB2YXIgcGxheWVyID0gJHBsYXllclswXTtcclxuICAgIHZhciAkc3VidGl0bGUgPSAkKCcjc3VidGl0bGUnKTtcclxuICAgIHZhciAkc2xpZGVyID0gJCgnI3NsaWRlcicpO1xyXG4gICAgdmFyIHNsaWRlciA9ICRzbGlkZXJbMF07XHJcbiAgICB2YXIgJGxvb3AgPSAkKCcjbG9vcCcpO1xyXG4gICAgdmFyICRzaHVmZmxlID0gJCgnI3NodWZmbGUnKTtcclxuICAgIHZhciAkcGxheSA9ICQoJyNwbGF5Jyk7XHJcbiAgICB2YXIgJHBhdXNlID0gJCgnI3BhdXNlJyk7XHJcbiAgICB2YXIgJHByZXZpb3VzID0gJCgnI3ByZXZpb3VzJyk7XHJcbiAgICB2YXIgJG5leHQgPSAkKCcjbmV4dCcpO1xyXG4gICAgdmFyICRjdXJyZW50dHJhY2sgPSAkKCcjY3VycmVudHRyYWNrJyk7XHJcbiAgICB2YXIgJHRpbWUgPSAkKCcjdGltZScpO1xyXG4gICAgdmFyICRmaWxlc2VsZWN0ID0gJCgnI2ZpbGVzZWxlY3QnKTtcclxuICAgIHZhciAkd3JhcHBlciA9ICQoJyN3cmFwcGVyJyk7XHJcbiAgICB2YXIgc2xpZGVyUmVzb2x1dGlvbiA9ICRzbGlkZXIuYXR0cignbWF4Jyk7XHJcblxyXG4gICAgZnVuY3Rpb24gZm9ybWF0VGltZShzZWNvbmRzKSB7XHJcbiAgICAgICAgdmFyIG1pbnV0ZXMgPSBNYXRoLmZsb29yKHNlY29uZHMgLyA2MCk7XHJcbiAgICAgICAgc2Vjb25kcyA9IE1hdGguZmxvb3Ioc2Vjb25kcyAlIDYwKTtcclxuICAgICAgICBtaW51dGVzID0gKG1pbnV0ZXMgPj0gMTApID8gbWludXRlcyA6IFwiMFwiICsgbWludXRlcztcclxuICAgICAgICBzZWNvbmRzID0gKHNlY29uZHMgPj0gMTApID8gc2Vjb25kcyA6IFwiMFwiICsgc2Vjb25kcztcclxuICAgICAgICByZXR1cm4gbWludXRlcyArIFwiOlwiICsgc2Vjb25kcztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZWVrKGV2ZW50KSB7XHJcbiAgICAgICAgdmFyIHNlZWtUbyA9IHBsYXllci5kdXJhdGlvbiAqICgkc2xpZGVyLnZhbCgpIC8gc2xpZGVyUmVzb2x1dGlvbik7XHJcbiAgICAgICAgcGxheWVyLmN1cnJlbnRUaW1lID0gc2Vla1RvO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHBsYXkodXJsKSB7XHJcbiAgICAgICAgcGxheWVyLnNyYyA9IHVybDtcclxuICAgICAgICBwbGF5ZXIucGxheSgpO1xyXG4gICAgICAgICRwbGF5ZXJ3cmFwcGVyLmFkZENsYXNzKCdsb2FkaW5nJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcGxheUJ0bkhhbmRsZXIoKSB7XHJcbiAgICAgICAgaWYgKCRwbGF5ZXIuYXR0cignc3JjJykpIHtcclxuICAgICAgICAgICAgcGxheWVyLnBsYXkoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkKCcudHJhY2snKVxyXG4gICAgICAgICAgICAgICAgLmZpcnN0KClcclxuICAgICAgICAgICAgICAgIC5jbGljaygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBwYXVzZUJ0bkhhbmRsZXIoKSB7XHJcbiAgICAgICAgcGxheWVyLnBhdXNlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcHJldkJ0bkhhbmRsZXIoKSB7XHJcbiAgICAgICAgaWYgKCRzaHVmZmxlLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xyXG4gICAgICAgICAgICBzaHVmZmxlKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJCgnLnRyYWNrLmFjdGl2ZScpXHJcbiAgICAgICAgICAgICAgICAucHJldigpXHJcbiAgICAgICAgICAgICAgICAuY2xpY2soKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbmV4dEJ0bkhhbmRsZXIoKSB7XHJcbiAgICAgICAgaWYgKCRzaHVmZmxlLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xyXG4gICAgICAgICAgICBzaHVmZmxlKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJCgnLnRyYWNrLmFjdGl2ZScpXHJcbiAgICAgICAgICAgICAgICAubmV4dCgpXHJcbiAgICAgICAgICAgICAgICAuY2xpY2soKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gb25QbGF5KCkge1xyXG4gICAgICAgIHZhciBjdXJyZW50VHJhY2sgPSBbXTtcclxuICAgICAgICB2YXIgJGFjdGl2ZVRyYWNrID0gJCgnLnRyYWNrLmFjdGl2ZScpO1xyXG4gICAgICAgICRwbGF5ZXJ3cmFwcGVyLnJlbW92ZUNsYXNzKCdwYXVzZWQnKTtcclxuICAgICAgICAkcGxheWVyd3JhcHBlci5hZGRDbGFzcygncGxheWVkJyk7XHJcbiAgICAgICAgJGFjdGl2ZVRyYWNrLmZpbmQoJ3RkJylcclxuICAgICAgICAgICAgLmVhY2goZnVuY3Rpb24oaW5kZXgsIGluZm8pIHtcclxuICAgICAgICAgICAgICAgIHZhciAkaW5mbyA9ICQoaW5mbyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggJiYgJGluZm8udGV4dCgpICYmIGluZGV4ICE9PSA0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFRyYWNrLnB1c2goJGluZm8udGV4dCgpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgY3VycmVudHRyYWNrID0gY3VycmVudFRyYWNrLmpvaW4oJyAtICcpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGN1cnJlbnR0cmFjayk7XHJcbiAgICAgICAgaWYgKCFjdXJyZW50dHJhY2subGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnR0cmFjayA9ICRhY3RpdmVUcmFjay5maW5kKCcudHJhY2stZmlsZScpLnRleHQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgJGN1cnJlbnR0cmFjay5odG1sKGN1cnJlbnR0cmFjayk7XHJcbiAgICAgICAgJCgnW2hyZWY9XCIjbm93cGxheWluZ1wiXScpXHJcbiAgICAgICAgICAgIC5maW5kKCdzcGFuJylcclxuICAgICAgICAgICAgLmNsaWNrKCk7XHJcbiAgICAgICAgJHdpbmRvdy50cmlnZ2VyKCdtcDpwbGF5ZWQnLCBbJGFjdGl2ZVRyYWNrXSk7XHJcbiAgICAgICAgc3J0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gb25QYXVzZSgpIHtcclxuICAgICAgICAkcGxheWVyd3JhcHBlci5yZW1vdmVDbGFzcygncGxheWVkJyk7XHJcbiAgICAgICAgJHBsYXllcndyYXBwZXIuYWRkQ2xhc3MoJ3BhdXNlZCcpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG9uVGltZXVwZGF0ZShlKSB7XHJcbiAgICAgICAgdmFyIHZhbHVlID0gKGUudGFyZ2V0LmN1cnJlbnRUaW1lIC8gZS50YXJnZXQuZHVyYXRpb24pICogc2xpZGVyUmVzb2x1dGlvbjtcclxuICAgICAgICB2YXIgdGltZSA9ICcoJyArIGZvcm1hdFRpbWUoZS50YXJnZXQuY3VycmVudFRpbWUpICsgJyAvICcgKyBmb3JtYXRUaW1lKGUudGFyZ2V0LmR1cmF0aW9uKSArICcpJztcclxuICAgICAgICBzbGlkZXIuTWF0ZXJpYWxTbGlkZXIuY2hhbmdlKHZhbHVlKTtcclxuICAgICAgICAkdGltZS5odG1sKHRpbWUpO1xyXG4gICAgICAgICRwbGF5ZXJ3cmFwcGVyLnJlbW92ZUNsYXNzKCdsb2FkaW5nJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gb25FbmRlZChlKSB7XHJcbiAgICAgICAgaWYgKCRsb29wLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xyXG4gICAgICAgICAgICBlLnRhcmdldC5wYXVzZSgpO1xyXG4gICAgICAgICAgICBlLnRhcmdldC5jdXJyZW50VGltZSA9ICcwJztcclxuICAgICAgICAgICAgZS50YXJnZXQucGxheSgpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoJHNodWZmbGUuaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XHJcbiAgICAgICAgICAgIHNodWZmbGUoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkKCcudHJhY2suYWN0aXZlJylcclxuICAgICAgICAgICAgICAgIC5uZXh0KClcclxuICAgICAgICAgICAgICAgIC5jbGljaygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzaHVmZmxlKCkge1xyXG4gICAgICAgIHZhciAkc2libGluZ3MgPSAkKCcudHJhY2suYWN0aXZlJylcclxuICAgICAgICAgICAgLnNpYmxpbmdzKCcudHJhY2snKTtcclxuICAgICAgICB2YXIgcmFuZG9tID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogJHNpYmxpbmdzLmxlbmd0aCk7XHJcbiAgICAgICAgJCgkc2libGluZ3MpXHJcbiAgICAgICAgICAgIC5lcShyYW5kb20pXHJcbiAgICAgICAgICAgIC5jbGljaygpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHRvZ2dsZUFjdGl2ZShlKSB7XHJcbiAgICAgICAgdmFyICR0YXJnZXQgPSAkKGUudGFyZ2V0KTtcclxuICAgICAgICAkdGFyZ2V0LnRvZ2dsZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBrZXl1cExpc3RlbmVyKGUpIHtcclxuICAgICAgICBpZiAoZS5rZXlDb2RlID09IDMyKSB7XHJcbiAgICAgICAgICAgIGlmIChlLnRhcmdldC50YWdOYW1lICE9PSAnSU5QVVQnKSB7XHJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoJHBsYXllcndyYXBwZXIuaGFzQ2xhc3MoJ3BsYXllZCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHBhdXNlLmNsaWNrKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICRwbGF5LmNsaWNrKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2V0dXBQbGF5ZXJFdmVudHMoKSB7XHJcbiAgICAgICAgJHBsYXkub24oJ2NsaWNrJywgcGxheUJ0bkhhbmRsZXIpO1xyXG4gICAgICAgICRwYXVzZS5vbignY2xpY2snLCBwYXVzZUJ0bkhhbmRsZXIpO1xyXG4gICAgICAgICRwcmV2aW91cy5vbignY2xpY2snLCBwcmV2QnRuSGFuZGxlcik7XHJcbiAgICAgICAgJG5leHQub24oJ2NsaWNrJywgbmV4dEJ0bkhhbmRsZXIpO1xyXG4gICAgICAgICRwbGF5ZXIub24oJ3BhdXNlJywgb25QYXVzZSk7XHJcbiAgICAgICAgJHBsYXllci5vbigncGxheScsIG9uUGxheSk7XHJcbiAgICAgICAgJHBsYXllci5vbignZW5kZWQnLCBvbkVuZGVkKTtcclxuICAgICAgICBwbGF5ZXIub250aW1ldXBkYXRlID0gb25UaW1ldXBkYXRlO1xyXG4gICAgICAgICRsb29wLm9uKCdjbGljaycsIHRvZ2dsZUFjdGl2ZSk7XHJcbiAgICAgICAgJHNodWZmbGUub24oJ2NsaWNrJywgdG9nZ2xlQWN0aXZlKTtcclxuICAgICAgICAkd3JhcHBlci5vbigna2V5dXAnLCBrZXl1cExpc3RlbmVyKTtcclxuICAgICAgICAkc2xpZGVyLm9uKFwiY2hhbmdlIGlucHV0XCIsIHNlZWspO1xyXG4gICAgICAgICR3aW5kb3cub24oJ21wOnBsYXlsaXN0cmVuZGVyZWQnLCBwbGF5Rmlyc3RTb25nKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBwbGF5Rmlyc3RTb25nKCkge1xyXG4gICAgICAgICRwbGF5bGlzdHZpZXdcclxuICAgICAgICAgICAgLmZpbmQoJy50cmFjaycpXHJcbiAgICAgICAgICAgIC5maXJzdCgpXHJcbiAgICAgICAgICAgIC5jbGljaygpO1xyXG4gICAgfVxyXG5cclxuICAgICR3aW5kb3cub24oJ2xvYWQnLCBzZXR1cFBsYXllckV2ZW50cyk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHBsYXk6IHBsYXlcclxuICAgIH07XHJcbn0oalF1ZXJ5KSk7XHJcbiJdLCJmaWxlIjoibXAucGxheWVyLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=

window.MP = window.MP || {};
MP.storage = (function() {
    /*
        Storage Reset
     */
    var storage = (function() {
        var obj = {};
        if (window.chrome && window.chrome.storage) {
            obj = window.chrome.storage.local;
        } else {
            obj = {
                get: function(key, callback) {
                    var result = {};
                    result[key] = localStorage.getItem(key);
                    callback(result);
                },
                set: function(obj) {
                    Object.keys(obj)
                        .forEach(function(key) {
                            localStorage.setItem(key, obj[key]);
                        });
                }
            };
        }
        return obj;
    }());

    function storageReset() {
        storage.set({
            'theme': 'indigo-pink'
        });
        storage.set({
            'font': 'Roboto'
        });
    }

    return storage;
}());

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJtcC5zdG9yYWdlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIndpbmRvdy5NUCA9IHdpbmRvdy5NUCB8fCB7fTtcclxuTVAuc3RvcmFnZSA9IChmdW5jdGlvbigpIHtcclxuICAgIC8qXHJcbiAgICAgICAgU3RvcmFnZSBSZXNldFxyXG4gICAgICovXHJcbiAgICB2YXIgc3RvcmFnZSA9IChmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgb2JqID0ge307XHJcbiAgICAgICAgaWYgKHdpbmRvdy5jaHJvbWUgJiYgd2luZG93LmNocm9tZS5zdG9yYWdlKSB7XHJcbiAgICAgICAgICAgIG9iaiA9IHdpbmRvdy5jaHJvbWUuc3RvcmFnZS5sb2NhbDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBvYmogPSB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKGtleSwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2tleV0gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbihvYmopIHtcclxuICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhvYmopXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCBvYmpba2V5XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgfSgpKTtcclxuXHJcbiAgICBmdW5jdGlvbiBzdG9yYWdlUmVzZXQoKSB7XHJcbiAgICAgICAgc3RvcmFnZS5zZXQoe1xyXG4gICAgICAgICAgICAndGhlbWUnOiAnaW5kaWdvLXBpbmsnXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgc3RvcmFnZS5zZXQoe1xyXG4gICAgICAgICAgICAnZm9udCc6ICdSb2JvdG8nXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHN0b3JhZ2U7XHJcbn0oKSk7XHJcbiJdLCJmaWxlIjoibXAuc3RvcmFnZS5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9

window.MP = window.MP || {};
MP.customizer = (function ($) {
    /*
        Customizer
     */
    var $window = $(window);
    var $showCustomizerBtn = $('#show-customizer');
    var $customizerModal = $('#customizer');
    var $resetstyle = $('#reset-style');
    var $font = $('#font');
    var $theme = $('#theme');
    var storage = window.MP.storage;
    var $wrapper = $('#wrapper');
    $window.on('load', init);

    function init() {
        $showCustomizerBtn.attr('disabled', false);
        $showCustomizerBtn.on('click', function () {
            $customizerModal[0].showModal();
        });
        $font.on('change', function (e) {
            var font = $(e.target)
                .val();
            setFont({
                font: font
            });
        });
        $theme.on('change', function (e) {
            var theme = $(e.target)
                .val();
            setTheme({
                theme: theme
            });
        });
        $resetstyle.on('click', resetStyle);
        storage.get('theme', setTheme);
        storage.get('font', setFont);
        $wrapper.css('opacity', 1);
    }

    function setFont(setting) {
        var font = setting.font !== 'null' ? setting.font : 'Roboto';
        if (setting.font) {
            $('#font-link')
                .attr('href', 'https://fonts.googleapis.com/css?family=' + font.replace(/ /g, '+'));
            $('#current-font')
                .text('.mdl-button,h1,h2,h3,h4,h5,h6,.mdl-layout-title,body{font-family: ' + font + ' }');
            storage.set(setting);
            $font.val(font);
        }
    }

    function setTheme(setting) {
        var theme = setting.theme !== 'null' ? setting.theme : 'indigo-blue';
        if (setting.theme) {
            $('#theme-link')
                .attr('href', 'assets/css/lib/material.' + theme + '.min.css');
            storage.set(setting);
            $('[name="theme-color"]')
                .attr('content', colorToHex($('header')
                    .css('background-color')));
            $theme.val(theme);
        }
    }

    function resetStyle() {
        $('#theme')
            .val('blue-pink')
            .trigger('change');
        $('#font')
            .val('Roboto')
            .trigger('change');
    }

    function colorToHex(color) {
        if (color.substr(0, 1) === '#') {
            return color;
        }
        var digits = /(.*?)rgb\((\d+), (\d+), (\d+)\)/.exec(color);
        var red = parseInt(digits[2]);
        var green = parseInt(digits[3]);
        var blue = parseInt(digits[4]);
        var rgb = blue | (green << 8) | (red << 16);
        return digits[1] + '#' + rgb.toString(16);
    }
}(jQuery));


//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJtcC5jdXN0b21pemVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIndpbmRvdy5NUCA9IHdpbmRvdy5NUCB8fCB7fTtcclxuTVAuY3VzdG9taXplciA9IChmdW5jdGlvbiAoJCkge1xyXG4gICAgLypcclxuICAgICAgICBDdXN0b21pemVyXHJcbiAgICAgKi9cclxuICAgIHZhciAkd2luZG93ID0gJCh3aW5kb3cpO1xyXG4gICAgdmFyICRzaG93Q3VzdG9taXplckJ0biA9ICQoJyNzaG93LWN1c3RvbWl6ZXInKTtcclxuICAgIHZhciAkY3VzdG9taXplck1vZGFsID0gJCgnI2N1c3RvbWl6ZXInKTtcclxuICAgIHZhciAkcmVzZXRzdHlsZSA9ICQoJyNyZXNldC1zdHlsZScpO1xyXG4gICAgdmFyICRmb250ID0gJCgnI2ZvbnQnKTtcclxuICAgIHZhciAkdGhlbWUgPSAkKCcjdGhlbWUnKTtcclxuICAgIHZhciBzdG9yYWdlID0gd2luZG93Lk1QLnN0b3JhZ2U7XHJcbiAgICB2YXIgJHdyYXBwZXIgPSAkKCcjd3JhcHBlcicpO1xyXG4gICAgJHdpbmRvdy5vbignbG9hZCcsIGluaXQpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGluaXQoKSB7XHJcbiAgICAgICAgJHNob3dDdXN0b21pemVyQnRuLmF0dHIoJ2Rpc2FibGVkJywgZmFsc2UpO1xyXG4gICAgICAgICRzaG93Q3VzdG9taXplckJ0bi5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICRjdXN0b21pemVyTW9kYWxbMF0uc2hvd01vZGFsKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJGZvbnQub24oJ2NoYW5nZScsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIHZhciBmb250ID0gJChlLnRhcmdldClcclxuICAgICAgICAgICAgICAgIC52YWwoKTtcclxuICAgICAgICAgICAgc2V0Rm9udCh7XHJcbiAgICAgICAgICAgICAgICBmb250OiBmb250XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICR0aGVtZS5vbignY2hhbmdlJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgdmFyIHRoZW1lID0gJChlLnRhcmdldClcclxuICAgICAgICAgICAgICAgIC52YWwoKTtcclxuICAgICAgICAgICAgc2V0VGhlbWUoe1xyXG4gICAgICAgICAgICAgICAgdGhlbWU6IHRoZW1lXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICRyZXNldHN0eWxlLm9uKCdjbGljaycsIHJlc2V0U3R5bGUpO1xyXG4gICAgICAgIHN0b3JhZ2UuZ2V0KCd0aGVtZScsIHNldFRoZW1lKTtcclxuICAgICAgICBzdG9yYWdlLmdldCgnZm9udCcsIHNldEZvbnQpO1xyXG4gICAgICAgICR3cmFwcGVyLmNzcygnb3BhY2l0eScsIDEpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNldEZvbnQoc2V0dGluZykge1xyXG4gICAgICAgIHZhciBmb250ID0gc2V0dGluZy5mb250ICE9PSAnbnVsbCcgPyBzZXR0aW5nLmZvbnQgOiAnUm9ib3RvJztcclxuICAgICAgICBpZiAoc2V0dGluZy5mb250KSB7XHJcbiAgICAgICAgICAgICQoJyNmb250LWxpbmsnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2hyZWYnLCAnaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3M/ZmFtaWx5PScgKyBmb250LnJlcGxhY2UoLyAvZywgJysnKSk7XHJcbiAgICAgICAgICAgICQoJyNjdXJyZW50LWZvbnQnKVxyXG4gICAgICAgICAgICAgICAgLnRleHQoJy5tZGwtYnV0dG9uLGgxLGgyLGgzLGg0LGg1LGg2LC5tZGwtbGF5b3V0LXRpdGxlLGJvZHl7Zm9udC1mYW1pbHk6ICcgKyBmb250ICsgJyB9Jyk7XHJcbiAgICAgICAgICAgIHN0b3JhZ2Uuc2V0KHNldHRpbmcpO1xyXG4gICAgICAgICAgICAkZm9udC52YWwoZm9udCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNldFRoZW1lKHNldHRpbmcpIHtcclxuICAgICAgICB2YXIgdGhlbWUgPSBzZXR0aW5nLnRoZW1lICE9PSAnbnVsbCcgPyBzZXR0aW5nLnRoZW1lIDogJ2luZGlnby1ibHVlJztcclxuICAgICAgICBpZiAoc2V0dGluZy50aGVtZSkge1xyXG4gICAgICAgICAgICAkKCcjdGhlbWUtbGluaycpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignaHJlZicsICdhc3NldHMvY3NzL2xpYi9tYXRlcmlhbC4nICsgdGhlbWUgKyAnLm1pbi5jc3MnKTtcclxuICAgICAgICAgICAgc3RvcmFnZS5zZXQoc2V0dGluZyk7XHJcbiAgICAgICAgICAgICQoJ1tuYW1lPVwidGhlbWUtY29sb3JcIl0nKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2NvbnRlbnQnLCBjb2xvclRvSGV4KCQoJ2hlYWRlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLmNzcygnYmFja2dyb3VuZC1jb2xvcicpKSk7XHJcbiAgICAgICAgICAgICR0aGVtZS52YWwodGhlbWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZXNldFN0eWxlKCkge1xyXG4gICAgICAgICQoJyN0aGVtZScpXHJcbiAgICAgICAgICAgIC52YWwoJ2JsdWUtcGluaycpXHJcbiAgICAgICAgICAgIC50cmlnZ2VyKCdjaGFuZ2UnKTtcclxuICAgICAgICAkKCcjZm9udCcpXHJcbiAgICAgICAgICAgIC52YWwoJ1JvYm90bycpXHJcbiAgICAgICAgICAgIC50cmlnZ2VyKCdjaGFuZ2UnKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjb2xvclRvSGV4KGNvbG9yKSB7XHJcbiAgICAgICAgaWYgKGNvbG9yLnN1YnN0cigwLCAxKSA9PT0gJyMnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb2xvcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGRpZ2l0cyA9IC8oLio/KXJnYlxcKChcXGQrKSwgKFxcZCspLCAoXFxkKylcXCkvLmV4ZWMoY29sb3IpO1xyXG4gICAgICAgIHZhciByZWQgPSBwYXJzZUludChkaWdpdHNbMl0pO1xyXG4gICAgICAgIHZhciBncmVlbiA9IHBhcnNlSW50KGRpZ2l0c1szXSk7XHJcbiAgICAgICAgdmFyIGJsdWUgPSBwYXJzZUludChkaWdpdHNbNF0pO1xyXG4gICAgICAgIHZhciByZ2IgPSBibHVlIHwgKGdyZWVuIDw8IDgpIHwgKHJlZCA8PCAxNik7XHJcbiAgICAgICAgcmV0dXJuIGRpZ2l0c1sxXSArICcjJyArIHJnYi50b1N0cmluZygxNik7XHJcbiAgICB9XHJcbn0oalF1ZXJ5KSk7XHJcblxyXG4iXSwiZmlsZSI6Im1wLmN1c3RvbWl6ZXIuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

window.MP = window.MP || {};
MP.settings = (function ($) {
    var $window = $(window);
    var storage = window.MP.storage;
    var $defaulttab = $('#defaulttab');
    $defaulttab.on('change', function () {
        storage.set({defaulttab: $defaulttab.val()});
    });
    $window.on('load', function () {
        storage.get('defaulttab', function (setting) {
            if (setting !== null) {
                $defaulttab.val(setting.defaulttab);
                $('[href="'+setting.defaulttab+'"]').find('span').click();
            }
        });
    });
    return {
        tableheading: "<tr><th>No</th><th>Artist</th><th>Album</th><th>Title</th><th>File</th></tr>",
        defaultTableContent: "<thead><th></th></thead><tbody><td></td></tbody>"
    };
}(jQuery));


//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJtcC5zZXR0aW5ncy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJ3aW5kb3cuTVAgPSB3aW5kb3cuTVAgfHwge307XHJcbk1QLnNldHRpbmdzID0gKGZ1bmN0aW9uICgkKSB7XHJcbiAgICB2YXIgJHdpbmRvdyA9ICQod2luZG93KTtcclxuICAgIHZhciBzdG9yYWdlID0gd2luZG93Lk1QLnN0b3JhZ2U7XHJcbiAgICB2YXIgJGRlZmF1bHR0YWIgPSAkKCcjZGVmYXVsdHRhYicpO1xyXG4gICAgJGRlZmF1bHR0YWIub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzdG9yYWdlLnNldCh7ZGVmYXVsdHRhYjogJGRlZmF1bHR0YWIudmFsKCl9KTtcclxuICAgIH0pO1xyXG4gICAgJHdpbmRvdy5vbignbG9hZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzdG9yYWdlLmdldCgnZGVmYXVsdHRhYicsIGZ1bmN0aW9uIChzZXR0aW5nKSB7XHJcbiAgICAgICAgICAgIGlmIChzZXR0aW5nICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAkZGVmYXVsdHRhYi52YWwoc2V0dGluZy5kZWZhdWx0dGFiKTtcclxuICAgICAgICAgICAgICAgICQoJ1tocmVmPVwiJytzZXR0aW5nLmRlZmF1bHR0YWIrJ1wiXScpLmZpbmQoJ3NwYW4nKS5jbGljaygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgdGFibGVoZWFkaW5nOiBcIjx0cj48dGg+Tm88L3RoPjx0aD5BcnRpc3Q8L3RoPjx0aD5BbGJ1bTwvdGg+PHRoPlRpdGxlPC90aD48dGg+RmlsZTwvdGg+PC90cj5cIixcclxuICAgICAgICBkZWZhdWx0VGFibGVDb250ZW50OiBcIjx0aGVhZD48dGg+PC90aD48L3RoZWFkPjx0Ym9keT48dGQ+PC90ZD48L3Rib2R5PlwiXHJcbiAgICB9O1xyXG59KGpRdWVyeSkpO1xyXG5cclxuIl0sImZpbGUiOiJtcC5zZXR0aW5ncy5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9

window.MP = window.MP || {};
MP.playlist = (function($) {
    'use strict';
    /*
        Playlist View
     */
    var $window = $(window);
    var playlist = [];
    var ids = [];
    var $playlistview = $('#playlist-view');
    var $tracks = $('.track');
    var tableheading = "<thead><tr><th>No</th><th>Artist</th><th>Album</th><th>Title</th><th>File</th></tr></thead>";
    var $fileselect = $('#fileselect');
    var $wrapper = $('#wrapper');
    var $subtitle = $('#subtitle');

    function toArray(arraylike) {
        return Array.prototype.slice.call(arraylike);
    }

    function renderPlaylist($playlistview, playlist) {
        $playlistview.html(playlist.join(''));
        $window.trigger('mp:playlistrendered');
    }

    function traverseFileTree(item, path) {
        path = path || "";
        if (item.isFile) {
            // Get file
            item.file(function(file) {
                console.log("File:", path + file.name);
            });
        } else if (item.isDirectory) {
            // Get folder contents
            var dirReader = item.createReader();
            dirReader.readEntries(function(entries) {
                for (var i = 0; i < entries.length; i++) {
                    traverseFileTree(entries[i], path + item.name + "/");
                }
            });
        }
    }

    function loopFiles(e) {
        e = e.originalEvent;
        e.preventDefault();
        var files = e.target.files || (e.dataTransfer && e.dataTransfer.files);
        var fileArray = toArray(files);
        fileArray = fileArray.sort(sortby('name', 'ascending'));
        fileArray.forEach(parseFile);
        renderPlaylist($playlistview, playlist);
        fileArray.forEach(readTags);
        return false;
    }

    function blobToFile(theBlob, fileName) {
        theBlob.lastModifiedDate = new Date();
        theBlob.name = fileName;
        return theBlob;
    }

    function sortby(prop, ascdesc) {
        var selectedSort;

        function ascending(a, b) {
            if (a[prop] < b[prop]) {
                return -1;
            } else if (a[prop] > b[prop]) {
                return 1;
            } else {
                return 0;
            }
        }

        function descending(a, b) {
            if (a[sortby] > b[prop]) {
                return -1;
            } else if (a[prop] < b[prop]) {
                return 1;
            } else {
                return 0;
            }
        }
        switch (ascdesc) {
            case 'ascending':
                selectedSort = ascending;
                break;
            case 'descending':
                selectedSort = descending;
                break;
        }
        return selectedSort;
    }

    function parseFile(file, index) {
        var url = URL.createObjectURL(file);
        var fileNameArr = file.name.split('.');
        var extension = fileNameArr[fileNameArr.length - 1];
        switch (extension) {
            case 'json':
                importJSONtoPlaylist(url).then(function(res) {
                    var songs = [];
                    res = JSON.parse(res);
                    res.forEach(function(song, index) {
                        songs.push({
                            tracknumber: song['Track Number'],
                            artist: song.artist,
                            album: song.album,
                            title: song.title,
                            id: song.id,
                            file: song.name,
                            source: 'https://docs.google.com/uc?id=' + song.id + '&export=download'
                        });
                    });
                    var template = $('#playlist-template').html();
                    Mustache.parse(template);
                    var rendered = Mustache.render(template, { songs: songs });
                    $playlistview.html(rendered);
                });
                break;
            case 'srt':
                $subtitle.attr('data-srt', url);
                break;
            default:
                if (!index) {
                    playlist = [];
                    playlist.push(tableheading);
                }
                playlist.push(['<tr class="track" data-src="' + url + '">', '<td class="track-number">' + (++index) + '</td>', '<td class="track-artist"></td>', '<td class="track-album"></td>', '<td class="track-title"></td>', '<td class="track-file">' + file.name + '</td></tr>'].join(''));
                break;
        }
    }

    function importJSONtoPlaylist(url) {
        return $.get(url);
    }

    function readFile(blob) {
        return new File(blob, 'blob');
    }

    function readTags(file, index, $track) {
        if (file.name.indexOf('.mp4') === -1) {
            ID3.loadTags('', function() {
                var $track = $track || $($playlistview.find('tr')[index + 1]);
                var tags = ID3.getAllTags('');
                $track.find('.track-artist')
                    .html(tags.artist);
                $track.find('.track-album')
                    .html(tags.album);
                $track.find('.track-title')
                    .html(tags.title);
                console.log(tags);
                $window.trigger('mp:metadataready', [$track, tags, file]);
            }, {
                dataReader: ID3.FileAPIReader(file)
            });
        }
    }

    function setupTrackEvents() {
        $wrapper.on('click', '.track', function(e) {
            var $this = $(this);
            var url = $this.data('src');
            $('.track')
                .removeClass('active');
            $this.addClass('active');
            MP.player.play(url);
        });
    }
    setupTrackEvents();
    window.ondragover = MP.init.preventDefault;
    $window.on('drop', loopFiles);
    $fileselect.on('change', loopFiles);
    return {
        tableheading: tableheading,
        sortby: sortby,
        renderPlaylist: renderPlaylist,
        readTags: readTags
    };
}(jQuery));

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJtcC5wbGF5bGlzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJ3aW5kb3cuTVAgPSB3aW5kb3cuTVAgfHwge307XHJcbk1QLnBsYXlsaXN0ID0gKGZ1bmN0aW9uKCQpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuICAgIC8qXHJcbiAgICAgICAgUGxheWxpc3QgVmlld1xyXG4gICAgICovXHJcbiAgICB2YXIgJHdpbmRvdyA9ICQod2luZG93KTtcclxuICAgIHZhciBwbGF5bGlzdCA9IFtdO1xyXG4gICAgdmFyIGlkcyA9IFtdO1xyXG4gICAgdmFyICRwbGF5bGlzdHZpZXcgPSAkKCcjcGxheWxpc3QtdmlldycpO1xyXG4gICAgdmFyICR0cmFja3MgPSAkKCcudHJhY2snKTtcclxuICAgIHZhciB0YWJsZWhlYWRpbmcgPSBcIjx0aGVhZD48dHI+PHRoPk5vPC90aD48dGg+QXJ0aXN0PC90aD48dGg+QWxidW08L3RoPjx0aD5UaXRsZTwvdGg+PHRoPkZpbGU8L3RoPjwvdHI+PC90aGVhZD5cIjtcclxuICAgIHZhciAkZmlsZXNlbGVjdCA9ICQoJyNmaWxlc2VsZWN0Jyk7XHJcbiAgICB2YXIgJHdyYXBwZXIgPSAkKCcjd3JhcHBlcicpO1xyXG4gICAgdmFyICRzdWJ0aXRsZSA9ICQoJyNzdWJ0aXRsZScpO1xyXG5cclxuICAgIGZ1bmN0aW9uIHRvQXJyYXkoYXJyYXlsaWtlKSB7XHJcbiAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFycmF5bGlrZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVuZGVyUGxheWxpc3QoJHBsYXlsaXN0dmlldywgcGxheWxpc3QpIHtcclxuICAgICAgICAkcGxheWxpc3R2aWV3Lmh0bWwocGxheWxpc3Quam9pbignJykpO1xyXG4gICAgICAgICR3aW5kb3cudHJpZ2dlcignbXA6cGxheWxpc3RyZW5kZXJlZCcpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHRyYXZlcnNlRmlsZVRyZWUoaXRlbSwgcGF0aCkge1xyXG4gICAgICAgIHBhdGggPSBwYXRoIHx8IFwiXCI7XHJcbiAgICAgICAgaWYgKGl0ZW0uaXNGaWxlKSB7XHJcbiAgICAgICAgICAgIC8vIEdldCBmaWxlXHJcbiAgICAgICAgICAgIGl0ZW0uZmlsZShmdW5jdGlvbihmaWxlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkZpbGU6XCIsIHBhdGggKyBmaWxlLm5hbWUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uaXNEaXJlY3RvcnkpIHtcclxuICAgICAgICAgICAgLy8gR2V0IGZvbGRlciBjb250ZW50c1xyXG4gICAgICAgICAgICB2YXIgZGlyUmVhZGVyID0gaXRlbS5jcmVhdGVSZWFkZXIoKTtcclxuICAgICAgICAgICAgZGlyUmVhZGVyLnJlYWRFbnRyaWVzKGZ1bmN0aW9uKGVudHJpZXMpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZW50cmllcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRyYXZlcnNlRmlsZVRyZWUoZW50cmllc1tpXSwgcGF0aCArIGl0ZW0ubmFtZSArIFwiL1wiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGxvb3BGaWxlcyhlKSB7XHJcbiAgICAgICAgZSA9IGUub3JpZ2luYWxFdmVudDtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgdmFyIGZpbGVzID0gZS50YXJnZXQuZmlsZXMgfHwgKGUuZGF0YVRyYW5zZmVyICYmIGUuZGF0YVRyYW5zZmVyLmZpbGVzKTtcclxuICAgICAgICB2YXIgZmlsZUFycmF5ID0gdG9BcnJheShmaWxlcyk7XHJcbiAgICAgICAgZmlsZUFycmF5ID0gZmlsZUFycmF5LnNvcnQoc29ydGJ5KCduYW1lJywgJ2FzY2VuZGluZycpKTtcclxuICAgICAgICBmaWxlQXJyYXkuZm9yRWFjaChwYXJzZUZpbGUpO1xyXG4gICAgICAgIHJlbmRlclBsYXlsaXN0KCRwbGF5bGlzdHZpZXcsIHBsYXlsaXN0KTtcclxuICAgICAgICBmaWxlQXJyYXkuZm9yRWFjaChyZWFkVGFncyk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGJsb2JUb0ZpbGUodGhlQmxvYiwgZmlsZU5hbWUpIHtcclxuICAgICAgICB0aGVCbG9iLmxhc3RNb2RpZmllZERhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgIHRoZUJsb2IubmFtZSA9IGZpbGVOYW1lO1xyXG4gICAgICAgIHJldHVybiB0aGVCbG9iO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNvcnRieShwcm9wLCBhc2NkZXNjKSB7XHJcbiAgICAgICAgdmFyIHNlbGVjdGVkU29ydDtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gYXNjZW5kaW5nKGEsIGIpIHtcclxuICAgICAgICAgICAgaWYgKGFbcHJvcF0gPCBiW3Byb3BdKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYVtwcm9wXSA+IGJbcHJvcF0pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGRlc2NlbmRpbmcoYSwgYikge1xyXG4gICAgICAgICAgICBpZiAoYVtzb3J0YnldID4gYltwcm9wXSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGFbcHJvcF0gPCBiW3Byb3BdKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN3aXRjaCAoYXNjZGVzYykge1xyXG4gICAgICAgICAgICBjYXNlICdhc2NlbmRpbmcnOlxyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRTb3J0ID0gYXNjZW5kaW5nO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ2Rlc2NlbmRpbmcnOlxyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRTb3J0ID0gZGVzY2VuZGluZztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc2VsZWN0ZWRTb3J0O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHBhcnNlRmlsZShmaWxlLCBpbmRleCkge1xyXG4gICAgICAgIHZhciB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpO1xyXG4gICAgICAgIHZhciBmaWxlTmFtZUFyciA9IGZpbGUubmFtZS5zcGxpdCgnLicpO1xyXG4gICAgICAgIHZhciBleHRlbnNpb24gPSBmaWxlTmFtZUFycltmaWxlTmFtZUFyci5sZW5ndGggLSAxXTtcclxuICAgICAgICBzd2l0Y2ggKGV4dGVuc2lvbikge1xyXG4gICAgICAgICAgICBjYXNlICdqc29uJzpcclxuICAgICAgICAgICAgICAgIGltcG9ydEpTT050b1BsYXlsaXN0KHVybCkudGhlbihmdW5jdGlvbihyZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc29uZ3MgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICByZXMgPSBKU09OLnBhcnNlKHJlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLmZvckVhY2goZnVuY3Rpb24oc29uZywgaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc29uZ3MucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFja251bWJlcjogc29uZ1snVHJhY2sgTnVtYmVyJ10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnRpc3Q6IHNvbmcuYXJ0aXN0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxidW06IHNvbmcuYWxidW0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogc29uZy50aXRsZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBzb25nLmlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZTogc29uZy5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlOiAnaHR0cHM6Ly9kb2NzLmdvb2dsZS5jb20vdWM/aWQ9JyArIHNvbmcuaWQgKyAnJmV4cG9ydD1kb3dubG9hZCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXBsYXRlID0gJCgnI3BsYXlsaXN0LXRlbXBsYXRlJykuaHRtbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIE11c3RhY2hlLnBhcnNlKHRlbXBsYXRlKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVuZGVyZWQgPSBNdXN0YWNoZS5yZW5kZXIodGVtcGxhdGUsIHsgc29uZ3M6IHNvbmdzIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICRwbGF5bGlzdHZpZXcuaHRtbChyZW5kZXJlZCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdzcnQnOlxyXG4gICAgICAgICAgICAgICAgJHN1YnRpdGxlLmF0dHIoJ2RhdGEtc3J0JywgdXJsKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgaWYgKCFpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYXlsaXN0ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgcGxheWxpc3QucHVzaCh0YWJsZWhlYWRpbmcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcGxheWxpc3QucHVzaChbJzx0ciBjbGFzcz1cInRyYWNrXCIgZGF0YS1zcmM9XCInICsgdXJsICsgJ1wiPicsICc8dGQgY2xhc3M9XCJ0cmFjay1udW1iZXJcIj4nICsgKCsraW5kZXgpICsgJzwvdGQ+JywgJzx0ZCBjbGFzcz1cInRyYWNrLWFydGlzdFwiPjwvdGQ+JywgJzx0ZCBjbGFzcz1cInRyYWNrLWFsYnVtXCI+PC90ZD4nLCAnPHRkIGNsYXNzPVwidHJhY2stdGl0bGVcIj48L3RkPicsICc8dGQgY2xhc3M9XCJ0cmFjay1maWxlXCI+JyArIGZpbGUubmFtZSArICc8L3RkPjwvdHI+J10uam9pbignJykpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGltcG9ydEpTT050b1BsYXlsaXN0KHVybCkge1xyXG4gICAgICAgIHJldHVybiAkLmdldCh1cmwpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlYWRGaWxlKGJsb2IpIHtcclxuICAgICAgICByZXR1cm4gbmV3IEZpbGUoYmxvYiwgJ2Jsb2InKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZWFkVGFncyhmaWxlLCBpbmRleCwgJHRyYWNrKSB7XHJcbiAgICAgICAgaWYgKGZpbGUubmFtZS5pbmRleE9mKCcubXA0JykgPT09IC0xKSB7XHJcbiAgICAgICAgICAgIElEMy5sb2FkVGFncygnJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgJHRyYWNrID0gJHRyYWNrIHx8ICQoJHBsYXlsaXN0dmlldy5maW5kKCd0cicpW2luZGV4ICsgMV0pO1xyXG4gICAgICAgICAgICAgICAgdmFyIHRhZ3MgPSBJRDMuZ2V0QWxsVGFncygnJyk7XHJcbiAgICAgICAgICAgICAgICAkdHJhY2suZmluZCgnLnRyYWNrLWFydGlzdCcpXHJcbiAgICAgICAgICAgICAgICAgICAgLmh0bWwodGFncy5hcnRpc3QpO1xyXG4gICAgICAgICAgICAgICAgJHRyYWNrLmZpbmQoJy50cmFjay1hbGJ1bScpXHJcbiAgICAgICAgICAgICAgICAgICAgLmh0bWwodGFncy5hbGJ1bSk7XHJcbiAgICAgICAgICAgICAgICAkdHJhY2suZmluZCgnLnRyYWNrLXRpdGxlJylcclxuICAgICAgICAgICAgICAgICAgICAuaHRtbCh0YWdzLnRpdGxlKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRhZ3MpO1xyXG4gICAgICAgICAgICAgICAgJHdpbmRvdy50cmlnZ2VyKCdtcDptZXRhZGF0YXJlYWR5JywgWyR0cmFjaywgdGFncywgZmlsZV0pO1xyXG4gICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICBkYXRhUmVhZGVyOiBJRDMuRmlsZUFQSVJlYWRlcihmaWxlKVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2V0dXBUcmFja0V2ZW50cygpIHtcclxuICAgICAgICAkd3JhcHBlci5vbignY2xpY2snLCAnLnRyYWNrJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xyXG4gICAgICAgICAgICB2YXIgdXJsID0gJHRoaXMuZGF0YSgnc3JjJyk7XHJcbiAgICAgICAgICAgICQoJy50cmFjaycpXHJcbiAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAkdGhpcy5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIE1QLnBsYXllci5wbGF5KHVybCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBzZXR1cFRyYWNrRXZlbnRzKCk7XHJcbiAgICB3aW5kb3cub25kcmFnb3ZlciA9IE1QLmluaXQucHJldmVudERlZmF1bHQ7XHJcbiAgICAkd2luZG93Lm9uKCdkcm9wJywgbG9vcEZpbGVzKTtcclxuICAgICRmaWxlc2VsZWN0Lm9uKCdjaGFuZ2UnLCBsb29wRmlsZXMpO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICB0YWJsZWhlYWRpbmc6IHRhYmxlaGVhZGluZyxcclxuICAgICAgICBzb3J0Ynk6IHNvcnRieSxcclxuICAgICAgICByZW5kZXJQbGF5bGlzdDogcmVuZGVyUGxheWxpc3QsXHJcbiAgICAgICAgcmVhZFRhZ3M6IHJlYWRUYWdzXHJcbiAgICB9O1xyXG59KGpRdWVyeSkpO1xyXG4iXSwiZmlsZSI6Im1wLnBsYXlsaXN0LmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=

window.MP = window.MP || {};
MP.chrome = (function($) {
    var sortby = MP.playlist.sortby;
    var renderPlaylist = MP.playlist.renderPlaylist;
    var $playlistview = $('#playlist-view');
    var readTags = MP.playlist.readTags;
    var playlist = [];
    var list = [];
    var $window = $(window);
    $window.on('load', init);

    function init() {
        if (window.chrome && window.chrome.storage) {
            console.log('checking for open file');
            chrome.storage.local.get('open', function(item) {
                chrome.storage.local.set({ open: false }, function() {
                    if (item.open) {
                        list.push(item.open);
                        list.forEach(parseLocalFile);
                        console.log(list);
                        console.log(playlist);
                        renderPlaylist($playlistview, playlist);
                        processFiles();

                    }
                });
            });
            chrome.runtime.onMessage.addListener(
                function(request, sender, sendResponse) {
                    list.push(request);
                    list.forEach(parseLocalFile);
                    renderPlaylist($playlistview, playlist);
                    processFiles();

                });
        }
    }

    function parseLocalFile(url, index) {
        if (!index) {
            playlist = [];
            playlist.push("<tr><th>No</th><th>Artist</th><th>Album</th><th>Title</th><th>File</th></tr>");
        }
        var urlArray = url.split('/');
        var row = ['<tr class="track" data-src="' + url + '">', '<td class="track-number">' + (++index) + '</td>', '<td class="track-artist"></td>', '<td class="track-album"></td>', '<td class="track-title"></td>', '<td class="track-file">' + urlArray[urlArray.length - 1] + '</td></tr>'].join('');
        playlist.push(row);
    }

    function processFiles() {
        $playlistview.find('.track').each(function(index, track) {
            var $track = $(track);
            var xhr = new XMLHttpRequest();
            xhr.responseType = "blob";
            xhr.onload = function() {
                var file = new File([xhr.response], 'blob');
                var url = URL.createObjectURL(file);
                var $track = $($playlistview.find('tr')[index + 1]);
                var oldSrc = $track.data('src');
                $track.data('src', url);
                $track.attr('data-src', url);
                $track.attr('data-link', oldSrc);
                readTags(file, index);
            };
            xhr.open('GET', $track.data('src'));
            xhr.onerror = function() {
                downloadFile(fileObj, index, true);
            };
            xhr.send();
        });
    }
    return {
        init: init
    };

}(jQuery));

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJtcC5jaHJvbWUuanMiXSwic291cmNlc0NvbnRlbnQiOlsid2luZG93Lk1QID0gd2luZG93Lk1QIHx8IHt9O1xyXG5NUC5jaHJvbWUgPSAoZnVuY3Rpb24oJCkge1xyXG4gICAgdmFyIHNvcnRieSA9IE1QLnBsYXlsaXN0LnNvcnRieTtcclxuICAgIHZhciByZW5kZXJQbGF5bGlzdCA9IE1QLnBsYXlsaXN0LnJlbmRlclBsYXlsaXN0O1xyXG4gICAgdmFyICRwbGF5bGlzdHZpZXcgPSAkKCcjcGxheWxpc3QtdmlldycpO1xyXG4gICAgdmFyIHJlYWRUYWdzID0gTVAucGxheWxpc3QucmVhZFRhZ3M7XHJcbiAgICB2YXIgcGxheWxpc3QgPSBbXTtcclxuICAgIHZhciBsaXN0ID0gW107XHJcbiAgICB2YXIgJHdpbmRvdyA9ICQod2luZG93KTtcclxuICAgICR3aW5kb3cub24oJ2xvYWQnLCBpbml0KTtcclxuXHJcbiAgICBmdW5jdGlvbiBpbml0KCkge1xyXG4gICAgICAgIGlmICh3aW5kb3cuY2hyb21lICYmIHdpbmRvdy5jaHJvbWUuc3RvcmFnZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnY2hlY2tpbmcgZm9yIG9wZW4gZmlsZScpO1xyXG4gICAgICAgICAgICBjaHJvbWUuc3RvcmFnZS5sb2NhbC5nZXQoJ29wZW4nLCBmdW5jdGlvbihpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICBjaHJvbWUuc3RvcmFnZS5sb2NhbC5zZXQoeyBvcGVuOiBmYWxzZSB9LCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5vcGVuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QucHVzaChpdGVtLm9wZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0LmZvckVhY2gocGFyc2VMb2NhbEZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhsaXN0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocGxheWxpc3QpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJQbGF5bGlzdCgkcGxheWxpc3R2aWV3LCBwbGF5bGlzdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NGaWxlcygpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNocm9tZS5ydW50aW1lLm9uTWVzc2FnZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uKHJlcXVlc3QsIHNlbmRlciwgc2VuZFJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGlzdC5wdXNoKHJlcXVlc3QpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxpc3QuZm9yRWFjaChwYXJzZUxvY2FsRmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyUGxheWxpc3QoJHBsYXlsaXN0dmlldywgcGxheWxpc3QpO1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NGaWxlcygpO1xyXG5cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBwYXJzZUxvY2FsRmlsZSh1cmwsIGluZGV4KSB7XHJcbiAgICAgICAgaWYgKCFpbmRleCkge1xyXG4gICAgICAgICAgICBwbGF5bGlzdCA9IFtdO1xyXG4gICAgICAgICAgICBwbGF5bGlzdC5wdXNoKFwiPHRyPjx0aD5ObzwvdGg+PHRoPkFydGlzdDwvdGg+PHRoPkFsYnVtPC90aD48dGg+VGl0bGU8L3RoPjx0aD5GaWxlPC90aD48L3RyPlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHVybEFycmF5ID0gdXJsLnNwbGl0KCcvJyk7XHJcbiAgICAgICAgdmFyIHJvdyA9IFsnPHRyIGNsYXNzPVwidHJhY2tcIiBkYXRhLXNyYz1cIicgKyB1cmwgKyAnXCI+JywgJzx0ZCBjbGFzcz1cInRyYWNrLW51bWJlclwiPicgKyAoKytpbmRleCkgKyAnPC90ZD4nLCAnPHRkIGNsYXNzPVwidHJhY2stYXJ0aXN0XCI+PC90ZD4nLCAnPHRkIGNsYXNzPVwidHJhY2stYWxidW1cIj48L3RkPicsICc8dGQgY2xhc3M9XCJ0cmFjay10aXRsZVwiPjwvdGQ+JywgJzx0ZCBjbGFzcz1cInRyYWNrLWZpbGVcIj4nICsgdXJsQXJyYXlbdXJsQXJyYXkubGVuZ3RoIC0gMV0gKyAnPC90ZD48L3RyPiddLmpvaW4oJycpO1xyXG4gICAgICAgIHBsYXlsaXN0LnB1c2gocm93KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBwcm9jZXNzRmlsZXMoKSB7XHJcbiAgICAgICAgJHBsYXlsaXN0dmlldy5maW5kKCcudHJhY2snKS5lYWNoKGZ1bmN0aW9uKGluZGV4LCB0cmFjaykge1xyXG4gICAgICAgICAgICB2YXIgJHRyYWNrID0gJCh0cmFjayk7XHJcbiAgICAgICAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgICAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9IFwiYmxvYlwiO1xyXG4gICAgICAgICAgICB4aHIub25sb2FkID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZmlsZSA9IG5ldyBGaWxlKFt4aHIucmVzcG9uc2VdLCAnYmxvYicpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgJHRyYWNrID0gJCgkcGxheWxpc3R2aWV3LmZpbmQoJ3RyJylbaW5kZXggKyAxXSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgb2xkU3JjID0gJHRyYWNrLmRhdGEoJ3NyYycpO1xyXG4gICAgICAgICAgICAgICAgJHRyYWNrLmRhdGEoJ3NyYycsIHVybCk7XHJcbiAgICAgICAgICAgICAgICAkdHJhY2suYXR0cignZGF0YS1zcmMnLCB1cmwpO1xyXG4gICAgICAgICAgICAgICAgJHRyYWNrLmF0dHIoJ2RhdGEtbGluaycsIG9sZFNyYyk7XHJcbiAgICAgICAgICAgICAgICByZWFkVGFncyhmaWxlLCBpbmRleCk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHhoci5vcGVuKCdHRVQnLCAkdHJhY2suZGF0YSgnc3JjJykpO1xyXG4gICAgICAgICAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgZG93bmxvYWRGaWxlKGZpbGVPYmosIGluZGV4LCB0cnVlKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgeGhyLnNlbmQoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgaW5pdDogaW5pdFxyXG4gICAgfTtcclxuXHJcbn0oalF1ZXJ5KSk7XHJcbiJdLCJmaWxlIjoibXAuY2hyb21lLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=

window.MP = window.MP || {};
MP.contextmenu = (function ($) {
    'use strict';
    /*
        Context Menu
     */
    var $window = $(window);
    var $document = $(document);
    var $as = $('.track');
    var $contextmenu = $('#contextmenu');

    function contextMenuHandler(e) {
        e.preventDefault();
        var x = e.clientX;
        var y = e.clientY;
        if (e.clientX > window.innerWidth - 100) {
            x = x - 100;
        }
        $contextmenu.hide()
            .css({
                position: "fixed",
                top: y,
                left: x,
                zIndex: 9999
            })
            .show('fast')
            .data('target', e.originalEvent.target);
    }

    function closeContextMenu(e) {
        if ($contextmenu.is(':visible')) {
            e.preventDefault();
            $contextmenu.hide('fast');
        }
    }
    $('#play-track')
        .click(function () {
            $contextmenu.data('target')
                .click();
        });
    $('#delete-track')
        .click(function () {
            var $target = $($contextmenu.data('target'))
                .parents('.track');
            var id = $($contextmenu.data('target'))
                .parents('.track')
                .data('id');
            if ($target.parents('#libraryview')
                .length) {
                MP.db.songs.delete(id);
            }
            $target.remove();
        });
    $('#download-track')
        .click(function () {
            var $target = $($contextmenu.data('target'))
                .parents('.track');
            var link = $target.data('link') || $target.data('src');
            window.open(link);
        });
    $('#reload-track')
        .click(function () {
            var $target = $($contextmenu.data('target'))
                .parents('.track');
            var src = $target.attr('data-src');
            var xhr = new XMLHttpRequest();
            xhr.open('GET', src, true);
            xhr.responseType = 'blob';
            xhr.onload = function (e) {
                if (this.status == 200) {
                    var file = new File([xhr.response], 'blob');
                    MP.playlist.readTags(file, false, $target);
                }
            };
            xhr.send();
        });
    $document.on("contextmenu", '.track', contextMenuHandler);
    $document.on("click", closeContextMenu);
}(jQuery));


//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJtcC5jb250ZXh0bWVudS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJ3aW5kb3cuTVAgPSB3aW5kb3cuTVAgfHwge307XHJcbk1QLmNvbnRleHRtZW51ID0gKGZ1bmN0aW9uICgkKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcbiAgICAvKlxyXG4gICAgICAgIENvbnRleHQgTWVudVxyXG4gICAgICovXHJcbiAgICB2YXIgJHdpbmRvdyA9ICQod2luZG93KTtcclxuICAgIHZhciAkZG9jdW1lbnQgPSAkKGRvY3VtZW50KTtcclxuICAgIHZhciAkYXMgPSAkKCcudHJhY2snKTtcclxuICAgIHZhciAkY29udGV4dG1lbnUgPSAkKCcjY29udGV4dG1lbnUnKTtcclxuXHJcbiAgICBmdW5jdGlvbiBjb250ZXh0TWVudUhhbmRsZXIoZSkge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB2YXIgeCA9IGUuY2xpZW50WDtcclxuICAgICAgICB2YXIgeSA9IGUuY2xpZW50WTtcclxuICAgICAgICBpZiAoZS5jbGllbnRYID4gd2luZG93LmlubmVyV2lkdGggLSAxMDApIHtcclxuICAgICAgICAgICAgeCA9IHggLSAxMDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICRjb250ZXh0bWVudS5oaWRlKClcclxuICAgICAgICAgICAgLmNzcyh7XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJmaXhlZFwiLFxyXG4gICAgICAgICAgICAgICAgdG9wOiB5LFxyXG4gICAgICAgICAgICAgICAgbGVmdDogeCxcclxuICAgICAgICAgICAgICAgIHpJbmRleDogOTk5OVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc2hvdygnZmFzdCcpXHJcbiAgICAgICAgICAgIC5kYXRhKCd0YXJnZXQnLCBlLm9yaWdpbmFsRXZlbnQudGFyZ2V0KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjbG9zZUNvbnRleHRNZW51KGUpIHtcclxuICAgICAgICBpZiAoJGNvbnRleHRtZW51LmlzKCc6dmlzaWJsZScpKSB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgJGNvbnRleHRtZW51LmhpZGUoJ2Zhc3QnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAkKCcjcGxheS10cmFjaycpXHJcbiAgICAgICAgLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJGNvbnRleHRtZW51LmRhdGEoJ3RhcmdldCcpXHJcbiAgICAgICAgICAgICAgICAuY2xpY2soKTtcclxuICAgICAgICB9KTtcclxuICAgICQoJyNkZWxldGUtdHJhY2snKVxyXG4gICAgICAgIC5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciAkdGFyZ2V0ID0gJCgkY29udGV4dG1lbnUuZGF0YSgndGFyZ2V0JykpXHJcbiAgICAgICAgICAgICAgICAucGFyZW50cygnLnRyYWNrJyk7XHJcbiAgICAgICAgICAgIHZhciBpZCA9ICQoJGNvbnRleHRtZW51LmRhdGEoJ3RhcmdldCcpKVxyXG4gICAgICAgICAgICAgICAgLnBhcmVudHMoJy50cmFjaycpXHJcbiAgICAgICAgICAgICAgICAuZGF0YSgnaWQnKTtcclxuICAgICAgICAgICAgaWYgKCR0YXJnZXQucGFyZW50cygnI2xpYnJhcnl2aWV3JylcclxuICAgICAgICAgICAgICAgIC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIE1QLmRiLnNvbmdzLmRlbGV0ZShpZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgJHRhcmdldC5yZW1vdmUoKTtcclxuICAgICAgICB9KTtcclxuICAgICQoJyNkb3dubG9hZC10cmFjaycpXHJcbiAgICAgICAgLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyICR0YXJnZXQgPSAkKCRjb250ZXh0bWVudS5kYXRhKCd0YXJnZXQnKSlcclxuICAgICAgICAgICAgICAgIC5wYXJlbnRzKCcudHJhY2snKTtcclxuICAgICAgICAgICAgdmFyIGxpbmsgPSAkdGFyZ2V0LmRhdGEoJ2xpbmsnKSB8fCAkdGFyZ2V0LmRhdGEoJ3NyYycpO1xyXG4gICAgICAgICAgICB3aW5kb3cub3BlbihsaW5rKTtcclxuICAgICAgICB9KTtcclxuICAgICQoJyNyZWxvYWQtdHJhY2snKVxyXG4gICAgICAgIC5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciAkdGFyZ2V0ID0gJCgkY29udGV4dG1lbnUuZGF0YSgndGFyZ2V0JykpXHJcbiAgICAgICAgICAgICAgICAucGFyZW50cygnLnRyYWNrJyk7XHJcbiAgICAgICAgICAgIHZhciBzcmMgPSAkdGFyZ2V0LmF0dHIoJ2RhdGEtc3JjJyk7XHJcbiAgICAgICAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgICAgICAgICAgeGhyLm9wZW4oJ0dFVCcsIHNyYywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnYmxvYic7XHJcbiAgICAgICAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmaWxlID0gbmV3IEZpbGUoW3hoci5yZXNwb25zZV0sICdibG9iJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgTVAucGxheWxpc3QucmVhZFRhZ3MoZmlsZSwgZmFsc2UsICR0YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB4aHIuc2VuZCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgJGRvY3VtZW50Lm9uKFwiY29udGV4dG1lbnVcIiwgJy50cmFjaycsIGNvbnRleHRNZW51SGFuZGxlcik7XHJcbiAgICAkZG9jdW1lbnQub24oXCJjbGlja1wiLCBjbG9zZUNvbnRleHRNZW51KTtcclxufShqUXVlcnkpKTtcclxuXHJcbiJdLCJmaWxlIjoibXAuY29udGV4dG1lbnUuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

(function ($) {
    var $wrapper = $('#wrapper');
    var $window = $(window);
    var $as = $('a');
    var $player = $('#player');
    var $header = $('header')
        /*
                Hash Reset
             */
    function resetHash() {
        if (window.location.hash) {
            window.location.hash = '';
        }
    }

    function hashListener() {
        $as.on('click', function (e) {
            if (e.target.getAttribute('href')) {
                window.location.hash = e.target.getAttribute('href');
            }
        });
        $('[href="' + window.location.hash + '"]')
            .find('span')
            .click();
        $wrapper[0].className = '';
        switch (window.location.hash) {
        case '#nowplaying':
            $wrapper.addClass('on-now-playing');
            break;
        default:
            $wrapper.removeClass('on-now-playing');
            break;
        }
    }
    $header.on('click', function (e) {
        $wrapper.removeClass('on-now-playing');
    });
    $player.on('click', function () {
        $wrapper.toggleClass('on-now-playing');
        // var elem = document.documentElement;
        // if (elem.requestFullscreen) {
        //     elem.requestFullscreen();
        // } else if (elem.msRequestFullscreen) {
        //     elem.msRequestFullscreen();
        // } else if (elem.mozRequestFullScreen) {
        //     elem.mozRequestFullScreen();
        // } else if (elem.webkitRequestFullscreen) {
        //     elem.webkitRequestFullscreen();
        // }
    });
    $window.on('hashchange', hashListener);
}(jQuery))


//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJtcC5oYXNoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiAoJCkge1xyXG4gICAgdmFyICR3cmFwcGVyID0gJCgnI3dyYXBwZXInKTtcclxuICAgIHZhciAkd2luZG93ID0gJCh3aW5kb3cpO1xyXG4gICAgdmFyICRhcyA9ICQoJ2EnKTtcclxuICAgIHZhciAkcGxheWVyID0gJCgnI3BsYXllcicpO1xyXG4gICAgdmFyICRoZWFkZXIgPSAkKCdoZWFkZXInKVxyXG4gICAgICAgIC8qXHJcbiAgICAgICAgICAgICAgICBIYXNoIFJlc2V0XHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgZnVuY3Rpb24gcmVzZXRIYXNoKCkge1xyXG4gICAgICAgIGlmICh3aW5kb3cubG9jYXRpb24uaGFzaCkge1xyXG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaGFzaCA9ICcnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBoYXNoTGlzdGVuZXIoKSB7XHJcbiAgICAgICAgJGFzLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGlmIChlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSkge1xyXG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2hyZWYnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICQoJ1tocmVmPVwiJyArIHdpbmRvdy5sb2NhdGlvbi5oYXNoICsgJ1wiXScpXHJcbiAgICAgICAgICAgIC5maW5kKCdzcGFuJylcclxuICAgICAgICAgICAgLmNsaWNrKCk7XHJcbiAgICAgICAgJHdyYXBwZXJbMF0uY2xhc3NOYW1lID0gJyc7XHJcbiAgICAgICAgc3dpdGNoICh3aW5kb3cubG9jYXRpb24uaGFzaCkge1xyXG4gICAgICAgIGNhc2UgJyNub3dwbGF5aW5nJzpcclxuICAgICAgICAgICAgJHdyYXBwZXIuYWRkQ2xhc3MoJ29uLW5vdy1wbGF5aW5nJyk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICR3cmFwcGVyLnJlbW92ZUNsYXNzKCdvbi1ub3ctcGxheWluZycpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAkaGVhZGVyLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgJHdyYXBwZXIucmVtb3ZlQ2xhc3MoJ29uLW5vdy1wbGF5aW5nJyk7XHJcbiAgICB9KTtcclxuICAgICRwbGF5ZXIub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICR3cmFwcGVyLnRvZ2dsZUNsYXNzKCdvbi1ub3ctcGxheWluZycpO1xyXG4gICAgICAgIC8vIHZhciBlbGVtID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xyXG4gICAgICAgIC8vIGlmIChlbGVtLnJlcXVlc3RGdWxsc2NyZWVuKSB7XHJcbiAgICAgICAgLy8gICAgIGVsZW0ucmVxdWVzdEZ1bGxzY3JlZW4oKTtcclxuICAgICAgICAvLyB9IGVsc2UgaWYgKGVsZW0ubXNSZXF1ZXN0RnVsbHNjcmVlbikge1xyXG4gICAgICAgIC8vICAgICBlbGVtLm1zUmVxdWVzdEZ1bGxzY3JlZW4oKTtcclxuICAgICAgICAvLyB9IGVsc2UgaWYgKGVsZW0ubW96UmVxdWVzdEZ1bGxTY3JlZW4pIHtcclxuICAgICAgICAvLyAgICAgZWxlbS5tb3pSZXF1ZXN0RnVsbFNjcmVlbigpO1xyXG4gICAgICAgIC8vIH0gZWxzZSBpZiAoZWxlbS53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbikge1xyXG4gICAgICAgIC8vICAgICBlbGVtLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuKCk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgfSk7XHJcbiAgICAkd2luZG93Lm9uKCdoYXNoY2hhbmdlJywgaGFzaExpc3RlbmVyKTtcclxufShqUXVlcnkpKVxyXG5cclxuIl0sImZpbGUiOiJtcC5oYXNoLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=

window.MP = window.MP || {};
MP.dialog = (function ($) {
    /*
        Dialog
     */
    var $openFileBtn = $('.show-file-picker-btn');
    var $opendialog = $('.open-dialog');
    var $openFileDialog = $('#open-file-dialog');
    var $dialog = $('dialog');
    var $close = $('.close');
    var $local = $('#local');
    var $fileselect = $('#fileselect');
    $dialog.each(function (index, dialog) {
        if (!dialog.showModal) {
            dialogPolyfill.registerDialog(dialog);
        }
    });
    $opendialog.on('click', function (e) {
        e.preventDefault();
        var $target = $(e.currentTarget.getAttribute('href'));
        $target[0].showModal();
    });
    $close.on('click', function (e) {
        $(e.target)
            .parents('dialog')[0].close();
    });
    $local.on('click', function () {
        $fileselect.click();
    });
}(jQuery));


//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJtcC5kaWFsb2cuanMiXSwic291cmNlc0NvbnRlbnQiOlsid2luZG93Lk1QID0gd2luZG93Lk1QIHx8IHt9O1xyXG5NUC5kaWFsb2cgPSAoZnVuY3Rpb24gKCQpIHtcclxuICAgIC8qXHJcbiAgICAgICAgRGlhbG9nXHJcbiAgICAgKi9cclxuICAgIHZhciAkb3BlbkZpbGVCdG4gPSAkKCcuc2hvdy1maWxlLXBpY2tlci1idG4nKTtcclxuICAgIHZhciAkb3BlbmRpYWxvZyA9ICQoJy5vcGVuLWRpYWxvZycpO1xyXG4gICAgdmFyICRvcGVuRmlsZURpYWxvZyA9ICQoJyNvcGVuLWZpbGUtZGlhbG9nJyk7XHJcbiAgICB2YXIgJGRpYWxvZyA9ICQoJ2RpYWxvZycpO1xyXG4gICAgdmFyICRjbG9zZSA9ICQoJy5jbG9zZScpO1xyXG4gICAgdmFyICRsb2NhbCA9ICQoJyNsb2NhbCcpO1xyXG4gICAgdmFyICRmaWxlc2VsZWN0ID0gJCgnI2ZpbGVzZWxlY3QnKTtcclxuICAgICRkaWFsb2cuZWFjaChmdW5jdGlvbiAoaW5kZXgsIGRpYWxvZykge1xyXG4gICAgICAgIGlmICghZGlhbG9nLnNob3dNb2RhbCkge1xyXG4gICAgICAgICAgICBkaWFsb2dQb2x5ZmlsbC5yZWdpc3RlckRpYWxvZyhkaWFsb2cpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgJG9wZW5kaWFsb2cub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgdmFyICR0YXJnZXQgPSAkKGUuY3VycmVudFRhcmdldC5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSk7XHJcbiAgICAgICAgJHRhcmdldFswXS5zaG93TW9kYWwoKTtcclxuICAgIH0pO1xyXG4gICAgJGNsb3NlLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgJChlLnRhcmdldClcclxuICAgICAgICAgICAgLnBhcmVudHMoJ2RpYWxvZycpWzBdLmNsb3NlKCk7XHJcbiAgICB9KTtcclxuICAgICRsb2NhbC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJGZpbGVzZWxlY3QuY2xpY2soKTtcclxuICAgIH0pO1xyXG59KGpRdWVyeSkpO1xyXG5cclxuIl0sImZpbGUiOiJtcC5kaWFsb2cuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

(function($) {
    var sortby = MP.playlist.sortby;
    var renderPlaylist = MP.playlist.renderPlaylist;
    var readTags = MP.playlist.readTags;
    var playlist = [];
    var ids = [];
    var $playlistview = $('#playlist-view');
    var $tracks = $('.track');
    var tableheading = "<tr><th>No</th><th>Artist</th><th>Album</th><th>Title</th><th>File</th></tr>";
    var $fileselect = $('#fileselect');
    var $wrapper = $('#wrapper');
    var $window = $(window);
    $window.on('load', initPicker);

    function initPicker() {
        console.log('Initializing Google Drive integration');
        if (window.gapi && window.google && window.FilePicker) {
            var picker = new FilePicker({
                apiKey: 'AIzaSyBMDM4v6cjmt3k00QO7PAZn2MGg8hRvSv4',
                clientId: '1868175267',
                buttonEl: $('#login')[0],
                onSelect: function(fileList) {
                    // console.log(fileList);
                    fileList = fileList.sort(sortby('name', 'ascending'));
                    fileList.forEach(parseGoogleDrive);
                    renderPlaylist($playlistview, playlist);
                    ids.forEach(getFileUrl);
                }
            });
            console.log('Google Drive integration enabled.');
        } else {
            console.log('Google Drive integration disabled.');
        }
    }

    function getFileUrl(fileId, index) {
        var request = gapi.client.drive.files.get({
            'fileId': fileId
        });
        request.execute(function(resp) {
            downloadFile(resp, index);
        });
    }

    function downloadFile(fileObj, index, fromLink) {
        if (fileObj.downloadUrl) {
            var accessToken = gapi.auth.getToken()
                .access_token;
            var xhr = new XMLHttpRequest();
            xhr.responseType = "blob";
            xhr.onload = function() {
                var file = new File([xhr.response], 'blob');
                var url = URL.createObjectURL(file);
                var $track = $($playlistview.find('tr')[index + 1]);
                var oldSrc = $track.data('src');
                $track.data('src', url);
                $track.attr('data-src', url);
                $track.attr('data-link', oldSrc);
                readTags(file, index);
            };
            if (fromLink) {
                xhr.open('GET', $track.data('src'));
                xhr.setRequestHeader('Authorization', 'Bearer ' + accessToken);
                xhr.onerror = function() {
                    downloadFile(fileObj, index, true);
                };
            } else {
                xhr.open('GET', fileObj.downloadUrl);
                xhr.setRequestHeader('Authorization', 'Bearer ' + accessToken);
                xhr.onerror = function() {
                    downloadFile(fileObj, index, true);
                };
            }
            xhr.send();
            console.log('starting google drive download for file:', fileObj);
        }
    }

    function parseGoogleDrive(file, index) {
        if (!index) {
            ids = [];
            playlist = [];
            playlist.push("<tr><th>No</th><th>Artist</th><th>Album</th><th>Title</th><th>File</th></tr>");
        }
        ids.push(file.id);
        var row = ['<tr class="track" data-id="' + file.id + '" data-src="' + 'https://docs.google.com/uc?id=' + file.id + '&export=download' + '">', '<td class="track-number">' + (++index) + '</td>', '<td class="track-artist"></td>', '<td class="track-album"></td>', '<td class="track-title"></td>', '<td class="track-file">' + file.name + '</td></tr>'].join('');
        playlist.push(row);
    }
}(jQuery));

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJtcC5kcml2ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oJCkge1xyXG4gICAgdmFyIHNvcnRieSA9IE1QLnBsYXlsaXN0LnNvcnRieTtcclxuICAgIHZhciByZW5kZXJQbGF5bGlzdCA9IE1QLnBsYXlsaXN0LnJlbmRlclBsYXlsaXN0O1xyXG4gICAgdmFyIHJlYWRUYWdzID0gTVAucGxheWxpc3QucmVhZFRhZ3M7XHJcbiAgICB2YXIgcGxheWxpc3QgPSBbXTtcclxuICAgIHZhciBpZHMgPSBbXTtcclxuICAgIHZhciAkcGxheWxpc3R2aWV3ID0gJCgnI3BsYXlsaXN0LXZpZXcnKTtcclxuICAgIHZhciAkdHJhY2tzID0gJCgnLnRyYWNrJyk7XHJcbiAgICB2YXIgdGFibGVoZWFkaW5nID0gXCI8dHI+PHRoPk5vPC90aD48dGg+QXJ0aXN0PC90aD48dGg+QWxidW08L3RoPjx0aD5UaXRsZTwvdGg+PHRoPkZpbGU8L3RoPjwvdHI+XCI7XHJcbiAgICB2YXIgJGZpbGVzZWxlY3QgPSAkKCcjZmlsZXNlbGVjdCcpO1xyXG4gICAgdmFyICR3cmFwcGVyID0gJCgnI3dyYXBwZXInKTtcclxuICAgIHZhciAkd2luZG93ID0gJCh3aW5kb3cpO1xyXG4gICAgJHdpbmRvdy5vbignbG9hZCcsIGluaXRQaWNrZXIpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGluaXRQaWNrZXIoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0luaXRpYWxpemluZyBHb29nbGUgRHJpdmUgaW50ZWdyYXRpb24nKTtcclxuICAgICAgICBpZiAod2luZG93LmdhcGkgJiYgd2luZG93Lmdvb2dsZSAmJiB3aW5kb3cuRmlsZVBpY2tlcikge1xyXG4gICAgICAgICAgICB2YXIgcGlja2VyID0gbmV3IEZpbGVQaWNrZXIoe1xyXG4gICAgICAgICAgICAgICAgYXBpS2V5OiAnQUl6YVN5Qk1ETTR2NmNqbXQzazAwUU83UEFabjJNR2c4aFJ2U3Y0JyxcclxuICAgICAgICAgICAgICAgIGNsaWVudElkOiAnMTg2ODE3NTI2NycsXHJcbiAgICAgICAgICAgICAgICBidXR0b25FbDogJCgnI2xvZ2luJylbMF0sXHJcbiAgICAgICAgICAgICAgICBvblNlbGVjdDogZnVuY3Rpb24oZmlsZUxpc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhmaWxlTGlzdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlsZUxpc3QgPSBmaWxlTGlzdC5zb3J0KHNvcnRieSgnbmFtZScsICdhc2NlbmRpbmcnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlsZUxpc3QuZm9yRWFjaChwYXJzZUdvb2dsZURyaXZlKTtcclxuICAgICAgICAgICAgICAgICAgICByZW5kZXJQbGF5bGlzdCgkcGxheWxpc3R2aWV3LCBwbGF5bGlzdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWRzLmZvckVhY2goZ2V0RmlsZVVybCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnR29vZ2xlIERyaXZlIGludGVncmF0aW9uIGVuYWJsZWQuJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0dvb2dsZSBEcml2ZSBpbnRlZ3JhdGlvbiBkaXNhYmxlZC4nKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0RmlsZVVybChmaWxlSWQsIGluZGV4KSB7XHJcbiAgICAgICAgdmFyIHJlcXVlc3QgPSBnYXBpLmNsaWVudC5kcml2ZS5maWxlcy5nZXQoe1xyXG4gICAgICAgICAgICAnZmlsZUlkJzogZmlsZUlkXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmVxdWVzdC5leGVjdXRlKGZ1bmN0aW9uKHJlc3ApIHtcclxuICAgICAgICAgICAgZG93bmxvYWRGaWxlKHJlc3AsIGluZGV4KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBkb3dubG9hZEZpbGUoZmlsZU9iaiwgaW5kZXgsIGZyb21MaW5rKSB7XHJcbiAgICAgICAgaWYgKGZpbGVPYmouZG93bmxvYWRVcmwpIHtcclxuICAgICAgICAgICAgdmFyIGFjY2Vzc1Rva2VuID0gZ2FwaS5hdXRoLmdldFRva2VuKClcclxuICAgICAgICAgICAgICAgIC5hY2Nlc3NfdG9rZW47XHJcbiAgICAgICAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgICAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9IFwiYmxvYlwiO1xyXG4gICAgICAgICAgICB4aHIub25sb2FkID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZmlsZSA9IG5ldyBGaWxlKFt4aHIucmVzcG9uc2VdLCAnYmxvYicpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgJHRyYWNrID0gJCgkcGxheWxpc3R2aWV3LmZpbmQoJ3RyJylbaW5kZXggKyAxXSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgb2xkU3JjID0gJHRyYWNrLmRhdGEoJ3NyYycpO1xyXG4gICAgICAgICAgICAgICAgJHRyYWNrLmRhdGEoJ3NyYycsIHVybCk7XHJcbiAgICAgICAgICAgICAgICAkdHJhY2suYXR0cignZGF0YS1zcmMnLCB1cmwpO1xyXG4gICAgICAgICAgICAgICAgJHRyYWNrLmF0dHIoJ2RhdGEtbGluaycsIG9sZFNyYyk7XHJcbiAgICAgICAgICAgICAgICByZWFkVGFncyhmaWxlLCBpbmRleCk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGlmIChmcm9tTGluaykge1xyXG4gICAgICAgICAgICAgICAgeGhyLm9wZW4oJ0dFVCcsICR0cmFjay5kYXRhKCdzcmMnKSk7XHJcbiAgICAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQXV0aG9yaXphdGlvbicsICdCZWFyZXIgJyArIGFjY2Vzc1Rva2VuKTtcclxuICAgICAgICAgICAgICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRGaWxlKGZpbGVPYmosIGluZGV4LCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB4aHIub3BlbignR0VUJywgZmlsZU9iai5kb3dubG9hZFVybCk7XHJcbiAgICAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQXV0aG9yaXphdGlvbicsICdCZWFyZXIgJyArIGFjY2Vzc1Rva2VuKTtcclxuICAgICAgICAgICAgICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRGaWxlKGZpbGVPYmosIGluZGV4LCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgeGhyLnNlbmQoKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ3N0YXJ0aW5nIGdvb2dsZSBkcml2ZSBkb3dubG9hZCBmb3IgZmlsZTonLCBmaWxlT2JqKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcGFyc2VHb29nbGVEcml2ZShmaWxlLCBpbmRleCkge1xyXG4gICAgICAgIGlmICghaW5kZXgpIHtcclxuICAgICAgICAgICAgaWRzID0gW107XHJcbiAgICAgICAgICAgIHBsYXlsaXN0ID0gW107XHJcbiAgICAgICAgICAgIHBsYXlsaXN0LnB1c2goXCI8dHI+PHRoPk5vPC90aD48dGg+QXJ0aXN0PC90aD48dGg+QWxidW08L3RoPjx0aD5UaXRsZTwvdGg+PHRoPkZpbGU8L3RoPjwvdHI+XCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZHMucHVzaChmaWxlLmlkKTtcclxuICAgICAgICB2YXIgcm93ID0gWyc8dHIgY2xhc3M9XCJ0cmFja1wiIGRhdGEtaWQ9XCInICsgZmlsZS5pZCArICdcIiBkYXRhLXNyYz1cIicgKyAnaHR0cHM6Ly9kb2NzLmdvb2dsZS5jb20vdWM/aWQ9JyArIGZpbGUuaWQgKyAnJmV4cG9ydD1kb3dubG9hZCcgKyAnXCI+JywgJzx0ZCBjbGFzcz1cInRyYWNrLW51bWJlclwiPicgKyAoKytpbmRleCkgKyAnPC90ZD4nLCAnPHRkIGNsYXNzPVwidHJhY2stYXJ0aXN0XCI+PC90ZD4nLCAnPHRkIGNsYXNzPVwidHJhY2stYWxidW1cIj48L3RkPicsICc8dGQgY2xhc3M9XCJ0cmFjay10aXRsZVwiPjwvdGQ+JywgJzx0ZCBjbGFzcz1cInRyYWNrLWZpbGVcIj4nICsgZmlsZS5uYW1lICsgJzwvdGQ+PC90cj4nXS5qb2luKCcnKTtcclxuICAgICAgICBwbGF5bGlzdC5wdXNoKHJvdyk7XHJcbiAgICB9XHJcbn0oalF1ZXJ5KSk7XHJcbiJdLCJmaWxlIjoibXAuZHJpdmUuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

window.MP = window.MP || {};
MP.dropbox = (function($) {
    var sortby = MP.playlist.sortby;
    var renderPlaylist = MP.playlist.renderPlaylist;
    var readTags = MP.playlist.readTags;
    var playlist = [];
    var ids = [];
    var $playlistview = $('#playlist-view');
    var $tracks = $('.track');
    var tableheading = "<tr><th>No</th><th>Artist</th><th>Album</th><th>Title</th><th>File</th></tr>";
    var $fileselect = $('#fileselect');
    var $wrapper = $('#wrapper');
    var $button = $('#dropbox');
    var $window = $(window);
    $window.on('load', initDropbox);

    function initDropbox() {
        console.log('Initializing Dropbox integration');
        var options = {
            success: function(files) {
                files.forEach(parseDropbox);
                renderPlaylist($playlistview, playlist);
                files.forEach(downloadFile);
            },
            cancel: function() {

            },
            linkType: "direct", // or "direct"
            multiselect: true, // or true
            extensions: ['.mp3', '.mp4', '.m4a'],
        };
        if (window.Dropbox) {
            console.log('Dropbox integration enabled');
            $button.attr('disabled', false);
            $button.on('click', function() {
                Dropbox.choose(options);
            });
        } else {
            console.log('Dropbox integration failed');
        }
    }

    function downloadFile(fileObj, index) {
        var xhr = new XMLHttpRequest();
        var $track = $($playlistview.find('tr')[index + 1]);
        xhr.open('GET', $track.data('src'));
        xhr.responseType = "blob";
        xhr.onload = function() {
            var file = new File([xhr.response], 'blob');
            var url = URL.createObjectURL(file);
            var $track = $($playlistview.find('tr')[index + 1]);
            var oldSrc = $track.data('src');
            $track.data('src', url);
            $track.attr('data-src', url);
            $track.attr('data-link', oldSrc);
            readTags(file, index);
        };
        xhr.onerror = function() {
            downloadFile(fileObj, index, true);
        };
        xhr.send();
    }

    function parseDropbox(file, index) {
        console.log(file);
        if (!index) {
            ids = [];
            playlist = [];
            playlist.push("<tr><th>No</th><th>Artist</th><th>Album</th><th>Title</th><th>File</th></tr>");
        }
        ids.push(file.id);
        var row = ['<tr class="track" data-src="' + file.link + '">', '<td class="track-number">' + (++index) + '</td>', '<td class="track-artist"></td>', '<td class="track-album"></td>', '<td class="track-title"></td>', '<td class="track-file">' + file.name + '</td></tr>'].join('');
        playlist.push(row);
    }

    return initDropbox;
}(jQuery));

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJtcC5kcm9wYm94LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIndpbmRvdy5NUCA9IHdpbmRvdy5NUCB8fCB7fTtcclxuTVAuZHJvcGJveCA9IChmdW5jdGlvbigkKSB7XHJcbiAgICB2YXIgc29ydGJ5ID0gTVAucGxheWxpc3Quc29ydGJ5O1xyXG4gICAgdmFyIHJlbmRlclBsYXlsaXN0ID0gTVAucGxheWxpc3QucmVuZGVyUGxheWxpc3Q7XHJcbiAgICB2YXIgcmVhZFRhZ3MgPSBNUC5wbGF5bGlzdC5yZWFkVGFncztcclxuICAgIHZhciBwbGF5bGlzdCA9IFtdO1xyXG4gICAgdmFyIGlkcyA9IFtdO1xyXG4gICAgdmFyICRwbGF5bGlzdHZpZXcgPSAkKCcjcGxheWxpc3QtdmlldycpO1xyXG4gICAgdmFyICR0cmFja3MgPSAkKCcudHJhY2snKTtcclxuICAgIHZhciB0YWJsZWhlYWRpbmcgPSBcIjx0cj48dGg+Tm88L3RoPjx0aD5BcnRpc3Q8L3RoPjx0aD5BbGJ1bTwvdGg+PHRoPlRpdGxlPC90aD48dGg+RmlsZTwvdGg+PC90cj5cIjtcclxuICAgIHZhciAkZmlsZXNlbGVjdCA9ICQoJyNmaWxlc2VsZWN0Jyk7XHJcbiAgICB2YXIgJHdyYXBwZXIgPSAkKCcjd3JhcHBlcicpO1xyXG4gICAgdmFyICRidXR0b24gPSAkKCcjZHJvcGJveCcpO1xyXG4gICAgdmFyICR3aW5kb3cgPSAkKHdpbmRvdyk7XHJcbiAgICAkd2luZG93Lm9uKCdsb2FkJywgaW5pdERyb3Bib3gpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGluaXREcm9wYm94KCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdJbml0aWFsaXppbmcgRHJvcGJveCBpbnRlZ3JhdGlvbicpO1xyXG4gICAgICAgIHZhciBvcHRpb25zID0ge1xyXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihmaWxlcykge1xyXG4gICAgICAgICAgICAgICAgZmlsZXMuZm9yRWFjaChwYXJzZURyb3Bib3gpO1xyXG4gICAgICAgICAgICAgICAgcmVuZGVyUGxheWxpc3QoJHBsYXlsaXN0dmlldywgcGxheWxpc3QpO1xyXG4gICAgICAgICAgICAgICAgZmlsZXMuZm9yRWFjaChkb3dubG9hZEZpbGUpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjYW5jZWw6IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbGlua1R5cGU6IFwiZGlyZWN0XCIsIC8vIG9yIFwiZGlyZWN0XCJcclxuICAgICAgICAgICAgbXVsdGlzZWxlY3Q6IHRydWUsIC8vIG9yIHRydWVcclxuICAgICAgICAgICAgZXh0ZW5zaW9uczogWycubXAzJywgJy5tcDQnLCAnLm00YSddLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKHdpbmRvdy5Ecm9wYm94KSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdEcm9wYm94IGludGVncmF0aW9uIGVuYWJsZWQnKTtcclxuICAgICAgICAgICAgJGJ1dHRvbi5hdHRyKCdkaXNhYmxlZCcsIGZhbHNlKTtcclxuICAgICAgICAgICAgJGJ1dHRvbi5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIERyb3Bib3guY2hvb3NlKG9wdGlvbnMpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRHJvcGJveCBpbnRlZ3JhdGlvbiBmYWlsZWQnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZG93bmxvYWRGaWxlKGZpbGVPYmosIGluZGV4KSB7XHJcbiAgICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgICAgIHZhciAkdHJhY2sgPSAkKCRwbGF5bGlzdHZpZXcuZmluZCgndHInKVtpbmRleCArIDFdKTtcclxuICAgICAgICB4aHIub3BlbignR0VUJywgJHRyYWNrLmRhdGEoJ3NyYycpKTtcclxuICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gXCJibG9iXCI7XHJcbiAgICAgICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgZmlsZSA9IG5ldyBGaWxlKFt4aHIucmVzcG9uc2VdLCAnYmxvYicpO1xyXG4gICAgICAgICAgICB2YXIgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKTtcclxuICAgICAgICAgICAgdmFyICR0cmFjayA9ICQoJHBsYXlsaXN0dmlldy5maW5kKCd0cicpW2luZGV4ICsgMV0pO1xyXG4gICAgICAgICAgICB2YXIgb2xkU3JjID0gJHRyYWNrLmRhdGEoJ3NyYycpO1xyXG4gICAgICAgICAgICAkdHJhY2suZGF0YSgnc3JjJywgdXJsKTtcclxuICAgICAgICAgICAgJHRyYWNrLmF0dHIoJ2RhdGEtc3JjJywgdXJsKTtcclxuICAgICAgICAgICAgJHRyYWNrLmF0dHIoJ2RhdGEtbGluaycsIG9sZFNyYyk7XHJcbiAgICAgICAgICAgIHJlYWRUYWdzKGZpbGUsIGluZGV4KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGRvd25sb2FkRmlsZShmaWxlT2JqLCBpbmRleCwgdHJ1ZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB4aHIuc2VuZCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHBhcnNlRHJvcGJveChmaWxlLCBpbmRleCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGZpbGUpO1xyXG4gICAgICAgIGlmICghaW5kZXgpIHtcclxuICAgICAgICAgICAgaWRzID0gW107XHJcbiAgICAgICAgICAgIHBsYXlsaXN0ID0gW107XHJcbiAgICAgICAgICAgIHBsYXlsaXN0LnB1c2goXCI8dHI+PHRoPk5vPC90aD48dGg+QXJ0aXN0PC90aD48dGg+QWxidW08L3RoPjx0aD5UaXRsZTwvdGg+PHRoPkZpbGU8L3RoPjwvdHI+XCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZHMucHVzaChmaWxlLmlkKTtcclxuICAgICAgICB2YXIgcm93ID0gWyc8dHIgY2xhc3M9XCJ0cmFja1wiIGRhdGEtc3JjPVwiJyArIGZpbGUubGluayArICdcIj4nLCAnPHRkIGNsYXNzPVwidHJhY2stbnVtYmVyXCI+JyArICgrK2luZGV4KSArICc8L3RkPicsICc8dGQgY2xhc3M9XCJ0cmFjay1hcnRpc3RcIj48L3RkPicsICc8dGQgY2xhc3M9XCJ0cmFjay1hbGJ1bVwiPjwvdGQ+JywgJzx0ZCBjbGFzcz1cInRyYWNrLXRpdGxlXCI+PC90ZD4nLCAnPHRkIGNsYXNzPVwidHJhY2stZmlsZVwiPicgKyBmaWxlLm5hbWUgKyAnPC90ZD48L3RyPiddLmpvaW4oJycpO1xyXG4gICAgICAgIHBsYXlsaXN0LnB1c2gocm93KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gaW5pdERyb3Bib3g7XHJcbn0oalF1ZXJ5KSk7XHJcbiJdLCJmaWxlIjoibXAuZHJvcGJveC5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9

    MP.youtube = (function($) {
        'use strict';
        var $window = $(window);
        // After the API loads, call a function to enable the search box.
        $window.on('load', function() {
            if (window.gapi) {
                gapi.client.load('youtube', 'v3', handleAPILoaded);
            }
        });

        function handleAPILoaded() {
            $('#query').attr('disabled', false);
            $('#query').on('change', search);
        }
        // Search for a specified string.
        function search() {
            var q = $('#query').val();
            var request = gapi.client.youtube.search.list({
                q: q,
                type: 'video',
                part: 'snippet',
                maxResults: 50
            });
            console.log('querying youtube for:', q);

            request.execute(function(response) {
                console.log('Get response from youtube', response);
                response.items.forEach(function(item, index) {
                    fetchVideoUrl(item.id.videoId, index);
                    var iframe = '<iframe width="100%" height="100%" src="https://www.youtube.com/embed/' + item.id.videoId + '" frameborder="0" allowfullscreen></iframe>';
                });
            });
        }

        function fetchVideoUrl(item, index) {
            $.get('http://www.youtubeinmp3.com/fetch/?format=JSON&video=http://www.youtube.com/watch?v=' + item, function(res) {
                console.log(JSON.parse(res));
                res = JSON.parse(res);
                renderYoutube(res, index);
            });
        }

        function renderYoutube(res, index) {
            res = '<tr class="track" data-src="' + res.link + '">' + '<td>' + res.title + '</td>' + '</tr>';
            if (!index) {
                $('#search-container').html(res);
            } else {
                $('#search-container').append(res);
            }
        }

        var Yt = {
            init: {

            }
        };

        return Yt;
    }(jQuery));

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJtcC55b3V0dWJlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIiAgICBNUC55b3V0dWJlID0gKGZ1bmN0aW9uKCQpIHtcclxuICAgICAgICAndXNlIHN0cmljdCc7XHJcbiAgICAgICAgdmFyICR3aW5kb3cgPSAkKHdpbmRvdyk7XHJcbiAgICAgICAgLy8gQWZ0ZXIgdGhlIEFQSSBsb2FkcywgY2FsbCBhIGZ1bmN0aW9uIHRvIGVuYWJsZSB0aGUgc2VhcmNoIGJveC5cclxuICAgICAgICAkd2luZG93Lm9uKCdsb2FkJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlmICh3aW5kb3cuZ2FwaSkge1xyXG4gICAgICAgICAgICAgICAgZ2FwaS5jbGllbnQubG9hZCgneW91dHViZScsICd2MycsIGhhbmRsZUFQSUxvYWRlZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlQVBJTG9hZGVkKCkge1xyXG4gICAgICAgICAgICAkKCcjcXVlcnknKS5hdHRyKCdkaXNhYmxlZCcsIGZhbHNlKTtcclxuICAgICAgICAgICAgJCgnI3F1ZXJ5Jykub24oJ2NoYW5nZScsIHNlYXJjaCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFNlYXJjaCBmb3IgYSBzcGVjaWZpZWQgc3RyaW5nLlxyXG4gICAgICAgIGZ1bmN0aW9uIHNlYXJjaCgpIHtcclxuICAgICAgICAgICAgdmFyIHEgPSAkKCcjcXVlcnknKS52YWwoKTtcclxuICAgICAgICAgICAgdmFyIHJlcXVlc3QgPSBnYXBpLmNsaWVudC55b3V0dWJlLnNlYXJjaC5saXN0KHtcclxuICAgICAgICAgICAgICAgIHE6IHEsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiAndmlkZW8nLFxyXG4gICAgICAgICAgICAgICAgcGFydDogJ3NuaXBwZXQnLFxyXG4gICAgICAgICAgICAgICAgbWF4UmVzdWx0czogNTBcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdxdWVyeWluZyB5b3V0dWJlIGZvcjonLCBxKTtcclxuXHJcbiAgICAgICAgICAgIHJlcXVlc3QuZXhlY3V0ZShmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0dldCByZXNwb25zZSBmcm9tIHlvdXR1YmUnLCByZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICByZXNwb25zZS5pdGVtcy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0sIGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmV0Y2hWaWRlb1VybChpdGVtLmlkLnZpZGVvSWQsIGluZGV4KTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaWZyYW1lID0gJzxpZnJhbWUgd2lkdGg9XCIxMDAlXCIgaGVpZ2h0PVwiMTAwJVwiIHNyYz1cImh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL2VtYmVkLycgKyBpdGVtLmlkLnZpZGVvSWQgKyAnXCIgZnJhbWVib3JkZXI9XCIwXCIgYWxsb3dmdWxsc2NyZWVuPjwvaWZyYW1lPic7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBmZXRjaFZpZGVvVXJsKGl0ZW0sIGluZGV4KSB7XHJcbiAgICAgICAgICAgICQuZ2V0KCdodHRwOi8vd3d3LnlvdXR1YmVpbm1wMy5jb20vZmV0Y2gvP2Zvcm1hdD1KU09OJnZpZGVvPWh0dHA6Ly93d3cueW91dHViZS5jb20vd2F0Y2g/dj0nICsgaXRlbSwgZnVuY3Rpb24ocmVzKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnBhcnNlKHJlcykpO1xyXG4gICAgICAgICAgICAgICAgcmVzID0gSlNPTi5wYXJzZShyZXMpO1xyXG4gICAgICAgICAgICAgICAgcmVuZGVyWW91dHViZShyZXMsIGluZGV4KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiByZW5kZXJZb3V0dWJlKHJlcywgaW5kZXgpIHtcclxuICAgICAgICAgICAgcmVzID0gJzx0ciBjbGFzcz1cInRyYWNrXCIgZGF0YS1zcmM9XCInICsgcmVzLmxpbmsgKyAnXCI+JyArICc8dGQ+JyArIHJlcy50aXRsZSArICc8L3RkPicgKyAnPC90cj4nO1xyXG4gICAgICAgICAgICBpZiAoIWluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAkKCcjc2VhcmNoLWNvbnRhaW5lcicpLmh0bWwocmVzKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICQoJyNzZWFyY2gtY29udGFpbmVyJykuYXBwZW5kKHJlcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBZdCA9IHtcclxuICAgICAgICAgICAgaW5pdDoge1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJldHVybiBZdDtcclxuICAgIH0oalF1ZXJ5KSk7XHJcbiJdLCJmaWxlIjoibXAueW91dHViZS5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9

window.MP = window.MP || {};
MP.artwork = (function($) {
    var $window = $(window);
    $window.on('mp:played', fetchArtworks);

    function fetchArtworks(event, el) {
        var artist = $(el)
            .find('.track-artist')
            .text();
        var album = $(el)
            .find('.track-album')
            .text();
        if (album.indexOf('(') !== -1) {
            album = album.substring(0, album.indexOf('('));
        }
        var query = artist + '+' + album;
        // query = 'https://itunes.apple.com/search?term=' + query + '&entity=album&atrribute=albumTerm';
        // $.ajax({
        //     url: query,
        //     async: false,
        //     jsonpCallback: 'jsonCallback',
        //     contentType: "application/json",
        //     dataType: 'jsonp',
        //     success: function (resp) {
        //         el.attr('data-artwork', resp.results[0].artworkUrl100.replace('100x100', '600x600'));
        //         showArtwork();
        //     },
        //     error: function (e) {
        //         console.log(e.message);
        //     }
        // });
        query = 'http://ws.audioscrobbler.com/2.0/?method=album.getInfo&api_key=813a8ce6c2b9f14978fc0f3ee0be7b23&artist=' + artist + '&album=' + album;
        $.ajax({
            url: query,
            contentType: 'application/xml',
            success: function(resp) {
                var url = $(resp).find('image[size="mega"]').text();
                el.attr('data-artwork', url);
                showArtwork();
            }
        });
    }

    function showArtwork() {
        var src = $('.track.active')
            .attr('data-artwork');
        $('#player')
            .attr('poster', src);
    }
}(jQuery));

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJtcC5hcnR3b3JrLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIndpbmRvdy5NUCA9IHdpbmRvdy5NUCB8fCB7fTtcclxuTVAuYXJ0d29yayA9IChmdW5jdGlvbigkKSB7XHJcbiAgICB2YXIgJHdpbmRvdyA9ICQod2luZG93KTtcclxuICAgICR3aW5kb3cub24oJ21wOnBsYXllZCcsIGZldGNoQXJ0d29ya3MpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGZldGNoQXJ0d29ya3MoZXZlbnQsIGVsKSB7XHJcbiAgICAgICAgdmFyIGFydGlzdCA9ICQoZWwpXHJcbiAgICAgICAgICAgIC5maW5kKCcudHJhY2stYXJ0aXN0JylcclxuICAgICAgICAgICAgLnRleHQoKTtcclxuICAgICAgICB2YXIgYWxidW0gPSAkKGVsKVxyXG4gICAgICAgICAgICAuZmluZCgnLnRyYWNrLWFsYnVtJylcclxuICAgICAgICAgICAgLnRleHQoKTtcclxuICAgICAgICBpZiAoYWxidW0uaW5kZXhPZignKCcpICE9PSAtMSkge1xyXG4gICAgICAgICAgICBhbGJ1bSA9IGFsYnVtLnN1YnN0cmluZygwLCBhbGJ1bS5pbmRleE9mKCcoJykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgcXVlcnkgPSBhcnRpc3QgKyAnKycgKyBhbGJ1bTtcclxuICAgICAgICAvLyBxdWVyeSA9ICdodHRwczovL2l0dW5lcy5hcHBsZS5jb20vc2VhcmNoP3Rlcm09JyArIHF1ZXJ5ICsgJyZlbnRpdHk9YWxidW0mYXRycmlidXRlPWFsYnVtVGVybSc7XHJcbiAgICAgICAgLy8gJC5hamF4KHtcclxuICAgICAgICAvLyAgICAgdXJsOiBxdWVyeSxcclxuICAgICAgICAvLyAgICAgYXN5bmM6IGZhbHNlLFxyXG4gICAgICAgIC8vICAgICBqc29ucENhbGxiYWNrOiAnanNvbkNhbGxiYWNrJyxcclxuICAgICAgICAvLyAgICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICAgIC8vICAgICBkYXRhVHlwZTogJ2pzb25wJyxcclxuICAgICAgICAvLyAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3ApIHtcclxuICAgICAgICAvLyAgICAgICAgIGVsLmF0dHIoJ2RhdGEtYXJ0d29yaycsIHJlc3AucmVzdWx0c1swXS5hcnR3b3JrVXJsMTAwLnJlcGxhY2UoJzEwMHgxMDAnLCAnNjAweDYwMCcpKTtcclxuICAgICAgICAvLyAgICAgICAgIHNob3dBcnR3b3JrKCk7XHJcbiAgICAgICAgLy8gICAgIH0sXHJcbiAgICAgICAgLy8gICAgIGVycm9yOiBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIC8vICAgICAgICAgY29uc29sZS5sb2coZS5tZXNzYWdlKTtcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vIH0pO1xyXG4gICAgICAgIHF1ZXJ5ID0gJ2h0dHA6Ly93cy5hdWRpb3Njcm9iYmxlci5jb20vMi4wLz9tZXRob2Q9YWxidW0uZ2V0SW5mbyZhcGlfa2V5PTgxM2E4Y2U2YzJiOWYxNDk3OGZjMGYzZWUwYmU3YjIzJmFydGlzdD0nICsgYXJ0aXN0ICsgJyZhbGJ1bT0nICsgYWxidW07XHJcbiAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgdXJsOiBxdWVyeSxcclxuICAgICAgICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi94bWwnLFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXNwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdXJsID0gJChyZXNwKS5maW5kKCdpbWFnZVtzaXplPVwibWVnYVwiXScpLnRleHQoKTtcclxuICAgICAgICAgICAgICAgIGVsLmF0dHIoJ2RhdGEtYXJ0d29yaycsIHVybCk7XHJcbiAgICAgICAgICAgICAgICBzaG93QXJ0d29yaygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2hvd0FydHdvcmsoKSB7XHJcbiAgICAgICAgdmFyIHNyYyA9ICQoJy50cmFjay5hY3RpdmUnKVxyXG4gICAgICAgICAgICAuYXR0cignZGF0YS1hcnR3b3JrJyk7XHJcbiAgICAgICAgJCgnI3BsYXllcicpXHJcbiAgICAgICAgICAgIC5hdHRyKCdwb3N0ZXInLCBzcmMpO1xyXG4gICAgfVxyXG59KGpRdWVyeSkpO1xyXG4iXSwiZmlsZSI6Im1wLmFydHdvcmsuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

window.MP = window.MP || {};
MP.log = (function ($) {
    return function () {
        var args = [].slice.call(arguments);
        $('#log')
            .html(args.join);
    }
}(jQuery));


//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJtcC5sb2cuanMiXSwic291cmNlc0NvbnRlbnQiOlsid2luZG93Lk1QID0gd2luZG93Lk1QIHx8IHt9O1xyXG5NUC5sb2cgPSAoZnVuY3Rpb24gKCQpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGFyZ3MgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XHJcbiAgICAgICAgJCgnI2xvZycpXHJcbiAgICAgICAgICAgIC5odG1sKGFyZ3Muam9pbik7XHJcbiAgICB9XHJcbn0oalF1ZXJ5KSk7XHJcblxyXG4iXSwiZmlsZSI6Im1wLmxvZy5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRpYWxvZy1wb2x5ZmlsbC5qcyIsIkRleGllLm1pbi5qcyIsIm1hdGVyaWFsLm1pbi5qcyIsImpxdWVyeS5taW4uanMiLCJqcXVlcnkuZGF0YVRhYmxlcy5taW4uanMiLCJqcXVlcnkuY29sdW1ucy5taW4uanMiLCJqcXVlcnkuc3J0LmpzIiwicG9seWZpbGxlci5qcyIsImlkMy1taW5pbWl6ZWQuanMiLCJmaWxlcGlja2VyLmpzIiwibXVzdGFjaGUubWluLmpzIiwibXAuaGVscGVyLmpzIiwibXAubmV0d29yay5qcyIsIm1wLmluaXQuanMiLCJtcC5kYi5qcyIsIm1wLnBsYXllci5qcyIsIm1wLnN0b3JhZ2UuanMiLCJtcC5jdXN0b21pemVyLmpzIiwibXAuc2V0dGluZ3MuanMiLCJtcC5wbGF5bGlzdC5qcyIsIm1wLmNocm9tZS5qcyIsIm1wLmNvbnRleHRtZW51LmpzIiwibXAuaGFzaC5qcyIsIm1wLmRpYWxvZy5qcyIsIm1wLmRyaXZlLmpzIiwibXAuZHJvcGJveC5qcyIsIm1wLnlvdXR1YmUuanMiLCJtcC5hcnR3b3JrLmpzIiwibXAubG9nLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUMvZkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDWkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDdEtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDakdBO0FBQ0E7QUFDQTtBQ0ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNsQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ2hIQTtBQUNBO0FBQ0E7QUFDQTtBQ0hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNsQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDMUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ25DQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUMxSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQzNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDeENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3pGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3hCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3ZMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUM3RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ2xGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDdkRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDakNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUMzRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQy9FQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDN0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNwREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpIHtcclxuXHJcbiAgdmFyIHN1cHBvcnRDdXN0b21FdmVudCA9IHdpbmRvdy5DdXN0b21FdmVudDtcclxuICBpZiAoIXN1cHBvcnRDdXN0b21FdmVudCB8fCB0eXBlb2Ygc3VwcG9ydEN1c3RvbUV2ZW50ID09ICdvYmplY3QnKSB7XHJcbiAgICBzdXBwb3J0Q3VzdG9tRXZlbnQgPSBmdW5jdGlvbiBDdXN0b21FdmVudChldmVudCwgeCkge1xyXG4gICAgICB4ID0geCB8fCB7fTtcclxuICAgICAgdmFyIGV2ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0N1c3RvbUV2ZW50Jyk7XHJcbiAgICAgIGV2LmluaXRDdXN0b21FdmVudChldmVudCwgISF4LmJ1YmJsZXMsICEheC5jYW5jZWxhYmxlLCB4LmRldGFpbCB8fCBudWxsKTtcclxuICAgICAgcmV0dXJuIGV2O1xyXG4gICAgfTtcclxuICAgIHN1cHBvcnRDdXN0b21FdmVudC5wcm90b3R5cGUgPSB3aW5kb3cuRXZlbnQucHJvdG90eXBlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRmluZHMgdGhlIG5lYXJlc3QgPGRpYWxvZz4gZnJvbSB0aGUgcGFzc2VkIGVsZW1lbnQuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsIHRvIHNlYXJjaCBmcm9tXHJcbiAgICogQHJldHVybiB7SFRNTERpYWxvZ0VsZW1lbnR9IGRpYWxvZyBmb3VuZFxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGZpbmROZWFyZXN0RGlhbG9nKGVsKSB7XHJcbiAgICB3aGlsZSAoZWwpIHtcclxuICAgICAgaWYgKGVsLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCkgPT0gJ0RJQUxPRycpIHtcclxuICAgICAgICByZXR1cm4gLyoqIEB0eXBlIHtIVE1MRGlhbG9nRWxlbWVudH0gKi8gKGVsKTtcclxuICAgICAgfVxyXG4gICAgICBlbCA9IGVsLnBhcmVudEVsZW1lbnQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEJsdXIgdGhlIHNwZWNpZmllZCBlbGVtZW50LCBhcyBsb25nIGFzIGl0J3Mgbm90IHRoZSBIVE1MIGJvZHkgZWxlbWVudC5cclxuICAgKiBUaGlzIHdvcmtzIGFyb3VuZCBhbiBJRTkvMTAgYnVnIC0gYmx1cnJpbmcgdGhlIGJvZHkgY2F1c2VzIFdpbmRvd3MgdG9cclxuICAgKiBibHVyIHRoZSB3aG9sZSBhcHBsaWNhdGlvbi5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gZWwgdG8gYmx1clxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIHNhZmVCbHVyKGVsKSB7XHJcbiAgICBpZiAoZWwgJiYgZWwuYmx1ciAmJiBlbCAhPSBkb2N1bWVudC5ib2R5KSB7XHJcbiAgICAgIGVsLmJsdXIoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7IU5vZGVMaXN0fSBub2RlTGlzdCB0byBzZWFyY2hcclxuICAgKiBAcGFyYW0ge05vZGV9IG5vZGUgdG8gZmluZFxyXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IHdoZXRoZXIgbm9kZSBpcyBpbnNpZGUgbm9kZUxpc3RcclxuICAgKi9cclxuICBmdW5jdGlvbiBpbk5vZGVMaXN0KG5vZGVMaXN0LCBub2RlKSB7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGVMaXN0Lmxlbmd0aDsgKytpKSB7XHJcbiAgICAgIGlmIChub2RlTGlzdFtpXSA9PSBub2RlKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7IUhUTUxEaWFsb2dFbGVtZW50fSBkaWFsb2cgdG8gdXBncmFkZVxyXG4gICAqIEBjb25zdHJ1Y3RvclxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGRpYWxvZ1BvbHlmaWxsSW5mbyhkaWFsb2cpIHtcclxuICAgIHRoaXMuZGlhbG9nXyA9IGRpYWxvZztcclxuICAgIHRoaXMucmVwbGFjZWRTdHlsZVRvcF8gPSBmYWxzZTtcclxuICAgIHRoaXMub3BlbkFzTW9kYWxfID0gZmFsc2U7XHJcblxyXG4gICAgZGlhbG9nLnNob3cgPSB0aGlzLnNob3cuYmluZCh0aGlzKTtcclxuICAgIGRpYWxvZy5zaG93TW9kYWwgPSB0aGlzLnNob3dNb2RhbC5iaW5kKHRoaXMpO1xyXG4gICAgZGlhbG9nLmNsb3NlID0gdGhpcy5jbG9zZS5iaW5kKHRoaXMpO1xyXG5cclxuICAgIGlmICghKCdyZXR1cm5WYWx1ZScgaW4gZGlhbG9nKSkge1xyXG4gICAgICBkaWFsb2cucmV0dXJuVmFsdWUgPSAnJztcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLm1heWJlSGlkZU1vZGFsID0gdGhpcy5tYXliZUhpZGVNb2RhbC5iaW5kKHRoaXMpO1xyXG4gICAgaWYgKCdNdXRhdGlvbk9ic2VydmVyJyBpbiB3aW5kb3cpIHtcclxuICAgICAgLy8gSUUxMSssIG1vc3Qgb3RoZXIgYnJvd3NlcnMuXHJcbiAgICAgIHZhciBtbyA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKHRoaXMubWF5YmVIaWRlTW9kYWwpO1xyXG4gICAgICBtby5vYnNlcnZlKGRpYWxvZywgeyBhdHRyaWJ1dGVzOiB0cnVlLCBhdHRyaWJ1dGVGaWx0ZXI6IFsnb3BlbiddIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZGlhbG9nLmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUF0dHJNb2RpZmllZCcsIHRoaXMubWF5YmVIaWRlTW9kYWwpO1xyXG4gICAgfVxyXG4gICAgLy8gTm90ZSB0aGF0IHRoZSBET00gaXMgb2JzZXJ2ZWQgaW5zaWRlIERpYWxvZ01hbmFnZXIgd2hpbGUgYW55IGRpYWxvZ1xyXG4gICAgLy8gaXMgYmVpbmcgZGlzcGxheWVkIGFzIGEgbW9kYWwsIHRvIGNhdGNoIG1vZGFsIHJlbW92YWwgZnJvbSB0aGUgRE9NLlxyXG5cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShkaWFsb2csICdvcGVuJywge1xyXG4gICAgICBzZXQ6IHRoaXMuc2V0T3Blbi5iaW5kKHRoaXMpLFxyXG4gICAgICBnZXQ6IGRpYWxvZy5oYXNBdHRyaWJ1dGUuYmluZChkaWFsb2csICdvcGVuJylcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuYmFja2Ryb3BfID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB0aGlzLmJhY2tkcm9wXy5jbGFzc05hbWUgPSAnYmFja2Ryb3AnO1xyXG4gICAgdGhpcy5iYWNrZHJvcENsaWNrXyA9IHRoaXMuYmFja2Ryb3BDbGlja18uYmluZCh0aGlzKTtcclxuICB9XHJcblxyXG4gIGRpYWxvZ1BvbHlmaWxsSW5mby5wcm90b3R5cGUgPSB7XHJcblxyXG4gICAgZ2V0IGRpYWxvZygpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuZGlhbG9nXztcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNYXliZSByZW1vdmUgdGhpcyBkaWFsb2cgZnJvbSB0aGUgbW9kYWwgdG9wIGxheWVyLiBUaGlzIGlzIGNhbGxlZCB3aGVuXHJcbiAgICAgKiBhIG1vZGFsIGRpYWxvZyBtYXkgbm8gbG9uZ2VyIGJlIHRlbmFibGUsIGUuZy4sIHdoZW4gdGhlIGRpYWxvZyBpcyBub1xyXG4gICAgICogbG9uZ2VyIG9wZW4gb3IgaXMgbm8gbG9uZ2VyIHBhcnQgb2YgdGhlIERPTS5cclxuICAgICAqL1xyXG4gICAgbWF5YmVIaWRlTW9kYWw6IGZ1bmN0aW9uKCkge1xyXG4gICAgICBpZiAoIXRoaXMub3BlbkFzTW9kYWxfKSB7IHJldHVybjsgfVxyXG4gICAgICBpZiAodGhpcy5kaWFsb2dfLmhhc0F0dHJpYnV0ZSgnb3BlbicpICYmXHJcbiAgICAgICAgICBkb2N1bWVudC5ib2R5LmNvbnRhaW5zKHRoaXMuZGlhbG9nXykpIHsgcmV0dXJuOyB9XHJcblxyXG4gICAgICB0aGlzLm9wZW5Bc01vZGFsXyA9IGZhbHNlO1xyXG4gICAgICB0aGlzLmRpYWxvZ18uc3R5bGUuekluZGV4ID0gJyc7XHJcblxyXG4gICAgICAvLyBUaGlzIHdvbid0IG1hdGNoIHRoZSBuYXRpdmUgPGRpYWxvZz4gZXhhY3RseSBiZWNhdXNlIGlmIHRoZSB1c2VyIHNldFxyXG4gICAgICAvLyB0b3Agb24gYSBjZW50ZXJlZCBwb2x5ZmlsbCBkaWFsb2csIHRoYXQgdG9wIGdldHMgdGhyb3duIGF3YXkgd2hlbiB0aGVcclxuICAgICAgLy8gZGlhbG9nIGlzIGNsb3NlZC4gTm90IHN1cmUgaXQncyBwb3NzaWJsZSB0byBwb2x5ZmlsbCB0aGlzIHBlcmZlY3RseS5cclxuICAgICAgaWYgKHRoaXMucmVwbGFjZWRTdHlsZVRvcF8pIHtcclxuICAgICAgICB0aGlzLmRpYWxvZ18uc3R5bGUudG9wID0gJyc7XHJcbiAgICAgICAgdGhpcy5yZXBsYWNlZFN0eWxlVG9wXyA9IGZhbHNlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBPcHRpbWlzdGljYWxseSBjbGVhciB0aGUgbW9kYWwgcGFydCBvZiB0aGlzIDxkaWFsb2c+LlxyXG4gICAgICB0aGlzLmJhY2tkcm9wXy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuYmFja2Ryb3BDbGlja18pO1xyXG4gICAgICBpZiAodGhpcy5iYWNrZHJvcF8ucGFyZW50RWxlbWVudCkge1xyXG4gICAgICAgIHRoaXMuYmFja2Ryb3BfLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQodGhpcy5iYWNrZHJvcF8pO1xyXG4gICAgICB9XHJcbiAgICAgIGRpYWxvZ1BvbHlmaWxsLmRtLnJlbW92ZURpYWxvZyh0aGlzKTtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIHdoZXRoZXIgdG8gb3BlbiBvciBjbG9zZSB0aGlzIGRpYWxvZ1xyXG4gICAgICovXHJcbiAgICBzZXRPcGVuOiBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICB0aGlzLmRpYWxvZ18uaGFzQXR0cmlidXRlKCdvcGVuJykgfHwgdGhpcy5kaWFsb2dfLnNldEF0dHJpYnV0ZSgnb3BlbicsICcnKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmRpYWxvZ18ucmVtb3ZlQXR0cmlidXRlKCdvcGVuJyk7XHJcbiAgICAgICAgdGhpcy5tYXliZUhpZGVNb2RhbCgpOyAgLy8gbmIuIHJlZHVuZGFudCB3aXRoIE11dGF0aW9uT2JzZXJ2ZXJcclxuICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEhhbmRsZXMgY2xpY2tzIG9uIHRoZSBmYWtlIC5iYWNrZHJvcCBlbGVtZW50LCByZWRpcmVjdGluZyB0aGVtIGFzIGlmXHJcbiAgICAgKiB0aGV5IHdlcmUgb24gdGhlIGRpYWxvZyBpdHNlbGYuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHshRXZlbnR9IGUgdG8gcmVkaXJlY3RcclxuICAgICAqL1xyXG4gICAgYmFja2Ryb3BDbGlja186IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgdmFyIHJlZGlyZWN0ZWRFdmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdNb3VzZUV2ZW50cycpO1xyXG4gICAgICByZWRpcmVjdGVkRXZlbnQuaW5pdE1vdXNlRXZlbnQoZS50eXBlLCBlLmJ1YmJsZXMsIGUuY2FuY2VsYWJsZSwgd2luZG93LFxyXG4gICAgICAgICAgZS5kZXRhaWwsIGUuc2NyZWVuWCwgZS5zY3JlZW5ZLCBlLmNsaWVudFgsIGUuY2xpZW50WSwgZS5jdHJsS2V5LFxyXG4gICAgICAgICAgZS5hbHRLZXksIGUuc2hpZnRLZXksIGUubWV0YUtleSwgZS5idXR0b24sIGUucmVsYXRlZFRhcmdldCk7XHJcbiAgICAgIHRoaXMuZGlhbG9nXy5kaXNwYXRjaEV2ZW50KHJlZGlyZWN0ZWRFdmVudCk7XHJcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB0aGUgekluZGV4IGZvciB0aGUgYmFja2Ryb3AgYW5kIGRpYWxvZy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYmFja2Ryb3BaXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGlhbG9nWlxyXG4gICAgICovXHJcbiAgICB1cGRhdGVaSW5kZXg6IGZ1bmN0aW9uKGJhY2tkcm9wWiwgZGlhbG9nWikge1xyXG4gICAgICB0aGlzLmJhY2tkcm9wXy5zdHlsZS56SW5kZXggPSBiYWNrZHJvcFo7XHJcbiAgICAgIHRoaXMuZGlhbG9nXy5zdHlsZS56SW5kZXggPSBkaWFsb2daO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNob3dzIHRoZSBkaWFsb2cuIFRoaXMgaXMgaWRlbXBvdGVudCBhbmQgd2lsbCBhbHdheXMgc3VjY2VlZC5cclxuICAgICAqL1xyXG4gICAgc2hvdzogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHRoaXMuc2V0T3Blbih0cnVlKTtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTaG93IHRoaXMgZGlhbG9nIG1vZGFsbHkuXHJcbiAgICAgKi9cclxuICAgIHNob3dNb2RhbDogZnVuY3Rpb24oKSB7XHJcbiAgICAgIGlmICh0aGlzLmRpYWxvZ18uaGFzQXR0cmlidXRlKCdvcGVuJykpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBleGVjdXRlIFxcJ3Nob3dNb2RhbFxcJyBvbiBkaWFsb2c6IFRoZSBlbGVtZW50IGlzIGFscmVhZHkgb3BlbiwgYW5kIHRoZXJlZm9yZSBjYW5ub3QgYmUgb3BlbmVkIG1vZGFsbHkuJyk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKCFkb2N1bWVudC5ib2R5LmNvbnRhaW5zKHRoaXMuZGlhbG9nXykpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBleGVjdXRlIFxcJ3Nob3dNb2RhbFxcJyBvbiBkaWFsb2c6IFRoZSBlbGVtZW50IGlzIG5vdCBpbiBhIERvY3VtZW50LicpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICghZGlhbG9nUG9seWZpbGwuZG0ucHVzaERpYWxvZyh0aGlzKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGV4ZWN1dGUgXFwnc2hvd01vZGFsXFwnIG9uIGRpYWxvZzogVGhlcmUgYXJlIHRvbyBtYW55IG9wZW4gbW9kYWwgZGlhbG9ncy4nKTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLnNob3coKTtcclxuICAgICAgdGhpcy5vcGVuQXNNb2RhbF8gPSB0cnVlO1xyXG5cclxuICAgICAgLy8gT3B0aW9uYWxseSBjZW50ZXIgdmVydGljYWxseSwgcmVsYXRpdmUgdG8gdGhlIGN1cnJlbnQgdmlld3BvcnQuXHJcbiAgICAgIGlmIChkaWFsb2dQb2x5ZmlsbC5uZWVkc0NlbnRlcmluZyh0aGlzLmRpYWxvZ18pKSB7XHJcbiAgICAgICAgZGlhbG9nUG9seWZpbGwucmVwb3NpdGlvbih0aGlzLmRpYWxvZ18pO1xyXG4gICAgICAgIHRoaXMucmVwbGFjZWRTdHlsZVRvcF8gPSB0cnVlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMucmVwbGFjZWRTdHlsZVRvcF8gPSBmYWxzZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gSW5zZXJ0IGJhY2tkcm9wLlxyXG4gICAgICB0aGlzLmJhY2tkcm9wXy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuYmFja2Ryb3BDbGlja18pO1xyXG4gICAgICB0aGlzLmRpYWxvZ18ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy5iYWNrZHJvcF8sXHJcbiAgICAgICAgICB0aGlzLmRpYWxvZ18ubmV4dFNpYmxpbmcpO1xyXG5cclxuICAgICAgLy8gRmluZCBlbGVtZW50IHdpdGggYGF1dG9mb2N1c2AgYXR0cmlidXRlIG9yIGZpcnN0IGZvcm0gY29udHJvbC5cclxuICAgICAgdmFyIHRhcmdldCA9IHRoaXMuZGlhbG9nXy5xdWVyeVNlbGVjdG9yKCdbYXV0b2ZvY3VzXTpub3QoW2Rpc2FibGVkXSknKTtcclxuICAgICAgaWYgKCF0YXJnZXQpIHtcclxuICAgICAgICAvLyBUT0RPOiB0ZWNobmljYWxseSB0aGlzIGlzICdhbnkgZm9jdXNhYmxlIGFyZWEnXHJcbiAgICAgICAgdmFyIG9wdHMgPSBbJ2J1dHRvbicsICdpbnB1dCcsICdrZXlnZW4nLCAnc2VsZWN0JywgJ3RleHRhcmVhJ107XHJcbiAgICAgICAgdmFyIHF1ZXJ5ID0gb3B0cy5tYXAoZnVuY3Rpb24oZWwpIHtcclxuICAgICAgICAgIHJldHVybiBlbCArICc6bm90KFtkaXNhYmxlZF0pJztcclxuICAgICAgICB9KS5qb2luKCcsICcpO1xyXG4gICAgICAgIHRhcmdldCA9IHRoaXMuZGlhbG9nXy5xdWVyeVNlbGVjdG9yKHF1ZXJ5KTtcclxuICAgICAgfVxyXG4gICAgICBzYWZlQmx1cihkb2N1bWVudC5hY3RpdmVFbGVtZW50KTtcclxuICAgICAgdGFyZ2V0ICYmIHRhcmdldC5mb2N1cygpO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIENsb3NlcyB0aGlzIEhUTUxEaWFsb2dFbGVtZW50LiBUaGlzIGlzIG9wdGlvbmFsIHZzIGNsZWFyaW5nIHRoZSBvcGVuXHJcbiAgICAgKiBhdHRyaWJ1dGUsIGhvd2V2ZXIgdGhpcyBmaXJlcyBhICdjbG9zZScgZXZlbnQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBvcHRfcmV0dXJuVmFsdWUgdG8gdXNlIGFzIHRoZSByZXR1cm5WYWx1ZVxyXG4gICAgICovXHJcbiAgICBjbG9zZTogZnVuY3Rpb24ob3B0X3JldHVyblZhbHVlKSB7XHJcbiAgICAgIGlmICghdGhpcy5kaWFsb2dfLmhhc0F0dHJpYnV0ZSgnb3BlbicpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZXhlY3V0ZSBcXCdjbG9zZVxcJyBvbiBkaWFsb2c6IFRoZSBlbGVtZW50IGRvZXMgbm90IGhhdmUgYW4gXFwnb3BlblxcJyBhdHRyaWJ1dGUsIGFuZCB0aGVyZWZvcmUgY2Fubm90IGJlIGNsb3NlZC4nKTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLnNldE9wZW4oZmFsc2UpO1xyXG5cclxuICAgICAgLy8gTGVhdmUgcmV0dXJuVmFsdWUgdW50b3VjaGVkIGluIGNhc2UgaXQgd2FzIHNldCBkaXJlY3RseSBvbiB0aGUgZWxlbWVudFxyXG4gICAgICBpZiAob3B0X3JldHVyblZhbHVlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICB0aGlzLmRpYWxvZ18ucmV0dXJuVmFsdWUgPSBvcHRfcmV0dXJuVmFsdWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFRyaWdnZXJpbmcgXCJjbG9zZVwiIGV2ZW50IGZvciBhbnkgYXR0YWNoZWQgbGlzdGVuZXJzIG9uIHRoZSA8ZGlhbG9nPi5cclxuICAgICAgdmFyIGNsb3NlRXZlbnQgPSBuZXcgc3VwcG9ydEN1c3RvbUV2ZW50KCdjbG9zZScsIHtcclxuICAgICAgICBidWJibGVzOiBmYWxzZSxcclxuICAgICAgICBjYW5jZWxhYmxlOiBmYWxzZVxyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5kaWFsb2dfLmRpc3BhdGNoRXZlbnQoY2xvc2VFdmVudCk7XHJcbiAgICB9XHJcblxyXG4gIH07XHJcblxyXG4gIHZhciBkaWFsb2dQb2x5ZmlsbCA9IHt9O1xyXG5cclxuICBkaWFsb2dQb2x5ZmlsbC5yZXBvc2l0aW9uID0gZnVuY3Rpb24oZWxlbWVudCkge1xyXG4gICAgdmFyIHNjcm9sbFRvcCA9IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XHJcbiAgICB2YXIgdG9wVmFsdWUgPSBzY3JvbGxUb3AgKyAod2luZG93LmlubmVySGVpZ2h0IC0gZWxlbWVudC5vZmZzZXRIZWlnaHQpIC8gMjtcclxuICAgIGVsZW1lbnQuc3R5bGUudG9wID0gTWF0aC5tYXgoc2Nyb2xsVG9wLCB0b3BWYWx1ZSkgKyAncHgnO1xyXG4gIH07XHJcblxyXG4gIGRpYWxvZ1BvbHlmaWxsLmlzSW5saW5lUG9zaXRpb25TZXRCeVN0eWxlc2hlZXQgPSBmdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRvY3VtZW50LnN0eWxlU2hlZXRzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgIHZhciBzdHlsZVNoZWV0ID0gZG9jdW1lbnQuc3R5bGVTaGVldHNbaV07XHJcbiAgICAgIHZhciBjc3NSdWxlcyA9IG51bGw7XHJcbiAgICAgIC8vIFNvbWUgYnJvd3NlcnMgdGhyb3cgb24gY3NzUnVsZXMuXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY3NzUnVsZXMgPSBzdHlsZVNoZWV0LmNzc1J1bGVzO1xyXG4gICAgICB9IGNhdGNoIChlKSB7fVxyXG4gICAgICBpZiAoIWNzc1J1bGVzKVxyXG4gICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGNzc1J1bGVzLmxlbmd0aDsgKytqKSB7XHJcbiAgICAgICAgdmFyIHJ1bGUgPSBjc3NSdWxlc1tqXTtcclxuICAgICAgICB2YXIgc2VsZWN0ZWROb2RlcyA9IG51bGw7XHJcbiAgICAgICAgLy8gSWdub3JlIGVycm9ycyBvbiBpbnZhbGlkIHNlbGVjdG9yIHRleHRzLlxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBzZWxlY3RlZE5vZGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChydWxlLnNlbGVjdG9yVGV4dCk7XHJcbiAgICAgICAgfSBjYXRjaChlKSB7fVxyXG4gICAgICAgIGlmICghc2VsZWN0ZWROb2RlcyB8fCAhaW5Ob2RlTGlzdChzZWxlY3RlZE5vZGVzLCBlbGVtZW50KSlcclxuICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIHZhciBjc3NUb3AgPSBydWxlLnN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ3RvcCcpO1xyXG4gICAgICAgIHZhciBjc3NCb3R0b20gPSBydWxlLnN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ2JvdHRvbScpO1xyXG4gICAgICAgIGlmICgoY3NzVG9wICYmIGNzc1RvcCAhPSAnYXV0bycpIHx8IChjc3NCb3R0b20gJiYgY3NzQm90dG9tICE9ICdhdXRvJykpXHJcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH07XHJcblxyXG4gIGRpYWxvZ1BvbHlmaWxsLm5lZWRzQ2VudGVyaW5nID0gZnVuY3Rpb24oZGlhbG9nKSB7XHJcbiAgICB2YXIgY29tcHV0ZWRTdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGRpYWxvZyk7XHJcbiAgICBpZiAoY29tcHV0ZWRTdHlsZS5wb3NpdGlvbiAhPSAnYWJzb2x1dGUnKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBXZSBtdXN0IGRldGVybWluZSB3aGV0aGVyIHRoZSB0b3AvYm90dG9tIHNwZWNpZmllZCB2YWx1ZSBpcyBub24tYXV0by4gIEluXHJcbiAgICAvLyBXZWJLaXQvQmxpbmssIGNoZWNraW5nIGNvbXB1dGVkU3R5bGUudG9wID09ICdhdXRvJyBpcyBzdWZmaWNpZW50LCBidXRcclxuICAgIC8vIEZpcmVmb3ggcmV0dXJucyB0aGUgdXNlZCB2YWx1ZS4gU28gd2UgZG8gdGhpcyBjcmF6eSB0aGluZyBpbnN0ZWFkOiBjaGVja1xyXG4gICAgLy8gdGhlIGlubGluZSBzdHlsZSBhbmQgdGhlbiBnbyB0aHJvdWdoIENTUyBydWxlcy5cclxuICAgIGlmICgoZGlhbG9nLnN0eWxlLnRvcCAhPSAnYXV0bycgJiYgZGlhbG9nLnN0eWxlLnRvcCAhPSAnJykgfHxcclxuICAgICAgICAoZGlhbG9nLnN0eWxlLmJvdHRvbSAhPSAnYXV0bycgJiYgZGlhbG9nLnN0eWxlLmJvdHRvbSAhPSAnJykpXHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIHJldHVybiAhZGlhbG9nUG9seWZpbGwuaXNJbmxpbmVQb3NpdGlvblNldEJ5U3R5bGVzaGVldChkaWFsb2cpO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR9IGVsZW1lbnQgdG8gZm9yY2UgdXBncmFkZVxyXG4gICAqL1xyXG4gIGRpYWxvZ1BvbHlmaWxsLmZvcmNlUmVnaXN0ZXJEaWFsb2cgPSBmdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgICBpZiAoZWxlbWVudC5zaG93TW9kYWwpIHtcclxuICAgICAgY29uc29sZS53YXJuKCdUaGlzIGJyb3dzZXIgYWxyZWFkeSBzdXBwb3J0cyA8ZGlhbG9nPiwgdGhlIHBvbHlmaWxsICcgK1xyXG4gICAgICAgICAgJ21heSBub3Qgd29yayBjb3JyZWN0bHknLCBlbGVtZW50KTtcclxuICAgIH1cclxuICAgIGlmIChlbGVtZW50Lm5vZGVOYW1lLnRvVXBwZXJDYXNlKCkgIT0gJ0RJQUxPRycpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gcmVnaXN0ZXIgZGlhbG9nOiBUaGUgZWxlbWVudCBpcyBub3QgYSBkaWFsb2cuJyk7XHJcbiAgICB9XHJcbiAgICBuZXcgZGlhbG9nUG9seWZpbGxJbmZvKC8qKiBAdHlwZSB7IUhUTUxEaWFsb2dFbGVtZW50fSAqLyAoZWxlbWVudCkpO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR9IGVsZW1lbnQgdG8gdXBncmFkZVxyXG4gICAqL1xyXG4gIGRpYWxvZ1BvbHlmaWxsLnJlZ2lzdGVyRGlhbG9nID0gZnVuY3Rpb24oZWxlbWVudCkge1xyXG4gICAgaWYgKGVsZW1lbnQuc2hvd01vZGFsKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybignQ2FuXFwndCB1cGdyYWRlIDxkaWFsb2c+OiBhbHJlYWR5IHN1cHBvcnRlZCcsIGVsZW1lbnQpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZGlhbG9nUG9seWZpbGwuZm9yY2VSZWdpc3RlckRpYWxvZyhlbGVtZW50KTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAY29uc3RydWN0b3JcclxuICAgKi9cclxuICBkaWFsb2dQb2x5ZmlsbC5EaWFsb2dNYW5hZ2VyID0gZnVuY3Rpb24oKSB7XHJcbiAgICAvKiogQHR5cGUgeyFBcnJheTwhZGlhbG9nUG9seWZpbGxJbmZvPn0gKi9cclxuICAgIHRoaXMucGVuZGluZ0RpYWxvZ1N0YWNrID0gW107XHJcblxyXG4gICAgLy8gVGhlIG92ZXJsYXkgaXMgdXNlZCB0byBzaW11bGF0ZSBob3cgYSBtb2RhbCBkaWFsb2cgYmxvY2tzIHRoZSBkb2N1bWVudC5cclxuICAgIC8vIFRoZSBibG9ja2luZyBkaWFsb2cgaXMgcG9zaXRpb25lZCBvbiB0b3Agb2YgdGhlIG92ZXJsYXksIGFuZCB0aGUgcmVzdCBvZlxyXG4gICAgLy8gdGhlIGRpYWxvZ3Mgb24gdGhlIHBlbmRpbmcgZGlhbG9nIHN0YWNrIGFyZSBwb3NpdGlvbmVkIGJlbG93IGl0LiBJbiB0aGVcclxuICAgIC8vIGFjdHVhbCBpbXBsZW1lbnRhdGlvbiwgdGhlIG1vZGFsIGRpYWxvZyBzdGFja2luZyBpcyBjb250cm9sbGVkIGJ5IHRoZVxyXG4gICAgLy8gdG9wIGxheWVyLCB3aGVyZSB6LWluZGV4IGhhcyBubyBlZmZlY3QuXHJcbiAgICB0aGlzLm92ZXJsYXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHRoaXMub3ZlcmxheS5jbGFzc05hbWUgPSAnX2RpYWxvZ19vdmVybGF5JztcclxuICAgIHRoaXMub3ZlcmxheS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuaGFuZGxlS2V5XyA9IHRoaXMuaGFuZGxlS2V5Xy5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5oYW5kbGVGb2N1c18gPSB0aGlzLmhhbmRsZUZvY3VzXy5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5oYW5kbGVSZW1vdmVfID0gdGhpcy5oYW5kbGVSZW1vdmVfLmJpbmQodGhpcyk7XHJcblxyXG4gICAgdGhpcy56SW5kZXhMb3dfID0gMTAwMDAwO1xyXG4gICAgdGhpcy56SW5kZXhIaWdoXyA9IDEwMDAwMCArIDE1MDtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAcmV0dXJuIHtFbGVtZW50fSB0aGUgdG9wIEhUTUwgZGlhbG9nIGVsZW1lbnQsIGlmIGFueVxyXG4gICAqL1xyXG4gIGRpYWxvZ1BvbHlmaWxsLkRpYWxvZ01hbmFnZXIucHJvdG90eXBlLnRvcERpYWxvZ0VsZW1lbnQgPSBmdW5jdGlvbigpIHtcclxuICAgIGlmICh0aGlzLnBlbmRpbmdEaWFsb2dTdGFjay5sZW5ndGgpIHtcclxuICAgICAgdmFyIHQgPSB0aGlzLnBlbmRpbmdEaWFsb2dTdGFja1t0aGlzLnBlbmRpbmdEaWFsb2dTdGFjay5sZW5ndGggLSAxXTtcclxuICAgICAgcmV0dXJuIHQuZGlhbG9nO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQ2FsbGVkIG9uIHRoZSBmaXJzdCBtb2RhbCBkaWFsb2cgYmVpbmcgc2hvd24uIEFkZHMgdGhlIG92ZXJsYXkgYW5kIHJlbGF0ZWRcclxuICAgKiBoYW5kbGVycy5cclxuICAgKi9cclxuICBkaWFsb2dQb2x5ZmlsbC5EaWFsb2dNYW5hZ2VyLnByb3RvdHlwZS5ibG9ja0RvY3VtZW50ID0gZnVuY3Rpb24oKSB7XHJcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMub3ZlcmxheSk7XHJcbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5oYW5kbGVGb2N1c18sIHRydWUpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuaGFuZGxlS2V5Xyk7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Ob2RlUmVtb3ZlZCcsIHRoaXMuaGFuZGxlUmVtb3ZlXyk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQ2FsbGVkIG9uIHRoZSBmaXJzdCBtb2RhbCBkaWFsb2cgYmVpbmcgcmVtb3ZlZCwgaS5lLiwgd2hlbiBubyBtb3JlIG1vZGFsXHJcbiAgICogZGlhbG9ncyBhcmUgdmlzaWJsZS5cclxuICAgKi9cclxuICBkaWFsb2dQb2x5ZmlsbC5EaWFsb2dNYW5hZ2VyLnByb3RvdHlwZS51bmJsb2NrRG9jdW1lbnQgPSBmdW5jdGlvbigpIHtcclxuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy5vdmVybGF5KTtcclxuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLmhhbmRsZUZvY3VzXywgdHJ1ZSk7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5oYW5kbGVLZXlfKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ0RPTU5vZGVSZW1vdmVkJywgdGhpcy5oYW5kbGVSZW1vdmVfKTtcclxuICB9O1xyXG5cclxuICBkaWFsb2dQb2x5ZmlsbC5EaWFsb2dNYW5hZ2VyLnByb3RvdHlwZS51cGRhdGVTdGFja2luZyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHpJbmRleCA9IHRoaXMuekluZGV4TG93XztcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucGVuZGluZ0RpYWxvZ1N0YWNrLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGlmIChpID09IHRoaXMucGVuZGluZ0RpYWxvZ1N0YWNrLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICB0aGlzLm92ZXJsYXkuc3R5bGUuekluZGV4ID0gekluZGV4Kys7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5wZW5kaW5nRGlhbG9nU3RhY2tbaV0udXBkYXRlWkluZGV4KHpJbmRleCsrLCB6SW5kZXgrKyk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgZGlhbG9nUG9seWZpbGwuRGlhbG9nTWFuYWdlci5wcm90b3R5cGUuaGFuZGxlRm9jdXNfID0gZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgIHZhciBjYW5kaWRhdGUgPSBmaW5kTmVhcmVzdERpYWxvZygvKiogQHR5cGUge0VsZW1lbnR9ICovIChldmVudC50YXJnZXQpKTtcclxuICAgIGlmIChjYW5kaWRhdGUgIT0gdGhpcy50b3BEaWFsb2dFbGVtZW50KCkpIHtcclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgIHNhZmVCbHVyKC8qKiBAdHlwZSB7RWxlbWVudH0gKi8gKGV2ZW50LnRhcmdldCkpO1xyXG4gICAgICAvLyBUT0RPOiBGb2N1cyBvbiB0aGUgYnJvd3NlciBjaHJvbWUgKGFrYSBkb2N1bWVudCkgb3IgdGhlIGRpYWxvZyBpdHNlbGZcclxuICAgICAgLy8gZGVwZW5kaW5nIG9uIHRoZSB0YWIgZGlyZWN0aW9uLlxyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgZGlhbG9nUG9seWZpbGwuRGlhbG9nTWFuYWdlci5wcm90b3R5cGUuaGFuZGxlS2V5XyA9IGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSAyNykge1xyXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgdmFyIGNhbmNlbEV2ZW50ID0gbmV3IHN1cHBvcnRDdXN0b21FdmVudCgnY2FuY2VsJywge1xyXG4gICAgICAgIGJ1YmJsZXM6IGZhbHNlLFxyXG4gICAgICAgIGNhbmNlbGFibGU6IHRydWVcclxuICAgICAgfSk7XHJcbiAgICAgIHZhciBkaWFsb2cgPSB0aGlzLnRvcERpYWxvZ0VsZW1lbnQoKTtcclxuICAgICAgaWYgKGRpYWxvZy5kaXNwYXRjaEV2ZW50KGNhbmNlbEV2ZW50KSkge1xyXG4gICAgICAgIGRpYWxvZy5jbG9zZSgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgZGlhbG9nUG9seWZpbGwuRGlhbG9nTWFuYWdlci5wcm90b3R5cGUuaGFuZGxlUmVtb3ZlXyA9IGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICBpZiAoZXZlbnQudGFyZ2V0Lm5vZGVOYW1lLnRvVXBwZXJDYXNlKCkgIT0gJ0RJQUxPRycpIHsgcmV0dXJuOyB9XHJcblxyXG4gICAgdmFyIGRpYWxvZyA9IC8qKiBAdHlwZSB7SFRNTERpYWxvZ0VsZW1lbnR9ICovIChldmVudC50YXJnZXQpO1xyXG4gICAgaWYgKCFkaWFsb2cub3BlbikgeyByZXR1cm47IH1cclxuXHJcbiAgICAvLyBGaW5kIGEgZGlhbG9nUG9seWZpbGxJbmZvIHdoaWNoIG1hdGNoZXMgdGhlIHJlbW92ZWQgPGRpYWxvZz4uXHJcbiAgICB0aGlzLnBlbmRpbmdEaWFsb2dTdGFjay5zb21lKGZ1bmN0aW9uKGRwaSkge1xyXG4gICAgICBpZiAoZHBpLmRpYWxvZyA9PSBkaWFsb2cpIHtcclxuICAgICAgICAvLyBUaGlzIGNhbGwgd2lsbCBjbGVhciB0aGUgZGlhbG9nUG9seWZpbGxJbmZvIG9uIHRoaXMgRGlhbG9nTWFuYWdlclxyXG4gICAgICAgIC8vIGFzIGEgc2lkZSBlZmZlY3QuXHJcbiAgICAgICAgZHBpLm1heWJlSGlkZU1vZGFsKCk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7IWRpYWxvZ1BvbHlmaWxsSW5mb30gZHBpXHJcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gd2hldGhlciB0aGUgZGlhbG9nIHdhcyBhbGxvd2VkXHJcbiAgICovXHJcbiAgZGlhbG9nUG9seWZpbGwuRGlhbG9nTWFuYWdlci5wcm90b3R5cGUucHVzaERpYWxvZyA9IGZ1bmN0aW9uKGRwaSkge1xyXG4gICAgdmFyIGFsbG93ZWQgPSAodGhpcy56SW5kZXhIaWdoXyAtIHRoaXMuekluZGV4TG93XykgLyAyIC0gMTtcclxuICAgIGlmICh0aGlzLnBlbmRpbmdEaWFsb2dTdGFjay5sZW5ndGggPj0gYWxsb3dlZCkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICB0aGlzLnBlbmRpbmdEaWFsb2dTdGFjay5wdXNoKGRwaSk7XHJcbiAgICBpZiAodGhpcy5wZW5kaW5nRGlhbG9nU3RhY2subGVuZ3RoID09IDEpIHtcclxuICAgICAgdGhpcy5ibG9ja0RvY3VtZW50KCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLnVwZGF0ZVN0YWNraW5nKCk7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge2RpYWxvZ1BvbHlmaWxsSW5mb30gZHBpXHJcbiAgICovXHJcbiAgZGlhbG9nUG9seWZpbGwuRGlhbG9nTWFuYWdlci5wcm90b3R5cGUucmVtb3ZlRGlhbG9nID0gZnVuY3Rpb24oZHBpKSB7XHJcbiAgICB2YXIgaW5kZXggPSB0aGlzLnBlbmRpbmdEaWFsb2dTdGFjay5pbmRleE9mKGRwaSk7XHJcbiAgICBpZiAoaW5kZXggPT0gLTEpIHsgcmV0dXJuOyB9XHJcblxyXG4gICAgdGhpcy5wZW5kaW5nRGlhbG9nU3RhY2suc3BsaWNlKGluZGV4LCAxKTtcclxuICAgIHRoaXMudXBkYXRlU3RhY2tpbmcoKTtcclxuICAgIGlmICh0aGlzLnBlbmRpbmdEaWFsb2dTdGFjay5sZW5ndGggPT0gMCkge1xyXG4gICAgICB0aGlzLnVuYmxvY2tEb2N1bWVudCgpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGRpYWxvZ1BvbHlmaWxsLmRtID0gbmV3IGRpYWxvZ1BvbHlmaWxsLkRpYWxvZ01hbmFnZXIoKTtcclxuXHJcbiAgLyoqXHJcbiAgICogR2xvYmFsIGZvcm0gJ2RpYWxvZycgbWV0aG9kIGhhbmRsZXIuIENsb3NlcyBhIGRpYWxvZyBjb3JyZWN0bHkgb24gc3VibWl0XHJcbiAgICogYW5kIHBvc3NpYmx5IHNldHMgaXRzIHJldHVybiB2YWx1ZS5cclxuICAgKi9cclxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBmdW5jdGlvbihldikge1xyXG4gICAgdmFyIHRhcmdldCA9IGV2LnRhcmdldDtcclxuICAgIGlmICghdGFyZ2V0IHx8ICF0YXJnZXQuaGFzQXR0cmlidXRlKCdtZXRob2QnKSkgeyByZXR1cm47IH1cclxuICAgIGlmICh0YXJnZXQuZ2V0QXR0cmlidXRlKCdtZXRob2QnKS50b0xvd2VyQ2FzZSgpICE9ICdkaWFsb2cnKSB7IHJldHVybjsgfVxyXG4gICAgZXYucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICB2YXIgZGlhbG9nID0gZmluZE5lYXJlc3REaWFsb2coLyoqIEB0eXBlIHtFbGVtZW50fSAqLyAoZXYudGFyZ2V0KSk7XHJcbiAgICBpZiAoIWRpYWxvZykgeyByZXR1cm47IH1cclxuXHJcbiAgICAvLyBGSVhNRTogVGhlIG9yaWdpbmFsIGV2ZW50IGRvZXNuJ3QgY29udGFpbiB0aGUgZWxlbWVudCB1c2VkIHRvIHN1Ym1pdCB0aGVcclxuICAgIC8vIGZvcm0gKGlmIGFueSkuIExvb2sgaW4gc29tZSBwb3NzaWJsZSBwbGFjZXMuXHJcbiAgICB2YXIgcmV0dXJuVmFsdWU7XHJcbiAgICB2YXIgY2FuZHMgPSBbZG9jdW1lbnQuYWN0aXZlRWxlbWVudCwgZXYuZXhwbGljaXRPcmlnaW5hbFRhcmdldF07XHJcbiAgICB2YXIgZWxzID0gWydCVVRUT04nLCAnSU5QVVQnXTtcclxuICAgIGNhbmRzLnNvbWUoZnVuY3Rpb24oY2FuZCkge1xyXG4gICAgICBpZiAoY2FuZCAmJiBjYW5kLmZvcm0gPT0gZXYudGFyZ2V0ICYmIGVscy5pbmRleE9mKGNhbmQubm9kZU5hbWUudG9VcHBlckNhc2UoKSkgIT0gLTEpIHtcclxuICAgICAgICByZXR1cm5WYWx1ZSA9IGNhbmQudmFsdWU7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgZGlhbG9nLmNsb3NlKHJldHVyblZhbHVlKTtcclxuICB9LCB0cnVlKTtcclxuXHJcbiAgZGlhbG9nUG9seWZpbGxbJ2ZvcmNlUmVnaXN0ZXJEaWFsb2cnXSA9IGRpYWxvZ1BvbHlmaWxsLmZvcmNlUmVnaXN0ZXJEaWFsb2c7XHJcbiAgZGlhbG9nUG9seWZpbGxbJ3JlZ2lzdGVyRGlhbG9nJ10gPSBkaWFsb2dQb2x5ZmlsbC5yZWdpc3RlckRpYWxvZztcclxuXHJcbiAgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGVbJ2V4cG9ydHMnXSA9PT0gJ29iamVjdCcpIHtcclxuICAgIC8vIENvbW1vbkpTIHN1cHBvcnRcclxuICAgIG1vZHVsZVsnZXhwb3J0cyddID0gZGlhbG9nUG9seWZpbGw7XHJcbiAgfSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmICdhbWQnIGluIGRlZmluZSkge1xyXG4gICAgLy8gQU1EIHN1cHBvcnRcclxuICAgIGRlZmluZShmdW5jdGlvbigpIHsgcmV0dXJuIGRpYWxvZ1BvbHlmaWxsOyB9KTtcclxuICB9IGVsc2Uge1xyXG4gICAgLy8gYWxsIG90aGVyc1xyXG4gICAgd2luZG93WydkaWFsb2dQb2x5ZmlsbCddID0gZGlhbG9nUG9seWZpbGw7XHJcbiAgfVxyXG59KSgpO1xyXG4iLCIoZnVuY3Rpb24obix0LGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHMobix0KXtyZXR1cm4gdHlwZW9mIHQhPVwib2JqZWN0XCImJih0PXQoKSksT2JqZWN0LmtleXModCkuZm9yRWFjaChmdW5jdGlvbihpKXtuW2ldPXRbaV19KSxufWZ1bmN0aW9uIHAobil7cmV0dXJue2Zyb206ZnVuY3Rpb24odCl7cmV0dXJuIG4ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodC5wcm90b3R5cGUpLG4ucHJvdG90eXBlLmNvbnN0cnVjdG9yPW4se2V4dGVuZDpmdW5jdGlvbihpKXtzKG4ucHJvdG90eXBlLHR5cGVvZiBpIT1cIm9iamVjdFwiP2kodC5wcm90b3R5cGUpOmkpfX19fX1mdW5jdGlvbiB3KG4sdCl7cmV0dXJuIHQobil9ZnVuY3Rpb24gdShuLHQpe2Z1bmN0aW9uIGNyKCl7Yi5vbihcInZlcnNpb25jaGFuZ2VcIixmdW5jdGlvbigpe2IuY2xvc2UoKTtiLm9uKFwiZXJyb3JcIikuZmlyZShuZXcgbnQoXCJEYXRhYmFzZSB2ZXJzaW9uIGNoYW5nZWQgYnkgb3RoZXIgZGF0YWJhc2UgY29ubmVjdGlvbi5cIikpfSl9ZnVuY3Rpb24gZ2kobil7dGhpcy5fY2ZnPXt2ZXJzaW9uOm4sc3RvcmVzU291cmNlOm51bGwsZGJzY2hlbWE6e30sdGFibGVzOnt9LGNvbnRlbnRVcGdyYWRlOm51bGx9O3RoaXMuc3RvcmVzKHt9KX1mdW5jdGlvbiBscihuLHQsaSx1KXt2YXIgZSxmLHMsaCxsLGM7aWYobj09PTApT2JqZWN0LmtleXMoc3QpLmZvckVhY2goZnVuY3Rpb24obil7bnIodCxuLHN0W25dLnByaW1LZXksc3Rbbl0uaW5kZXhlcyl9KSxlPWIuX2NyZWF0ZVRyYW5zYWN0aW9uKHl0LGZpLHN0KSxlLmlkYnRyYW5zPXQsZS5pZGJ0cmFucy5vbmVycm9yPW8oaSxbXCJwb3B1bGF0aW5nIGRhdGFiYXNlXCJdKSxlLm9uKFwiZXJyb3JcIikuc3Vic2NyaWJlKGkpLHIubmV3UFNEKGZ1bmN0aW9uKCl7ci5QU0QudHJhbnM9ZTt0cnl7Yi5vbihcInBvcHVsYXRlXCIpLmZpcmUoZSl9Y2F0Y2gobil7dS5vbmVycm9yPXQub25lcnJvcj1mdW5jdGlvbihuKXtuLnByZXZlbnREZWZhdWx0KCl9O3RyeXt0LmFib3J0KCl9Y2F0Y2goZil7fXQuZGIuY2xvc2UoKTtpKG4pfX0pO2Vsc2V7aWYoZj1bXSxzPXVpLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gdC5fY2ZnLnZlcnNpb249PT1ufSlbMF0sIXMpdGhyb3cgbmV3IG50KFwiRGV4aWUgc3BlY2lmaWNhdGlvbiBvZiBjdXJyZW50bHkgaW5zdGFsbGVkIERCIHZlcnNpb24gaXMgbWlzc2luZ1wiKTtzdD1iLl9kYlNjaGVtYT1zLl9jZmcuZGJzY2hlbWE7aD0hMTtsPXVpLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gdC5fY2ZnLnZlcnNpb24+bn0pO2wuZm9yRWFjaChmdW5jdGlvbihuKXt2YXIgZT1zdCxyPW4uX2NmZy5kYnNjaGVtYSx1O29yKGUsdCk7b3Iocix0KTtzdD1iLl9kYlNjaGVtYT1yO3U9YXIoZSxyKTt1LmFkZC5mb3JFYWNoKGZ1bmN0aW9uKG4pe2YucHVzaChmdW5jdGlvbih0LGkpe25yKHQsblswXSxuWzFdLnByaW1LZXksblsxXS5pbmRleGVzKTtpKCl9KX0pO3UuY2hhbmdlLmZvckVhY2goZnVuY3Rpb24obil7aWYobi5yZWNyZWF0ZSl0aHJvdyBuZXcgbnQoXCJOb3QgeWV0IHN1cHBvcnQgZm9yIGNoYW5naW5nIHByaW1hcnkga2V5XCIpO2Vsc2UgZi5wdXNoKGZ1bmN0aW9uKHQsaSl7dmFyIHI9dC5vYmplY3RTdG9yZShuLm5hbWUpO24uYWRkLmZvckVhY2goZnVuY3Rpb24obil7dHIocixuKX0pO24uY2hhbmdlLmZvckVhY2goZnVuY3Rpb24obil7ci5kZWxldGVJbmRleChuLm5hbWUpO3RyKHIsbil9KTtuLmRlbC5mb3JFYWNoKGZ1bmN0aW9uKG4pe3IuZGVsZXRlSW5kZXgobil9KTtpKCl9KX0pO24uX2NmZy5jb250ZW50VXBncmFkZSYmZi5wdXNoKGZ1bmN0aW9uKHQsdSl7dmFyIGYsZTtoPSEwO2Y9Yi5fY3JlYXRlVHJhbnNhY3Rpb24oeXQsW10uc2xpY2UuY2FsbCh0LmRiLm9iamVjdFN0b3JlTmFtZXMsMCkscik7Zi5pZGJ0cmFucz10O2U9MDtmLl9wcm9taXNlPXcoZi5fcHJvbWlzZSxmdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24odCxpLHIpe2Z1bmN0aW9uIGYobil7cmV0dXJuIGZ1bmN0aW9uKCl7bi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7LS1lPT0wJiZ1KCl9fXJldHVybisrZSxuLmNhbGwodGhpcyx0LGZ1bmN0aW9uKG4sdCl7YXJndW1lbnRzWzBdPWYobik7YXJndW1lbnRzWzFdPWYodCk7aS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHIpfX0pO3Qub25lcnJvcj1vKGksW1wicnVubmluZyB1cGdyYWRlciBmdW5jdGlvbiBmb3IgdmVyc2lvblwiLG4uX2NmZy52ZXJzaW9uXSk7Zi5vbihcImVycm9yXCIpLnN1YnNjcmliZShpKTtuLl9jZmcuY29udGVudFVwZ3JhZGUoZik7ZT09PTAmJnUoKX0pO2gmJmRyKCl8fGYucHVzaChmdW5jdGlvbihuLHQpe3lyKHIsbik7dCgpfSl9KTtjPWZ1bmN0aW9uKCl7dHJ5e2YubGVuZ3RoP2Yuc2hpZnQoKSh0LGMpOnZyKHN0LHQpfWNhdGNoKG4pe3Uub25lcnJvcj10Lm9uZXJyb3I9ZnVuY3Rpb24obil7bi5wcmV2ZW50RGVmYXVsdCgpfTt0cnl7dC5hYm9ydCgpfWNhdGNoKHIpe310LmRiLmNsb3NlKCk7aShuKX19O2MoKX19ZnVuY3Rpb24gYXIobix0KXt2YXIgZj17ZGVsOltdLGFkZDpbXSxjaGFuZ2U6W119LHIsZSxvLGksYyxzLHUsbCxoO2ZvcihyIGluIG4pdFtyXXx8Zi5kZWwucHVzaChyKTtmb3IociBpbiB0KWlmKGU9bltyXSxvPXRbcl0sZSlpZihpPXtuYW1lOnIsZGVmOnRbcl0scmVjcmVhdGU6ITEsZGVsOltdLGFkZDpbXSxjaGFuZ2U6W119LGUucHJpbUtleS5zcmMhPT1vLnByaW1LZXkuc3JjKWkucmVjcmVhdGU9ITAsZi5jaGFuZ2UucHVzaChpKTtlbHNle2M9ZS5pbmRleGVzLnJlZHVjZShmdW5jdGlvbihuLHQpe3JldHVybiBuW3QubmFtZV09dCxufSx7fSk7cz1vLmluZGV4ZXMucmVkdWNlKGZ1bmN0aW9uKG4sdCl7cmV0dXJuIG5bdC5uYW1lXT10LG59LHt9KTtmb3IodSBpbiBjKXNbdV18fGkuZGVsLnB1c2godSk7Zm9yKHUgaW4gcylsPWNbdV0saD1zW3VdLGw/bC5zcmMhPT1oLnNyYyYmaS5jaGFuZ2UucHVzaChoKTppLmFkZC5wdXNoKGgpOyhpLnJlY3JlYXRlfHxpLmRlbC5sZW5ndGg+MHx8aS5hZGQubGVuZ3RoPjB8fGkuY2hhbmdlLmxlbmd0aD4wKSYmZi5jaGFuZ2UucHVzaChpKX1lbHNlIGYuYWRkLnB1c2goW3Isb10pO3JldHVybiBmfWZ1bmN0aW9uIG5yKG4sdCxpLHIpe3ZhciB1PW4uZGIuY3JlYXRlT2JqZWN0U3RvcmUodCxpLmtleVBhdGg/e2tleVBhdGg6aS5rZXlQYXRoLGF1dG9JbmNyZW1lbnQ6aS5hdXRvfTp7YXV0b0luY3JlbWVudDppLmF1dG99KTtyZXR1cm4gci5mb3JFYWNoKGZ1bmN0aW9uKG4pe3RyKHUsbil9KSx1fWZ1bmN0aW9uIHZyKG4sdCl7T2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbihpKXt0LmRiLm9iamVjdFN0b3JlTmFtZXMuY29udGFpbnMoaSl8fG5yKHQsaSxuW2ldLnByaW1LZXksbltpXS5pbmRleGVzKX0pfWZ1bmN0aW9uIHlyKG4sdCl7Zm9yKHZhciB1LHI9MDtyPHQuZGIub2JqZWN0U3RvcmVOYW1lcy5sZW5ndGg7KytyKXU9dC5kYi5vYmplY3RTdG9yZU5hbWVzW3JdLChuW3VdPT09bnVsbHx8blt1XT09PWkpJiZ0LmRiLmRlbGV0ZU9iamVjdFN0b3JlKHUpfWZ1bmN0aW9uIHRyKG4sdCl7bi5jcmVhdGVJbmRleCh0Lm5hbWUsdC5rZXlQYXRoLHt1bmlxdWU6dC51bmlxdWUsbXVsdGlFbnRyeTp0Lm11bHRpfSl9ZnVuY3Rpb24gcHIobix0KXt0aHJvdyBuZXcgbnQoXCJUYWJsZSBcIit0WzBdK1wiIG5vdCBwYXJ0IG9mIHRyYW5zYWN0aW9uLiBPcmlnaW5hbCBTY29wZSBGdW5jdGlvbiBTb3VyY2U6IFwiK3UuUHJvbWlzZS5QU0QudHJhbnMuc2NvcGVGdW5jLnRvU3RyaW5nKCkpO31mdW5jdGlvbiBvaShuLHQsaSxyKXt0aGlzLm5hbWU9bjt0aGlzLnNjaGVtYT1pO3RoaXMuaG9vaz1kdFtuXT9kdFtuXS5ob29rOnYobnVsbCx7Y3JlYXRpbmc6W2F0LGZdLHJlYWRpbmc6W2x0LHR0XSx1cGRhdGluZzpbdnQsZl0sZGVsZXRpbmc6W3d0LGZdfSk7dGhpcy5fdHBmPXQ7dGhpcy5fY29sbENsYXNzPXJ8fGFpfWZ1bmN0aW9uIHdpKG4sdCxpLHIpe29pLmNhbGwodGhpcyxuLHQsaSxyfHxycil9ZnVuY3Rpb24gaXIobix0LGkscil7ZnVuY3Rpb24gbyhuLHQsaSxyKXtyZXR1cm4gcy5fcHJvbWlzZShuLGkscil9dmFyIHM9dGhpcyxmLHUsZTtmb3IodGhpcy5kYj1iLHRoaXMubW9kZT1uLHRoaXMuc3RvcmVOYW1lcz10LHRoaXMuaWRidHJhbnM9bnVsbCx0aGlzLm9uPXYodGhpcyxbXCJjb21wbGV0ZVwiLFwiZXJyb3JcIl0sXCJhYm9ydFwiKSx0aGlzLl9yZWN1bG9jaz0wLHRoaXMuX2Jsb2NrZWRGdW5jcz1bXSx0aGlzLl9wc2Q9bnVsbCx0aGlzLmFjdGl2ZT0hMCx0aGlzLl9kYnNjaGVtYT1pLHImJih0aGlzLnBhcmVudD1yKSx0aGlzLl90cGY9byx0aGlzLnRhYmxlcz1PYmplY3QuY3JlYXRlKGRpKSxmPXQubGVuZ3RoLTE7ZiE9PS0xOy0tZil1PXRbZl0sZT1iLl90YWJsZUZhY3RvcnkobixpW3VdLG8pLHRoaXMudGFibGVzW3VdPWUsdGhpc1t1XXx8KHRoaXNbdV09ZSl9ZnVuY3Rpb24gbGkobix0LGkpe3RoaXMuX2N0eD17dGFibGU6bixpbmRleDp0PT09XCI6aWRcIj9udWxsOnQsY29sbENsYXNzOm4uX2NvbGxDbGFzcyxvcjppfX1mdW5jdGlvbiBhaShuLHQpe3ZhciByPW51bGwsdT1udWxsLGk7aWYodCl0cnl7cj10KCl9Y2F0Y2goZil7dT1mfWk9bi5fY3R4O3RoaXMuX2N0eD17dGFibGU6aS50YWJsZSxpbmRleDppLmluZGV4LGlzUHJpbUtleTohaS5pbmRleHx8aS50YWJsZS5zY2hlbWEucHJpbUtleS5rZXlQYXRoJiZpLmluZGV4PT09aS50YWJsZS5zY2hlbWEucHJpbUtleS5uYW1lLHJhbmdlOnIsb3A6XCJvcGVuQ3Vyc29yXCIsZGlyOlwibmV4dFwiLHVuaXF1ZTpcIlwiLGFsZ29yaXRobTpudWxsLGZpbHRlcjpudWxsLGlzTWF0Y2g6bnVsbCxvZmZzZXQ6MCxsaW1pdDpJbmZpbml0eSxlcnJvcjp1LG9yOmkub3J9fWZ1bmN0aW9uIHJyKCl7YWkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIHdyKG4sdCl7cmV0dXJuIG4uX2NmZy52ZXJzaW9uLXQuX2NmZy52ZXJzaW9ufWZ1bmN0aW9uIHVyKG4sdCxpLHUsZixlKXtpLmZvckVhY2goZnVuY3Rpb24oaSl7dmFyIG89Yi5fdGFibGVGYWN0b3J5KHUsZltpXSx0KTtuLmZvckVhY2goZnVuY3Rpb24obil7bltpXXx8KGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KG4saSx7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7dmFyIG49ci5QU0QmJnIuUFNELnRyYW5zO3JldHVybiBuJiZuLmRiPT09Yj9uLnRhYmxlc1tpXTpvfX0pOm5baV09byl9KX0pfWZ1bmN0aW9uIGJyKG4pe24uZm9yRWFjaChmdW5jdGlvbihuKXtmb3IodmFyIHQgaW4gbiluW3RdaW5zdGFuY2VvZiBvaSYmZGVsZXRlIG5bdF19KX1mdW5jdGlvbiBiaShuLHQsaSx1LGYsZSl7dmFyIHM9ci5QU0Q7ZT1lfHx0dDtuLm9uZXJyb3J8fChuLm9uZXJyb3I9byhmKSk7bi5vbnN1Y2Nlc3M9dD9kKGZ1bmN0aW9uKCl7dmFyIHI9bi5yZXN1bHQsbztyPyhvPWZ1bmN0aW9uKCl7ci5jb250aW51ZSgpfSx0KHIsZnVuY3Rpb24obil7bz1ufSx1LGYpJiZpKGUoci52YWx1ZSkscixmdW5jdGlvbihuKXtvPW59KSxvKCkpOnUoKX0sZixzKTpkKGZ1bmN0aW9uKCl7dmFyIHQ9bi5yZXN1bHQscjt0PyhyPWZ1bmN0aW9uKCl7dC5jb250aW51ZSgpfSxpKGUodC52YWx1ZSksdCxmdW5jdGlvbihuKXtyPW59KSxyKCkpOnUoKX0sZixzKX1mdW5jdGlvbiBrcihuKXt2YXIgdD1bXTtyZXR1cm4gbi5zcGxpdChcIixcIikuZm9yRWFjaChmdW5jdGlvbihuKXtuPW4udHJpbSgpO3ZhciBpPW4ucmVwbGFjZShcIiZcIixcIlwiKS5yZXBsYWNlKFwiKytcIixcIlwiKS5yZXBsYWNlKFwiKlwiLFwiXCIpLHI9aS5pbmRleE9mKFwiW1wiKSE9PTA/aTpuLnN1YnN0cmluZyhuLmluZGV4T2YoXCJbXCIpKzEsbi5pbmRleE9mKFwiXVwiKSkuc3BsaXQoXCIrXCIpO3QucHVzaChuZXcgYShpLHJ8fG51bGwsbi5pbmRleE9mKFwiJlwiKSE9PS0xLG4uaW5kZXhPZihcIipcIikhPT0tMSxuLmluZGV4T2YoXCIrK1wiKSE9PS0xLEFycmF5LmlzQXJyYXkociksci5pbmRleE9mKFwiLlwiKSE9PS0xKSl9KSx0fWZ1bmN0aW9uIGlpKG4sdCl7cmV0dXJuIG48dD8tMTpuPnQ/MTowfWZ1bmN0aW9uIGZyKG4sdCl7cmV0dXJuIG48dD8xOm4+dD8tMTowfWZ1bmN0aW9uIGVyKG4pe3JldHVybiBmdW5jdGlvbih0LGkpe2Zvcih2YXIgcj0wLHU7Oyl7aWYodT1uKHRbcl0saVtyXSksdSE9PTApcmV0dXJuIHU7aWYoKytyLHI9PT10Lmxlbmd0aHx8cj09PWkubGVuZ3RoKXJldHVybiBuKHQubGVuZ3RoLGkubGVuZ3RoKX19fWZ1bmN0aW9uIGtpKG4sdCl7cmV0dXJuIG4/dD9mdW5jdGlvbigpe3JldHVybiBuLmFwcGx5KHRoaXMsYXJndW1lbnRzKSYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9Om46dH1mdW5jdGlvbiBkcigpe3JldHVybiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJUcmlkZW50XCIpPj0wfHxuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJNU0lFXCIpPj0wfWZ1bmN0aW9uIGdyKCl7aWYoYi52ZXJubz1pdC52ZXJzaW9uLzEwLGIuX2RiU2NoZW1hPXN0PXt9LGZpPVtdLnNsaWNlLmNhbGwoaXQub2JqZWN0U3RvcmVOYW1lcywwKSxmaS5sZW5ndGghPT0wKXt2YXIgbj1pdC50cmFuc2FjdGlvbihvdChmaSksXCJyZWFkb25seVwiKTtmaS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2Zvcih2YXIgdSxzLHI9bi5vYmplY3RTdG9yZSh0KSxpPXIua2V5UGF0aCxmPWkmJnR5cGVvZiBpPT1cInN0cmluZ1wiJiZpLmluZGV4T2YoXCIuXCIpIT09LTEsaD1uZXcgYShpLGl8fFwiXCIsITEsITEsISFyLmF1dG9JbmNyZW1lbnQsaSYmdHlwZW9mIGkhPVwic3RyaW5nXCIsZiksbz1bXSxlPTA7ZTxyLmluZGV4TmFtZXMubGVuZ3RoOysrZSl1PXIuaW5kZXgoci5pbmRleE5hbWVzW2VdKSxpPXUua2V5UGF0aCxmPWkmJnR5cGVvZiBpPT1cInN0cmluZ1wiJiZpLmluZGV4T2YoXCIuXCIpIT09LTEscz1uZXcgYSh1Lm5hbWUsaSwhIXUudW5pcXVlLCEhdS5tdWx0aUVudHJ5LCExLGkmJnR5cGVvZiBpIT1cInN0cmluZ1wiLGYpLG8ucHVzaChzKTtzdFt0XT1uZXcgZXQodCxoLG8se30pfSk7dXIoW2R0XSxiLl90cmFuc1Byb21pc2VGYWN0b3J5LE9iamVjdC5rZXlzKHN0KSx5dCxzdCl9fWZ1bmN0aW9uIG9yKG4sdCl7Zm9yKHZhciBpLHIsdSxvLHM9dC5kYi5vYmplY3RTdG9yZU5hbWVzLGY9MDtmPHMubGVuZ3RoOysrZilmb3IoaT1zW2ZdLHI9dC5vYmplY3RTdG9yZShpKSx1PTA7dTxyLmluZGV4TmFtZXMubGVuZ3RoOysrdSl7dmFyIGg9ci5pbmRleE5hbWVzW3VdLGU9ci5pbmRleChoKS5rZXlQYXRoLGM9dHlwZW9mIGU9PVwic3RyaW5nXCI/ZTpcIltcIitbXS5zbGljZS5jYWxsKGUpLmpvaW4oXCIrXCIpK1wiXVwiO25baV0mJihvPW5baV0uaWR4QnlOYW1lW2NdLG8mJihvLm5hbWU9aCkpfX12YXIgaHI9dCYmdC5hZGRvbnN8fHUuYWRkb25zLHNpPXUuZGVwZW5kZW5jaWVzLHZpPXNpLmluZGV4ZWREQixrdD1zaS5JREJLZXlSYW5nZSxudT1zaS5JREJUcmFuc2FjdGlvbix0dT1zaS5ET01FcnJvcix5aT1zaS5UeXBlRXJyb3IsbnQ9c2kuRXJyb3Isc3Q9dGhpcy5fZGJTY2hlbWE9e30sdWk9W10sZmk9W10sZHQ9e30sZGk9e30saXQ9bnVsbCxoaT0hMCxlaT1udWxsLHBpPSExLHRpPVwicmVhZG9ubHlcIix5dD1cInJlYWR3cml0ZVwiLGI9dGhpcyxyaT1bXSxjaT0hMCxzcj0hIWN0KCk7dGhpcy52ZXJzaW9uPWZ1bmN0aW9uKG4pe2lmKGl0KXRocm93IG5ldyBudChcIkNhbm5vdCBhZGQgdmVyc2lvbiB3aGVuIGRhdGFiYXNlIGlzIG9wZW5cIik7dGhpcy52ZXJubz1NYXRoLm1heCh0aGlzLnZlcm5vLG4pO3ZhciB0PXVpLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gdC5fY2ZnLnZlcnNpb249PT1ufSlbMF07cmV0dXJuIHQ/dDoodD1uZXcgZ2kobiksdWkucHVzaCh0KSx1aS5zb3J0KHdyKSx0KX07cyhnaS5wcm90b3R5cGUse3N0b3JlczpmdW5jdGlvbihuKXt2YXIgaSx0O3JldHVybiB0aGlzLl9jZmcuc3RvcmVzU291cmNlPXRoaXMuX2NmZy5zdG9yZXNTb3VyY2U/cyh0aGlzLl9jZmcuc3RvcmVzU291cmNlLG4pOm4saT17fSx1aS5mb3JFYWNoKGZ1bmN0aW9uKG4pe3MoaSxuLl9jZmcuc3RvcmVzU291cmNlKX0pLHQ9dGhpcy5fY2ZnLmRic2NoZW1hPXt9LHRoaXMuX3BhcnNlU3RvcmVzU3BlYyhpLHQpLHN0PWIuX2RiU2NoZW1hPXQsYnIoW2R0LGIsZGldKSx1cihbZGldLHByLE9iamVjdC5rZXlzKHQpLHl0LHQpLHVyKFtkdCxiLHRoaXMuX2NmZy50YWJsZXNdLGIuX3RyYW5zUHJvbWlzZUZhY3RvcnksT2JqZWN0LmtleXModCkseXQsdCwhMCksZmk9T2JqZWN0LmtleXModCksdGhpc30sdXBncmFkZTpmdW5jdGlvbihuKXt2YXIgdD10aGlzO3JldHVybiBrKGZ1bmN0aW9uKCl7bihiLl9jcmVhdGVUcmFuc2FjdGlvbih5dCxPYmplY3Qua2V5cyh0Ll9jZmcuZGJzY2hlbWEpLHQuX2NmZy5kYnNjaGVtYSkpfSksdGhpcy5fY2ZnLmNvbnRlbnRVcGdyYWRlPW4sdGhpc30sX3BhcnNlU3RvcmVzU3BlYzpmdW5jdGlvbihuLHQpe09iamVjdC5rZXlzKG4pLmZvckVhY2goZnVuY3Rpb24oaSl7aWYobltpXSE9PW51bGwpe3ZhciB1PXt9LGY9a3IobltpXSkscj1mLnNoaWZ0KCk7aWYoci5tdWx0aSl0aHJvdyBuZXcgbnQoXCJQcmltYXJ5IGtleSBjYW5ub3QgYmUgbXVsdGktdmFsdWVkXCIpO3Iua2V5UGF0aCYmaCh1LHIua2V5UGF0aCxyLmF1dG8/MDpyLmtleVBhdGgpO2YuZm9yRWFjaChmdW5jdGlvbihuKXtpZihuLmF1dG8pdGhyb3cgbmV3IG50KFwiT25seSBwcmltYXJ5IGtleSBjYW4gYmUgbWFya2VkIGFzIGF1dG9JbmNyZW1lbnQgKCsrKVwiKTtpZighbi5rZXlQYXRoKXRocm93IG5ldyBudChcIkluZGV4IG11c3QgaGF2ZSBhIG5hbWUgYW5kIGNhbm5vdCBiZSBhbiBlbXB0eSBzdHJpbmdcIik7aCh1LG4ua2V5UGF0aCxuLmNvbXBvdW5kP24ua2V5UGF0aC5tYXAoZnVuY3Rpb24oKXtyZXR1cm5cIlwifSk6XCJcIil9KTt0W2ldPW5ldyBldChpLHIsZix1KX19KX19KTt0aGlzLl9hbGxUYWJsZXM9ZHQ7dGhpcy5fdGFibGVGYWN0b3J5PWZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4gbj09PXRpP25ldyBvaSh0Lm5hbWUsaSx0LGFpKTpuZXcgd2kodC5uYW1lLGksdCl9O3RoaXMuX2NyZWF0ZVRyYW5zYWN0aW9uPWZ1bmN0aW9uKG4sdCxpLHIpe3JldHVybiBuZXcgaXIobix0LGkscil9O3RoaXMuX3RyYW5zUHJvbWlzZUZhY3Rvcnk9ZnVuY3Rpb24obix0LGkpe3ZhciBmLHU7cmV0dXJuIWhpfHxyLlBTRCYmci5QU0QubGV0VGhyb3VnaD8odT1iLl9jcmVhdGVUcmFuc2FjdGlvbihuLHQsc3QpLHUuX3Byb21pc2UobixmdW5jdGlvbihuLHQpe3UuZXJyb3IoZnVuY3Rpb24obil7Yi5vbihcImVycm9yXCIpLmZpcmUobil9KTtpKGZ1bmN0aW9uKHQpe3UuY29tcGxldGUoZnVuY3Rpb24oKXtuKHQpfSl9LHQsdSl9KSk6Zj1uZXcgcihmdW5jdGlvbihyLHUpe3JpLnB1c2goe3Jlc3VtZTpmdW5jdGlvbigpe3ZhciBlPWIuX3RyYW5zUHJvbWlzZUZhY3Rvcnkobix0LGkpO2Yub251bmNhdGNoZWQ9ZS5vbnVuY2F0Y2hlZDtlLnRoZW4ocix1KX19KX0pfTt0aGlzLl93aGVuUmVhZHk9ZnVuY3Rpb24obil7cmV0dXJuIWUmJmhpJiYoIXIuUFNEfHwhci5QU0QubGV0VGhyb3VnaCk/bmV3IHIoZnVuY3Rpb24odCxpKXtyaS5wdXNoKHtyZXN1bWU6ZnVuY3Rpb24oKXtuKHQsaSl9fSl9KTpuZXcgcihuKX07dGhpcy52ZXJubz0wO3RoaXMub3Blbj1mdW5jdGlvbigpe3JldHVybiBuZXcgcihmdW5jdGlvbih0LGkpe2Z1bmN0aW9uIGYobil7dHJ5e3UudHJhbnNhY3Rpb24uYWJvcnQoKX1jYXRjaCh0KXt9cGk9ITE7ZWk9bjtoaT0hMTtpKGVpKTtyaS5mb3JFYWNoKGZ1bmN0aW9uKG4pe24ucmVzdW1lKCl9KTtyaT1bXX1pZihlJiZ0KGIpLGl0fHxwaSl0aHJvdyBuZXcgbnQoXCJEYXRhYmFzZSBhbHJlYWR5IG9wZW5lZCBvciBiZWluZyBvcGVuZWRcIik7dmFyIHUscz0hMTt0cnl7aWYoZWk9bnVsbCxwaT0hMCx1aS5sZW5ndGg+MCYmKGNpPSExKSwhdmkpdGhyb3cgbmV3IG50KFwiaW5kZXhlZERCIEFQSSBub3QgZm91bmQuIElmIHVzaW5nIElFMTArLCBtYWtlIHN1cmUgdG8gcnVuIHlvdXIgY29kZSBvbiBhIHNlcnZlciBVUkwgKG5vdCBsb2NhbGx5KS4gSWYgdXNpbmcgU2FmYXJpLCBtYWtlIHN1cmUgdG8gaW5jbHVkZSBpbmRleGVkREIgcG9seWZpbGwuXCIpO2lmKHU9Y2k/dmkub3BlbihuKTp2aS5vcGVuKG4sTWF0aC5yb3VuZChiLnZlcm5vKjEwKSksIXUpdGhyb3cgbmV3IG50KFwiSW5kZXhlZERCIEFQSSBub3QgYXZhaWxhYmxlXCIpO3Uub25lcnJvcj1vKGYsW1wib3BlbmluZyBkYXRhYmFzZVwiLG5dKTt1Lm9uYmxvY2tlZD1mdW5jdGlvbihuKXtiLm9uKFwiYmxvY2tlZFwiKS5maXJlKG4pfTt1Lm9udXBncmFkZW5lZWRlZD1kKGZ1bmN0aW9uKHQpe3ZhciBpLHI7Y2kmJiFiLl9hbGxvd0VtcHR5REI/KHUub25lcnJvcj1mdW5jdGlvbihuKXtuLnByZXZlbnREZWZhdWx0KCl9LHUudHJhbnNhY3Rpb24uYWJvcnQoKSx1LnJlc3VsdC5jbG9zZSgpLGk9dmkuZGVsZXRlRGF0YWJhc2UobiksaS5vbnN1Y2Nlc3M9aS5vbmVycm9yPWZ1bmN0aW9uKCl7ZihuZXcgbnQoXCJEYXRhYmFzZSAnXCIrbitcIicgZG9lc250IGV4aXN0XCIpKX0pOih0Lm9sZFZlcnNpb249PT0wJiYocz0hMCksdS50cmFuc2FjdGlvbi5vbmVycm9yPW8oZikscj10Lm9sZFZlcnNpb24+TWF0aC5wb3coMiw2Mik/MDp0Lm9sZFZlcnNpb24sbHIoci8xMCx1LnRyYW5zYWN0aW9uLGYsdSkpfSxmKTt1Lm9uc3VjY2Vzcz1kKGZ1bmN0aW9uKCl7cGk9ITE7aXQ9dS5yZXN1bHQ7Y2k/Z3IoKTppdC5vYmplY3RTdG9yZU5hbWVzLmxlbmd0aD4wJiZvcihzdCxpdC50cmFuc2FjdGlvbihvdChpdC5vYmplY3RTdG9yZU5hbWVzKSx0aSkpO2l0Lm9udmVyc2lvbmNoYW5nZT1iLm9uKFwidmVyc2lvbmNoYW5nZVwiKS5maXJlO3NyfHxmdChmdW5jdGlvbih0KXtpZih0LmluZGV4T2Yobik9PT0tMSlyZXR1cm4gdC5wdXNoKG4pfSk7ci5uZXdQU0QoZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7aGk9ITE7cmkuZm9yRWFjaChmdW5jdGlvbihuKXtuLnJlc3VtZSgpfSk7cmk9W107dChiKX1yLlBTRC5sZXRUaHJvdWdoPSEwO3RyeXt2YXIgbj1iLm9uLnJlYWR5LmZpcmUoKTtuJiZ0eXBlb2Ygbi50aGVuPT1cImZ1bmN0aW9uXCI/bi50aGVuKGksZnVuY3Rpb24obil7aXQuY2xvc2UoKTtpdD1udWxsO2Yobil9KTp5KGkpfWNhdGNoKHUpe2YodSl9fSl9LGYpfWNhdGNoKGgpe2YoaCl9fSl9O3RoaXMuY2xvc2U9ZnVuY3Rpb24oKXtpdCYmKGl0LmNsb3NlKCksaXQ9bnVsbCxoaT0hMCxlaT1udWxsKX07dGhpcy5kZWxldGU9ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHM7cmV0dXJuIG5ldyByKGZ1bmN0aW9uKGkscil7ZnVuY3Rpb24gdSgpe2IuY2xvc2UoKTt2YXIgdD12aS5kZWxldGVEYXRhYmFzZShuKTt0Lm9uc3VjY2Vzcz1mdW5jdGlvbigpe3NyfHxmdChmdW5jdGlvbih0KXt2YXIgaT10LmluZGV4T2Yobik7aWYoaT49MClyZXR1cm4gdC5zcGxpY2UoaSwxKX0pO2koKX07dC5vbmVycm9yPW8ocixbXCJkZWxldGluZ1wiLG5dKTt0Lm9uYmxvY2tlZD1mdW5jdGlvbigpe2Iub24oXCJibG9ja2VkXCIpLmZpcmUoKX19aWYodC5sZW5ndGg+MCl0aHJvdyBuZXcgbnQoXCJBcmd1bWVudHMgbm90IGFsbG93ZWQgaW4gZGIuZGVsZXRlKClcIik7cGk/cmkucHVzaCh7cmVzdW1lOnV9KTp1KCl9KX07dGhpcy5iYWNrZW5kREI9ZnVuY3Rpb24oKXtyZXR1cm4gaXR9O3RoaXMuaXNPcGVuPWZ1bmN0aW9uKCl7cmV0dXJuIGl0IT09bnVsbH07dGhpcy5oYXNGYWlsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gZWkhPT1udWxsfTt0aGlzLmR5bmFtaWNhbGx5T3BlbmVkPWZ1bmN0aW9uKCl7cmV0dXJuIGNpfTt0aGlzLm5hbWU9bjtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInRhYmxlc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0LmtleXMoZHQpLm1hcChmdW5jdGlvbihuKXtyZXR1cm4gZHRbbl19KX19KTt0aGlzLm9uPXYodGhpcyxcImVycm9yXCIsXCJwb3B1bGF0ZVwiLFwiYmxvY2tlZFwiLHtyZWFkeTpbYnQsZl0sdmVyc2lvbmNoYW5nZTpbcHQsZl19KTt0aGlzLm9uLnJlYWR5LnN1YnNjcmliZT13KHRoaXMub24ucmVhZHkuc3Vic2NyaWJlLGZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbih0LGkpe2Z1bmN0aW9uIHIoKXtyZXR1cm4gaXx8Yi5vbi5yZWFkeS51bnN1YnNjcmliZShyKSx0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX1uLmNhbGwodGhpcyxyKTtiLmlzT3BlbigpJiYoaGk/cmkucHVzaCh7cmVzdW1lOnJ9KTpyKCkpfX0pO2soZnVuY3Rpb24oKXtiLm9uKFwicG9wdWxhdGVcIikuZmlyZShiLl9jcmVhdGVUcmFuc2FjdGlvbih5dCxmaSxzdCkpO2Iub24oXCJlcnJvclwiKS5maXJlKG5ldyBudCl9KTt0aGlzLnRyYW5zYWN0aW9uPWZ1bmN0aW9uKG4sdCxpKXtmdW5jdGlvbiBzKHQsZSl7dmFyIHM9bnVsbCxjLGEsaDt0cnl7aWYoZil0aHJvdyBmO3M9Yi5fY3JlYXRlVHJhbnNhY3Rpb24obixvLHN0LHUpO2M9by5tYXAoZnVuY3Rpb24obil7cmV0dXJuIHMudGFibGVzW25dfSk7Yy5wdXNoKHMpO2g9MDtyLm5ld1BTRChmdW5jdGlvbigpe3IuUFNELnRyYW5zPXM7cy5zY29wZUZ1bmM9aTt1JiYocy5pZGJ0cmFucz11LmlkYnRyYW5zLHMuX3Byb21pc2U9dyhzLl9wcm9taXNlLGZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbih0LGksdSl7ZnVuY3Rpb24gZihuKXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIGk7cmV0dXJuIHIuX3Jvb3RFeGVjKGZ1bmN0aW9uKCl7aT1uKHQpO3IuX3RpY2tGaW5hbGl6ZShmdW5jdGlvbigpey0taD09MCYmcy5hY3RpdmUmJihzLmFjdGl2ZT0hMSxzLm9uLmNvbXBsZXRlLmZpcmUoKSl9KX0pLGl9fXJldHVybisraCxuLmNhbGwodGhpcyx0LGZ1bmN0aW9uKG4sdCxyKXtyZXR1cm4gaShmKG4pLGYodCkscil9LHUpfX0pKTtzLmNvbXBsZXRlKGZ1bmN0aW9uKCl7dChhKX0pO3MuZXJyb3IoZnVuY3Rpb24obil7cy5pZGJ0cmFucyYmKHMuaWRidHJhbnMub25lcnJvcj1odCk7dHJ5e3MuYWJvcnQoKX1jYXRjaChpKXt9dSYmKHUuYWN0aXZlPSExLHUub24uZXJyb3IuZmlyZShuKSk7dmFyIHQ9ZShuKTt1fHx0fHxiLm9uLmVycm9yLmZpcmUobil9KTtyLl9yb290RXhlYyhmdW5jdGlvbigpe2E9aS5hcHBseShzLGMpfSl9KTsoIXMuaWRidHJhbnN8fHUmJmg9PT0wKSYmcy5fbm9wKCl9Y2F0Y2gobCl7cyYmcy5pZGJ0cmFucyYmKHMuaWRidHJhbnMub25lcnJvcj1odCk7cyYmcy5hYm9ydCgpO3UmJnUub24uZXJyb3IuZmlyZShsKTt5KGZ1bmN0aW9uKCl7ZShsKXx8Yi5vbihcImVycm9yXCIpLmZpcmUobCl9KX19dmFyIHUsZTt0PVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEsYXJndW1lbnRzLmxlbmd0aC0xKTtpPWFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoLTFdO3U9ci5QU0QmJnIuUFNELnRyYW5zO3UmJnUuZGI9PT1iJiZuLmluZGV4T2YoXCIhXCIpPT09LTF8fCh1PW51bGwpO2U9bi5pbmRleE9mKFwiP1wiKSE9PS0xO249bi5yZXBsYWNlKFwiIVwiLFwiXCIpLnJlcGxhY2UoXCI/XCIsXCJcIik7dmFyIGg9QXJyYXkuaXNBcnJheSh0WzBdKT90LnJlZHVjZShmdW5jdGlvbihuLHQpe3JldHVybiBuLmNvbmNhdCh0KX0pOnQsZj1udWxsLG89aC5tYXAoZnVuY3Rpb24obil7cmV0dXJuIHR5cGVvZiBuPT1cInN0cmluZ1wiP246KG4gaW5zdGFuY2VvZiBvaXx8KGY9Znx8bmV3IHlpKFwiSW52YWxpZCB0eXBlLiBBcmd1bWVudHMgZm9sbG93aW5nIG1vZGUgbXVzdCBiZSBpbnN0YW5jZXMgb2YgVGFibGUgb3IgU3RyaW5nXCIpKSxuLm5hbWUpfSk7cmV0dXJuIG49PVwiclwifHxuPT10aT9uPXRpOm49PVwicndcInx8bj09eXQ/bj15dDpmPW5ldyBudChcIkludmFsaWQgdHJhbnNhY3Rpb24gbW9kZTogXCIrbiksdSYmKGZ8fCh1JiZ1Lm1vZGU9PT10aSYmbj09PXl0JiYoZT91PW51bGw6Zj1mfHxuZXcgbnQoXCJDYW5ub3QgZW50ZXIgYSBzdWItdHJhbnNhY3Rpb24gd2l0aCBSRUFEV1JJVEUgbW9kZSB3aGVuIHBhcmVudCB0cmFuc2FjdGlvbiBpcyBSRUFET05MWVwiKSksdSYmby5mb3JFYWNoKGZ1bmN0aW9uKG4pe3UudGFibGVzLmhhc093blByb3BlcnR5KG4pfHwoZT91PW51bGw6Zj1mfHxuZXcgbnQoXCJUYWJsZSBcIituK1wiIG5vdCBpbmNsdWRlZCBpbiBwYXJlbnQgdHJhbnNhY3Rpb24uIFBhcmVudCBUcmFuc2FjdGlvbiBmdW5jdGlvbjogXCIrdS5zY29wZUZ1bmMudG9TdHJpbmcoKSkpfSkpKSx1P3UuX3Byb21pc2UobixzLFwibG9ja1wiKTpiLl93aGVuUmVhZHkocyl9O3RoaXMudGFibGU9ZnVuY3Rpb24obil7aWYoZSYmY2kpcmV0dXJuIG5ldyB3aShuKTtpZighZHQuaGFzT3duUHJvcGVydHkobikpdGhyb3cgbmV3IG50KFwiVGFibGUgZG9lcyBub3QgZXhpc3RcIik7cmV0dXJuIGR0W25dfTtzKG9pLnByb3RvdHlwZSxmdW5jdGlvbigpe2Z1bmN0aW9uIG4oKXt0aHJvdyBuZXcgbnQoXCJDdXJyZW50IFRyYW5zYWN0aW9uIGlzIFJFQURPTkxZXCIpO31yZXR1cm57X3RyYW5zOmZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4gdGhpcy5fdHBmKG4sW3RoaXMubmFtZV0sdCxpKX0sX2lkYnN0b3JlOmZ1bmN0aW9uKG4sdCxpKXtpZihlKXJldHVybiBuZXcgcih0KTt2YXIgdT10aGlzO3JldHVybiB0aGlzLl90cGYobixbdGhpcy5uYW1lXSxmdW5jdGlvbihuLGkscil7dChuLGksci5pZGJ0cmFucy5vYmplY3RTdG9yZSh1Lm5hbWUpLHIpfSxpKX0sZ2V0OmZ1bmN0aW9uKG4sdCl7dmFyIGk9dGhpcztyZXR1cm4gdGhpcy5faWRic3RvcmUodGksZnVuY3Rpb24odCxyLHUpe2UmJnQoaS5zY2hlbWEuaW5zdGFuY2VUZW1wbGF0ZSk7dmFyIGY9dS5nZXQobik7Zi5vbmVycm9yPW8ocixbXCJnZXR0aW5nXCIsbixcImZyb21cIixpLm5hbWVdKTtmLm9uc3VjY2Vzcz1mdW5jdGlvbigpe3QoaS5ob29rLnJlYWRpbmcuZmlyZShmLnJlc3VsdCkpfX0pLnRoZW4odCl9LHdoZXJlOmZ1bmN0aW9uKG4pe3JldHVybiBuZXcgbGkodGhpcyxuKX0sY291bnQ6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMudG9Db2xsZWN0aW9uKCkuY291bnQobil9LG9mZnNldDpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy50b0NvbGxlY3Rpb24oKS5vZmZzZXQobil9LGxpbWl0OmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLnRvQ29sbGVjdGlvbigpLmxpbWl0KG4pfSxyZXZlcnNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudG9Db2xsZWN0aW9uKCkucmV2ZXJzZSgpfSxmaWx0ZXI6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMudG9Db2xsZWN0aW9uKCkuYW5kKG4pfSxlYWNoOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXM7cmV0dXJuIGUmJm4odC5zY2hlbWEuaW5zdGFuY2VUZW1wbGF0ZSksdGhpcy5faWRic3RvcmUodGksZnVuY3Rpb24oaSxyLHUpe3ZhciBmPXUub3BlbkN1cnNvcigpO2Yub25lcnJvcj1vKHIsW1wiY2FsbGluZ1wiLFwiVGFibGUuZWFjaCgpXCIsXCJvblwiLHQubmFtZV0pO2JpKGYsbnVsbCxuLGkscix0Lmhvb2sucmVhZGluZy5maXJlKX0pfSx0b0FycmF5OmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMuX2lkYnN0b3JlKHRpLGZ1bmN0aW9uKG4saSxyKXtlJiZuKFt0LnNjaGVtYS5pbnN0YW5jZVRlbXBsYXRlXSk7dmFyIHU9W10sZj1yLm9wZW5DdXJzb3IoKTtmLm9uZXJyb3I9byhpLFtcImNhbGxpbmdcIixcIlRhYmxlLnRvQXJyYXkoKVwiLFwib25cIix0Lm5hbWVdKTtiaShmLG51bGwsZnVuY3Rpb24obil7dS5wdXNoKG4pfSxmdW5jdGlvbigpe24odSl9LGksdC5ob29rLnJlYWRpbmcuZmlyZSl9KS50aGVuKG4pfSxvcmRlckJ5OmZ1bmN0aW9uKG4pe3JldHVybiBuZXcgdGhpcy5fY29sbENsYXNzKG5ldyBsaSh0aGlzLG4pKX0sdG9Db2xsZWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0aGlzLl9jb2xsQ2xhc3MobmV3IGxpKHRoaXMpKX0sbWFwVG9DbGFzczpmdW5jdGlvbihuLHQpe3ZhciBpLHI7cmV0dXJuIHRoaXMuc2NoZW1hLm1hcHBlZENsYXNzPW4saT1PYmplY3QuY3JlYXRlKG4ucHJvdG90eXBlKSx0JiZ1dChpLHQpLHRoaXMuc2NoZW1hLmluc3RhbmNlVGVtcGxhdGU9aSxyPWZ1bmN0aW9uKHQpe3ZhciByLGk7aWYoIXQpcmV0dXJuIHQ7cj1PYmplY3QuY3JlYXRlKG4ucHJvdG90eXBlKTtmb3IoaSBpbiB0KXQuaGFzT3duUHJvcGVydHkoaSkmJihyW2ldPXRbaV0pO3JldHVybiByfSx0aGlzLnNjaGVtYS5yZWFkSG9vayYmdGhpcy5ob29rLnJlYWRpbmcudW5zdWJzY3JpYmUodGhpcy5zY2hlbWEucmVhZEhvb2spLHRoaXMuc2NoZW1hLnJlYWRIb29rPXIsdGhpcy5ob29rKFwicmVhZGluZ1wiLHIpLG59LGRlZmluZUNsYXNzOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLm1hcFRvQ2xhc3ModS5kZWZpbmVDbGFzcyhuKSxuKX0sYWRkOm4scHV0Om4sXCJkZWxldGVcIjpuLGNsZWFyOm4sdXBkYXRlOm59fSk7cCh3aSkuZnJvbShvaSkuZXh0ZW5kKGZ1bmN0aW9uKCl7cmV0dXJue2FkZDpmdW5jdGlvbihuLHQpe3ZhciB1PXRoaXMscj10aGlzLmhvb2suY3JlYXRpbmcuZmlyZTtyZXR1cm4gdGhpcy5faWRic3RvcmUoeXQsZnVuY3Rpb24oZSxzLGwsYSl7dmFyIHY9e30sdyx5LHA7ciE9PWYmJih3PXR8fChsLmtleVBhdGg/YyhuLGwua2V5UGF0aCk6aSkseT1yLmNhbGwodix3LG4sYSksdz09PWkmJnkhPT1pJiYobC5rZXlQYXRoP2gobixsLmtleVBhdGgseSk6dD15KSk7cD10P2wuYWRkKG4sdCk6bC5hZGQobik7cC5vbmVycm9yPW8oZnVuY3Rpb24obil7aWYodi5vbmVycm9yKXYub25lcnJvcihuKTtyZXR1cm4gcyhuKX0sW1wiYWRkaW5nXCIsbixcImludG9cIix1Lm5hbWVdKTtwLm9uc3VjY2Vzcz1mdW5jdGlvbih0KXt2YXIgaT1sLmtleVBhdGg7aWYoaSYmaChuLGksdC50YXJnZXQucmVzdWx0KSx2Lm9uc3VjY2Vzcyl2Lm9uc3VjY2Vzcyh0LnRhcmdldC5yZXN1bHQpO2UocC5yZXN1bHQpfX0pfSxwdXQ6ZnVuY3Rpb24obix0KXt2YXIgcj10aGlzLHU9dGhpcy5ob29rLmNyZWF0aW5nLmZpcmUsZT10aGlzLmhvb2sudXBkYXRpbmcuZmlyZTtyZXR1cm4gdSE9PWZ8fGUhPT1mP3RoaXMuX3RyYW5zKHl0LGZ1bmN0aW9uKHUsZixlKXt2YXIgbz10fHxyLnNjaGVtYS5wcmltS2V5LmtleVBhdGgmJmMobixyLnNjaGVtYS5wcmltS2V5LmtleVBhdGgpO289PT1pP2UudGFibGVzW3IubmFtZV0uYWRkKG4pLnRoZW4odSxmKTooZS5fbG9jaygpLG49bChuKSxlLnRhYmxlc1tyLm5hbWVdLndoZXJlKFwiOmlkXCIpLmVxdWFscyhvKS5tb2RpZnkoZnVuY3Rpb24oKXt0aGlzLnZhbHVlPW59KS50aGVuKGZ1bmN0aW9uKGkpe3JldHVybiBpPT09MD9lLnRhYmxlc1tyLm5hbWVdLmFkZChuLHQpOm99KS5maW5hbGx5KGZ1bmN0aW9uKCl7ZS5fdW5sb2NrKCl9KS50aGVuKHUsZikpfSk6dGhpcy5faWRic3RvcmUoeXQsZnVuY3Rpb24oaSx1LGYpe3ZhciBlPXQ/Zi5wdXQobix0KTpmLnB1dChuKTtlLm9uZXJyb3I9byh1LFtcInB1dHRpbmdcIixuLFwiaW50b1wiLHIubmFtZV0pO2Uub25zdWNjZXNzPWZ1bmN0aW9uKHQpe3ZhciByPWYua2V5UGF0aDtyJiZoKG4scix0LnRhcmdldC5yZXN1bHQpO2koZS5yZXN1bHQpfX0pfSxcImRlbGV0ZVwiOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLmhvb2suZGVsZXRpbmcuc3Vic2NyaWJlcnMubGVuZ3RoP3RoaXMud2hlcmUoXCI6aWRcIikuZXF1YWxzKG4pLmRlbGV0ZSgpOnRoaXMuX2lkYnN0b3JlKHl0LGZ1bmN0aW9uKHQsaSxyKXt2YXIgdT1yLmRlbGV0ZShuKTt1Lm9uZXJyb3I9byhpLFtcImRlbGV0aW5nXCIsbixcImZyb21cIixyLm5hbWVdKTt1Lm9uc3VjY2Vzcz1mdW5jdGlvbigpe3QodS5yZXN1bHQpfX0pfSxjbGVhcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmhvb2suZGVsZXRpbmcuc3Vic2NyaWJlcnMubGVuZ3RoP3RoaXMudG9Db2xsZWN0aW9uKCkuZGVsZXRlKCk6dGhpcy5faWRic3RvcmUoeXQsZnVuY3Rpb24obix0LGkpe3ZhciByPWkuY2xlYXIoKTtyLm9uZXJyb3I9byh0LFtcImNsZWFyaW5nXCIsaS5uYW1lXSk7ci5vbnN1Y2Nlc3M9ZnVuY3Rpb24oKXtuKHIucmVzdWx0KX19KX0sdXBkYXRlOmZ1bmN0aW9uKG4sdCl7aWYodHlwZW9mIHQhPVwib2JqZWN0XCJ8fEFycmF5LmlzQXJyYXkodCkpdGhyb3cgbmV3IG50KFwiZGIudXBkYXRlKGtleU9yT2JqZWN0LCBtb2RpZmljYXRpb25zKS4gbW9kaWZpY2F0aW9ucyBtdXN0IGJlIGFuIG9iamVjdC5cIik7aWYodHlwZW9mIG4hPVwib2JqZWN0XCJ8fEFycmF5LmlzQXJyYXkobikpcmV0dXJuIHRoaXMud2hlcmUoXCI6aWRcIikuZXF1YWxzKG4pLm1vZGlmeSh0KTtPYmplY3Qua2V5cyh0KS5mb3JFYWNoKGZ1bmN0aW9uKGkpe2gobixpLHRbaV0pfSk7dmFyIHU9YyhuLHRoaXMuc2NoZW1hLnByaW1LZXkua2V5UGF0aCk7cmV0dXJuIHU9PT1pJiZyLnJlamVjdChuZXcgbnQoXCJPYmplY3QgZG9lcyBub3QgY29udGFpbiBpdHMgcHJpbWFyeSBrZXlcIikpLHRoaXMud2hlcmUoXCI6aWRcIikuZXF1YWxzKHUpLm1vZGlmeSh0KX19fSk7cyhpci5wcm90b3R5cGUse19sb2NrOmZ1bmN0aW9uKCl7cmV0dXJuKyt0aGlzLl9yZWN1bG9jayx0aGlzLl9yZWN1bG9jaz09PTEmJnIuUFNEJiYoci5QU0QubG9ja093bmVyRm9yPXRoaXMpLHRoaXN9LF91bmxvY2s6ZnVuY3Rpb24oKXtpZigtLXRoaXMuX3JlY3Vsb2NrPT0wKWZvcihyLlBTRCYmKHIuUFNELmxvY2tPd25lckZvcj1udWxsKTt0aGlzLl9ibG9ja2VkRnVuY3MubGVuZ3RoPjAmJiF0aGlzLl9sb2NrZWQoKTspe3ZhciBuPXRoaXMuX2Jsb2NrZWRGdW5jcy5zaGlmdCgpO3RyeXtuKCl9Y2F0Y2godCl7fX1yZXR1cm4gdGhpc30sX2xvY2tlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZWN1bG9jayYmKCFyLlBTRHx8ci5QU0QubG9ja093bmVyRm9yIT09dGhpcyl9LF9ub3A6ZnVuY3Rpb24obil7dGhpcy50YWJsZXNbdGhpcy5zdG9yZU5hbWVzWzBdXS5nZXQoMCkudGhlbihuKX0sX3Byb21pc2U6ZnVuY3Rpb24obix0LGkpe3ZhciBmPXRoaXM7cmV0dXJuIHIubmV3UFNEKGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIGYuX2xvY2tlZCgpP2U9bmV3IHIoZnVuY3Rpb24ocix1KXtmLl9ibG9ja2VkRnVuY3MucHVzaChmdW5jdGlvbigpe2YuX3Byb21pc2Uobix0LGkpLnRoZW4ocix1KX0pfSk6KGU9Zi5hY3RpdmU/bmV3IHIoZnVuY3Rpb24ocixlKXtpZighZi5pZGJ0cmFucyYmbil7aWYoIWl0KXRocm93IGVpP25ldyBudChcIkRhdGFiYXNlIG5vdCBvcGVuLiBGb2xsb3dpbmcgZXJyb3IgaW4gcG9wdWxhdGUsIHJlYWR5IG9yIHVwZ3JhZGUgZnVuY3Rpb24gbWFkZSBEZXhpZS5vcGVuKCkgZmFpbDogXCIrZWkpOm5ldyBudChcIkRhdGFiYXNlIG5vdCBvcGVuXCIpO3ZhciBvPWYuaWRidHJhbnM9aXQudHJhbnNhY3Rpb24ob3QoZi5zdG9yZU5hbWVzKSxmLm1vZGUpO28ub25lcnJvcj1mdW5jdGlvbihuKXtmLm9uKFwiZXJyb3JcIikuZmlyZShuJiZuLnRhcmdldC5lcnJvcik7bi5wcmV2ZW50RGVmYXVsdCgpO2YuYWJvcnQoKX07by5vbmFib3J0PWZ1bmN0aW9uKG4pe3koZnVuY3Rpb24oKXtmLm9uKFwiZXJyb3JcIikuZmlyZShuZXcgbnQoXCJUcmFuc2FjdGlvbiBhYm9ydGVkIGZvciB1bmtub3duIHJlYXNvblwiKSl9KTtmLmFjdGl2ZT0hMTtmLm9uKFwiYWJvcnRcIikuZmlyZShuKX07by5vbmNvbXBsZXRlPWZ1bmN0aW9uKG4pe2YuYWN0aXZlPSExO2Yub24oXCJjb21wbGV0ZVwiKS5maXJlKG4pfX1pJiZmLl9sb2NrKCk7dHJ5e3QocixlLGYpfWNhdGNoKHMpe3UuaWdub3JlVHJhbnNhY3Rpb24oZnVuY3Rpb24oKXtmLm9uKFwiZXJyb3JcIikuZmlyZShzKX0pO2YuYWJvcnQoKTtlKHMpfX0pOnIucmVqZWN0KG5pKG5ldyBudChcIlRyYW5zYWN0aW9uIGlzIGluYWN0aXZlLiBPcmlnaW5hbCBTY29wZSBGdW5jdGlvbiBTb3VyY2U6IFwiK2Yuc2NvcGVGdW5jLnRvU3RyaW5nKCkpKSksZi5hY3RpdmUmJmkmJmUuZmluYWxseShmdW5jdGlvbigpe2YuX3VubG9jaygpfSkpLGUub251bmNhdGNoZWQ9ZnVuY3Rpb24obil7dS5pZ25vcmVUcmFuc2FjdGlvbihmdW5jdGlvbigpe2Yub24oXCJlcnJvclwiKS5maXJlKG4pfSk7Zi5hYm9ydCgpfSxlfSl9LGNvbXBsZXRlOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLm9uKFwiY29tcGxldGVcIixuKX0sZXJyb3I6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMub24oXCJlcnJvclwiLG4pfSxhYm9ydDpmdW5jdGlvbigpe2lmKHRoaXMuaWRidHJhbnMmJnRoaXMuYWN0aXZlKXRyeXt0aGlzLmFjdGl2ZT0hMTt0aGlzLmlkYnRyYW5zLmFib3J0KCk7dGhpcy5vbi5lcnJvci5maXJlKG5ldyBudChcIlRyYW5zYWN0aW9uIEFib3J0ZWRcIikpfWNhdGNoKG4pe319LHRhYmxlOmZ1bmN0aW9uKG4pe2lmKCF0aGlzLnRhYmxlcy5oYXNPd25Qcm9wZXJ0eShuKSl0aHJvdyBuZXcgbnQoXCJUYWJsZSBcIituK1wiIG5vdCBpbiB0cmFuc2FjdGlvblwiKTtyZXR1cm4gdGhpcy50YWJsZXNbbl19fSk7cyhsaS5wcm90b3R5cGUsZnVuY3Rpb24oKXtmdW5jdGlvbiBuKG4sdCl7dHJ5e3Rocm93IHQ7fWNhdGNoKGkpe24uX2N0eC5lcnJvcj1pfXJldHVybiBufWZ1bmN0aW9uIHQobil7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKG4ubGVuZ3RoPT09MSYmQXJyYXkuaXNBcnJheShuWzBdKT9uWzBdOm4pfWZ1bmN0aW9uIHIobil7cmV0dXJuIG49PT1cIm5leHRcIj9mdW5jdGlvbihuKXtyZXR1cm4gbi50b1VwcGVyQ2FzZSgpfTpmdW5jdGlvbihuKXtyZXR1cm4gbi50b0xvd2VyQ2FzZSgpfX1mdW5jdGlvbiB1KG4pe3JldHVybiBuPT09XCJuZXh0XCI/ZnVuY3Rpb24obil7cmV0dXJuIG4udG9Mb3dlckNhc2UoKX06ZnVuY3Rpb24obil7cmV0dXJuIG4udG9VcHBlckNhc2UoKX19ZnVuY3Rpb24gZihuLHQsaSxyLHUsZil7Zm9yKHZhciBoLHM9TWF0aC5taW4obi5sZW5ndGgsci5sZW5ndGgpLG89LTEsZT0wO2U8czsrK2Upe2lmKGg9dFtlXSxoIT09cltlXSlyZXR1cm4gdShuW2VdLGlbZV0pPDA/bi5zdWJzdHIoMCxlKStpW2VdK2kuc3Vic3RyKGUrMSk6dShuW2VdLHJbZV0pPDA/bi5zdWJzdHIoMCxlKStyW2VdK2kuc3Vic3RyKGUrMSk6bz49MD9uLnN1YnN0cigwLG8pK3Rbb10raS5zdWJzdHIobysxKTpudWxsO3UobltlXSxoKTwwJiYobz1lKX1yZXR1cm4gczxyLmxlbmd0aCYmZj09PVwibmV4dFwiP24raS5zdWJzdHIobi5sZW5ndGgpOnM8bi5sZW5ndGgmJmY9PT1cInByZXZcIj9uLnN1YnN0cigwLGkubGVuZ3RoKTpvPDA/bnVsbDpuLnN1YnN0cigwLG8pK3Jbb10raS5zdWJzdHIobysxKX1mdW5jdGlvbiBpKG4sdCxpKXtmdW5jdGlvbiBhKG4pe3M9cihuKTtlPXUobik7aD1uPT09XCJuZXh0XCI/aWk6ZnI7Yz1zKGkpO289ZShpKTtsPW59dmFyIHMsZSxoLGMsbyxsO2EoXCJuZXh0XCIpO24uX29uZGlyZWN0aW9uY2hhbmdlPWZ1bmN0aW9uKG4pe2Eobil9O24uX2FkZEFsZ29yaXRobShmdW5jdGlvbihuLGkscil7dmFyIHU9bi5rZXkscyxhO3JldHVybiB0eXBlb2YgdSE9XCJzdHJpbmdcIj8hMToocz1lKHUpLHQocyxvKT8oaShmdW5jdGlvbigpe24uY29udGludWUoKX0pLCEwKTooYT1mKHUscyxjLG8saCxsKSxhP2koZnVuY3Rpb24oKXtuLmNvbnRpbnVlKGEpfSk6aShyKSwhMSkpfSl9cmV0dXJue2JldHdlZW46ZnVuY3Rpb24obix0LGkscil7cmV0dXJuKGk9aSE9PSExLHI9cj09PSEwLG4+dHx8bj09PXQmJihpfHxyKSYmIShpJiZyKSk/bmV3IHRoaXMuX2N0eC5jb2xsQ2xhc3ModGhpcyxmdW5jdGlvbigpe3JldHVybiBrdC5vbmx5KG4pfSkubGltaXQoMCk6bmV3IHRoaXMuX2N0eC5jb2xsQ2xhc3ModGhpcyxmdW5jdGlvbigpe3JldHVybiBrdC5ib3VuZChuLHQsIWksIXIpfSl9LGVxdWFsczpmdW5jdGlvbihuKXtyZXR1cm4gbmV3IHRoaXMuX2N0eC5jb2xsQ2xhc3ModGhpcyxmdW5jdGlvbigpe3JldHVybiBrdC5vbmx5KG4pfSl9LGFib3ZlOmZ1bmN0aW9uKG4pe3JldHVybiBuZXcgdGhpcy5fY3R4LmNvbGxDbGFzcyh0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIGt0Lmxvd2VyQm91bmQobiwhMCl9KX0sYWJvdmVPckVxdWFsOmZ1bmN0aW9uKG4pe3JldHVybiBuZXcgdGhpcy5fY3R4LmNvbGxDbGFzcyh0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIGt0Lmxvd2VyQm91bmQobil9KX0sYmVsb3c6ZnVuY3Rpb24obil7cmV0dXJuIG5ldyB0aGlzLl9jdHguY29sbENsYXNzKHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4ga3QudXBwZXJCb3VuZChuLCEwKX0pfSxiZWxvd09yRXF1YWw6ZnVuY3Rpb24obil7cmV0dXJuIG5ldyB0aGlzLl9jdHguY29sbENsYXNzKHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4ga3QudXBwZXJCb3VuZChuKX0pfSxzdGFydHNXaXRoOmZ1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdCE9XCJzdHJpbmdcIj9uKG5ldyB0aGlzLl9jdHguY29sbENsYXNzKHRoaXMpLG5ldyB5aShcIlN0cmluZyBleHBlY3RlZFwiKSk6dGhpcy5iZXR3ZWVuKHQsdCtTdHJpbmcuZnJvbUNoYXJDb2RlKDY1NTM1KSwhMCwhMCl9LHN0YXJ0c1dpdGhJZ25vcmVDYXNlOmZ1bmN0aW9uKHQpe2lmKHR5cGVvZiB0IT1cInN0cmluZ1wiKXJldHVybiBuKG5ldyB0aGlzLl9jdHguY29sbENsYXNzKHRoaXMpLG5ldyB5aShcIlN0cmluZyBleHBlY3RlZFwiKSk7aWYodD09PVwiXCIpcmV0dXJuIHRoaXMuc3RhcnRzV2l0aCh0KTt2YXIgcj1uZXcgdGhpcy5fY3R4LmNvbGxDbGFzcyh0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIGt0LmJvdW5kKHQudG9VcHBlckNhc2UoKSx0LnRvTG93ZXJDYXNlKCkrU3RyaW5nLmZyb21DaGFyQ29kZSg2NTUzNSkpfSk7cmV0dXJuIGkocixmdW5jdGlvbihuLHQpe3JldHVybiBuLmluZGV4T2YodCk9PT0wfSx0KSxyLl9vbmRpcmVjdGlvbmNoYW5nZT1mdW5jdGlvbigpe24ocixuZXcgbnQoXCJyZXZlcnNlKCkgbm90IHN1cHBvcnRlZCB3aXRoIFdoZXJlQ2xhdXNlLnN0YXJ0c1dpdGhJZ25vcmVDYXNlKClcIikpfSxyfSxlcXVhbHNJZ25vcmVDYXNlOmZ1bmN0aW9uKHQpe2lmKHR5cGVvZiB0IT1cInN0cmluZ1wiKXJldHVybiBuKG5ldyB0aGlzLl9jdHguY29sbENsYXNzKHRoaXMpLG5ldyB5aShcIlN0cmluZyBleHBlY3RlZFwiKSk7dmFyIHI9bmV3IHRoaXMuX2N0eC5jb2xsQ2xhc3ModGhpcyxmdW5jdGlvbigpe3JldHVybiBrdC5ib3VuZCh0LnRvVXBwZXJDYXNlKCksdC50b0xvd2VyQ2FzZSgpKX0pO3JldHVybiBpKHIsZnVuY3Rpb24obix0KXtyZXR1cm4gbj09PXR9LHQpLHJ9LGFueU9mOmZ1bmN0aW9uKCl7dmFyIGY9dGhpcy5fY3R4LGU9Zi50YWJsZS5zY2hlbWEsbz1mLmluZGV4P2UuaWR4QnlOYW1lW2YuaW5kZXhdOmUucHJpbUtleSxzPW8mJm8uY29tcG91bmQsbj10KGFyZ3VtZW50cyksaT1zP2VyKGlpKTppaSx1LHI7cmV0dXJuKG4uc29ydChpKSxuLmxlbmd0aD09PTApP25ldyB0aGlzLl9jdHguY29sbENsYXNzKHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4ga3Qub25seShcIlwiKX0pLmxpbWl0KDApOih1PW5ldyB0aGlzLl9jdHguY29sbENsYXNzKHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4ga3QuYm91bmQoblswXSxuW24ubGVuZ3RoLTFdKX0pLHUuX29uZGlyZWN0aW9uY2hhbmdlPWZ1bmN0aW9uKHQpe2k9dD09PVwibmV4dFwiP2lpOmZyO3MmJihpPWVyKGkpKTtuLnNvcnQoaSl9LHI9MCx1Ll9hZGRBbGdvcml0aG0oZnVuY3Rpb24odCx1LGYpe2Zvcih2YXIgZT10LmtleTtpKGUsbltyXSk+MDspaWYoKytyLHI9PT1uLmxlbmd0aClyZXR1cm4gdShmKSwhMTtyZXR1cm4gaShlLG5bcl0pPT09MD8odShmdW5jdGlvbigpe3QuY29udGludWUoKX0pLCEwKToodShmdW5jdGlvbigpe3QuY29udGludWUobltyXSl9KSwhMSl9KSx1KX0sbm90RXF1YWw6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuYmVsb3cobikub3IodGhpcy5fY3R4LmluZGV4KS5hYm92ZShuKX0sbm9uZU9mOmZ1bmN0aW9uKCl7dmFyIGk9dGhpcy5fY3R4LGY9aS50YWJsZS5zY2hlbWEsZT1pLmluZGV4P2YuaWR4QnlOYW1lW2kuaW5kZXhdOmYucHJpbUtleSxoPWUmJmUuY29tcG91bmQsbj10KGFyZ3VtZW50cyksbyxyLHMsdTtyZXR1cm4gbi5sZW5ndGg9PT0wP25ldyB0aGlzLl9jdHguY29sbENsYXNzKHRoaXMpOihvPWg/ZXIoaWkpOmlpLG4uc29ydChvKSxyPW4ucmVkdWNlKGZ1bmN0aW9uKG4sdCl7cmV0dXJuIG4/bi5jb25jYXQoW1tuW24ubGVuZ3RoLTFdWzFdLHRdXSk6W1tudWxsLHRdXX0sbnVsbCksci5wdXNoKFtuW24ubGVuZ3RoLTFdLG51bGxdKSxzPXRoaXMsdT1pLmluZGV4LHIucmVkdWNlKGZ1bmN0aW9uKG4sdCl7cmV0dXJuIG4/dFsxXT09PW51bGw/bi5vcih1KS5hYm92ZSh0WzBdKTpuLm9yKHUpLmJldHdlZW4odFswXSx0WzFdLCExLCExKTpzLmJlbG93KHRbMV0pfSxudWxsKSl9LHN0YXJ0c1dpdGhBbnlPZjpmdW5jdGlvbigpe2Z1bmN0aW9uIGgobil7cmV0dXJuIG4+ZltyXX1mdW5jdGlvbiBjKG4pe3JldHVybiBuPGlbcl19dmFyIHM9dGhpcy5fY3R4LGk9dChhcmd1bWVudHMpLGYsdSxyLGUsbztyZXR1cm4gaS5ldmVyeShmdW5jdGlvbihuKXtyZXR1cm4gdHlwZW9mIG49PVwic3RyaW5nXCJ9KT9pLmxlbmd0aD09PTA/bmV3IHMuY29sbENsYXNzKHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4ga3Qub25seShcIlwiKX0pLmxpbWl0KDApOihmPWkubWFwKGZ1bmN0aW9uKG4pe3JldHVybiBuK1N0cmluZy5mcm9tQ2hhckNvZGUoNjU1MzUpfSksdT1paSxpLnNvcnQodSkscj0wLGU9aCxvPW5ldyBzLmNvbGxDbGFzcyh0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIGt0LmJvdW5kKGlbMF0saVtpLmxlbmd0aC0xXStTdHJpbmcuZnJvbUNoYXJDb2RlKDY1NTM1KSl9KSxvLl9vbmRpcmVjdGlvbmNoYW5nZT1mdW5jdGlvbihuKXtuPT09XCJuZXh0XCI/KGU9aCx1PWlpKTooZT1jLHU9ZnIpO2kuc29ydCh1KTtmLnNvcnQodSl9LG8uX2FkZEFsZ29yaXRobShmdW5jdGlvbihuLHQsbyl7Zm9yKHZhciBzPW4ua2V5O2Uocyk7KWlmKCsrcixyPT09aS5sZW5ndGgpcmV0dXJuIHQobyksITE7cmV0dXJuIHM+PWlbcl0mJnM8PWZbcl0/KHQoZnVuY3Rpb24oKXtuLmNvbnRpbnVlKCl9KSwhMCk6KHQoZnVuY3Rpb24oKXt1PT09aWk/bi5jb250aW51ZShpW3JdKTpuLmNvbnRpbnVlKGZbcl0pfSksITEpfSksbyk6bihuZXcgcy5jb2xsQ2xhc3ModGhpcyksbmV3IHlpKFwic3RhcnRzV2l0aEFueU9mKCkgb25seSB3b3JrcyB3aXRoIHN0cmluZ3NcIikpfX19KTtzKGFpLnByb3RvdHlwZSxmdW5jdGlvbigpe2Z1bmN0aW9uIG4obix0KXtuLmZpbHRlcj1raShuLmZpbHRlcix0KX1mdW5jdGlvbiBzKG4sdCl7bi5pc01hdGNoPWtpKG4uaXNNYXRjaCx0KX1mdW5jdGlvbiB1KG4sdCl7aWYobi5pc1ByaW1LZXkpcmV0dXJuIHQ7dmFyIGk9bi50YWJsZS5zY2hlbWEuaWR4QnlOYW1lW24uaW5kZXhdO2lmKCFpKXRocm93IG5ldyBudChcIktleVBhdGggXCIrbi5pbmRleCtcIiBvbiBvYmplY3Qgc3RvcmUgXCIrdC5uYW1lK1wiIGlzIG5vdCBpbmRleGVkXCIpO3JldHVybiBuLmlzUHJpbUtleT90OnQuaW5kZXgoaS5uYW1lKX1mdW5jdGlvbiBmKG4sdCl7cmV0dXJuIHUobix0KVtuLm9wXShuLnJhbmdlfHxudWxsLG4uZGlyK24udW5pcXVlKX1mdW5jdGlvbiBpKG4sdCxpLHIsdSl7bi5vcj9mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXsrK2M9PTImJmkoKX1mdW5jdGlvbiBoKG4saSx1KXtpZighb3x8byhpLHUsZSxyKSl7dmFyIGY9aS5wcmltYXJ5S2V5LnRvU3RyaW5nKCk7cy5oYXNPd25Qcm9wZXJ0eShmKXx8KHNbZl09ITAsdChuLGksdSkpfX12YXIgbz1uLmZpbHRlcixzPXt9LGw9bi50YWJsZS5zY2hlbWEucHJpbUtleS5rZXlQYXRoLGM9MDtuLm9yLl9pdGVyYXRlKGgsZSxyLHUpO2JpKGYobix1KSxuLmFsZ29yaXRobSxoLGUscixuLnRhYmxlLmhvb2sucmVhZGluZy5maXJlKX0oKTpiaShmKG4sdSksa2kobi5hbGdvcml0aG0sbi5maWx0ZXIpLHQsaSxyLG4udGFibGUuaG9vay5yZWFkaW5nLmZpcmUpfWZ1bmN0aW9uIHQobil7cmV0dXJuIG4udGFibGUuc2NoZW1hLmluc3RhbmNlVGVtcGxhdGV9cmV0dXJue19yZWFkOmZ1bmN0aW9uKG4sdCl7dmFyIGk9dGhpcy5fY3R4O3JldHVybiBpLmVycm9yP2kudGFibGUuX3RyYW5zKG51bGwsZnVuY3Rpb24obix0KXt0KGkuZXJyb3IpfSk6aS50YWJsZS5faWRic3RvcmUodGksbikudGhlbih0KX0sX3dyaXRlOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMuX2N0eDtyZXR1cm4gdC5lcnJvcj90LnRhYmxlLl90cmFucyhudWxsLGZ1bmN0aW9uKG4saSl7aSh0LmVycm9yKX0pOnQudGFibGUuX2lkYnN0b3JlKHl0LG4sXCJsb2NrZWRcIil9LF9hZGRBbGdvcml0aG06ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5fY3R4O3QuYWxnb3JpdGhtPWtpKHQuYWxnb3JpdGhtLG4pfSxfaXRlcmF0ZTpmdW5jdGlvbihuLHQscix1KXtyZXR1cm4gaSh0aGlzLl9jdHgsbix0LHIsdSl9LGVhY2g6ZnVuY3Rpb24obil7dmFyIHI9dGhpcy5fY3R4O3JldHVybiBlJiZuKHQocikpLHRoaXMuX3JlYWQoZnVuY3Rpb24odCx1LGYpe2kocixuLHQsdSxmKX0pfSxjb3VudDpmdW5jdGlvbihuKXt2YXIgcyx0LGY7cmV0dXJuIGU/ci5yZXNvbHZlKDApLnRoZW4obik6KHM9dGhpcyx0PXRoaXMuX2N0eCx0LmZpbHRlcnx8dC5hbGdvcml0aG18fHQub3I/KGY9MCx0aGlzLl9yZWFkKGZ1bmN0aW9uKG4scix1KXtpKHQsZnVuY3Rpb24oKXtyZXR1cm4rK2YsITF9LGZ1bmN0aW9uKCl7bihmKX0scix1KX0sbikpOnRoaXMuX3JlYWQoZnVuY3Rpb24obixpLHIpe3ZhciBmPXUodCxyKSxlPXQucmFuZ2U/Zi5jb3VudCh0LnJhbmdlKTpmLmNvdW50KCk7ZS5vbmVycm9yPW8oaSxbXCJjYWxsaW5nXCIsXCJjb3VudCgpXCIsXCJvblwiLHMubmFtZV0pO2Uub25zdWNjZXNzPWZ1bmN0aW9uKGkpe24oTWF0aC5taW4oaS50YXJnZXQucmVzdWx0LE1hdGgubWF4KDAsdC5saW1pdC10Lm9mZnNldCkpKX19LG4pKX0sc29ydEJ5OmZ1bmN0aW9uKG4sdCl7ZnVuY3Rpb24gcihuLHQpe3JldHVybiB0P3IobltpW3RdXSx0LTEpOm5bZV19ZnVuY3Rpb24gbyhuLHQpe3ZhciBpPXIobix1KSxlPXIodCx1KTtyZXR1cm4gaTxlPy1mOmk+ZT9mOjB9dmFyIHM9dGhpcy5fY3R4LGk9bi5zcGxpdChcIi5cIikucmV2ZXJzZSgpLGU9aVswXSx1PWkubGVuZ3RoLTEsZj10aGlzLl9jdHguZGlyPT09XCJuZXh0XCI/MTotMTtyZXR1cm4gdGhpcy50b0FycmF5KGZ1bmN0aW9uKG4pe3JldHVybiBuLnNvcnQobyl9KS50aGVuKHQpfSx0b0FycmF5OmZ1bmN0aW9uKG4pe3ZhciByPXRoaXMuX2N0eDtyZXR1cm4gdGhpcy5fcmVhZChmdW5jdGlvbihuLHUsZil7ZSYmbihbdChyKV0pO3ZhciBvPVtdO2kocixmdW5jdGlvbihuKXtvLnB1c2gobil9LGZ1bmN0aW9uKCl7bihvKX0sdSxmKX0sbil9LG9mZnNldDpmdW5jdGlvbih0KXt2YXIgaT10aGlzLl9jdHg7cmV0dXJuIHQ8PTA/dGhpczooaS5vZmZzZXQrPXQsaS5vcnx8aS5hbGdvcml0aG18fGkuZmlsdGVyP24oaSxmdW5jdGlvbigpe3JldHVybi0tdDwwfSk6bihpLGZ1bmN0aW9uKG4saSl7cmV0dXJuIHQ9PT0wPyEwOnQ9PT0xPygtLXQsITEpOihpKGZ1bmN0aW9uKCl7bi5hZHZhbmNlKHQpO3Q9MH0pLCExKX0pLHRoaXMpfSxsaW1pdDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fY3R4LmxpbWl0PU1hdGgubWluKHRoaXMuX2N0eC5saW1pdCx0KSxuKHRoaXMuX2N0eCxmdW5jdGlvbihuLGkscil7cmV0dXJuLS10PD0wJiZpKHIpLHQ+PTB9KSx0aGlzfSx1bnRpbDpmdW5jdGlvbihpLHIpe3ZhciB1PXRoaXMuX2N0eDtyZXR1cm4gZSYmaSh0KHUpKSxuKHRoaXMuX2N0eCxmdW5jdGlvbihuLHQsdSl7cmV0dXJuIGkobi52YWx1ZSk/KHQodSkscik6ITB9KSx0aGlzfSxmaXJzdDpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5saW1pdCgxKS50b0FycmF5KGZ1bmN0aW9uKG4pe3JldHVybiBuWzBdfSkudGhlbihuKX0sbGFzdDpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5yZXZlcnNlKCkuZmlyc3Qobil9LGFuZDpmdW5jdGlvbihpKXtyZXR1cm4gZSYmaSh0KHRoaXMuX2N0eCkpLG4odGhpcy5fY3R4LGZ1bmN0aW9uKG4pe3JldHVybiBpKG4udmFsdWUpfSkscyh0aGlzLl9jdHgsaSksdGhpc30sb3I6ZnVuY3Rpb24obil7cmV0dXJuIG5ldyBsaSh0aGlzLl9jdHgudGFibGUsbix0aGlzKX0scmV2ZXJzZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jdHguZGlyPXRoaXMuX2N0eC5kaXI9PT1cInByZXZcIj9cIm5leHRcIjpcInByZXZcIix0aGlzLl9vbmRpcmVjdGlvbmNoYW5nZSYmdGhpcy5fb25kaXJlY3Rpb25jaGFuZ2UodGhpcy5fY3R4LmRpciksdGhpc30sZGVzYzpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJldmVyc2UoKX0sZWFjaEtleTpmdW5jdGlvbihuKXt2YXIgaT10aGlzLl9jdHg7cmV0dXJuIGUmJm4oYyh0KHRoaXMuX2N0eCksdGhpcy5fY3R4LmluZGV4P3RoaXMuX2N0eC50YWJsZS5zY2hlbWEuaWR4QnlOYW1lW3RoaXMuX2N0eC5pbmRleF0ua2V5UGF0aDp0aGlzLl9jdHgudGFibGUuc2NoZW1hLnByaW1LZXkua2V5UGF0aCkpLGkuaXNQcmltS2V5fHwoaS5vcD1cIm9wZW5LZXlDdXJzb3JcIiksdGhpcy5lYWNoKGZ1bmN0aW9uKHQsaSl7bihpLmtleSxpKX0pfSxlYWNoVW5pcXVlS2V5OmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLl9jdHgudW5pcXVlPVwidW5pcXVlXCIsdGhpcy5lYWNoS2V5KG4pfSxrZXlzOmZ1bmN0aW9uKG4pe3ZhciBpPXRoaXMuX2N0eCx0O3JldHVybihpLmlzUHJpbUtleXx8KGkub3A9XCJvcGVuS2V5Q3Vyc29yXCIpLHQ9W10sZSk/bmV3IHIodGhpcy5lYWNoS2V5LmJpbmQodGhpcykpLnRoZW4oZnVuY3Rpb24obil7cmV0dXJuW25dfSkudGhlbihuKTp0aGlzLmVhY2goZnVuY3Rpb24obixpKXt0LnB1c2goaS5rZXkpfSkudGhlbihmdW5jdGlvbigpe3JldHVybiB0fSkudGhlbihuKX0sdW5pcXVlS2V5czpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5fY3R4LnVuaXF1ZT1cInVuaXF1ZVwiLHRoaXMua2V5cyhuKX0sZmlyc3RLZXk6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMubGltaXQoMSkua2V5cyhmdW5jdGlvbihuKXtyZXR1cm4gblswXX0pLnRoZW4obil9LGxhc3RLZXk6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMucmV2ZXJzZSgpLmZpcnN0S2V5KG4pfSxkaXN0aW5jdDpmdW5jdGlvbigpe3ZhciB0PXt9O3JldHVybiBuKHRoaXMuX2N0eCxmdW5jdGlvbihuKXt2YXIgaT1uLnByaW1hcnlLZXkudG9TdHJpbmcoKSxyPXQuaGFzT3duUHJvcGVydHkoaSk7cmV0dXJuIHRbaV09ITAsIXJ9KSx0aGlzfX19KTtwKHJyKS5mcm9tKGFpKS5leHRlbmQoe21vZGlmeTpmdW5jdGlvbihuKXt2YXIgYT10aGlzLHQ9dGhpcy5fY3R4LHI9dC50YWJsZS5ob29rLGk9ci51cGRhdGluZy5maXJlLHU9ci5kZWxldGluZy5maXJlO3JldHVybiBlJiZ0eXBlb2Ygbj09XCJmdW5jdGlvblwiJiZuLmNhbGwoe3ZhbHVlOnQudGFibGUuc2NoZW1hLmluc3RhbmNlVGVtcGxhdGV9LHQudGFibGUuc2NoZW1hLmluc3RhbmNlVGVtcGxhdGUpLHRoaXMuX3dyaXRlKGZ1bmN0aW9uKHIsZSx2LHkpe2Z1bmN0aW9uIHN0KG4saSl7dmFyIHIsdSxmO2lmKGV0PWkucHJpbWFyeUtleSxyPXtwcmltS2V5OmkucHJpbWFyeUtleSx2YWx1ZTpufSx3LmNhbGwocixuKSE9PSExKXU9IXIuaGFzT3duUHJvcGVydHkoXCJ2YWx1ZVwiKSxmPXU/aS5kZWxldGUoKTppLnVwZGF0ZShyLnZhbHVlKSwrK3V0LGYub25lcnJvcj1vKGZ1bmN0aW9uKG4pe2lmKHAucHVzaChuKSxudC5wdXNoKHIucHJpbUtleSksci5vbmVycm9yKXIub25lcnJvcihuKTtyZXR1cm4gdHQoKSwhMH0sdT9bXCJkZWxldGluZ1wiLG4sXCJmcm9tXCIsdC50YWJsZS5uYW1lXTpbXCJtb2RpZnlpbmdcIixuLFwib25cIix0LnRhYmxlLm5hbWVdKSxmLm9uc3VjY2Vzcz1mdW5jdGlvbigpe2lmKHIub25zdWNjZXNzKXIub25zdWNjZXNzKHIudmFsdWUpOysrYjt0dCgpfTtlbHNlIGlmKHIub25zdWNjZXNzKXIub25zdWNjZXNzKHIudmFsdWUpfWZ1bmN0aW9uIG90KG4pe3JldHVybiBuJiYocC5wdXNoKG4pLG50LnB1c2goZXQpKSxlKG5ldyBnKFwiRXJyb3IgbW9kaWZ5aW5nIG9uZSBvciBtb3JlIG9iamVjdHNcIixwLGIsbnQpKX1mdW5jdGlvbiB0dCgpe2Z0JiZiK3AubGVuZ3RoPT09dXQmJihwLmxlbmd0aD4wP290KCk6cihiKSl9dmFyIHcsayxpdCxkO3R5cGVvZiBuPT1cImZ1bmN0aW9uXCI/dz1pPT09ZiYmdT09PWY/bjpmdW5jdGlvbih0KXt2YXIgZj1sKHQpLGUscjtpZihuLmNhbGwodGhpcyx0KT09PSExKXJldHVybiExO3RoaXMuaGFzT3duUHJvcGVydHkoXCJ2YWx1ZVwiKT8oZT1ndChmLHRoaXMudmFsdWUpLHI9aS5jYWxsKHRoaXMsZSx0aGlzLnByaW1LZXksZix5KSxyJiYodD10aGlzLnZhbHVlLE9iamVjdC5rZXlzKHIpLmZvckVhY2goZnVuY3Rpb24obil7aCh0LG4scltuXSl9KSkpOnUuY2FsbCh0aGlzLHRoaXMucHJpbUtleSx0LHkpfTppPT09Zj8oaz1PYmplY3Qua2V5cyhuKSxpdD1rLmxlbmd0aCx3PWZ1bmN0aW9uKHQpe2Zvcih2YXIgaSx1LGY9ITEscj0wO3I8aXQ7KytyKWk9a1tyXSx1PW5baV0sYyh0LGkpIT09dSYmKGgodCxpLHUpLGY9ITApO3JldHVybiBmfSk6KGQ9bixuPXJ0KGQpLHc9ZnVuY3Rpb24odCl7dmFyIHU9ITEscj1pLmNhbGwodGhpcyxuLHRoaXMucHJpbUtleSxsKHQpLHkpO3JldHVybiByJiZzKG4sciksT2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbihpKXt2YXIgcj1uW2ldO2ModCxpKSE9PXImJihoKHQsaSxyKSx1PSEwKX0pLHImJihuPXJ0KGQpKSx1fSk7dmFyIHV0PTAsYj0wLGZ0PSExLHA9W10sbnQ9W10sZXQ9bnVsbDthLl9pdGVyYXRlKHN0LGZ1bmN0aW9uKCl7ZnQ9ITA7dHQoKX0sb3Qsdil9KX0sXCJkZWxldGVcIjpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1vZGlmeShmdW5jdGlvbigpe2RlbGV0ZSB0aGlzLnZhbHVlfSl9fSk7cyh0aGlzLHtDb2xsZWN0aW9uOmFpLFRhYmxlOm9pLFRyYW5zYWN0aW9uOmlyLFZlcnNpb246Z2ksV2hlcmVDbGF1c2U6bGksV3JpdGVhYmxlQ29sbGVjdGlvbjpycixXcml0ZWFibGVUYWJsZTp3aX0pO2NyKCk7aHIuZm9yRWFjaChmdW5jdGlvbihuKXtuKGIpfSl9ZnVuY3Rpb24gZigpe31mdW5jdGlvbiB0dChuKXtyZXR1cm4gbn1mdW5jdGlvbiBsdChuLHQpe3JldHVybiBuPT09dHQ/dDpmdW5jdGlvbihpKXtyZXR1cm4gdChuKGkpKX19ZnVuY3Rpb24gYihuLHQpe3JldHVybiBmdW5jdGlvbigpe24uYXBwbHkodGhpcyxhcmd1bWVudHMpO3QuYXBwbHkodGhpcyxhcmd1bWVudHMpfX1mdW5jdGlvbiBhdChuLHQpe3JldHVybiBuPT09Zj90OmZ1bmN0aW9uKCl7dmFyIGY9bi5hcHBseSh0aGlzLGFyZ3VtZW50cykscix1LGU7cmV0dXJuIGYhPT1pJiYoYXJndW1lbnRzWzBdPWYpLHI9dGhpcy5vbnN1Y2Nlc3MsdT10aGlzLm9uZXJyb3IsZGVsZXRlIHRoaXMub25zdWNjZXNzLGRlbGV0ZSB0aGlzLm9uZXJyb3IsZT10LmFwcGx5KHRoaXMsYXJndW1lbnRzKSxyJiYodGhpcy5vbnN1Y2Nlc3M9dGhpcy5vbnN1Y2Nlc3M/YihyLHRoaXMub25zdWNjZXNzKTpyKSx1JiYodGhpcy5vbmVycm9yPXRoaXMub25lcnJvcj9iKHUsdGhpcy5vbmVycm9yKTp1KSxlIT09aT9lOmZ9fWZ1bmN0aW9uIHZ0KG4sdCl7cmV0dXJuIG49PT1mP3Q6ZnVuY3Rpb24oKXt2YXIgcj1uLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxmLGUsdTtyZXR1cm4gciE9PWkmJnMoYXJndW1lbnRzWzBdLHIpLGY9dGhpcy5vbnN1Y2Nlc3MsZT10aGlzLm9uZXJyb3IsZGVsZXRlIHRoaXMub25zdWNjZXNzLGRlbGV0ZSB0aGlzLm9uZXJyb3IsdT10LmFwcGx5KHRoaXMsYXJndW1lbnRzKSxmJiYodGhpcy5vbnN1Y2Nlc3M9dGhpcy5vbnN1Y2Nlc3M/YihmLHRoaXMub25zdWNjZXNzKTpmKSxlJiYodGhpcy5vbmVycm9yPXRoaXMub25lcnJvcj9iKGUsdGhpcy5vbmVycm9yKTplKSxyPT09aT91PT09aT9pOnU6dT09PWk/cjpzKHIsdSl9fWZ1bmN0aW9uIHl0KG4sdCl7cmV0dXJuIG49PT1mP3Q6ZnVuY3Rpb24oKXtyZXR1cm4gbi5hcHBseSh0aGlzLGFyZ3VtZW50cyk9PT0hMT8hMTp0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19ZnVuY3Rpb24gcHQobix0KXtyZXR1cm4gbj09PWY/dDpmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKT09PSExPyExOm4uYXBwbHkodGhpcyxhcmd1bWVudHMpfX1mdW5jdGlvbiB3dChuLHQpe3JldHVybiBuPT09Zj90OmZ1bmN0aW9uKCl7bi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fWZ1bmN0aW9uIGJ0KG4sdCl7cmV0dXJuIG49PT1mP3Q6ZnVuY3Rpb24oKXt2YXIgaT1uLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxyLHU7cmV0dXJuIGkmJnR5cGVvZiBpLnRoZW49PVwiZnVuY3Rpb25cIj8ocj10aGlzLHU9YXJndW1lbnRzLGkudGhlbihmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KHIsdSl9KSk6dC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fWZ1bmN0aW9uIHYodCl7ZnVuY3Rpb24gaShuLHQsaSl7aWYoQXJyYXkuaXNBcnJheShuKSlyZXR1cm4gYyhuKTtpZih0eXBlb2Ygbj09XCJvYmplY3RcIilyZXR1cm4gaChuKTt0fHwodD15dCk7aXx8KGk9Zik7dmFyIHI9e3N1YnNjcmliZXJzOltdLGZpcmU6aSxzdWJzY3JpYmU6ZnVuY3Rpb24obil7ci5zdWJzY3JpYmVycy5wdXNoKG4pO3IuZmlyZT10KHIuZmlyZSxuKX0sdW5zdWJzY3JpYmU6ZnVuY3Rpb24obil7ci5zdWJzY3JpYmVycz1yLnN1YnNjcmliZXJzLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gdCE9PW59KTtyLmZpcmU9ci5zdWJzY3JpYmVycy5yZWR1Y2UodCxpKX19O3JldHVybiB1W25dPWVbbl09cixyfWZ1bmN0aW9uIGgodCl7T2JqZWN0LmtleXModCkuZm9yRWFjaChmdW5jdGlvbihyKXt2YXIgZj10W3JdLHU7aWYoQXJyYXkuaXNBcnJheShmKSlpKHIsdFtyXVswXSx0W3JdWzFdKTtlbHNlIGlmKGY9PT1cImFzYXBcIil1PWkocixudWxsLGZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzO3Uuc3Vic2NyaWJlcnMuZm9yRWFjaChmdW5jdGlvbihpKXt5KGZ1bmN0aW9uKCl7aS5hcHBseShuLHQpfSl9KX0pLHUuc3Vic2NyaWJlPWZ1bmN0aW9uKG4pe3Uuc3Vic2NyaWJlcnMuaW5kZXhPZihuKT09PS0xJiZ1LnN1YnNjcmliZXJzLnB1c2gobil9LHUudW5zdWJzY3JpYmU9ZnVuY3Rpb24obil7dmFyIHQ9dS5zdWJzY3JpYmVycy5pbmRleE9mKG4pO3QhPT0tMSYmdS5zdWJzY3JpYmVycy5zcGxpY2UodCwxKX07ZWxzZSB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGV2ZW50IGNvbmZpZ1wiKTt9KX1mdW5jdGlvbiBjKG4pe2Z1bmN0aW9uIHIoKXtpZih0KXJldHVybiExO3Q9ITB9dmFyIHQ9ITE7bi5mb3JFYWNoKGZ1bmN0aW9uKG4pe2kobikuc3Vic2NyaWJlKHIpfSl9dmFyIG89YXJndW1lbnRzLHU9e30sZT1mdW5jdGlvbihuLGkpe2lmKGkpe3ZhciBmPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLHI9dVtuXTtyZXR1cm4gci5zdWJzY3JpYmUuYXBwbHkocixmKSx0fWlmKHR5cGVvZiBuPT1cInN0cmluZ1wiKXJldHVybiB1W25dfSxyLHM7Zm9yKGUuYWRkRXZlbnRUeXBlPWkscj0xLHM9by5sZW5ndGg7cjxzOysrcilpKG9bcl0pO3JldHVybiBlfWZ1bmN0aW9uIGt0KG4pe2lmKCFuKXRocm93IG5ldyBFcnJvcihcIkFzc2VydGlvbiBmYWlsZWRcIik7fWZ1bmN0aW9uIHkodCl7bi5zZXRJbW1lZGlhdGU/c2V0SW1tZWRpYXRlKHQpOnNldFRpbWVvdXQodCwwKX1mdW5jdGlvbiBpdChuKXt2YXIgdD1zZXRUaW1lb3V0KG4sMWUzKTtjbGVhclRpbWVvdXQodCl9ZnVuY3Rpb24gZChuLHQsaSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHU9ci5QU0Q7ci5QU0Q9aTt0cnl7bi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9Y2F0Y2goZil7dChmKX1maW5hbGx5e3IuUFNEPXV9fX1mdW5jdGlvbiBjKG4sdCl7dmFyIGYscixvLHMsdSxlO2lmKG4uaGFzT3duUHJvcGVydHkodCkpcmV0dXJuIG5bdF07aWYoIXQpcmV0dXJuIG47aWYodHlwZW9mIHQhPVwic3RyaW5nXCIpe2ZvcihmPVtdLHI9MCxvPXQubGVuZ3RoO3I8bzsrK3Ipcz1jKG4sdFtyXSksZi5wdXNoKHMpO3JldHVybiBmfXJldHVybih1PXQuaW5kZXhPZihcIi5cIiksdSE9PS0xKT8oZT1uW3Quc3Vic3RyKDAsdSldLGU9PT1pP2k6YyhlLHQuc3Vic3RyKHUrMSkpKTppfWZ1bmN0aW9uIGgobix0LHIpe3ZhciB1LGMsZSxmLHMsbztpZihuJiZ0IT09aSlpZih0eXBlb2YgdCE9XCJzdHJpbmdcIiYmXCJsZW5ndGhcImluIHQpZm9yKGt0KHR5cGVvZiByIT1cInN0cmluZ1wiJiZcImxlbmd0aFwiaW4gciksdT0wLGM9dC5sZW5ndGg7dTxjOysrdSloKG4sdFt1XSxyW3VdKTtlbHNlIGU9dC5pbmRleE9mKFwiLlwiKSxlIT09LTE/KGY9dC5zdWJzdHIoMCxlKSxzPXQuc3Vic3RyKGUrMSkscz09PVwiXCI/cj09PWk/ZGVsZXRlIG5bZl06bltmXT1yOihvPW5bZl0sb3x8KG89bltmXT17fSksaChvLHMscikpKTpyPT09aT9kZWxldGUgblt0XTpuW3RdPXJ9ZnVuY3Rpb24gZHQobix0KXt0eXBlb2YgdD09XCJzdHJpbmdcIj9oKG4sdCxpKTpcImxlbmd0aFwiaW4gdCYmW10ubWFwLmNhbGwodCxmdW5jdGlvbih0KXtoKG4sdCxpKX0pfWZ1bmN0aW9uIHJ0KG4pe3ZhciBpPXt9O2Zvcih2YXIgdCBpbiBuKW4uaGFzT3duUHJvcGVydHkodCkmJihpW3RdPW5bdF0pO3JldHVybiBpfWZ1bmN0aW9uIGwobil7dmFyIHQsaSx1LHI7aWYoIW58fHR5cGVvZiBuIT1cIm9iamVjdFwiKXJldHVybiBuO2lmKEFycmF5LmlzQXJyYXkobikpZm9yKHQ9W10saT0wLHU9bi5sZW5ndGg7aTx1OysraSl0LnB1c2gobChuW2ldKSk7ZWxzZSBpZihuIGluc3RhbmNlb2YgRGF0ZSl0PW5ldyBEYXRlLHQuc2V0VGltZShuLmdldFRpbWUoKSk7ZWxzZXt0PW4uY29uc3RydWN0b3I/T2JqZWN0LmNyZWF0ZShuLmNvbnN0cnVjdG9yLnByb3RvdHlwZSk6e307Zm9yKHIgaW4gbiluLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1sKG5bcl0pKX1yZXR1cm4gdH1mdW5jdGlvbiBndChuLHQpe3ZhciB1PXt9O2Zvcih2YXIgciBpbiBuKW4uaGFzT3duUHJvcGVydHkocikmJih0Lmhhc093blByb3BlcnR5KHIpP25bcl0hPT10W3JdJiZKU09OLnN0cmluZ2lmeShuW3JdKSE9SlNPTi5zdHJpbmdpZnkodFtyXSkmJih1W3JdPXRbcl0pOnVbcl09aSk7Zm9yKHIgaW4gdCl0Lmhhc093blByb3BlcnR5KHIpJiYhbi5oYXNPd25Qcm9wZXJ0eShyKSYmKHVbcl09dFtyXSk7cmV0dXJuIHV9ZnVuY3Rpb24gc3Qobil7aWYodHlwZW9mIG49PVwiZnVuY3Rpb25cIilyZXR1cm4gbmV3IG47aWYoQXJyYXkuaXNBcnJheShuKSlyZXR1cm5bc3QoblswXSldO2lmKG4mJnR5cGVvZiBuPT1cIm9iamVjdFwiKXt2YXIgdD17fTtyZXR1cm4gdXQodCxuKSx0fXJldHVybiBufWZ1bmN0aW9uIHV0KG4sdCl7T2JqZWN0LmtleXModCkuZm9yRWFjaChmdW5jdGlvbihpKXt2YXIgcj1zdCh0W2ldKTtuW2ldPXJ9KX1mdW5jdGlvbiBvKG4sdCl7cmV0dXJuIGZ1bmN0aW9uKGkpe3ZhciByPWkmJmkudGFyZ2V0LmVycm9yfHxuZXcgRXJyb3IsdTtyZXR1cm4gdCYmKHU9XCIgb2NjdXJyZWQgd2hlbiBcIit0Lm1hcChmdW5jdGlvbihuKXtzd2l0Y2godHlwZW9mIG4pe2Nhc2VcImZ1bmN0aW9uXCI6cmV0dXJuIG4oKTtjYXNlXCJzdHJpbmdcIjpyZXR1cm4gbjtkZWZhdWx0OnJldHVybiBKU09OLnN0cmluZ2lmeShuKX19KS5qb2luKFwiIFwiKSxyLm5hbWU/ci50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiByLm5hbWUrdSsoci5tZXNzYWdlP1wiLiBcIityLm1lc3NhZ2U6XCJcIil9OnI9cit1KSxuKHIpLGkmJihpLnN0b3BQcm9wYWdhdGlvbiYmaS5zdG9wUHJvcGFnYXRpb24oKSxpLnByZXZlbnREZWZhdWx0JiZpLnByZXZlbnREZWZhdWx0KCkpLCExfX1mdW5jdGlvbiBuaShuKXt0cnl7dGhyb3cgbjt9Y2F0Y2godCl7cmV0dXJuIHR9fWZ1bmN0aW9uIGh0KG4pe24ucHJldmVudERlZmF1bHQoKX1mdW5jdGlvbiBmdChuKXt2YXIgdCxpPXUuZGVwZW5kZW5jaWVzLmxvY2FsU3RvcmFnZTtpZighaSlyZXR1cm4gbihbXSk7dHJ5e3Q9SlNPTi5wYXJzZShpLmdldEl0ZW0oXCJEZXhpZS5EYXRhYmFzZU5hbWVzXCIpfHxcIltdXCIpfWNhdGNoKHIpe3Q9W119bih0KSYmaS5zZXRJdGVtKFwiRGV4aWUuRGF0YWJhc2VOYW1lc1wiLEpTT04uc3RyaW5naWZ5KHQpKX1mdW5jdGlvbiBhKG4sdCxpLHIsdSxmLGUpe3RoaXMubmFtZT1uO3RoaXMua2V5UGF0aD10O3RoaXMudW5pcXVlPWk7dGhpcy5tdWx0aT1yO3RoaXMuYXV0bz11O3RoaXMuY29tcG91bmQ9Zjt0aGlzLmRvdHRlZD1lO3ZhciBvPXR5cGVvZiB0PT1cInN0cmluZ1wiP3Q6dCYmXCJbXCIrW10uam9pbi5jYWxsKHQsXCIrXCIpK1wiXVwiO3RoaXMuc3JjPShpP1wiJlwiOlwiXCIpKyhyP1wiKlwiOlwiXCIpKyh1P1wiKytcIjpcIlwiKStvfWZ1bmN0aW9uIGV0KG4sdCxpLHIpe3RoaXMubmFtZT1uO3RoaXMucHJpbUtleT10fHxuZXcgYTt0aGlzLmluZGV4ZXM9aXx8W25ldyBhXTt0aGlzLmluc3RhbmNlVGVtcGxhdGU9cjt0aGlzLm1hcHBlZENsYXNzPW51bGw7dGhpcy5pZHhCeU5hbWU9aS5yZWR1Y2UoZnVuY3Rpb24obix0KXtyZXR1cm4gblt0Lm5hbWVdPXQsbn0se30pfWZ1bmN0aW9uIGcobix0LGkscil7dGhpcy5uYW1lPVwiTW9kaWZ5RXJyb3JcIjt0aGlzLmZhaWx1cmVzPXQ7dGhpcy5mYWlsZWRLZXlzPXI7dGhpcy5zdWNjZXNzQ291bnQ9aTt0aGlzLm1lc3NhZ2U9dC5qb2luKFwiXFxuXCIpfWZ1bmN0aW9uIG90KG4pe3JldHVybiBuLmxlbmd0aD09PTE/blswXTpufWZ1bmN0aW9uIGN0KCl7dmFyIG49dS5kZXBlbmRlbmNpZXMuaW5kZXhlZERCLHQ9biYmKG4uZ2V0RGF0YWJhc2VOYW1lc3x8bi53ZWJraXRHZXREYXRhYmFzZU5hbWVzKTtyZXR1cm4gdCYmdC5iaW5kKG4pfXZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbChuKXt1LnB1c2goW24sYy5jYWxsKGFyZ3VtZW50cywxKV0pfWZ1bmN0aW9uIHAoKXt2YXIgcj11LHQsZixpO2Zvcih1PVtdLHQ9MCxmPXIubGVuZ3RoO3Q8ZjsrK3QpaT1yW3RdLGlbMF0uYXBwbHkobixpWzFdKX1mdW5jdGlvbiB0KG4pe2lmKHR5cGVvZiB0aGlzIT1cIm9iamVjdFwiKXRocm93IG5ldyBUeXBlRXJyb3IoXCJQcm9taXNlcyBtdXN0IGJlIGNvbnN0cnVjdGVkIHZpYSBuZXdcIik7aWYodHlwZW9mIG4hPVwiZnVuY3Rpb25cIil0aHJvdyBuZXcgVHlwZUVycm9yKFwibm90IGEgZnVuY3Rpb25cIik7dGhpcy5fc3RhdGU9bnVsbDt0aGlzLl92YWx1ZT1udWxsO3RoaXMuX2RlZmVycmVkcz1bXTt0aGlzLl9jYXRjaGVkPSExO3ZhciByPXRoaXMsdT0hMDt0aGlzLl9QU0Q9dC5QU0Q7dHJ5e2sodGhpcyxuLGZ1bmN0aW9uKG4pe3U/aShhLHIsbik6YShyLG4pfSxmdW5jdGlvbihuKXtyZXR1cm4gdT8oaShoLHIsbiksITEpOmgocixuKX0pfWZpbmFsbHl7dT0hMX19ZnVuY3Rpb24gcyhuLGYpe3ZhciBoLHMsYSx2LGIsYztpZihuLl9zdGF0ZT09PW51bGwpe24uX2RlZmVycmVkcy5wdXNoKGYpO3JldHVybn1pZihoPW4uX3N0YXRlP2Yub25GdWxmaWxsZWQ6Zi5vblJlamVjdGVkLGg9PT1udWxsKXJldHVybihuLl9zdGF0ZT9mLnJlc29sdmU6Zi5yZWplY3QpKG4uX3ZhbHVlKTthPXI7cj0hMTtpPWw7dHJ5e3Y9dC5QU0Q7dC5QU0Q9bi5fUFNEO3M9aChuLl92YWx1ZSk7bi5fc3RhdGV8fHMmJnR5cGVvZiBzLnRoZW49PVwiZnVuY3Rpb25cIiYmcy5fc3RhdGU9PT0hMXx8dyhuKTtmLnJlc29sdmUocyl9Y2F0Y2goeSl7aWYoYj1mLnJlamVjdCh5KSwhYiYmbi5vbnVuY2F0Y2hlZCl0cnl7bi5vbnVuY2F0Y2hlZCh5KX1jYXRjaCh5KXt9fWZpbmFsbHl7aWYodC5QU0Q9dixhKXtkb3t3aGlsZSh1Lmxlbmd0aD4wKXAoKTtpZihjPWUucG9wKCksYyl0cnl7YygpfWNhdGNoKHkpe319d2hpbGUoZS5sZW5ndGg+MHx8dS5sZW5ndGg+MCk7aT1vO3I9ITB9fX1mdW5jdGlvbiBkKG4pe3ZhciBmPXIsdDtyPSExO2k9bDt0cnl7bigpfWZpbmFsbHl7aWYoZil7ZG97d2hpbGUodS5sZW5ndGg+MClwKCk7aWYodD1lLnBvcCgpLHQpdHJ5e3QoKX1jYXRjaChzKXt9fXdoaWxlKGUubGVuZ3RoPjB8fHUubGVuZ3RoPjApO2k9bztyPSEwfX19ZnVuY3Rpb24gdyhuKXtuLl9jYXRjaGVkPSEwO24uX3BhcmVudCYmdyhuLl9wYXJlbnQpfWZ1bmN0aW9uIGEobixpKXt2YXIgcj10LlBTRDt0LlBTRD1uLl9QU0Q7dHJ5e2lmKGk9PT1uKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBIHByb21pc2UgY2Fubm90IGJlIHJlc29sdmVkIHdpdGggaXRzZWxmLlwiKTtpZihpJiYodHlwZW9mIGk9PVwib2JqZWN0XCJ8fHR5cGVvZiBpPT1cImZ1bmN0aW9uXCIpJiZ0eXBlb2YgaS50aGVuPT1cImZ1bmN0aW9uXCIpe2sobixmdW5jdGlvbihuLHQpe2kudGhlbihuLHQpfSxmdW5jdGlvbih0KXthKG4sdCl9LGZ1bmN0aW9uKHQpe2gobix0KX0pO3JldHVybn1uLl9zdGF0ZT0hMDtuLl92YWx1ZT1pO2IuY2FsbChuKX1jYXRjaCh1KXtoKHUpfWZpbmFsbHl7dC5QU0Q9cn19ZnVuY3Rpb24gaChuLGkpe3ZhciByPXQuUFNEO2lmKHQuUFNEPW4uX1BTRCxuLl9zdGF0ZT0hMSxuLl92YWx1ZT1pLGIuY2FsbChuKSwhbi5fY2F0Y2hlZCl0cnl7aWYobi5vbnVuY2F0Y2hlZCluLm9udW5jYXRjaGVkKG4uX3ZhbHVlKTt0Lm9uLmVycm9yLmZpcmUobi5fdmFsdWUpfWNhdGNoKHUpe31yZXR1cm4gdC5QU0Q9cixuLl9jYXRjaGVkfWZ1bmN0aW9uIGIoKXtmb3IodmFyIG49MCx0PXRoaXMuX2RlZmVycmVkcy5sZW5ndGg7bjx0O24rKylzKHRoaXMsdGhpcy5fZGVmZXJyZWRzW25dKTt0aGlzLl9kZWZlcnJlZHM9W119ZnVuY3Rpb24geShuLHQsaSxyKXt0aGlzLm9uRnVsZmlsbGVkPXR5cGVvZiBuPT1cImZ1bmN0aW9uXCI/bjpudWxsO3RoaXMub25SZWplY3RlZD10eXBlb2YgdD09XCJmdW5jdGlvblwiP3Q6bnVsbDt0aGlzLnJlc29sdmU9aTt0aGlzLnJlamVjdD1yfWZ1bmN0aW9uIGsobix0LGkscil7dmFyIHU9ITE7dHJ5e3QoZnVuY3Rpb24obil7dXx8KHU9ITAsaShuKSl9LGZ1bmN0aW9uKHQpe3JldHVybiB1P24uX2NhdGNoZWQ6KHU9ITAscih0KSl9KX1jYXRjaChmKXtyZXR1cm4gdT92b2lkIDA6cihmKX19dmFyIGM9W10uc2xpY2Usbz10eXBlb2Ygc2V0SW1tZWRpYXRlPT1cInVuZGVmaW5lZFwiP2Z1bmN0aW9uKHQpe3ZhciBpPWFyZ3VtZW50cztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5hcHBseShuLGMuY2FsbChpLDEpKX0sMCl9OnNldEltbWVkaWF0ZTtpdChmdW5jdGlvbigpe289aT1sPWZ1bmN0aW9uKHQpe3ZhciBpPWFyZ3VtZW50cztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5hcHBseShuLGMuY2FsbChpLDEpKX0sMCl9fSk7dmFyIGk9byxyPSEwLHU9W10sZT1bXTtyZXR1cm4gdC5vbj12KG51bGwsXCJlcnJvclwiKSx0LmFsbD1mdW5jdGlvbigpe3ZhciBuPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cy5sZW5ndGg9PT0xJiZBcnJheS5pc0FycmF5KGFyZ3VtZW50c1swXSk/YXJndW1lbnRzWzBdOmFyZ3VtZW50cyk7cmV0dXJuIG5ldyB0KGZ1bmN0aW9uKHQsaSl7ZnVuY3Rpb24gZihyLGUpe3RyeXtpZihlJiYodHlwZW9mIGU9PVwib2JqZWN0XCJ8fHR5cGVvZiBlPT1cImZ1bmN0aW9uXCIpKXt2YXIgbz1lLnRoZW47aWYodHlwZW9mIG89PVwiZnVuY3Rpb25cIil7by5jYWxsKGUsZnVuY3Rpb24obil7ZihyLG4pfSxpKTtyZXR1cm59fW5bcl09ZTstLXU9PTAmJnQobil9Y2F0Y2gocyl7aShzKX19dmFyIHUscjtpZihuLmxlbmd0aD09PTApcmV0dXJuIHQoW10pO2Zvcih1PW4ubGVuZ3RoLHI9MDtyPG4ubGVuZ3RoO3IrKylmKHIsbltyXSl9KX0sdC5wcm90b3R5cGUudGhlbj1mdW5jdGlvbihuLHIpe3ZhciBmPXRoaXMsdT1uZXcgdChmdW5jdGlvbih0LHUpe2YuX3N0YXRlPT09bnVsbD9zKGYsbmV3IHkobixyLHQsdSkpOmkocyxmLG5ldyB5KG4scix0LHUpKX0pO3JldHVybiB1Ll9QU0Q9dGhpcy5fUFNELHUub251bmNhdGNoZWQ9dGhpcy5vbnVuY2F0Y2hlZCx1Ll9wYXJlbnQ9dGhpcyx1fSx0LnByb3RvdHlwZS5fdGhlbj1mdW5jdGlvbihuLHQpe3ModGhpcyxuZXcgeShuLHQsZixmKSl9LHQucHJvdG90eXBlW1wiY2F0Y2hcIl09ZnVuY3Rpb24obil7aWYoYXJndW1lbnRzLmxlbmd0aD09PTEpcmV0dXJuIHRoaXMudGhlbihudWxsLG4pO3ZhciBpPWFyZ3VtZW50c1swXSxyPWFyZ3VtZW50c1sxXTtyZXR1cm4gdHlwZW9mIGk9PVwiZnVuY3Rpb25cIj90aGlzLnRoZW4obnVsbCxmdW5jdGlvbihuKXtyZXR1cm4gbiBpbnN0YW5jZW9mIGk/cihuKTp0LnJlamVjdChuKX0pOnRoaXMudGhlbihudWxsLGZ1bmN0aW9uKG4pe3JldHVybiBuJiZuLm5hbWU9PT1pP3Iobik6dC5yZWplY3Qobil9KX0sdC5wcm90b3R5cGVbXCJmaW5hbGx5XCJdPWZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIG4oKSx0fSxmdW5jdGlvbihpKXtyZXR1cm4gbigpLHQucmVqZWN0KGkpfSl9LHQucHJvdG90eXBlLm9udW5jYXRjaGVkPW51bGwsdC5yZXNvbHZlPWZ1bmN0aW9uKG4pe3ZhciBpPW5ldyB0KGZ1bmN0aW9uKCl7fSk7cmV0dXJuIGkuX3N0YXRlPSEwLGkuX3ZhbHVlPW4saX0sdC5yZWplY3Q9ZnVuY3Rpb24obil7dmFyIGk9bmV3IHQoZnVuY3Rpb24oKXt9KTtyZXR1cm4gaS5fc3RhdGU9ITEsaS5fdmFsdWU9bixpfSx0LnJhY2U9ZnVuY3Rpb24obil7cmV0dXJuIG5ldyB0KGZ1bmN0aW9uKHQsaSl7bi5tYXAoZnVuY3Rpb24obil7bi50aGVuKHQsaSl9KX0pfSx0LlBTRD1udWxsLHQubmV3UFNEPWZ1bmN0aW9uKG4pe3ZhciBpPXQuUFNEO3QuUFNEPWk/T2JqZWN0LmNyZWF0ZShpKTp7fTt0cnl7cmV0dXJuIG4oKX1maW5hbGx5e3QuUFNEPWl9fSx0Ll9yb290RXhlYz1kLHQuX3RpY2tGaW5hbGl6ZT1mdW5jdGlvbihuKXtpZihyKXRocm93IG5ldyBFcnJvcihcIk5vdCBpbiBhIHZpcnR1YWwgdGlja1wiKTtlLnB1c2gobil9LHR9KCksaz1mdW5jdGlvbigpe30sZT0hMSxudDtwKGcpLmZyb20oRXJyb3IpO3UuZGVsZXRlPWZ1bmN0aW9uKG4pe3ZhciB0PW5ldyB1KG4pLGk9dC5kZWxldGUoKTtyZXR1cm4gaS5vbmJsb2NrZWQ9ZnVuY3Rpb24obil7dC5vbihcImJsb2NrZWRcIixuKTtyZXR1cm4gdGhpc30saX07dS5leGlzdHM9ZnVuY3Rpb24obil7cmV0dXJuIG5ldyB1KG4pLm9wZW4oKS50aGVuKGZ1bmN0aW9uKG4pe3JldHVybiBuLmNsb3NlKCksITB9LGZ1bmN0aW9uKCl7cmV0dXJuITF9KX07dS5nZXREYXRhYmFzZU5hbWVzPWZ1bmN0aW9uKG4pe3JldHVybiBuZXcgcihmdW5jdGlvbihuLHQpe3ZhciByPWN0KCksaTtyPyhpPXIoKSxpLm9uc3VjY2Vzcz1mdW5jdGlvbih0KXtuKFtdLnNsaWNlLmNhbGwodC50YXJnZXQucmVzdWx0LDApKX0saS5vbmVycm9yPW8odCkpOmZ0KGZ1bmN0aW9uKHQpe3JldHVybiBuKHQpLCExfSl9KS50aGVuKG4pfTt1LmRlZmluZUNsYXNzPWZ1bmN0aW9uKG4pe2Z1bmN0aW9uIHQodCl7dD9zKHRoaXMsdCk6ZSYmdXQodGhpcyxuKX1yZXR1cm4gdH07dS5pZ25vcmVUcmFuc2FjdGlvbj1mdW5jdGlvbihuKXtyZXR1cm4gci5uZXdQU0QoZnVuY3Rpb24oKXtyZXR1cm4gci5QU0QudHJhbnM9bnVsbCxuKCl9KX07dS5zcGF3bj1mdW5jdGlvbigpe3JldHVybiBuLmNvbnNvbGUmJmNvbnNvbGUud2FybihcIkRleGllLnNwYXduKCkgaXMgZGVwcmVjYXRlZC4gVXNlIERleGllLmlnbm9yZVRyYW5zYWN0aW9uKCkgaW5zdGVhZC5cIiksdS5pZ25vcmVUcmFuc2FjdGlvbi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3UudmlwPWZ1bmN0aW9uKG4pe3JldHVybiByLm5ld1BTRChmdW5jdGlvbigpe3JldHVybiByLlBTRC5sZXRUaHJvdWdoPSEwLG4oKX0pfTtPYmplY3QuZGVmaW5lUHJvcGVydHkodSxcImN1cnJlbnRUcmFuc2FjdGlvblwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gci5QU0QmJnIuUFNELnRyYW5zfHxudWxsfX0pO3UuUHJvbWlzZT1yO3UuZGVyaXZlPXA7dS5leHRlbmQ9czt1Lm92ZXJyaWRlPXc7dS5ldmVudHM9djt1LmdldEJ5S2V5UGF0aD1jO3Uuc2V0QnlLZXlQYXRoPWg7dS5kZWxCeUtleVBhdGg9ZHQ7dS5zaGFsbG93Q2xvbmU9cnQ7dS5kZWVwQ2xvbmU9bDt1LmFkZG9ucz1bXTt1LmZha2VBdXRvQ29tcGxldGU9azt1LmFzYXA9eTt1Lk1vZGlmeUVycm9yPWc7dS5NdWx0aU1vZGlmeUVycm9yPWc7dS5JbmRleFNwZWM9YTt1LlRhYmxlU2NoZW1hPWV0O250PW4uaWRiTW9kdWxlcyYmbi5pZGJNb2R1bGVzLnNoaW1JbmRleGVkREI/bi5pZGJNb2R1bGVzOnt9O3UuZGVwZW5kZW5jaWVzPXtpbmRleGVkREI6bnQuc2hpbUluZGV4ZWREQnx8bi5pbmRleGVkREJ8fG4ubW96SW5kZXhlZERCfHxuLndlYmtpdEluZGV4ZWREQnx8bi5tc0luZGV4ZWREQixJREJLZXlSYW5nZTpudC5JREJLZXlSYW5nZXx8bi5JREJLZXlSYW5nZXx8bi53ZWJraXRJREJLZXlSYW5nZSxJREJUcmFuc2FjdGlvbjpudC5JREJUcmFuc2FjdGlvbnx8bi5JREJUcmFuc2FjdGlvbnx8bi53ZWJraXRJREJUcmFuc2FjdGlvbixFcnJvcjpuLkVycm9yfHxTdHJpbmcsU3ludGF4RXJyb3I6bi5TeW50YXhFcnJvcnx8U3RyaW5nLFR5cGVFcnJvcjpuLlR5cGVFcnJvcnx8U3RyaW5nLERPTUVycm9yOm4uRE9NRXJyb3J8fFN0cmluZyxsb2NhbFN0b3JhZ2U6KHR5cGVvZiBjaHJvbWUhPVwidW5kZWZpbmVkXCImJmNocm9tZSE9PW51bGw/Y2hyb21lLnN0b3JhZ2U6dm9pZCAwKSE9bnVsbD9udWxsOm4ubG9jYWxTdG9yYWdlfTt1LnZlcnNpb249MS4yO3QoXCJEZXhpZVwiLHUpO2l0KGZ1bmN0aW9uKCl7dS5mYWtlQXV0b0NvbXBsZXRlPWs9aXQ7dS5mYWtlPWU9ITB9KX0pLmFwcGx5KG51bGwsdHlwZW9mIGRlZmluZT09XCJmdW5jdGlvblwiJiZkZWZpbmUuYW1kP1tzZWxmfHx3aW5kb3csZnVuY3Rpb24obix0KXtkZWZpbmUoZnVuY3Rpb24oKXtyZXR1cm4gdH0pfV06dHlwZW9mIGdsb2JhbCE9XCJ1bmRlZmluZWRcIiYmdHlwZW9mIG1vZHVsZSE9XCJ1bmRlZmluZWRcIiYmbW9kdWxlLmV4cG9ydHM/W2dsb2JhbCxmdW5jdGlvbihuLHQpe21vZHVsZS5leHBvcnRzPXR9XTpbc2VsZnx8d2luZG93LGZ1bmN0aW9uKG4sdCl7KHNlbGZ8fHdpbmRvdylbbl09dH1dKTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RGV4aWUubWluLmpzLm1hcFxyXG4iLCIvKipcclxuICogbWF0ZXJpYWwtZGVzaWduLWxpdGUgLSBNYXRlcmlhbCBEZXNpZ24gQ29tcG9uZW50cyBpbiBDU1MsIEpTIGFuZCBIVE1MXHJcbiAqIEB2ZXJzaW9uIHYxLjEuMFxyXG4gKiBAbGljZW5zZSBBcGFjaGUtMi4wXHJcbiAqIEBjb3B5cmlnaHQgMjAxNSBHb29nbGUsIEluYy5cclxuICogQGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9tYXRlcmlhbC1kZXNpZ24tbGl0ZVxyXG4gKi9cclxuIWZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gZShlLHQpe2lmKGUpe2lmKHQuZWxlbWVudF8uY2xhc3NMaXN0LmNvbnRhaW5zKHQuQ3NzQ2xhc3Nlc18uTURMX0pTX1JJUFBMRV9FRkZFQ1QpKXt2YXIgcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtzLmNsYXNzTGlzdC5hZGQodC5Dc3NDbGFzc2VzXy5NRExfUklQUExFX0NPTlRBSU5FUikscy5jbGFzc0xpc3QuYWRkKHQuQ3NzQ2xhc3Nlc18uTURMX0pTX1JJUFBMRV9FRkZFQ1QpO3ZhciBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO2kuY2xhc3NMaXN0LmFkZCh0LkNzc0NsYXNzZXNfLk1ETF9SSVBQTEUpLHMuYXBwZW5kQ2hpbGQoaSksZS5hcHBlbmRDaGlsZChzKX1lLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKHMpe3MucHJldmVudERlZmF1bHQoKTt2YXIgaT1lLmhyZWYuc3BsaXQoXCIjXCIpWzFdLG49dC5lbGVtZW50Xy5xdWVyeVNlbGVjdG9yKFwiI1wiK2kpO3QucmVzZXRUYWJTdGF0ZV8oKSx0LnJlc2V0UGFuZWxTdGF0ZV8oKSxlLmNsYXNzTGlzdC5hZGQodC5Dc3NDbGFzc2VzXy5BQ1RJVkVfQ0xBU1MpLG4uY2xhc3NMaXN0LmFkZCh0LkNzc0NsYXNzZXNfLkFDVElWRV9DTEFTUyl9KX19ZnVuY3Rpb24gdChlLHQscyxpKXtmdW5jdGlvbiBuKCl7dmFyIG49ZS5ocmVmLnNwbGl0KFwiI1wiKVsxXSxhPWkuY29udGVudF8ucXVlcnlTZWxlY3RvcihcIiNcIituKTtpLnJlc2V0VGFiU3RhdGVfKHQpLGkucmVzZXRQYW5lbFN0YXRlXyhzKSxlLmNsYXNzTGlzdC5hZGQoaS5Dc3NDbGFzc2VzXy5JU19BQ1RJVkUpLGEuY2xhc3NMaXN0LmFkZChpLkNzc0NsYXNzZXNfLklTX0FDVElWRSl9aWYoaS50YWJCYXJfLmNsYXNzTGlzdC5jb250YWlucyhpLkNzc0NsYXNzZXNfLkpTX1JJUFBMRV9FRkZFQ1QpKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTthLmNsYXNzTGlzdC5hZGQoaS5Dc3NDbGFzc2VzXy5SSVBQTEVfQ09OVEFJTkVSKSxhLmNsYXNzTGlzdC5hZGQoaS5Dc3NDbGFzc2VzXy5KU19SSVBQTEVfRUZGRUNUKTt2YXIgbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtsLmNsYXNzTGlzdC5hZGQoaS5Dc3NDbGFzc2VzXy5SSVBQTEUpLGEuYXBwZW5kQ2hpbGQobCksZS5hcHBlbmRDaGlsZChhKX1lLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKHQpe1wiI1wiPT09ZS5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpLmNoYXJBdCgwKSYmKHQucHJldmVudERlZmF1bHQoKSxuKCkpfSksZS5zaG93PW4sZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbihuKXtuLnByZXZlbnREZWZhdWx0KCk7dmFyIGE9ZS5ocmVmLnNwbGl0KFwiI1wiKVsxXSxsPWkuY29udGVudF8ucXVlcnlTZWxlY3RvcihcIiNcIithKTtpLnJlc2V0VGFiU3RhdGVfKHQpLGkucmVzZXRQYW5lbFN0YXRlXyhzKSxlLmNsYXNzTGlzdC5hZGQoaS5Dc3NDbGFzc2VzXy5JU19BQ1RJVkUpLGwuY2xhc3NMaXN0LmFkZChpLkNzc0NsYXNzZXNfLklTX0FDVElWRSl9KX12YXIgcz17dXBncmFkZURvbTpmdW5jdGlvbihlLHQpe30sdXBncmFkZUVsZW1lbnQ6ZnVuY3Rpb24oZSx0KXt9LHVwZ3JhZGVFbGVtZW50czpmdW5jdGlvbihlKXt9LHVwZ3JhZGVBbGxSZWdpc3RlcmVkOmZ1bmN0aW9uKCl7fSxyZWdpc3RlclVwZ3JhZGVkQ2FsbGJhY2s6ZnVuY3Rpb24oZSx0KXt9LHJlZ2lzdGVyOmZ1bmN0aW9uKGUpe30sZG93bmdyYWRlRWxlbWVudHM6ZnVuY3Rpb24oZSl7fX07cz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIHM9MDtzPGgubGVuZ3RoO3MrKylpZihoW3NdLmNsYXNzTmFtZT09PWUpcmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQmJihoW3NdPXQpLGhbc107cmV0dXJuITF9ZnVuY3Rpb24gdChlKXt2YXIgdD1lLmdldEF0dHJpYnV0ZShcImRhdGEtdXBncmFkZWRcIik7cmV0dXJuIG51bGw9PT10P1tcIlwiXTp0LnNwbGl0KFwiLFwiKX1mdW5jdGlvbiBzKGUscyl7dmFyIGk9dChlKTtyZXR1cm4tMSE9PWkuaW5kZXhPZihzKX1mdW5jdGlvbiBpKHQscyl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHQmJlwidW5kZWZpbmVkXCI9PXR5cGVvZiBzKWZvcih2YXIgYT0wO2E8aC5sZW5ndGg7YSsrKWkoaFthXS5jbGFzc05hbWUsaFthXS5jc3NDbGFzcyk7ZWxzZXt2YXIgbD10O2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBzKXt2YXIgbz1lKGwpO28mJihzPW8uY3NzQ2xhc3MpfWZvcih2YXIgcj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLlwiK3MpLF89MDtfPHIubGVuZ3RoO18rKyluKHJbX10sbCl9fWZ1bmN0aW9uIG4oaSxuKXtpZighKFwib2JqZWN0XCI9PXR5cGVvZiBpJiZpIGluc3RhbmNlb2YgRWxlbWVudCkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudCBwcm92aWRlZCB0byB1cGdyYWRlIE1ETCBlbGVtZW50LlwiKTt2YXIgYT10KGkpLGw9W107aWYobilzKGksbil8fGwucHVzaChlKG4pKTtlbHNle3ZhciBvPWkuY2xhc3NMaXN0O2guZm9yRWFjaChmdW5jdGlvbihlKXtvLmNvbnRhaW5zKGUuY3NzQ2xhc3MpJiYtMT09PWwuaW5kZXhPZihlKSYmIXMoaSxlLmNsYXNzTmFtZSkmJmwucHVzaChlKX0pfWZvcih2YXIgcixfPTAsZD1sLmxlbmd0aDtkPl87XysrKXtpZihyPWxbX10sIXIpdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGZpbmQgYSByZWdpc3RlcmVkIGNvbXBvbmVudCBmb3IgdGhlIGdpdmVuIGNsYXNzLlwiKTthLnB1c2goci5jbGFzc05hbWUpLGkuc2V0QXR0cmlidXRlKFwiZGF0YS11cGdyYWRlZFwiLGEuam9pbihcIixcIikpO3ZhciBDPW5ldyByLmNsYXNzQ29uc3RydWN0b3IoaSk7Q1twXT1yLGMucHVzaChDKTtmb3IodmFyIHU9MCxFPXIuY2FsbGJhY2tzLmxlbmd0aDtFPnU7dSsrKXIuY2FsbGJhY2tzW3VdKGkpO3Iud2lkZ2V0JiYoaVtyLmNsYXNzTmFtZV09Qyk7dmFyIG09ZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJFdmVudHNcIik7bS5pbml0RXZlbnQoXCJtZGwtY29tcG9uZW50dXBncmFkZWRcIiwhMCwhMCksaS5kaXNwYXRjaEV2ZW50KG0pfX1mdW5jdGlvbiBhKGUpe0FycmF5LmlzQXJyYXkoZSl8fChlPVwiZnVuY3Rpb25cIj09dHlwZW9mIGUuaXRlbT9BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlKTpbZV0pO2Zvcih2YXIgdCxzPTAsaT1lLmxlbmd0aDtpPnM7cysrKXQ9ZVtzXSx0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQmJihuKHQpLHQuY2hpbGRyZW4ubGVuZ3RoPjAmJmEodC5jaGlsZHJlbikpfWZ1bmN0aW9uIGwodCl7dmFyIHM9XCJ1bmRlZmluZWRcIj09dHlwZW9mIHQud2lkZ2V0JiZcInVuZGVmaW5lZFwiPT10eXBlb2YgdC53aWRnZXQsaT0hMDtzfHwoaT10LndpZGdldHx8dC53aWRnZXQpO3ZhciBuPXtjbGFzc0NvbnN0cnVjdG9yOnQuY29uc3RydWN0b3J8fHQuY29uc3RydWN0b3IsY2xhc3NOYW1lOnQuY2xhc3NBc1N0cmluZ3x8dC5jbGFzc0FzU3RyaW5nLGNzc0NsYXNzOnQuY3NzQ2xhc3N8fHQuY3NzQ2xhc3Msd2lkZ2V0OmksY2FsbGJhY2tzOltdfTtpZihoLmZvckVhY2goZnVuY3Rpb24oZSl7aWYoZS5jc3NDbGFzcz09PW4uY3NzQ2xhc3MpdGhyb3cgbmV3IEVycm9yKFwiVGhlIHByb3ZpZGVkIGNzc0NsYXNzIGhhcyBhbHJlYWR5IGJlZW4gcmVnaXN0ZXJlZDogXCIrZS5jc3NDbGFzcyk7aWYoZS5jbGFzc05hbWU9PT1uLmNsYXNzTmFtZSl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgcHJvdmlkZWQgY2xhc3NOYW1lIGhhcyBhbHJlYWR5IGJlZW4gcmVnaXN0ZXJlZFwiKX0pLHQuY29uc3RydWN0b3IucHJvdG90eXBlLmhhc093blByb3BlcnR5KHApKXRocm93IG5ldyBFcnJvcihcIk1ETCBjb21wb25lbnQgY2xhc3NlcyBtdXN0IG5vdCBoYXZlIFwiK3ArXCIgZGVmaW5lZCBhcyBhIHByb3BlcnR5LlwiKTt2YXIgYT1lKHQuY2xhc3NBc1N0cmluZyxuKTthfHxoLnB1c2gobil9ZnVuY3Rpb24gbyh0LHMpe3ZhciBpPWUodCk7aSYmaS5jYWxsYmFja3MucHVzaChzKX1mdW5jdGlvbiByKCl7Zm9yKHZhciBlPTA7ZTxoLmxlbmd0aDtlKyspaShoW2VdLmNsYXNzTmFtZSl9ZnVuY3Rpb24gXyhlKXt2YXIgdD1jLmluZGV4T2YoZSk7Yy5zcGxpY2UodCwxKTt2YXIgcz1lLmVsZW1lbnRfLmdldEF0dHJpYnV0ZShcImRhdGEtdXBncmFkZWRcIikuc3BsaXQoXCIsXCIpLGk9cy5pbmRleE9mKGVbcF0uY2xhc3NBc1N0cmluZyk7cy5zcGxpY2UoaSwxKSxlLmVsZW1lbnRfLnNldEF0dHJpYnV0ZShcImRhdGEtdXBncmFkZWRcIixzLmpvaW4oXCIsXCIpKTt2YXIgbj1kb2N1bWVudC5jcmVhdGVFdmVudChcIkV2ZW50c1wiKTtuLmluaXRFdmVudChcIm1kbC1jb21wb25lbnRkb3duZ3JhZGVkXCIsITAsITApLGUuZWxlbWVudF8uZGlzcGF0Y2hFdmVudChuKX1mdW5jdGlvbiBkKGUpe3ZhciB0PWZ1bmN0aW9uKGUpe2MuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiB0LmVsZW1lbnRfPT09ZX0pLmZvckVhY2goXyl9O2lmKGUgaW5zdGFuY2VvZiBBcnJheXx8ZSBpbnN0YW5jZW9mIE5vZGVMaXN0KWZvcih2YXIgcz0wO3M8ZS5sZW5ndGg7cysrKXQoZVtzXSk7ZWxzZXtpZighKGUgaW5zdGFuY2VvZiBOb2RlKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50IHByb3ZpZGVkIHRvIGRvd25ncmFkZSBNREwgbm9kZXMuXCIpO3QoZSl9fXZhciBoPVtdLGM9W10scD1cIm1kbENvbXBvbmVudENvbmZpZ0ludGVybmFsX1wiO3JldHVybnt1cGdyYWRlRG9tOmksdXBncmFkZUVsZW1lbnQ6bix1cGdyYWRlRWxlbWVudHM6YSx1cGdyYWRlQWxsUmVnaXN0ZXJlZDpyLHJlZ2lzdGVyVXBncmFkZWRDYWxsYmFjazpvLHJlZ2lzdGVyOmwsZG93bmdyYWRlRWxlbWVudHM6ZH19KCkscy5Db21wb25lbnRDb25maWdQdWJsaWMscy5Db21wb25lbnRDb25maWcscy5Db21wb25lbnQscy51cGdyYWRlRG9tPXMudXBncmFkZURvbSxzLnVwZ3JhZGVFbGVtZW50PXMudXBncmFkZUVsZW1lbnQscy51cGdyYWRlRWxlbWVudHM9cy51cGdyYWRlRWxlbWVudHMscy51cGdyYWRlQWxsUmVnaXN0ZXJlZD1zLnVwZ3JhZGVBbGxSZWdpc3RlcmVkLHMucmVnaXN0ZXJVcGdyYWRlZENhbGxiYWNrPXMucmVnaXN0ZXJVcGdyYWRlZENhbGxiYWNrLHMucmVnaXN0ZXI9cy5yZWdpc3RlcixzLmRvd25ncmFkZUVsZW1lbnRzPXMuZG93bmdyYWRlRWxlbWVudHMsd2luZG93LmNvbXBvbmVudEhhbmRsZXI9cyx3aW5kb3cuY29tcG9uZW50SGFuZGxlcj1zLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLGZ1bmN0aW9uKCl7XCJjbGFzc0xpc3RcImluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikmJlwicXVlcnlTZWxlY3RvclwiaW4gZG9jdW1lbnQmJlwiYWRkRXZlbnRMaXN0ZW5lclwiaW4gd2luZG93JiZBcnJheS5wcm90b3R5cGUuZm9yRWFjaD8oZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJtZGwtanNcIikscy51cGdyYWRlQWxsUmVnaXN0ZXJlZCgpKToocy51cGdyYWRlRWxlbWVudD1mdW5jdGlvbigpe30scy5yZWdpc3Rlcj1mdW5jdGlvbigpe30pfSksRGF0ZS5ub3d8fChEYXRlLm5vdz1mdW5jdGlvbigpe3JldHVybihuZXcgRGF0ZSkuZ2V0VGltZSgpfSxEYXRlLm5vdz1EYXRlLm5vdyk7Zm9yKHZhciBpPVtcIndlYmtpdFwiLFwibW96XCJdLG49MDtuPGkubGVuZ3RoJiYhd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZTsrK24pe3ZhciBhPWlbbl07d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZT13aW5kb3dbYStcIlJlcXVlc3RBbmltYXRpb25GcmFtZVwiXSx3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWU9d2luZG93W2ErXCJDYW5jZWxBbmltYXRpb25GcmFtZVwiXXx8d2luZG93W2ErXCJDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcIl0sd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZT13aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lLHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZT13aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWV9aWYoL2lQKGFkfGhvbmV8b2QpLipPUyA2Ly50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KXx8IXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fCF3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUpe3ZhciBsPTA7d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZT1mdW5jdGlvbihlKXt2YXIgdD1EYXRlLm5vdygpLHM9TWF0aC5tYXgobCsxNix0KTtyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe2UobD1zKX0scy10KX0sd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lPWNsZWFyVGltZW91dCx3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lPXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUsd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lPXdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZX12YXIgbz1mdW5jdGlvbihlKXt0aGlzLmVsZW1lbnRfPWUsdGhpcy5pbml0KCl9O3dpbmRvdy5NYXRlcmlhbEJ1dHRvbj1vLG8ucHJvdG90eXBlLkNvbnN0YW50Xz17fSxvLnByb3RvdHlwZS5Dc3NDbGFzc2VzXz17UklQUExFX0VGRkVDVDpcIm1kbC1qcy1yaXBwbGUtZWZmZWN0XCIsUklQUExFX0NPTlRBSU5FUjpcIm1kbC1idXR0b25fX3JpcHBsZS1jb250YWluZXJcIixSSVBQTEU6XCJtZGwtcmlwcGxlXCJ9LG8ucHJvdG90eXBlLmJsdXJIYW5kbGVyXz1mdW5jdGlvbihlKXtlJiZ0aGlzLmVsZW1lbnRfLmJsdXIoKX0sby5wcm90b3R5cGUuZGlzYWJsZT1mdW5jdGlvbigpe3RoaXMuZWxlbWVudF8uZGlzYWJsZWQ9ITB9LG8ucHJvdG90eXBlLmRpc2FibGU9by5wcm90b3R5cGUuZGlzYWJsZSxvLnByb3RvdHlwZS5lbmFibGU9ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnRfLmRpc2FibGVkPSExfSxvLnByb3RvdHlwZS5lbmFibGU9by5wcm90b3R5cGUuZW5hYmxlLG8ucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXtpZih0aGlzLmVsZW1lbnRfKXtpZih0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLkNzc0NsYXNzZXNfLlJJUFBMRV9FRkZFQ1QpKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtlLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5SSVBQTEVfQ09OVEFJTkVSKSx0aGlzLnJpcHBsZUVsZW1lbnRfPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpLHRoaXMucmlwcGxlRWxlbWVudF8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLlJJUFBMRSksZS5hcHBlbmRDaGlsZCh0aGlzLnJpcHBsZUVsZW1lbnRfKSx0aGlzLmJvdW5kUmlwcGxlQmx1ckhhbmRsZXI9dGhpcy5ibHVySGFuZGxlcl8uYmluZCh0aGlzKSx0aGlzLnJpcHBsZUVsZW1lbnRfLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsdGhpcy5ib3VuZFJpcHBsZUJsdXJIYW5kbGVyKSx0aGlzLmVsZW1lbnRfLmFwcGVuZENoaWxkKGUpfXRoaXMuYm91bmRCdXR0b25CbHVySGFuZGxlcj10aGlzLmJsdXJIYW5kbGVyXy5iaW5kKHRoaXMpLHRoaXMuZWxlbWVudF8uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIix0aGlzLmJvdW5kQnV0dG9uQmx1ckhhbmRsZXIpLHRoaXMuZWxlbWVudF8uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIix0aGlzLmJvdW5kQnV0dG9uQmx1ckhhbmRsZXIpfX0scy5yZWdpc3Rlcih7Y29uc3RydWN0b3I6byxjbGFzc0FzU3RyaW5nOlwiTWF0ZXJpYWxCdXR0b25cIixjc3NDbGFzczpcIm1kbC1qcy1idXR0b25cIix3aWRnZXQ6ITB9KTt2YXIgcj1mdW5jdGlvbihlKXt0aGlzLmVsZW1lbnRfPWUsdGhpcy5pbml0KCl9O3dpbmRvdy5NYXRlcmlhbENoZWNrYm94PXIsci5wcm90b3R5cGUuQ29uc3RhbnRfPXtUSU5ZX1RJTUVPVVQ6LjAwMX0sci5wcm90b3R5cGUuQ3NzQ2xhc3Nlc189e0lOUFVUOlwibWRsLWNoZWNrYm94X19pbnB1dFwiLEJPWF9PVVRMSU5FOlwibWRsLWNoZWNrYm94X19ib3gtb3V0bGluZVwiLEZPQ1VTX0hFTFBFUjpcIm1kbC1jaGVja2JveF9fZm9jdXMtaGVscGVyXCIsVElDS19PVVRMSU5FOlwibWRsLWNoZWNrYm94X190aWNrLW91dGxpbmVcIixSSVBQTEVfRUZGRUNUOlwibWRsLWpzLXJpcHBsZS1lZmZlY3RcIixSSVBQTEVfSUdOT1JFX0VWRU5UUzpcIm1kbC1qcy1yaXBwbGUtZWZmZWN0LS1pZ25vcmUtZXZlbnRzXCIsUklQUExFX0NPTlRBSU5FUjpcIm1kbC1jaGVja2JveF9fcmlwcGxlLWNvbnRhaW5lclwiLFJJUFBMRV9DRU5URVI6XCJtZGwtcmlwcGxlLS1jZW50ZXJcIixSSVBQTEU6XCJtZGwtcmlwcGxlXCIsSVNfRk9DVVNFRDpcImlzLWZvY3VzZWRcIixJU19ESVNBQkxFRDpcImlzLWRpc2FibGVkXCIsSVNfQ0hFQ0tFRDpcImlzLWNoZWNrZWRcIixJU19VUEdSQURFRDpcImlzLXVwZ3JhZGVkXCJ9LHIucHJvdG90eXBlLm9uQ2hhbmdlXz1mdW5jdGlvbihlKXt0aGlzLnVwZGF0ZUNsYXNzZXNfKCl9LHIucHJvdG90eXBlLm9uRm9jdXNfPWZ1bmN0aW9uKGUpe3RoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLklTX0ZPQ1VTRUQpfSxyLnByb3RvdHlwZS5vbkJsdXJfPWZ1bmN0aW9uKGUpe3RoaXMuZWxlbWVudF8uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNzc0NsYXNzZXNfLklTX0ZPQ1VTRUQpfSxyLnByb3RvdHlwZS5vbk1vdXNlVXBfPWZ1bmN0aW9uKGUpe3RoaXMuYmx1cl8oKX0sci5wcm90b3R5cGUudXBkYXRlQ2xhc3Nlc189ZnVuY3Rpb24oKXt0aGlzLmNoZWNrRGlzYWJsZWQoKSx0aGlzLmNoZWNrVG9nZ2xlU3RhdGUoKX0sci5wcm90b3R5cGUuYmx1cl89ZnVuY3Rpb24oKXt3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe3RoaXMuaW5wdXRFbGVtZW50Xy5ibHVyKCl9LmJpbmQodGhpcyksdGhpcy5Db25zdGFudF8uVElOWV9USU1FT1VUKX0sci5wcm90b3R5cGUuY2hlY2tUb2dnbGVTdGF0ZT1mdW5jdGlvbigpe3RoaXMuaW5wdXRFbGVtZW50Xy5jaGVja2VkP3RoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLklTX0NIRUNLRUQpOnRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNzc0NsYXNzZXNfLklTX0NIRUNLRUQpfSxyLnByb3RvdHlwZS5jaGVja1RvZ2dsZVN0YXRlPXIucHJvdG90eXBlLmNoZWNrVG9nZ2xlU3RhdGUsci5wcm90b3R5cGUuY2hlY2tEaXNhYmxlZD1mdW5jdGlvbigpe3RoaXMuaW5wdXRFbGVtZW50Xy5kaXNhYmxlZD90aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5JU19ESVNBQkxFRCk6dGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfRElTQUJMRUQpfSxyLnByb3RvdHlwZS5jaGVja0Rpc2FibGVkPXIucHJvdG90eXBlLmNoZWNrRGlzYWJsZWQsci5wcm90b3R5cGUuZGlzYWJsZT1mdW5jdGlvbigpe3RoaXMuaW5wdXRFbGVtZW50Xy5kaXNhYmxlZD0hMCx0aGlzLnVwZGF0ZUNsYXNzZXNfKCl9LHIucHJvdG90eXBlLmRpc2FibGU9ci5wcm90b3R5cGUuZGlzYWJsZSxyLnByb3RvdHlwZS5lbmFibGU9ZnVuY3Rpb24oKXt0aGlzLmlucHV0RWxlbWVudF8uZGlzYWJsZWQ9ITEsdGhpcy51cGRhdGVDbGFzc2VzXygpfSxyLnByb3RvdHlwZS5lbmFibGU9ci5wcm90b3R5cGUuZW5hYmxlLHIucHJvdG90eXBlLmNoZWNrPWZ1bmN0aW9uKCl7dGhpcy5pbnB1dEVsZW1lbnRfLmNoZWNrZWQ9ITAsdGhpcy51cGRhdGVDbGFzc2VzXygpfSxyLnByb3RvdHlwZS5jaGVjaz1yLnByb3RvdHlwZS5jaGVjayxyLnByb3RvdHlwZS51bmNoZWNrPWZ1bmN0aW9uKCl7dGhpcy5pbnB1dEVsZW1lbnRfLmNoZWNrZWQ9ITEsdGhpcy51cGRhdGVDbGFzc2VzXygpfSxyLnByb3RvdHlwZS51bmNoZWNrPXIucHJvdG90eXBlLnVuY2hlY2ssci5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe2lmKHRoaXMuZWxlbWVudF8pe3RoaXMuaW5wdXRFbGVtZW50Xz10aGlzLmVsZW1lbnRfLnF1ZXJ5U2VsZWN0b3IoXCIuXCIrdGhpcy5Dc3NDbGFzc2VzXy5JTlBVVCk7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7ZS5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uQk9YX09VVExJTkUpO3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO3QuY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLkZPQ1VTX0hFTFBFUik7dmFyIHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7aWYocy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uVElDS19PVVRMSU5FKSxlLmFwcGVuZENoaWxkKHMpLHRoaXMuZWxlbWVudF8uYXBwZW5kQ2hpbGQodCksdGhpcy5lbGVtZW50Xy5hcHBlbmRDaGlsZChlKSx0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLkNzc0NsYXNzZXNfLlJJUFBMRV9FRkZFQ1QpKXt0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5SSVBQTEVfSUdOT1JFX0VWRU5UUyksdGhpcy5yaXBwbGVDb250YWluZXJFbGVtZW50Xz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKSx0aGlzLnJpcHBsZUNvbnRhaW5lckVsZW1lbnRfLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5SSVBQTEVfQ09OVEFJTkVSKSx0aGlzLnJpcHBsZUNvbnRhaW5lckVsZW1lbnRfLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5SSVBQTEVfRUZGRUNUKSx0aGlzLnJpcHBsZUNvbnRhaW5lckVsZW1lbnRfLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5SSVBQTEVfQ0VOVEVSKSx0aGlzLmJvdW5kUmlwcGxlTW91c2VVcD10aGlzLm9uTW91c2VVcF8uYmluZCh0aGlzKSx0aGlzLnJpcHBsZUNvbnRhaW5lckVsZW1lbnRfLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsdGhpcy5ib3VuZFJpcHBsZU1vdXNlVXApO3ZhciBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO2kuY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLlJJUFBMRSksdGhpcy5yaXBwbGVDb250YWluZXJFbGVtZW50Xy5hcHBlbmRDaGlsZChpKSx0aGlzLmVsZW1lbnRfLmFwcGVuZENoaWxkKHRoaXMucmlwcGxlQ29udGFpbmVyRWxlbWVudF8pfXRoaXMuYm91bmRJbnB1dE9uQ2hhbmdlPXRoaXMub25DaGFuZ2VfLmJpbmQodGhpcyksdGhpcy5ib3VuZElucHV0T25Gb2N1cz10aGlzLm9uRm9jdXNfLmJpbmQodGhpcyksdGhpcy5ib3VuZElucHV0T25CbHVyPXRoaXMub25CbHVyXy5iaW5kKHRoaXMpLHRoaXMuYm91bmRFbGVtZW50TW91c2VVcD10aGlzLm9uTW91c2VVcF8uYmluZCh0aGlzKSx0aGlzLmlucHV0RWxlbWVudF8uYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLHRoaXMuYm91bmRJbnB1dE9uQ2hhbmdlKSx0aGlzLmlucHV0RWxlbWVudF8uYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsdGhpcy5ib3VuZElucHV0T25Gb2N1cyksdGhpcy5pbnB1dEVsZW1lbnRfLmFkZEV2ZW50TGlzdGVuZXIoXCJibHVyXCIsdGhpcy5ib3VuZElucHV0T25CbHVyKSx0aGlzLmVsZW1lbnRfLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsdGhpcy5ib3VuZEVsZW1lbnRNb3VzZVVwKSx0aGlzLnVwZGF0ZUNsYXNzZXNfKCksdGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfVVBHUkFERUQpfX0scy5yZWdpc3Rlcih7Y29uc3RydWN0b3I6cixjbGFzc0FzU3RyaW5nOlwiTWF0ZXJpYWxDaGVja2JveFwiLGNzc0NsYXNzOlwibWRsLWpzLWNoZWNrYm94XCIsd2lkZ2V0OiEwfSk7dmFyIF89ZnVuY3Rpb24oZSl7dGhpcy5lbGVtZW50Xz1lLHRoaXMuaW5pdCgpfTt3aW5kb3cuTWF0ZXJpYWxJY29uVG9nZ2xlPV8sXy5wcm90b3R5cGUuQ29uc3RhbnRfPXtUSU5ZX1RJTUVPVVQ6LjAwMX0sXy5wcm90b3R5cGUuQ3NzQ2xhc3Nlc189e0lOUFVUOlwibWRsLWljb24tdG9nZ2xlX19pbnB1dFwiLEpTX1JJUFBMRV9FRkZFQ1Q6XCJtZGwtanMtcmlwcGxlLWVmZmVjdFwiLFJJUFBMRV9JR05PUkVfRVZFTlRTOlwibWRsLWpzLXJpcHBsZS1lZmZlY3QtLWlnbm9yZS1ldmVudHNcIixSSVBQTEVfQ09OVEFJTkVSOlwibWRsLWljb24tdG9nZ2xlX19yaXBwbGUtY29udGFpbmVyXCIsUklQUExFX0NFTlRFUjpcIm1kbC1yaXBwbGUtLWNlbnRlclwiLFJJUFBMRTpcIm1kbC1yaXBwbGVcIixJU19GT0NVU0VEOlwiaXMtZm9jdXNlZFwiLElTX0RJU0FCTEVEOlwiaXMtZGlzYWJsZWRcIixJU19DSEVDS0VEOlwiaXMtY2hlY2tlZFwifSxfLnByb3RvdHlwZS5vbkNoYW5nZV89ZnVuY3Rpb24oZSl7dGhpcy51cGRhdGVDbGFzc2VzXygpfSxfLnByb3RvdHlwZS5vbkZvY3VzXz1mdW5jdGlvbihlKXt0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5JU19GT0NVU0VEKX0sXy5wcm90b3R5cGUub25CbHVyXz1mdW5jdGlvbihlKXt0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5Dc3NDbGFzc2VzXy5JU19GT0NVU0VEKX0sXy5wcm90b3R5cGUub25Nb3VzZVVwXz1mdW5jdGlvbihlKXt0aGlzLmJsdXJfKCl9LF8ucHJvdG90eXBlLnVwZGF0ZUNsYXNzZXNfPWZ1bmN0aW9uKCl7dGhpcy5jaGVja0Rpc2FibGVkKCksdGhpcy5jaGVja1RvZ2dsZVN0YXRlKCl9LF8ucHJvdG90eXBlLmJsdXJfPWZ1bmN0aW9uKCl7d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGlzLmlucHV0RWxlbWVudF8uYmx1cigpfS5iaW5kKHRoaXMpLHRoaXMuQ29uc3RhbnRfLlRJTllfVElNRU9VVCl9LF8ucHJvdG90eXBlLmNoZWNrVG9nZ2xlU3RhdGU9ZnVuY3Rpb24oKXt0aGlzLmlucHV0RWxlbWVudF8uY2hlY2tlZD90aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5JU19DSEVDS0VEKTp0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5Dc3NDbGFzc2VzXy5JU19DSEVDS0VEKX0sXy5wcm90b3R5cGUuY2hlY2tUb2dnbGVTdGF0ZT1fLnByb3RvdHlwZS5jaGVja1RvZ2dsZVN0YXRlLF8ucHJvdG90eXBlLmNoZWNrRGlzYWJsZWQ9ZnVuY3Rpb24oKXt0aGlzLmlucHV0RWxlbWVudF8uZGlzYWJsZWQ/dGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfRElTQUJMRUQpOnRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNzc0NsYXNzZXNfLklTX0RJU0FCTEVEKX0sXy5wcm90b3R5cGUuY2hlY2tEaXNhYmxlZD1fLnByb3RvdHlwZS5jaGVja0Rpc2FibGVkLF8ucHJvdG90eXBlLmRpc2FibGU9ZnVuY3Rpb24oKXt0aGlzLmlucHV0RWxlbWVudF8uZGlzYWJsZWQ9ITAsdGhpcy51cGRhdGVDbGFzc2VzXygpfSxfLnByb3RvdHlwZS5kaXNhYmxlPV8ucHJvdG90eXBlLmRpc2FibGUsXy5wcm90b3R5cGUuZW5hYmxlPWZ1bmN0aW9uKCl7dGhpcy5pbnB1dEVsZW1lbnRfLmRpc2FibGVkPSExLHRoaXMudXBkYXRlQ2xhc3Nlc18oKX0sXy5wcm90b3R5cGUuZW5hYmxlPV8ucHJvdG90eXBlLmVuYWJsZSxfLnByb3RvdHlwZS5jaGVjaz1mdW5jdGlvbigpe3RoaXMuaW5wdXRFbGVtZW50Xy5jaGVja2VkPSEwLHRoaXMudXBkYXRlQ2xhc3Nlc18oKX0sXy5wcm90b3R5cGUuY2hlY2s9Xy5wcm90b3R5cGUuY2hlY2ssXy5wcm90b3R5cGUudW5jaGVjaz1mdW5jdGlvbigpe3RoaXMuaW5wdXRFbGVtZW50Xy5jaGVja2VkPSExLHRoaXMudXBkYXRlQ2xhc3Nlc18oKX0sXy5wcm90b3R5cGUudW5jaGVjaz1fLnByb3RvdHlwZS51bmNoZWNrLF8ucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXtpZih0aGlzLmVsZW1lbnRfKXtpZih0aGlzLmlucHV0RWxlbWVudF89dGhpcy5lbGVtZW50Xy5xdWVyeVNlbGVjdG9yKFwiLlwiK3RoaXMuQ3NzQ2xhc3Nlc18uSU5QVVQpLHRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuQ3NzQ2xhc3Nlc18uSlNfUklQUExFX0VGRkVDVCkpe3RoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLlJJUFBMRV9JR05PUkVfRVZFTlRTKSx0aGlzLnJpcHBsZUNvbnRhaW5lckVsZW1lbnRfPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpLHRoaXMucmlwcGxlQ29udGFpbmVyRWxlbWVudF8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLlJJUFBMRV9DT05UQUlORVIpLHRoaXMucmlwcGxlQ29udGFpbmVyRWxlbWVudF8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLkpTX1JJUFBMRV9FRkZFQ1QpLHRoaXMucmlwcGxlQ29udGFpbmVyRWxlbWVudF8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLlJJUFBMRV9DRU5URVIpLHRoaXMuYm91bmRSaXBwbGVNb3VzZVVwPXRoaXMub25Nb3VzZVVwXy5iaW5kKHRoaXMpLHRoaXMucmlwcGxlQ29udGFpbmVyRWxlbWVudF8uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIix0aGlzLmJvdW5kUmlwcGxlTW91c2VVcCk7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7ZS5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uUklQUExFKSx0aGlzLnJpcHBsZUNvbnRhaW5lckVsZW1lbnRfLmFwcGVuZENoaWxkKGUpLHRoaXMuZWxlbWVudF8uYXBwZW5kQ2hpbGQodGhpcy5yaXBwbGVDb250YWluZXJFbGVtZW50Xyl9dGhpcy5ib3VuZElucHV0T25DaGFuZ2U9dGhpcy5vbkNoYW5nZV8uYmluZCh0aGlzKSx0aGlzLmJvdW5kSW5wdXRPbkZvY3VzPXRoaXMub25Gb2N1c18uYmluZCh0aGlzKSx0aGlzLmJvdW5kSW5wdXRPbkJsdXI9dGhpcy5vbkJsdXJfLmJpbmQodGhpcyksdGhpcy5ib3VuZEVsZW1lbnRPbk1vdXNlVXA9dGhpcy5vbk1vdXNlVXBfLmJpbmQodGhpcyksdGhpcy5pbnB1dEVsZW1lbnRfLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIix0aGlzLmJvdW5kSW5wdXRPbkNoYW5nZSksdGhpcy5pbnB1dEVsZW1lbnRfLmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLHRoaXMuYm91bmRJbnB1dE9uRm9jdXMpLHRoaXMuaW5wdXRFbGVtZW50Xy5hZGRFdmVudExpc3RlbmVyKFwiYmx1clwiLHRoaXMuYm91bmRJbnB1dE9uQmx1ciksdGhpcy5lbGVtZW50Xy5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLHRoaXMuYm91bmRFbGVtZW50T25Nb3VzZVVwKSx0aGlzLnVwZGF0ZUNsYXNzZXNfKCksdGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuYWRkKFwiaXMtdXBncmFkZWRcIil9fSxzLnJlZ2lzdGVyKHtjb25zdHJ1Y3RvcjpfLGNsYXNzQXNTdHJpbmc6XCJNYXRlcmlhbEljb25Ub2dnbGVcIixjc3NDbGFzczpcIm1kbC1qcy1pY29uLXRvZ2dsZVwiLHdpZGdldDohMH0pO3ZhciBkPWZ1bmN0aW9uKGUpe3RoaXMuZWxlbWVudF89ZSx0aGlzLmluaXQoKX07d2luZG93Lk1hdGVyaWFsTWVudT1kLGQucHJvdG90eXBlLkNvbnN0YW50Xz17VFJBTlNJVElPTl9EVVJBVElPTl9TRUNPTkRTOi4zLFRSQU5TSVRJT05fRFVSQVRJT05fRlJBQ1RJT046LjgsQ0xPU0VfVElNRU9VVDoxNTB9LGQucHJvdG90eXBlLktleWNvZGVzXz17RU5URVI6MTMsRVNDQVBFOjI3LFNQQUNFOjMyLFVQX0FSUk9XOjM4LERPV05fQVJST1c6NDB9LGQucHJvdG90eXBlLkNzc0NsYXNzZXNfPXtDT05UQUlORVI6XCJtZGwtbWVudV9fY29udGFpbmVyXCIsT1VUTElORTpcIm1kbC1tZW51X19vdXRsaW5lXCIsSVRFTTpcIm1kbC1tZW51X19pdGVtXCIsSVRFTV9SSVBQTEVfQ09OVEFJTkVSOlwibWRsLW1lbnVfX2l0ZW0tcmlwcGxlLWNvbnRhaW5lclwiLFJJUFBMRV9FRkZFQ1Q6XCJtZGwtanMtcmlwcGxlLWVmZmVjdFwiLFJJUFBMRV9JR05PUkVfRVZFTlRTOlwibWRsLWpzLXJpcHBsZS1lZmZlY3QtLWlnbm9yZS1ldmVudHNcIixSSVBQTEU6XCJtZGwtcmlwcGxlXCIsSVNfVVBHUkFERUQ6XCJpcy11cGdyYWRlZFwiLElTX1ZJU0lCTEU6XCJpcy12aXNpYmxlXCIsSVNfQU5JTUFUSU5HOlwiaXMtYW5pbWF0aW5nXCIsQk9UVE9NX0xFRlQ6XCJtZGwtbWVudS0tYm90dG9tLWxlZnRcIixCT1RUT01fUklHSFQ6XCJtZGwtbWVudS0tYm90dG9tLXJpZ2h0XCIsVE9QX0xFRlQ6XCJtZGwtbWVudS0tdG9wLWxlZnRcIixUT1BfUklHSFQ6XCJtZGwtbWVudS0tdG9wLXJpZ2h0XCIsVU5BTElHTkVEOlwibWRsLW1lbnUtLXVuYWxpZ25lZFwifSxkLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7aWYodGhpcy5lbGVtZW50Xyl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtlLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5DT05UQUlORVIpLHRoaXMuZWxlbWVudF8ucGFyZW50RWxlbWVudC5pbnNlcnRCZWZvcmUoZSx0aGlzLmVsZW1lbnRfKSx0aGlzLmVsZW1lbnRfLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQodGhpcy5lbGVtZW50XyksZS5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnRfKSx0aGlzLmNvbnRhaW5lcl89ZTt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3QuY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLk9VVExJTkUpLHRoaXMub3V0bGluZV89dCxlLmluc2VydEJlZm9yZSh0LHRoaXMuZWxlbWVudF8pO3ZhciBzPXRoaXMuZWxlbWVudF8uZ2V0QXR0cmlidXRlKFwiZm9yXCIpfHx0aGlzLmVsZW1lbnRfLmdldEF0dHJpYnV0ZShcImRhdGEtbWRsLWZvclwiKSxpPW51bGw7cyYmKGk9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocyksaSYmKHRoaXMuZm9yRWxlbWVudF89aSxpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMuaGFuZGxlRm9yQ2xpY2tfLmJpbmQodGhpcykpLGkuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIix0aGlzLmhhbmRsZUZvcktleWJvYXJkRXZlbnRfLmJpbmQodGhpcykpKSk7dmFyIG49dGhpcy5lbGVtZW50Xy5xdWVyeVNlbGVjdG9yQWxsKFwiLlwiK3RoaXMuQ3NzQ2xhc3Nlc18uSVRFTSk7dGhpcy5ib3VuZEl0ZW1LZXlkb3duXz10aGlzLmhhbmRsZUl0ZW1LZXlib2FyZEV2ZW50Xy5iaW5kKHRoaXMpLHRoaXMuYm91bmRJdGVtQ2xpY2tfPXRoaXMuaGFuZGxlSXRlbUNsaWNrXy5iaW5kKHRoaXMpO2Zvcih2YXIgYT0wO2E8bi5sZW5ndGg7YSsrKW5bYV0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5ib3VuZEl0ZW1DbGlja18pLG5bYV0udGFiSW5kZXg9XCItMVwiLG5bYV0uYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIix0aGlzLmJvdW5kSXRlbUtleWRvd25fKTtpZih0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLkNzc0NsYXNzZXNfLlJJUFBMRV9FRkZFQ1QpKWZvcih0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5SSVBQTEVfSUdOT1JFX0VWRU5UUyksYT0wO2E8bi5sZW5ndGg7YSsrKXt2YXIgbD1uW2FdLG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7by5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uSVRFTV9SSVBQTEVfQ09OVEFJTkVSKTt2YXIgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtyLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5SSVBQTEUpLG8uYXBwZW5kQ2hpbGQociksbC5hcHBlbmRDaGlsZChvKSxsLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5SSVBQTEVfRUZGRUNUKX10aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLkNzc0NsYXNzZXNfLkJPVFRPTV9MRUZUKSYmdGhpcy5vdXRsaW5lXy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uQk9UVE9NX0xFRlQpLHRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuQ3NzQ2xhc3Nlc18uQk9UVE9NX1JJR0hUKSYmdGhpcy5vdXRsaW5lXy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uQk9UVE9NX1JJR0hUKSx0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLkNzc0NsYXNzZXNfLlRPUF9MRUZUKSYmdGhpcy5vdXRsaW5lXy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uVE9QX0xFRlQpLHRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuQ3NzQ2xhc3Nlc18uVE9QX1JJR0hUKSYmdGhpcy5vdXRsaW5lXy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uVE9QX1JJR0hUKSx0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLkNzc0NsYXNzZXNfLlVOQUxJR05FRCkmJnRoaXMub3V0bGluZV8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLlVOQUxJR05FRCksZS5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfVVBHUkFERUQpfX0sZC5wcm90b3R5cGUuaGFuZGxlRm9yQ2xpY2tfPWZ1bmN0aW9uKGUpe2lmKHRoaXMuZWxlbWVudF8mJnRoaXMuZm9yRWxlbWVudF8pe3ZhciB0PXRoaXMuZm9yRWxlbWVudF8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkscz10aGlzLmZvckVsZW1lbnRfLnBhcmVudEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7dGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuY29udGFpbnModGhpcy5Dc3NDbGFzc2VzXy5VTkFMSUdORUQpfHwodGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuY29udGFpbnModGhpcy5Dc3NDbGFzc2VzXy5CT1RUT01fUklHSFQpPyh0aGlzLmNvbnRhaW5lcl8uc3R5bGUucmlnaHQ9cy5yaWdodC10LnJpZ2h0K1wicHhcIix0aGlzLmNvbnRhaW5lcl8uc3R5bGUudG9wPXRoaXMuZm9yRWxlbWVudF8ub2Zmc2V0VG9wK3RoaXMuZm9yRWxlbWVudF8ub2Zmc2V0SGVpZ2h0K1wicHhcIik6dGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuY29udGFpbnModGhpcy5Dc3NDbGFzc2VzXy5UT1BfTEVGVCk/KHRoaXMuY29udGFpbmVyXy5zdHlsZS5sZWZ0PXRoaXMuZm9yRWxlbWVudF8ub2Zmc2V0TGVmdCtcInB4XCIsdGhpcy5jb250YWluZXJfLnN0eWxlLmJvdHRvbT1zLmJvdHRvbS10LnRvcCtcInB4XCIpOnRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuQ3NzQ2xhc3Nlc18uVE9QX1JJR0hUKT8odGhpcy5jb250YWluZXJfLnN0eWxlLnJpZ2h0PXMucmlnaHQtdC5yaWdodCtcInB4XCIsdGhpcy5jb250YWluZXJfLnN0eWxlLmJvdHRvbT1zLmJvdHRvbS10LnRvcCtcInB4XCIpOih0aGlzLmNvbnRhaW5lcl8uc3R5bGUubGVmdD10aGlzLmZvckVsZW1lbnRfLm9mZnNldExlZnQrXCJweFwiLHRoaXMuY29udGFpbmVyXy5zdHlsZS50b3A9dGhpcy5mb3JFbGVtZW50Xy5vZmZzZXRUb3ArdGhpcy5mb3JFbGVtZW50Xy5vZmZzZXRIZWlnaHQrXCJweFwiKSl9dGhpcy50b2dnbGUoZSl9LGQucHJvdG90eXBlLmhhbmRsZUZvcktleWJvYXJkRXZlbnRfPWZ1bmN0aW9uKGUpe2lmKHRoaXMuZWxlbWVudF8mJnRoaXMuY29udGFpbmVyXyYmdGhpcy5mb3JFbGVtZW50Xyl7dmFyIHQ9dGhpcy5lbGVtZW50Xy5xdWVyeVNlbGVjdG9yQWxsKFwiLlwiK3RoaXMuQ3NzQ2xhc3Nlc18uSVRFTStcIjpub3QoW2Rpc2FibGVkXSlcIik7dCYmdC5sZW5ndGg+MCYmdGhpcy5jb250YWluZXJfLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLkNzc0NsYXNzZXNfLklTX1ZJU0lCTEUpJiYoZS5rZXlDb2RlPT09dGhpcy5LZXljb2Rlc18uVVBfQVJST1c/KGUucHJldmVudERlZmF1bHQoKSx0W3QubGVuZ3RoLTFdLmZvY3VzKCkpOmUua2V5Q29kZT09PXRoaXMuS2V5Y29kZXNfLkRPV05fQVJST1cmJihlLnByZXZlbnREZWZhdWx0KCksdFswXS5mb2N1cygpKSl9fSxkLnByb3RvdHlwZS5oYW5kbGVJdGVtS2V5Ym9hcmRFdmVudF89ZnVuY3Rpb24oZSl7aWYodGhpcy5lbGVtZW50XyYmdGhpcy5jb250YWluZXJfKXt2YXIgdD10aGlzLmVsZW1lbnRfLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuXCIrdGhpcy5Dc3NDbGFzc2VzXy5JVEVNK1wiOm5vdChbZGlzYWJsZWRdKVwiKTtpZih0JiZ0Lmxlbmd0aD4wJiZ0aGlzLmNvbnRhaW5lcl8uY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfVklTSUJMRSkpe3ZhciBzPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHQpLmluZGV4T2YoZS50YXJnZXQpO2lmKGUua2V5Q29kZT09PXRoaXMuS2V5Y29kZXNfLlVQX0FSUk9XKWUucHJldmVudERlZmF1bHQoKSxzPjA/dFtzLTFdLmZvY3VzKCk6dFt0Lmxlbmd0aC0xXS5mb2N1cygpO2Vsc2UgaWYoZS5rZXlDb2RlPT09dGhpcy5LZXljb2Rlc18uRE9XTl9BUlJPVyllLnByZXZlbnREZWZhdWx0KCksdC5sZW5ndGg+cysxP3RbcysxXS5mb2N1cygpOnRbMF0uZm9jdXMoKTtlbHNlIGlmKGUua2V5Q29kZT09PXRoaXMuS2V5Y29kZXNfLlNQQUNFfHxlLmtleUNvZGU9PT10aGlzLktleWNvZGVzXy5FTlRFUil7ZS5wcmV2ZW50RGVmYXVsdCgpO3ZhciBpPW5ldyBNb3VzZUV2ZW50KFwibW91c2Vkb3duXCIpO2UudGFyZ2V0LmRpc3BhdGNoRXZlbnQoaSksaT1uZXcgTW91c2VFdmVudChcIm1vdXNldXBcIiksZS50YXJnZXQuZGlzcGF0Y2hFdmVudChpKSxlLnRhcmdldC5jbGljaygpfWVsc2UgZS5rZXlDb2RlPT09dGhpcy5LZXljb2Rlc18uRVNDQVBFJiYoZS5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuaGlkZSgpKX19fSxkLnByb3RvdHlwZS5oYW5kbGVJdGVtQ2xpY2tfPWZ1bmN0aW9uKGUpe2UudGFyZ2V0Lmhhc0F0dHJpYnV0ZShcImRpc2FibGVkXCIpP2Uuc3RvcFByb3BhZ2F0aW9uKCk6KHRoaXMuY2xvc2luZ189ITAsd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oZSl7dGhpcy5oaWRlKCksdGhpcy5jbG9zaW5nXz0hMX0uYmluZCh0aGlzKSx0aGlzLkNvbnN0YW50Xy5DTE9TRV9USU1FT1VUKSl9LGQucHJvdG90eXBlLmFwcGx5Q2xpcF89ZnVuY3Rpb24oZSx0KXt0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLkNzc0NsYXNzZXNfLlVOQUxJR05FRCk/dGhpcy5lbGVtZW50Xy5zdHlsZS5jbGlwPVwiXCI6dGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuY29udGFpbnModGhpcy5Dc3NDbGFzc2VzXy5CT1RUT01fUklHSFQpP3RoaXMuZWxlbWVudF8uc3R5bGUuY2xpcD1cInJlY3QoMCBcIit0K1wicHggMCBcIit0K1wicHgpXCI6dGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuY29udGFpbnModGhpcy5Dc3NDbGFzc2VzXy5UT1BfTEVGVCk/dGhpcy5lbGVtZW50Xy5zdHlsZS5jbGlwPVwicmVjdChcIitlK1wicHggMCBcIitlK1wicHggMClcIjp0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLkNzc0NsYXNzZXNfLlRPUF9SSUdIVCk/dGhpcy5lbGVtZW50Xy5zdHlsZS5jbGlwPVwicmVjdChcIitlK1wicHggXCIrdCtcInB4IFwiK2UrXCJweCBcIit0K1wicHgpXCI6dGhpcy5lbGVtZW50Xy5zdHlsZS5jbGlwPVwiXCJ9LGQucHJvdG90eXBlLnJlbW92ZUFuaW1hdGlvbkVuZExpc3RlbmVyXz1mdW5jdGlvbihlKXtlLnRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKGQucHJvdG90eXBlLkNzc0NsYXNzZXNfLklTX0FOSU1BVElORyl9LGQucHJvdG90eXBlLmFkZEFuaW1hdGlvbkVuZExpc3RlbmVyXz1mdW5jdGlvbigpe3RoaXMuZWxlbWVudF8uYWRkRXZlbnRMaXN0ZW5lcihcInRyYW5zaXRpb25lbmRcIix0aGlzLnJlbW92ZUFuaW1hdGlvbkVuZExpc3RlbmVyXyksdGhpcy5lbGVtZW50Xy5hZGRFdmVudExpc3RlbmVyKFwid2Via2l0VHJhbnNpdGlvbkVuZFwiLHRoaXMucmVtb3ZlQW5pbWF0aW9uRW5kTGlzdGVuZXJfKX0sZC5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbihlKXtpZih0aGlzLmVsZW1lbnRfJiZ0aGlzLmNvbnRhaW5lcl8mJnRoaXMub3V0bGluZV8pe3ZhciB0PXRoaXMuZWxlbWVudF8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0LHM9dGhpcy5lbGVtZW50Xy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDt0aGlzLmNvbnRhaW5lcl8uc3R5bGUud2lkdGg9cytcInB4XCIsdGhpcy5jb250YWluZXJfLnN0eWxlLmhlaWdodD10K1wicHhcIix0aGlzLm91dGxpbmVfLnN0eWxlLndpZHRoPXMrXCJweFwiLHRoaXMub3V0bGluZV8uc3R5bGUuaGVpZ2h0PXQrXCJweFwiO2Zvcih2YXIgaT10aGlzLkNvbnN0YW50Xy5UUkFOU0lUSU9OX0RVUkFUSU9OX1NFQ09ORFMqdGhpcy5Db25zdGFudF8uVFJBTlNJVElPTl9EVVJBVElPTl9GUkFDVElPTixuPXRoaXMuZWxlbWVudF8ucXVlcnlTZWxlY3RvckFsbChcIi5cIit0aGlzLkNzc0NsYXNzZXNfLklURU0pLGE9MDthPG4ubGVuZ3RoO2ErKyl7dmFyIGw9bnVsbDtsPXRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuQ3NzQ2xhc3Nlc18uVE9QX0xFRlQpfHx0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLkNzc0NsYXNzZXNfLlRPUF9SSUdIVCk/KHQtblthXS5vZmZzZXRUb3AtblthXS5vZmZzZXRIZWlnaHQpL3QqaStcInNcIjpuW2FdLm9mZnNldFRvcC90KmkrXCJzXCIsblthXS5zdHlsZS50cmFuc2l0aW9uRGVsYXk9bH10aGlzLmFwcGx5Q2xpcF8odCxzKSx3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfQU5JTUFUSU5HKSx0aGlzLmVsZW1lbnRfLnN0eWxlLmNsaXA9XCJyZWN0KDAgXCIrcytcInB4IFwiK3QrXCJweCAwKVwiLHRoaXMuY29udGFpbmVyXy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfVklTSUJMRSl9LmJpbmQodGhpcykpLHRoaXMuYWRkQW5pbWF0aW9uRW5kTGlzdGVuZXJfKCk7dmFyIG89ZnVuY3Rpb24odCl7dD09PWV8fHRoaXMuY2xvc2luZ198fHQudGFyZ2V0LnBhcmVudE5vZGU9PT10aGlzLmVsZW1lbnRffHwoZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsbyksdGhpcy5oaWRlKCkpfS5iaW5kKHRoaXMpO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLG8pfX0sZC5wcm90b3R5cGUuc2hvdz1kLnByb3RvdHlwZS5zaG93LGQucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24oKXtpZih0aGlzLmVsZW1lbnRfJiZ0aGlzLmNvbnRhaW5lcl8mJnRoaXMub3V0bGluZV8pe2Zvcih2YXIgZT10aGlzLmVsZW1lbnRfLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuXCIrdGhpcy5Dc3NDbGFzc2VzXy5JVEVNKSx0PTA7dDxlLmxlbmd0aDt0KyspZVt0XS5zdHlsZS5yZW1vdmVQcm9wZXJ0eShcInRyYW5zaXRpb24tZGVsYXlcIik7dmFyIHM9dGhpcy5lbGVtZW50Xy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxpPXMuaGVpZ2h0LG49cy53aWR0aDt0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5JU19BTklNQVRJTkcpLHRoaXMuYXBwbHlDbGlwXyhpLG4pLHRoaXMuY29udGFpbmVyXy5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfVklTSUJMRSksdGhpcy5hZGRBbmltYXRpb25FbmRMaXN0ZW5lcl8oKX19LGQucHJvdG90eXBlLmhpZGU9ZC5wcm90b3R5cGUuaGlkZSxkLnByb3RvdHlwZS50b2dnbGU9ZnVuY3Rpb24oZSl7dGhpcy5jb250YWluZXJfLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLkNzc0NsYXNzZXNfLklTX1ZJU0lCTEUpP3RoaXMuaGlkZSgpOnRoaXMuc2hvdyhlKX0sZC5wcm90b3R5cGUudG9nZ2xlPWQucHJvdG90eXBlLnRvZ2dsZSxzLnJlZ2lzdGVyKHtjb25zdHJ1Y3RvcjpkLGNsYXNzQXNTdHJpbmc6XCJNYXRlcmlhbE1lbnVcIixjc3NDbGFzczpcIm1kbC1qcy1tZW51XCIsd2lkZ2V0OiEwfSk7dmFyIGg9ZnVuY3Rpb24oZSl7dGhpcy5lbGVtZW50Xz1lLHRoaXMuaW5pdCgpfTt3aW5kb3cuTWF0ZXJpYWxQcm9ncmVzcz1oLGgucHJvdG90eXBlLkNvbnN0YW50Xz17fSxoLnByb3RvdHlwZS5Dc3NDbGFzc2VzXz17SU5ERVRFUk1JTkFURV9DTEFTUzpcIm1kbC1wcm9ncmVzc19faW5kZXRlcm1pbmF0ZVwifSxoLnByb3RvdHlwZS5zZXRQcm9ncmVzcz1mdW5jdGlvbihlKXt0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLkNzc0NsYXNzZXNfLklOREVURVJNSU5BVEVfQ0xBU1MpfHwodGhpcy5wcm9ncmVzc2Jhcl8uc3R5bGUud2lkdGg9ZStcIiVcIil9LGgucHJvdG90eXBlLnNldFByb2dyZXNzPWgucHJvdG90eXBlLnNldFByb2dyZXNzLGgucHJvdG90eXBlLnNldEJ1ZmZlcj1mdW5jdGlvbihlKXt0aGlzLmJ1ZmZlcmJhcl8uc3R5bGUud2lkdGg9ZStcIiVcIix0aGlzLmF1eGJhcl8uc3R5bGUud2lkdGg9MTAwLWUrXCIlXCJ9LGgucHJvdG90eXBlLnNldEJ1ZmZlcj1oLnByb3RvdHlwZS5zZXRCdWZmZXIsaC5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe2lmKHRoaXMuZWxlbWVudF8pe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ZS5jbGFzc05hbWU9XCJwcm9ncmVzc2JhciBiYXIgYmFyMVwiLHRoaXMuZWxlbWVudF8uYXBwZW5kQ2hpbGQoZSksdGhpcy5wcm9ncmVzc2Jhcl89ZSxlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksZS5jbGFzc05hbWU9XCJidWZmZXJiYXIgYmFyIGJhcjJcIix0aGlzLmVsZW1lbnRfLmFwcGVuZENoaWxkKGUpLHRoaXMuYnVmZmVyYmFyXz1lLGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxlLmNsYXNzTmFtZT1cImF1eGJhciBiYXIgYmFyM1wiLHRoaXMuZWxlbWVudF8uYXBwZW5kQ2hpbGQoZSksdGhpcy5hdXhiYXJfPWUsdGhpcy5wcm9ncmVzc2Jhcl8uc3R5bGUud2lkdGg9XCIwJVwiLHRoaXMuYnVmZmVyYmFyXy5zdHlsZS53aWR0aD1cIjEwMCVcIix0aGlzLmF1eGJhcl8uc3R5bGUud2lkdGg9XCIwJVwiLHRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmFkZChcImlzLXVwZ3JhZGVkXCIpfX0scy5yZWdpc3Rlcih7Y29uc3RydWN0b3I6aCxjbGFzc0FzU3RyaW5nOlwiTWF0ZXJpYWxQcm9ncmVzc1wiLGNzc0NsYXNzOlwibWRsLWpzLXByb2dyZXNzXCIsd2lkZ2V0OiEwfSk7dmFyIGM9ZnVuY3Rpb24oZSl7dGhpcy5lbGVtZW50Xz1lLHRoaXMuaW5pdCgpfTt3aW5kb3cuTWF0ZXJpYWxSYWRpbz1jLGMucHJvdG90eXBlLkNvbnN0YW50Xz17VElOWV9USU1FT1VUOi4wMDF9LGMucHJvdG90eXBlLkNzc0NsYXNzZXNfPXtJU19GT0NVU0VEOlwiaXMtZm9jdXNlZFwiLElTX0RJU0FCTEVEOlwiaXMtZGlzYWJsZWRcIixJU19DSEVDS0VEOlwiaXMtY2hlY2tlZFwiLElTX1VQR1JBREVEOlwiaXMtdXBncmFkZWRcIixKU19SQURJTzpcIm1kbC1qcy1yYWRpb1wiLFJBRElPX0JUTjpcIm1kbC1yYWRpb19fYnV0dG9uXCIsUkFESU9fT1VURVJfQ0lSQ0xFOlwibWRsLXJhZGlvX19vdXRlci1jaXJjbGVcIixSQURJT19JTk5FUl9DSVJDTEU6XCJtZGwtcmFkaW9fX2lubmVyLWNpcmNsZVwiLFJJUFBMRV9FRkZFQ1Q6XCJtZGwtanMtcmlwcGxlLWVmZmVjdFwiLFJJUFBMRV9JR05PUkVfRVZFTlRTOlwibWRsLWpzLXJpcHBsZS1lZmZlY3QtLWlnbm9yZS1ldmVudHNcIixSSVBQTEVfQ09OVEFJTkVSOlwibWRsLXJhZGlvX19yaXBwbGUtY29udGFpbmVyXCIsUklQUExFX0NFTlRFUjpcIm1kbC1yaXBwbGUtLWNlbnRlclwiLFJJUFBMRTpcIm1kbC1yaXBwbGVcIn0sYy5wcm90b3R5cGUub25DaGFuZ2VfPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1kb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKHRoaXMuQ3NzQ2xhc3Nlc18uSlNfUkFESU8pLHM9MDtzPHQubGVuZ3RoO3MrKyl7dmFyIGk9dFtzXS5xdWVyeVNlbGVjdG9yKFwiLlwiK3RoaXMuQ3NzQ2xhc3Nlc18uUkFESU9fQlROKTtpLmdldEF0dHJpYnV0ZShcIm5hbWVcIik9PT10aGlzLmJ0bkVsZW1lbnRfLmdldEF0dHJpYnV0ZShcIm5hbWVcIikmJnRbc10uTWF0ZXJpYWxSYWRpby51cGRhdGVDbGFzc2VzXygpfX0sYy5wcm90b3R5cGUub25Gb2N1c189ZnVuY3Rpb24oZSl7dGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfRk9DVVNFRCl9LGMucHJvdG90eXBlLm9uQmx1cl89ZnVuY3Rpb24oZSl7dGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfRk9DVVNFRCl9LGMucHJvdG90eXBlLm9uTW91c2V1cF89ZnVuY3Rpb24oZSl7dGhpcy5ibHVyXygpfSxjLnByb3RvdHlwZS51cGRhdGVDbGFzc2VzXz1mdW5jdGlvbigpe3RoaXMuY2hlY2tEaXNhYmxlZCgpLHRoaXMuY2hlY2tUb2dnbGVTdGF0ZSgpfSxjLnByb3RvdHlwZS5ibHVyXz1mdW5jdGlvbigpe3dpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhpcy5idG5FbGVtZW50Xy5ibHVyKCl9LmJpbmQodGhpcyksdGhpcy5Db25zdGFudF8uVElOWV9USU1FT1VUKX0sYy5wcm90b3R5cGUuY2hlY2tEaXNhYmxlZD1mdW5jdGlvbigpe3RoaXMuYnRuRWxlbWVudF8uZGlzYWJsZWQ/dGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfRElTQUJMRUQpOnRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNzc0NsYXNzZXNfLklTX0RJU0FCTEVEKX0sYy5wcm90b3R5cGUuY2hlY2tEaXNhYmxlZD1jLnByb3RvdHlwZS5jaGVja0Rpc2FibGVkLGMucHJvdG90eXBlLmNoZWNrVG9nZ2xlU3RhdGU9ZnVuY3Rpb24oKXt0aGlzLmJ0bkVsZW1lbnRfLmNoZWNrZWQ/dGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfQ0hFQ0tFRCk6dGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfQ0hFQ0tFRCl9LGMucHJvdG90eXBlLmNoZWNrVG9nZ2xlU3RhdGU9Yy5wcm90b3R5cGUuY2hlY2tUb2dnbGVTdGF0ZSxjLnByb3RvdHlwZS5kaXNhYmxlPWZ1bmN0aW9uKCl7dGhpcy5idG5FbGVtZW50Xy5kaXNhYmxlZD0hMCx0aGlzLnVwZGF0ZUNsYXNzZXNfKCl9LGMucHJvdG90eXBlLmRpc2FibGU9Yy5wcm90b3R5cGUuZGlzYWJsZSxjLnByb3RvdHlwZS5lbmFibGU9ZnVuY3Rpb24oKXt0aGlzLmJ0bkVsZW1lbnRfLmRpc2FibGVkPSExLHRoaXMudXBkYXRlQ2xhc3Nlc18oKX0sYy5wcm90b3R5cGUuZW5hYmxlPWMucHJvdG90eXBlLmVuYWJsZSxjLnByb3RvdHlwZS5jaGVjaz1mdW5jdGlvbigpe3RoaXMuYnRuRWxlbWVudF8uY2hlY2tlZD0hMCx0aGlzLnVwZGF0ZUNsYXNzZXNfKCl9LGMucHJvdG90eXBlLmNoZWNrPWMucHJvdG90eXBlLmNoZWNrLGMucHJvdG90eXBlLnVuY2hlY2s9ZnVuY3Rpb24oKXt0aGlzLmJ0bkVsZW1lbnRfLmNoZWNrZWQ9ITEsdGhpcy51cGRhdGVDbGFzc2VzXygpfSxjLnByb3RvdHlwZS51bmNoZWNrPWMucHJvdG90eXBlLnVuY2hlY2ssYy5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe2lmKHRoaXMuZWxlbWVudF8pe3RoaXMuYnRuRWxlbWVudF89dGhpcy5lbGVtZW50Xy5xdWVyeVNlbGVjdG9yKFwiLlwiK3RoaXMuQ3NzQ2xhc3Nlc18uUkFESU9fQlROKSx0aGlzLmJvdW5kQ2hhbmdlSGFuZGxlcl89dGhpcy5vbkNoYW5nZV8uYmluZCh0aGlzKSx0aGlzLmJvdW5kRm9jdXNIYW5kbGVyXz10aGlzLm9uQ2hhbmdlXy5iaW5kKHRoaXMpLHRoaXMuYm91bmRCbHVySGFuZGxlcl89dGhpcy5vbkJsdXJfLmJpbmQodGhpcyksdGhpcy5ib3VuZE1vdXNlVXBIYW5kbGVyXz10aGlzLm9uTW91c2V1cF8uYmluZCh0aGlzKTt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtlLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5SQURJT19PVVRFUl9DSVJDTEUpO3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO3QuY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLlJBRElPX0lOTkVSX0NJUkNMRSksdGhpcy5lbGVtZW50Xy5hcHBlbmRDaGlsZChlKSx0aGlzLmVsZW1lbnRfLmFwcGVuZENoaWxkKHQpO3ZhciBzO2lmKHRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuQ3NzQ2xhc3Nlc18uUklQUExFX0VGRkVDVCkpe3RoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLlJJUFBMRV9JR05PUkVfRVZFTlRTKSxzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpLHMuY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLlJJUFBMRV9DT05UQUlORVIpLHMuY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLlJJUFBMRV9FRkZFQ1QpLHMuY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLlJJUFBMRV9DRU5URVIpLHMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIix0aGlzLmJvdW5kTW91c2VVcEhhbmRsZXJfKTt2YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtpLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5SSVBQTEUpLHMuYXBwZW5kQ2hpbGQoaSksdGhpcy5lbGVtZW50Xy5hcHBlbmRDaGlsZChzKX10aGlzLmJ0bkVsZW1lbnRfLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIix0aGlzLmJvdW5kQ2hhbmdlSGFuZGxlcl8pLHRoaXMuYnRuRWxlbWVudF8uYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsdGhpcy5ib3VuZEZvY3VzSGFuZGxlcl8pLHRoaXMuYnRuRWxlbWVudF8uYWRkRXZlbnRMaXN0ZW5lcihcImJsdXJcIix0aGlzLmJvdW5kQmx1ckhhbmRsZXJfKSx0aGlzLmVsZW1lbnRfLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsdGhpcy5ib3VuZE1vdXNlVXBIYW5kbGVyXyksdGhpcy51cGRhdGVDbGFzc2VzXygpLHRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLklTX1VQR1JBREVEKX19LHMucmVnaXN0ZXIoe2NvbnN0cnVjdG9yOmMsY2xhc3NBc1N0cmluZzpcIk1hdGVyaWFsUmFkaW9cIixjc3NDbGFzczpcIm1kbC1qcy1yYWRpb1wiLHdpZGdldDohMH0pO3ZhciBwPWZ1bmN0aW9uKGUpe3RoaXMuZWxlbWVudF89ZSx0aGlzLmlzSUVfPXdpbmRvdy5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZCx0aGlzLmluaXQoKX07d2luZG93Lk1hdGVyaWFsU2xpZGVyPXAscC5wcm90b3R5cGUuQ29uc3RhbnRfPXt9LHAucHJvdG90eXBlLkNzc0NsYXNzZXNfPXtJRV9DT05UQUlORVI6XCJtZGwtc2xpZGVyX19pZS1jb250YWluZXJcIixTTElERVJfQ09OVEFJTkVSOlwibWRsLXNsaWRlcl9fY29udGFpbmVyXCIsQkFDS0dST1VORF9GTEVYOlwibWRsLXNsaWRlcl9fYmFja2dyb3VuZC1mbGV4XCIsQkFDS0dST1VORF9MT1dFUjpcIm1kbC1zbGlkZXJfX2JhY2tncm91bmQtbG93ZXJcIixCQUNLR1JPVU5EX1VQUEVSOlwibWRsLXNsaWRlcl9fYmFja2dyb3VuZC11cHBlclwiLElTX0xPV0VTVF9WQUxVRTpcImlzLWxvd2VzdC12YWx1ZVwiLElTX1VQR1JBREVEOlwiaXMtdXBncmFkZWRcIn0scC5wcm90b3R5cGUub25JbnB1dF89ZnVuY3Rpb24oZSl7dGhpcy51cGRhdGVWYWx1ZVN0eWxlc18oKX0scC5wcm90b3R5cGUub25DaGFuZ2VfPWZ1bmN0aW9uKGUpe3RoaXMudXBkYXRlVmFsdWVTdHlsZXNfKCl9LHAucHJvdG90eXBlLm9uTW91c2VVcF89ZnVuY3Rpb24oZSl7ZS50YXJnZXQuYmx1cigpfSxwLnByb3RvdHlwZS5vbkNvbnRhaW5lck1vdXNlRG93bl89ZnVuY3Rpb24oZSl7aWYoZS50YXJnZXQ9PT10aGlzLmVsZW1lbnRfLnBhcmVudEVsZW1lbnQpe2UucHJldmVudERlZmF1bHQoKTt2YXIgdD1uZXcgTW91c2VFdmVudChcIm1vdXNlZG93blwiLHt0YXJnZXQ6ZS50YXJnZXQsYnV0dG9uczplLmJ1dHRvbnMsY2xpZW50WDplLmNsaWVudFgsY2xpZW50WTp0aGlzLmVsZW1lbnRfLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnl9KTt0aGlzLmVsZW1lbnRfLmRpc3BhdGNoRXZlbnQodCl9fSxwLnByb3RvdHlwZS51cGRhdGVWYWx1ZVN0eWxlc189ZnVuY3Rpb24oKXt2YXIgZT0odGhpcy5lbGVtZW50Xy52YWx1ZS10aGlzLmVsZW1lbnRfLm1pbikvKHRoaXMuZWxlbWVudF8ubWF4LXRoaXMuZWxlbWVudF8ubWluKTswPT09ZT90aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5JU19MT1dFU1RfVkFMVUUpOnRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNzc0NsYXNzZXNfLklTX0xPV0VTVF9WQUxVRSksdGhpcy5pc0lFX3x8KHRoaXMuYmFja2dyb3VuZExvd2VyXy5zdHlsZS5mbGV4PWUsdGhpcy5iYWNrZ3JvdW5kTG93ZXJfLnN0eWxlLndlYmtpdEZsZXg9ZSx0aGlzLmJhY2tncm91bmRVcHBlcl8uc3R5bGUuZmxleD0xLWUsdGhpcy5iYWNrZ3JvdW5kVXBwZXJfLnN0eWxlLndlYmtpdEZsZXg9MS1lKX0scC5wcm90b3R5cGUuZGlzYWJsZT1mdW5jdGlvbigpe3RoaXMuZWxlbWVudF8uZGlzYWJsZWQ9ITB9LHAucHJvdG90eXBlLmRpc2FibGU9cC5wcm90b3R5cGUuZGlzYWJsZSxwLnByb3RvdHlwZS5lbmFibGU9ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnRfLmRpc2FibGVkPSExfSxwLnByb3RvdHlwZS5lbmFibGU9cC5wcm90b3R5cGUuZW5hYmxlLHAucHJvdG90eXBlLmNoYW5nZT1mdW5jdGlvbihlKXtcInVuZGVmaW5lZFwiIT10eXBlb2YgZSYmKHRoaXMuZWxlbWVudF8udmFsdWU9ZSksdGhpcy51cGRhdGVWYWx1ZVN0eWxlc18oKX0scC5wcm90b3R5cGUuY2hhbmdlPXAucHJvdG90eXBlLmNoYW5nZSxwLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7aWYodGhpcy5lbGVtZW50Xyl7aWYodGhpcy5pc0lFXyl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtlLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5JRV9DT05UQUlORVIpLHRoaXMuZWxlbWVudF8ucGFyZW50RWxlbWVudC5pbnNlcnRCZWZvcmUoZSx0aGlzLmVsZW1lbnRfKSx0aGlzLmVsZW1lbnRfLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQodGhpcy5lbGVtZW50XyksZS5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnRfKX1lbHNle3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dC5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uU0xJREVSX0NPTlRBSU5FUiksdGhpcy5lbGVtZW50Xy5wYXJlbnRFbGVtZW50Lmluc2VydEJlZm9yZSh0LHRoaXMuZWxlbWVudF8pLHRoaXMuZWxlbWVudF8ucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzLmVsZW1lbnRfKSx0LmFwcGVuZENoaWxkKHRoaXMuZWxlbWVudF8pO3ZhciBzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7cy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uQkFDS0dST1VORF9GTEVYKSx0LmFwcGVuZENoaWxkKHMpLHRoaXMuYmFja2dyb3VuZExvd2VyXz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuYmFja2dyb3VuZExvd2VyXy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uQkFDS0dST1VORF9MT1dFUikscy5hcHBlbmRDaGlsZCh0aGlzLmJhY2tncm91bmRMb3dlcl8pLHRoaXMuYmFja2dyb3VuZFVwcGVyXz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuYmFja2dyb3VuZFVwcGVyXy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uQkFDS0dST1VORF9VUFBFUikscy5hcHBlbmRDaGlsZCh0aGlzLmJhY2tncm91bmRVcHBlcl8pfXRoaXMuYm91bmRJbnB1dEhhbmRsZXI9dGhpcy5vbklucHV0Xy5iaW5kKHRoaXMpLHRoaXMuYm91bmRDaGFuZ2VIYW5kbGVyPXRoaXMub25DaGFuZ2VfLmJpbmQodGhpcyksdGhpcy5ib3VuZE1vdXNlVXBIYW5kbGVyPXRoaXMub25Nb3VzZVVwXy5iaW5kKHRoaXMpLHRoaXMuYm91bmRDb250YWluZXJNb3VzZURvd25IYW5kbGVyPXRoaXMub25Db250YWluZXJNb3VzZURvd25fLmJpbmQodGhpcyksdGhpcy5lbGVtZW50Xy5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIix0aGlzLmJvdW5kSW5wdXRIYW5kbGVyKSx0aGlzLmVsZW1lbnRfLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIix0aGlzLmJvdW5kQ2hhbmdlSGFuZGxlciksdGhpcy5lbGVtZW50Xy5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLHRoaXMuYm91bmRNb3VzZVVwSGFuZGxlciksdGhpcy5lbGVtZW50Xy5wYXJlbnRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIix0aGlzLmJvdW5kQ29udGFpbmVyTW91c2VEb3duSGFuZGxlciksdGhpcy51cGRhdGVWYWx1ZVN0eWxlc18oKSx0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5JU19VUEdSQURFRCl9fSxzLnJlZ2lzdGVyKHtjb25zdHJ1Y3RvcjpwLGNsYXNzQXNTdHJpbmc6XCJNYXRlcmlhbFNsaWRlclwiLGNzc0NsYXNzOlwibWRsLWpzLXNsaWRlclwiLHdpZGdldDohMH0pO3ZhciBDPWZ1bmN0aW9uKGUpe2lmKHRoaXMuZWxlbWVudF89ZSx0aGlzLnRleHRFbGVtZW50Xz10aGlzLmVsZW1lbnRfLnF1ZXJ5U2VsZWN0b3IoXCIuXCIrdGhpcy5jc3NDbGFzc2VzXy5NRVNTQUdFKSx0aGlzLmFjdGlvbkVsZW1lbnRfPXRoaXMuZWxlbWVudF8ucXVlcnlTZWxlY3RvcihcIi5cIit0aGlzLmNzc0NsYXNzZXNfLkFDVElPTiksIXRoaXMudGV4dEVsZW1lbnRfKXRocm93IG5ldyBFcnJvcihcIlRoZXJlIG11c3QgYmUgYSBtZXNzYWdlIGVsZW1lbnQgZm9yIGEgc25hY2tiYXIuXCIpO2lmKCF0aGlzLmFjdGlvbkVsZW1lbnRfKXRocm93IG5ldyBFcnJvcihcIlRoZXJlIG11c3QgYmUgYW4gYWN0aW9uIGVsZW1lbnQgZm9yIGEgc25hY2tiYXIuXCIpO3RoaXMuYWN0aXZlPSExLHRoaXMuYWN0aW9uSGFuZGxlcl89dm9pZCAwLHRoaXMubWVzc2FnZV89dm9pZCAwLHRoaXMuYWN0aW9uVGV4dF89dm9pZCAwLHRoaXMucXVldWVkTm90aWZpY2F0aW9uc189W10sdGhpcy5zZXRBY3Rpb25IaWRkZW5fKCEwKX07d2luZG93Lk1hdGVyaWFsU25hY2tiYXI9QyxDLnByb3RvdHlwZS5Db25zdGFudF89e0FOSU1BVElPTl9MRU5HVEg6MjUwfSxDLnByb3RvdHlwZS5jc3NDbGFzc2VzXz17U05BQ0tCQVI6XCJtZGwtc25hY2tiYXJcIixNRVNTQUdFOlwibWRsLXNuYWNrYmFyX190ZXh0XCIsQUNUSU9OOlwibWRsLXNuYWNrYmFyX19hY3Rpb25cIixBQ1RJVkU6XCJtZGwtc25hY2tiYXItLWFjdGl2ZVwifSxDLnByb3RvdHlwZS5kaXNwbGF5U25hY2tiYXJfPWZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50Xy5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLFwidHJ1ZVwiKSx0aGlzLmFjdGlvbkhhbmRsZXJfJiYodGhpcy5hY3Rpb25FbGVtZW50Xy50ZXh0Q29udGVudD10aGlzLmFjdGlvblRleHRfLFxyXG50aGlzLmFjdGlvbkVsZW1lbnRfLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMuYWN0aW9uSGFuZGxlcl8pLHRoaXMuc2V0QWN0aW9uSGlkZGVuXyghMSkpLHRoaXMudGV4dEVsZW1lbnRfLnRleHRDb250ZW50PXRoaXMubWVzc2FnZV8sdGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuYWRkKHRoaXMuY3NzQ2xhc3Nlc18uQUNUSVZFKSx0aGlzLmVsZW1lbnRfLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsXCJmYWxzZVwiKSxzZXRUaW1lb3V0KHRoaXMuY2xlYW51cF8uYmluZCh0aGlzKSx0aGlzLnRpbWVvdXRfKX0sQy5wcm90b3R5cGUuc2hvd1NuYWNrYmFyPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09PWUpdGhyb3cgbmV3IEVycm9yKFwiUGxlYXNlIHByb3ZpZGUgYSBkYXRhIG9iamVjdCB3aXRoIGF0IGxlYXN0IGEgbWVzc2FnZSB0byBkaXNwbGF5LlwiKTtpZih2b2lkIDA9PT1lLm1lc3NhZ2UpdGhyb3cgbmV3IEVycm9yKFwiUGxlYXNlIHByb3ZpZGUgYSBtZXNzYWdlIHRvIGJlIGRpc3BsYXllZC5cIik7aWYoZS5hY3Rpb25IYW5kbGVyJiYhZS5hY3Rpb25UZXh0KXRocm93IG5ldyBFcnJvcihcIlBsZWFzZSBwcm92aWRlIGFjdGlvbiB0ZXh0IHdpdGggdGhlIGhhbmRsZXIuXCIpO3RoaXMuYWN0aXZlP3RoaXMucXVldWVkTm90aWZpY2F0aW9uc18ucHVzaChlKToodGhpcy5hY3RpdmU9ITAsdGhpcy5tZXNzYWdlXz1lLm1lc3NhZ2UsZS50aW1lb3V0P3RoaXMudGltZW91dF89ZS50aW1lb3V0OnRoaXMudGltZW91dF89Mjc1MCxlLmFjdGlvbkhhbmRsZXImJih0aGlzLmFjdGlvbkhhbmRsZXJfPWUuYWN0aW9uSGFuZGxlciksZS5hY3Rpb25UZXh0JiYodGhpcy5hY3Rpb25UZXh0Xz1lLmFjdGlvblRleHQpLHRoaXMuZGlzcGxheVNuYWNrYmFyXygpKX0sQy5wcm90b3R5cGUuc2hvd1NuYWNrYmFyPUMucHJvdG90eXBlLnNob3dTbmFja2JhcixDLnByb3RvdHlwZS5jaGVja1F1ZXVlXz1mdW5jdGlvbigpe3RoaXMucXVldWVkTm90aWZpY2F0aW9uc18ubGVuZ3RoPjAmJnRoaXMuc2hvd1NuYWNrYmFyKHRoaXMucXVldWVkTm90aWZpY2F0aW9uc18uc2hpZnQoKSl9LEMucHJvdG90eXBlLmNsZWFudXBfPWZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuY3NzQ2xhc3Nlc18uQUNUSVZFKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50Xy5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLFwidHJ1ZVwiKSx0aGlzLnRleHRFbGVtZW50Xy50ZXh0Q29udGVudD1cIlwiLEJvb2xlYW4odGhpcy5hY3Rpb25FbGVtZW50Xy5nZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiKSl8fCh0aGlzLnNldEFjdGlvbkhpZGRlbl8oITApLHRoaXMuYWN0aW9uRWxlbWVudF8udGV4dENvbnRlbnQ9XCJcIix0aGlzLmFjdGlvbkVsZW1lbnRfLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMuYWN0aW9uSGFuZGxlcl8pKSx0aGlzLmFjdGlvbkhhbmRsZXJfPXZvaWQgMCx0aGlzLm1lc3NhZ2VfPXZvaWQgMCx0aGlzLmFjdGlvblRleHRfPXZvaWQgMCx0aGlzLmFjdGl2ZT0hMSx0aGlzLmNoZWNrUXVldWVfKCl9LmJpbmQodGhpcyksdGhpcy5Db25zdGFudF8uQU5JTUFUSU9OX0xFTkdUSCl9LEMucHJvdG90eXBlLnNldEFjdGlvbkhpZGRlbl89ZnVuY3Rpb24oZSl7ZT90aGlzLmFjdGlvbkVsZW1lbnRfLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsXCJ0cnVlXCIpOnRoaXMuYWN0aW9uRWxlbWVudF8ucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIil9LHMucmVnaXN0ZXIoe2NvbnN0cnVjdG9yOkMsY2xhc3NBc1N0cmluZzpcIk1hdGVyaWFsU25hY2tiYXJcIixjc3NDbGFzczpcIm1kbC1qcy1zbmFja2JhclwiLHdpZGdldDohMH0pO3ZhciB1PWZ1bmN0aW9uKGUpe3RoaXMuZWxlbWVudF89ZSx0aGlzLmluaXQoKX07d2luZG93Lk1hdGVyaWFsU3Bpbm5lcj11LHUucHJvdG90eXBlLkNvbnN0YW50Xz17TURMX1NQSU5ORVJfTEFZRVJfQ09VTlQ6NH0sdS5wcm90b3R5cGUuQ3NzQ2xhc3Nlc189e01ETF9TUElOTkVSX0xBWUVSOlwibWRsLXNwaW5uZXJfX2xheWVyXCIsTURMX1NQSU5ORVJfQ0lSQ0xFX0NMSVBQRVI6XCJtZGwtc3Bpbm5lcl9fY2lyY2xlLWNsaXBwZXJcIixNRExfU1BJTk5FUl9DSVJDTEU6XCJtZGwtc3Bpbm5lcl9fY2lyY2xlXCIsTURMX1NQSU5ORVJfR0FQX1BBVENIOlwibWRsLXNwaW5uZXJfX2dhcC1wYXRjaFwiLE1ETF9TUElOTkVSX0xFRlQ6XCJtZGwtc3Bpbm5lcl9fbGVmdFwiLE1ETF9TUElOTkVSX1JJR0hUOlwibWRsLXNwaW5uZXJfX3JpZ2h0XCJ9LHUucHJvdG90eXBlLmNyZWF0ZUxheWVyPWZ1bmN0aW9uKGUpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dC5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uTURMX1NQSU5ORVJfTEFZRVIpLHQuY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLk1ETF9TUElOTkVSX0xBWUVSK1wiLVwiK2UpO3ZhciBzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7cy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uTURMX1NQSU5ORVJfQ0lSQ0xFX0NMSVBQRVIpLHMuY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLk1ETF9TUElOTkVSX0xFRlQpO3ZhciBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7aS5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uTURMX1NQSU5ORVJfR0FQX1BBVENIKTt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO24uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLk1ETF9TUElOTkVSX0NJUkNMRV9DTElQUEVSKSxuLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5NRExfU1BJTk5FUl9SSUdIVCk7Zm9yKHZhciBhPVtzLGksbl0sbD0wO2w8YS5sZW5ndGg7bCsrKXt2YXIgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO28uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLk1ETF9TUElOTkVSX0NJUkNMRSksYVtsXS5hcHBlbmRDaGlsZChvKX10LmFwcGVuZENoaWxkKHMpLHQuYXBwZW5kQ2hpbGQoaSksdC5hcHBlbmRDaGlsZChuKSx0aGlzLmVsZW1lbnRfLmFwcGVuZENoaWxkKHQpfSx1LnByb3RvdHlwZS5jcmVhdGVMYXllcj11LnByb3RvdHlwZS5jcmVhdGVMYXllcix1LnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QucmVtb3ZlKFwiaXMtYWN0aXZlXCIpfSx1LnByb3RvdHlwZS5zdG9wPXUucHJvdG90eXBlLnN0b3AsdS5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5hZGQoXCJpcy1hY3RpdmVcIil9LHUucHJvdG90eXBlLnN0YXJ0PXUucHJvdG90eXBlLnN0YXJ0LHUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXtpZih0aGlzLmVsZW1lbnRfKXtmb3IodmFyIGU9MTtlPD10aGlzLkNvbnN0YW50Xy5NRExfU1BJTk5FUl9MQVlFUl9DT1VOVDtlKyspdGhpcy5jcmVhdGVMYXllcihlKTt0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5hZGQoXCJpcy11cGdyYWRlZFwiKX19LHMucmVnaXN0ZXIoe2NvbnN0cnVjdG9yOnUsY2xhc3NBc1N0cmluZzpcIk1hdGVyaWFsU3Bpbm5lclwiLGNzc0NsYXNzOlwibWRsLWpzLXNwaW5uZXJcIix3aWRnZXQ6ITB9KTt2YXIgRT1mdW5jdGlvbihlKXt0aGlzLmVsZW1lbnRfPWUsdGhpcy5pbml0KCl9O3dpbmRvdy5NYXRlcmlhbFN3aXRjaD1FLEUucHJvdG90eXBlLkNvbnN0YW50Xz17VElOWV9USU1FT1VUOi4wMDF9LEUucHJvdG90eXBlLkNzc0NsYXNzZXNfPXtJTlBVVDpcIm1kbC1zd2l0Y2hfX2lucHV0XCIsVFJBQ0s6XCJtZGwtc3dpdGNoX190cmFja1wiLFRIVU1COlwibWRsLXN3aXRjaF9fdGh1bWJcIixGT0NVU19IRUxQRVI6XCJtZGwtc3dpdGNoX19mb2N1cy1oZWxwZXJcIixSSVBQTEVfRUZGRUNUOlwibWRsLWpzLXJpcHBsZS1lZmZlY3RcIixSSVBQTEVfSUdOT1JFX0VWRU5UUzpcIm1kbC1qcy1yaXBwbGUtZWZmZWN0LS1pZ25vcmUtZXZlbnRzXCIsUklQUExFX0NPTlRBSU5FUjpcIm1kbC1zd2l0Y2hfX3JpcHBsZS1jb250YWluZXJcIixSSVBQTEVfQ0VOVEVSOlwibWRsLXJpcHBsZS0tY2VudGVyXCIsUklQUExFOlwibWRsLXJpcHBsZVwiLElTX0ZPQ1VTRUQ6XCJpcy1mb2N1c2VkXCIsSVNfRElTQUJMRUQ6XCJpcy1kaXNhYmxlZFwiLElTX0NIRUNLRUQ6XCJpcy1jaGVja2VkXCJ9LEUucHJvdG90eXBlLm9uQ2hhbmdlXz1mdW5jdGlvbihlKXt0aGlzLnVwZGF0ZUNsYXNzZXNfKCl9LEUucHJvdG90eXBlLm9uRm9jdXNfPWZ1bmN0aW9uKGUpe3RoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLklTX0ZPQ1VTRUQpfSxFLnByb3RvdHlwZS5vbkJsdXJfPWZ1bmN0aW9uKGUpe3RoaXMuZWxlbWVudF8uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNzc0NsYXNzZXNfLklTX0ZPQ1VTRUQpfSxFLnByb3RvdHlwZS5vbk1vdXNlVXBfPWZ1bmN0aW9uKGUpe3RoaXMuYmx1cl8oKX0sRS5wcm90b3R5cGUudXBkYXRlQ2xhc3Nlc189ZnVuY3Rpb24oKXt0aGlzLmNoZWNrRGlzYWJsZWQoKSx0aGlzLmNoZWNrVG9nZ2xlU3RhdGUoKX0sRS5wcm90b3R5cGUuYmx1cl89ZnVuY3Rpb24oKXt3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe3RoaXMuaW5wdXRFbGVtZW50Xy5ibHVyKCl9LmJpbmQodGhpcyksdGhpcy5Db25zdGFudF8uVElOWV9USU1FT1VUKX0sRS5wcm90b3R5cGUuY2hlY2tEaXNhYmxlZD1mdW5jdGlvbigpe3RoaXMuaW5wdXRFbGVtZW50Xy5kaXNhYmxlZD90aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5JU19ESVNBQkxFRCk6dGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfRElTQUJMRUQpfSxFLnByb3RvdHlwZS5jaGVja0Rpc2FibGVkPUUucHJvdG90eXBlLmNoZWNrRGlzYWJsZWQsRS5wcm90b3R5cGUuY2hlY2tUb2dnbGVTdGF0ZT1mdW5jdGlvbigpe3RoaXMuaW5wdXRFbGVtZW50Xy5jaGVja2VkP3RoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLklTX0NIRUNLRUQpOnRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNzc0NsYXNzZXNfLklTX0NIRUNLRUQpfSxFLnByb3RvdHlwZS5jaGVja1RvZ2dsZVN0YXRlPUUucHJvdG90eXBlLmNoZWNrVG9nZ2xlU3RhdGUsRS5wcm90b3R5cGUuZGlzYWJsZT1mdW5jdGlvbigpe3RoaXMuaW5wdXRFbGVtZW50Xy5kaXNhYmxlZD0hMCx0aGlzLnVwZGF0ZUNsYXNzZXNfKCl9LEUucHJvdG90eXBlLmRpc2FibGU9RS5wcm90b3R5cGUuZGlzYWJsZSxFLnByb3RvdHlwZS5lbmFibGU9ZnVuY3Rpb24oKXt0aGlzLmlucHV0RWxlbWVudF8uZGlzYWJsZWQ9ITEsdGhpcy51cGRhdGVDbGFzc2VzXygpfSxFLnByb3RvdHlwZS5lbmFibGU9RS5wcm90b3R5cGUuZW5hYmxlLEUucHJvdG90eXBlLm9uPWZ1bmN0aW9uKCl7dGhpcy5pbnB1dEVsZW1lbnRfLmNoZWNrZWQ9ITAsdGhpcy51cGRhdGVDbGFzc2VzXygpfSxFLnByb3RvdHlwZS5vbj1FLnByb3RvdHlwZS5vbixFLnByb3RvdHlwZS5vZmY9ZnVuY3Rpb24oKXt0aGlzLmlucHV0RWxlbWVudF8uY2hlY2tlZD0hMSx0aGlzLnVwZGF0ZUNsYXNzZXNfKCl9LEUucHJvdG90eXBlLm9mZj1FLnByb3RvdHlwZS5vZmYsRS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe2lmKHRoaXMuZWxlbWVudF8pe3RoaXMuaW5wdXRFbGVtZW50Xz10aGlzLmVsZW1lbnRfLnF1ZXJ5U2VsZWN0b3IoXCIuXCIrdGhpcy5Dc3NDbGFzc2VzXy5JTlBVVCk7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtlLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5UUkFDSyk7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTt0LmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5USFVNQik7dmFyIHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7aWYocy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uRk9DVVNfSEVMUEVSKSx0LmFwcGVuZENoaWxkKHMpLHRoaXMuZWxlbWVudF8uYXBwZW5kQ2hpbGQoZSksdGhpcy5lbGVtZW50Xy5hcHBlbmRDaGlsZCh0KSx0aGlzLmJvdW5kTW91c2VVcEhhbmRsZXI9dGhpcy5vbk1vdXNlVXBfLmJpbmQodGhpcyksdGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuY29udGFpbnModGhpcy5Dc3NDbGFzc2VzXy5SSVBQTEVfRUZGRUNUKSl7dGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uUklQUExFX0lHTk9SRV9FVkVOVFMpLHRoaXMucmlwcGxlQ29udGFpbmVyRWxlbWVudF89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIiksdGhpcy5yaXBwbGVDb250YWluZXJFbGVtZW50Xy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uUklQUExFX0NPTlRBSU5FUiksdGhpcy5yaXBwbGVDb250YWluZXJFbGVtZW50Xy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uUklQUExFX0VGRkVDVCksdGhpcy5yaXBwbGVDb250YWluZXJFbGVtZW50Xy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uUklQUExFX0NFTlRFUiksdGhpcy5yaXBwbGVDb250YWluZXJFbGVtZW50Xy5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLHRoaXMuYm91bmRNb3VzZVVwSGFuZGxlcik7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7aS5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uUklQUExFKSx0aGlzLnJpcHBsZUNvbnRhaW5lckVsZW1lbnRfLmFwcGVuZENoaWxkKGkpLHRoaXMuZWxlbWVudF8uYXBwZW5kQ2hpbGQodGhpcy5yaXBwbGVDb250YWluZXJFbGVtZW50Xyl9dGhpcy5ib3VuZENoYW5nZUhhbmRsZXI9dGhpcy5vbkNoYW5nZV8uYmluZCh0aGlzKSx0aGlzLmJvdW5kRm9jdXNIYW5kbGVyPXRoaXMub25Gb2N1c18uYmluZCh0aGlzKSx0aGlzLmJvdW5kQmx1ckhhbmRsZXI9dGhpcy5vbkJsdXJfLmJpbmQodGhpcyksdGhpcy5pbnB1dEVsZW1lbnRfLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIix0aGlzLmJvdW5kQ2hhbmdlSGFuZGxlciksdGhpcy5pbnB1dEVsZW1lbnRfLmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLHRoaXMuYm91bmRGb2N1c0hhbmRsZXIpLHRoaXMuaW5wdXRFbGVtZW50Xy5hZGRFdmVudExpc3RlbmVyKFwiYmx1clwiLHRoaXMuYm91bmRCbHVySGFuZGxlciksdGhpcy5lbGVtZW50Xy5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLHRoaXMuYm91bmRNb3VzZVVwSGFuZGxlciksdGhpcy51cGRhdGVDbGFzc2VzXygpLHRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmFkZChcImlzLXVwZ3JhZGVkXCIpfX0scy5yZWdpc3Rlcih7Y29uc3RydWN0b3I6RSxjbGFzc0FzU3RyaW5nOlwiTWF0ZXJpYWxTd2l0Y2hcIixjc3NDbGFzczpcIm1kbC1qcy1zd2l0Y2hcIix3aWRnZXQ6ITB9KTt2YXIgbT1mdW5jdGlvbihlKXt0aGlzLmVsZW1lbnRfPWUsdGhpcy5pbml0KCl9O3dpbmRvdy5NYXRlcmlhbFRhYnM9bSxtLnByb3RvdHlwZS5Db25zdGFudF89e30sbS5wcm90b3R5cGUuQ3NzQ2xhc3Nlc189e1RBQl9DTEFTUzpcIm1kbC10YWJzX190YWJcIixQQU5FTF9DTEFTUzpcIm1kbC10YWJzX19wYW5lbFwiLEFDVElWRV9DTEFTUzpcImlzLWFjdGl2ZVwiLFVQR1JBREVEX0NMQVNTOlwiaXMtdXBncmFkZWRcIixNRExfSlNfUklQUExFX0VGRkVDVDpcIm1kbC1qcy1yaXBwbGUtZWZmZWN0XCIsTURMX1JJUFBMRV9DT05UQUlORVI6XCJtZGwtdGFic19fcmlwcGxlLWNvbnRhaW5lclwiLE1ETF9SSVBQTEU6XCJtZGwtcmlwcGxlXCIsTURMX0pTX1JJUFBMRV9FRkZFQ1RfSUdOT1JFX0VWRU5UUzpcIm1kbC1qcy1yaXBwbGUtZWZmZWN0LS1pZ25vcmUtZXZlbnRzXCJ9LG0ucHJvdG90eXBlLmluaXRUYWJzXz1mdW5jdGlvbigpe3RoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuQ3NzQ2xhc3Nlc18uTURMX0pTX1JJUFBMRV9FRkZFQ1QpJiZ0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5NRExfSlNfUklQUExFX0VGRkVDVF9JR05PUkVfRVZFTlRTKSx0aGlzLnRhYnNfPXRoaXMuZWxlbWVudF8ucXVlcnlTZWxlY3RvckFsbChcIi5cIit0aGlzLkNzc0NsYXNzZXNfLlRBQl9DTEFTUyksdGhpcy5wYW5lbHNfPXRoaXMuZWxlbWVudF8ucXVlcnlTZWxlY3RvckFsbChcIi5cIit0aGlzLkNzc0NsYXNzZXNfLlBBTkVMX0NMQVNTKTtmb3IodmFyIHQ9MDt0PHRoaXMudGFic18ubGVuZ3RoO3QrKyluZXcgZSh0aGlzLnRhYnNfW3RdLHRoaXMpO3RoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLlVQR1JBREVEX0NMQVNTKX0sbS5wcm90b3R5cGUucmVzZXRUYWJTdGF0ZV89ZnVuY3Rpb24oKXtmb3IodmFyIGU9MDtlPHRoaXMudGFic18ubGVuZ3RoO2UrKyl0aGlzLnRhYnNfW2VdLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5Dc3NDbGFzc2VzXy5BQ1RJVkVfQ0xBU1MpfSxtLnByb3RvdHlwZS5yZXNldFBhbmVsU3RhdGVfPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPTA7ZTx0aGlzLnBhbmVsc18ubGVuZ3RoO2UrKyl0aGlzLnBhbmVsc19bZV0uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNzc0NsYXNzZXNfLkFDVElWRV9DTEFTUyl9LG0ucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnRfJiZ0aGlzLmluaXRUYWJzXygpfSxzLnJlZ2lzdGVyKHtjb25zdHJ1Y3RvcjptLGNsYXNzQXNTdHJpbmc6XCJNYXRlcmlhbFRhYnNcIixjc3NDbGFzczpcIm1kbC1qcy10YWJzXCJ9KTt2YXIgTD1mdW5jdGlvbihlKXt0aGlzLmVsZW1lbnRfPWUsdGhpcy5tYXhSb3dzPXRoaXMuQ29uc3RhbnRfLk5PX01BWF9ST1dTLHRoaXMuaW5pdCgpfTt3aW5kb3cuTWF0ZXJpYWxUZXh0ZmllbGQ9TCxMLnByb3RvdHlwZS5Db25zdGFudF89e05PX01BWF9ST1dTOi0xLE1BWF9ST1dTX0FUVFJJQlVURTpcIm1heHJvd3NcIn0sTC5wcm90b3R5cGUuQ3NzQ2xhc3Nlc189e0xBQkVMOlwibWRsLXRleHRmaWVsZF9fbGFiZWxcIixJTlBVVDpcIm1kbC10ZXh0ZmllbGRfX2lucHV0XCIsSVNfRElSVFk6XCJpcy1kaXJ0eVwiLElTX0ZPQ1VTRUQ6XCJpcy1mb2N1c2VkXCIsSVNfRElTQUJMRUQ6XCJpcy1kaXNhYmxlZFwiLElTX0lOVkFMSUQ6XCJpcy1pbnZhbGlkXCIsSVNfVVBHUkFERUQ6XCJpcy11cGdyYWRlZFwifSxMLnByb3RvdHlwZS5vbktleURvd25fPWZ1bmN0aW9uKGUpe3ZhciB0PWUudGFyZ2V0LnZhbHVlLnNwbGl0KFwiXFxuXCIpLmxlbmd0aDsxMz09PWUua2V5Q29kZSYmdD49dGhpcy5tYXhSb3dzJiZlLnByZXZlbnREZWZhdWx0KCl9LEwucHJvdG90eXBlLm9uRm9jdXNfPWZ1bmN0aW9uKGUpe3RoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLklTX0ZPQ1VTRUQpfSxMLnByb3RvdHlwZS5vbkJsdXJfPWZ1bmN0aW9uKGUpe3RoaXMuZWxlbWVudF8uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNzc0NsYXNzZXNfLklTX0ZPQ1VTRUQpfSxMLnByb3RvdHlwZS5vblJlc2V0Xz1mdW5jdGlvbihlKXt0aGlzLnVwZGF0ZUNsYXNzZXNfKCl9LEwucHJvdG90eXBlLnVwZGF0ZUNsYXNzZXNfPWZ1bmN0aW9uKCl7dGhpcy5jaGVja0Rpc2FibGVkKCksdGhpcy5jaGVja1ZhbGlkaXR5KCksdGhpcy5jaGVja0RpcnR5KCksdGhpcy5jaGVja0ZvY3VzKCl9LEwucHJvdG90eXBlLmNoZWNrRGlzYWJsZWQ9ZnVuY3Rpb24oKXt0aGlzLmlucHV0Xy5kaXNhYmxlZD90aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5JU19ESVNBQkxFRCk6dGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfRElTQUJMRUQpfSxMLnByb3RvdHlwZS5jaGVja0Rpc2FibGVkPUwucHJvdG90eXBlLmNoZWNrRGlzYWJsZWQsTC5wcm90b3R5cGUuY2hlY2tGb2N1cz1mdW5jdGlvbigpe0Jvb2xlYW4odGhpcy5lbGVtZW50Xy5xdWVyeVNlbGVjdG9yKFwiOmZvY3VzXCIpKT90aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5JU19GT0NVU0VEKTp0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5Dc3NDbGFzc2VzXy5JU19GT0NVU0VEKX0sTC5wcm90b3R5cGUuY2hlY2tGb2N1cz1MLnByb3RvdHlwZS5jaGVja0ZvY3VzLEwucHJvdG90eXBlLmNoZWNrVmFsaWRpdHk9ZnVuY3Rpb24oKXt0aGlzLmlucHV0Xy52YWxpZGl0eSYmKHRoaXMuaW5wdXRfLnZhbGlkaXR5LnZhbGlkP3RoaXMuZWxlbWVudF8uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNzc0NsYXNzZXNfLklTX0lOVkFMSUQpOnRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLklTX0lOVkFMSUQpKX0sTC5wcm90b3R5cGUuY2hlY2tWYWxpZGl0eT1MLnByb3RvdHlwZS5jaGVja1ZhbGlkaXR5LEwucHJvdG90eXBlLmNoZWNrRGlydHk9ZnVuY3Rpb24oKXt0aGlzLmlucHV0Xy52YWx1ZSYmdGhpcy5pbnB1dF8udmFsdWUubGVuZ3RoPjA/dGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfRElSVFkpOnRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNzc0NsYXNzZXNfLklTX0RJUlRZKX0sTC5wcm90b3R5cGUuY2hlY2tEaXJ0eT1MLnByb3RvdHlwZS5jaGVja0RpcnR5LEwucHJvdG90eXBlLmRpc2FibGU9ZnVuY3Rpb24oKXt0aGlzLmlucHV0Xy5kaXNhYmxlZD0hMCx0aGlzLnVwZGF0ZUNsYXNzZXNfKCl9LEwucHJvdG90eXBlLmRpc2FibGU9TC5wcm90b3R5cGUuZGlzYWJsZSxMLnByb3RvdHlwZS5lbmFibGU9ZnVuY3Rpb24oKXt0aGlzLmlucHV0Xy5kaXNhYmxlZD0hMSx0aGlzLnVwZGF0ZUNsYXNzZXNfKCl9LEwucHJvdG90eXBlLmVuYWJsZT1MLnByb3RvdHlwZS5lbmFibGUsTC5wcm90b3R5cGUuY2hhbmdlPWZ1bmN0aW9uKGUpe3RoaXMuaW5wdXRfLnZhbHVlPWV8fFwiXCIsdGhpcy51cGRhdGVDbGFzc2VzXygpfSxMLnByb3RvdHlwZS5jaGFuZ2U9TC5wcm90b3R5cGUuY2hhbmdlLEwucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXtpZih0aGlzLmVsZW1lbnRfJiYodGhpcy5sYWJlbF89dGhpcy5lbGVtZW50Xy5xdWVyeVNlbGVjdG9yKFwiLlwiK3RoaXMuQ3NzQ2xhc3Nlc18uTEFCRUwpLHRoaXMuaW5wdXRfPXRoaXMuZWxlbWVudF8ucXVlcnlTZWxlY3RvcihcIi5cIit0aGlzLkNzc0NsYXNzZXNfLklOUFVUKSx0aGlzLmlucHV0Xykpe3RoaXMuaW5wdXRfLmhhc0F0dHJpYnV0ZSh0aGlzLkNvbnN0YW50Xy5NQVhfUk9XU19BVFRSSUJVVEUpJiYodGhpcy5tYXhSb3dzPXBhcnNlSW50KHRoaXMuaW5wdXRfLmdldEF0dHJpYnV0ZSh0aGlzLkNvbnN0YW50Xy5NQVhfUk9XU19BVFRSSUJVVEUpLDEwKSxpc05hTih0aGlzLm1heFJvd3MpJiYodGhpcy5tYXhSb3dzPXRoaXMuQ29uc3RhbnRfLk5PX01BWF9ST1dTKSksdGhpcy5ib3VuZFVwZGF0ZUNsYXNzZXNIYW5kbGVyPXRoaXMudXBkYXRlQ2xhc3Nlc18uYmluZCh0aGlzKSx0aGlzLmJvdW5kRm9jdXNIYW5kbGVyPXRoaXMub25Gb2N1c18uYmluZCh0aGlzKSx0aGlzLmJvdW5kQmx1ckhhbmRsZXI9dGhpcy5vbkJsdXJfLmJpbmQodGhpcyksdGhpcy5ib3VuZFJlc2V0SGFuZGxlcj10aGlzLm9uUmVzZXRfLmJpbmQodGhpcyksdGhpcy5pbnB1dF8uYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsdGhpcy5ib3VuZFVwZGF0ZUNsYXNzZXNIYW5kbGVyKSx0aGlzLmlucHV0Xy5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNcIix0aGlzLmJvdW5kRm9jdXNIYW5kbGVyKSx0aGlzLmlucHV0Xy5hZGRFdmVudExpc3RlbmVyKFwiYmx1clwiLHRoaXMuYm91bmRCbHVySGFuZGxlciksdGhpcy5pbnB1dF8uYWRkRXZlbnRMaXN0ZW5lcihcInJlc2V0XCIsdGhpcy5ib3VuZFJlc2V0SGFuZGxlciksdGhpcy5tYXhSb3dzIT09dGhpcy5Db25zdGFudF8uTk9fTUFYX1JPV1MmJih0aGlzLmJvdW5kS2V5RG93bkhhbmRsZXI9dGhpcy5vbktleURvd25fLmJpbmQodGhpcyksdGhpcy5pbnB1dF8uYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIix0aGlzLmJvdW5kS2V5RG93bkhhbmRsZXIpKTt2YXIgZT10aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLkNzc0NsYXNzZXNfLklTX0lOVkFMSUQpO3RoaXMudXBkYXRlQ2xhc3Nlc18oKSx0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5JU19VUEdSQURFRCksZSYmdGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfSU5WQUxJRCksdGhpcy5pbnB1dF8uaGFzQXR0cmlidXRlKFwiYXV0b2ZvY3VzXCIpJiYodGhpcy5lbGVtZW50Xy5mb2N1cygpLHRoaXMuY2hlY2tGb2N1cygpKX19LHMucmVnaXN0ZXIoe2NvbnN0cnVjdG9yOkwsY2xhc3NBc1N0cmluZzpcIk1hdGVyaWFsVGV4dGZpZWxkXCIsY3NzQ2xhc3M6XCJtZGwtanMtdGV4dGZpZWxkXCIsd2lkZ2V0OiEwfSk7dmFyIEk9ZnVuY3Rpb24oZSl7dGhpcy5lbGVtZW50Xz1lLHRoaXMuaW5pdCgpfTt3aW5kb3cuTWF0ZXJpYWxUb29sdGlwPUksSS5wcm90b3R5cGUuQ29uc3RhbnRfPXt9LEkucHJvdG90eXBlLkNzc0NsYXNzZXNfPXtJU19BQ1RJVkU6XCJpcy1hY3RpdmVcIixCT1RUT006XCJtZGwtdG9vbHRpcC0tYm90dG9tXCIsTEVGVDpcIm1kbC10b29sdGlwLS1sZWZ0XCIsUklHSFQ6XCJtZGwtdG9vbHRpcC0tcmlnaHRcIixUT1A6XCJtZGwtdG9vbHRpcC0tdG9wXCJ9LEkucHJvdG90eXBlLmhhbmRsZU1vdXNlRW50ZXJfPWZ1bmN0aW9uKGUpe3ZhciB0PWUudGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHM9dC5sZWZ0K3Qud2lkdGgvMixpPXQudG9wK3QuaGVpZ2h0LzIsbj0tMSoodGhpcy5lbGVtZW50Xy5vZmZzZXRXaWR0aC8yKSxhPS0xKih0aGlzLmVsZW1lbnRfLm9mZnNldEhlaWdodC8yKTt0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLkNzc0NsYXNzZXNfLkxFRlQpfHx0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLkNzc0NsYXNzZXNfLlJJR0hUKT8ocz10LndpZHRoLzIsMD5pK2E/KHRoaXMuZWxlbWVudF8uc3R5bGUudG9wPTAsdGhpcy5lbGVtZW50Xy5zdHlsZS5tYXJnaW5Ub3A9MCk6KHRoaXMuZWxlbWVudF8uc3R5bGUudG9wPWkrXCJweFwiLHRoaXMuZWxlbWVudF8uc3R5bGUubWFyZ2luVG9wPWErXCJweFwiKSk6MD5zK24/KHRoaXMuZWxlbWVudF8uc3R5bGUubGVmdD0wLHRoaXMuZWxlbWVudF8uc3R5bGUubWFyZ2luTGVmdD0wKToodGhpcy5lbGVtZW50Xy5zdHlsZS5sZWZ0PXMrXCJweFwiLHRoaXMuZWxlbWVudF8uc3R5bGUubWFyZ2luTGVmdD1uK1wicHhcIiksdGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuY29udGFpbnModGhpcy5Dc3NDbGFzc2VzXy5UT1ApP3RoaXMuZWxlbWVudF8uc3R5bGUudG9wPXQudG9wLXRoaXMuZWxlbWVudF8ub2Zmc2V0SGVpZ2h0LTEwK1wicHhcIjp0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLkNzc0NsYXNzZXNfLlJJR0hUKT90aGlzLmVsZW1lbnRfLnN0eWxlLmxlZnQ9dC5sZWZ0K3Qud2lkdGgrMTArXCJweFwiOnRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuQ3NzQ2xhc3Nlc18uTEVGVCk/dGhpcy5lbGVtZW50Xy5zdHlsZS5sZWZ0PXQubGVmdC10aGlzLmVsZW1lbnRfLm9mZnNldFdpZHRoLTEwK1wicHhcIjp0aGlzLmVsZW1lbnRfLnN0eWxlLnRvcD10LnRvcCt0LmhlaWdodCsxMCtcInB4XCIsdGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfQUNUSVZFKX0sSS5wcm90b3R5cGUuaGFuZGxlTW91c2VMZWF2ZV89ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5Dc3NDbGFzc2VzXy5JU19BQ1RJVkUpfSxJLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7aWYodGhpcy5lbGVtZW50Xyl7dmFyIGU9dGhpcy5lbGVtZW50Xy5nZXRBdHRyaWJ1dGUoXCJmb3JcIik7ZSYmKHRoaXMuZm9yRWxlbWVudF89ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZSkpLHRoaXMuZm9yRWxlbWVudF8mJih0aGlzLmZvckVsZW1lbnRfLmhhc0F0dHJpYnV0ZShcInRhYmluZGV4XCIpfHx0aGlzLmZvckVsZW1lbnRfLnNldEF0dHJpYnV0ZShcInRhYmluZGV4XCIsXCIwXCIpLHRoaXMuYm91bmRNb3VzZUVudGVySGFuZGxlcj10aGlzLmhhbmRsZU1vdXNlRW50ZXJfLmJpbmQodGhpcyksdGhpcy5ib3VuZE1vdXNlTGVhdmVIYW5kbGVyPXRoaXMuaGFuZGxlTW91c2VMZWF2ZV8uYmluZCh0aGlzKSx0aGlzLmZvckVsZW1lbnRfLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWVudGVyXCIsdGhpcy5ib3VuZE1vdXNlRW50ZXJIYW5kbGVyLCExKSx0aGlzLmZvckVsZW1lbnRfLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLHRoaXMuYm91bmRNb3VzZUVudGVySGFuZGxlciwhMSksdGhpcy5mb3JFbGVtZW50Xy5hZGRFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLHRoaXMuYm91bmRNb3VzZUxlYXZlSGFuZGxlciwhMSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsdGhpcy5ib3VuZE1vdXNlTGVhdmVIYW5kbGVyKSl9fSxzLnJlZ2lzdGVyKHtjb25zdHJ1Y3RvcjpJLGNsYXNzQXNTdHJpbmc6XCJNYXRlcmlhbFRvb2x0aXBcIixjc3NDbGFzczpcIm1kbC10b29sdGlwXCJ9KTt2YXIgZj1mdW5jdGlvbihlKXt0aGlzLmVsZW1lbnRfPWUsdGhpcy5pbml0KCl9O3dpbmRvdy5NYXRlcmlhbExheW91dD1mLGYucHJvdG90eXBlLkNvbnN0YW50Xz17TUFYX1dJRFRIOlwiKG1heC13aWR0aDogMTAyNHB4KVwiLFRBQl9TQ1JPTExfUElYRUxTOjEwMCxNRU5VX0lDT046XCImI3hFNUQyO1wiLENIRVZST05fTEVGVDpcImNoZXZyb25fbGVmdFwiLENIRVZST05fUklHSFQ6XCJjaGV2cm9uX3JpZ2h0XCJ9LGYucHJvdG90eXBlLktleWNvZGVzXz17RU5URVI6MTMsRVNDQVBFOjI3LFNQQUNFOjMyfSxmLnByb3RvdHlwZS5Nb2RlXz17U1RBTkRBUkQ6MCxTRUFNRUQ6MSxXQVRFUkZBTEw6MixTQ1JPTEw6M30sZi5wcm90b3R5cGUuQ3NzQ2xhc3Nlc189e0NPTlRBSU5FUjpcIm1kbC1sYXlvdXRfX2NvbnRhaW5lclwiLEhFQURFUjpcIm1kbC1sYXlvdXRfX2hlYWRlclwiLERSQVdFUjpcIm1kbC1sYXlvdXRfX2RyYXdlclwiLENPTlRFTlQ6XCJtZGwtbGF5b3V0X19jb250ZW50XCIsRFJBV0VSX0JUTjpcIm1kbC1sYXlvdXRfX2RyYXdlci1idXR0b25cIixJQ09OOlwibWF0ZXJpYWwtaWNvbnNcIixKU19SSVBQTEVfRUZGRUNUOlwibWRsLWpzLXJpcHBsZS1lZmZlY3RcIixSSVBQTEVfQ09OVEFJTkVSOlwibWRsLWxheW91dF9fdGFiLXJpcHBsZS1jb250YWluZXJcIixSSVBQTEU6XCJtZGwtcmlwcGxlXCIsUklQUExFX0lHTk9SRV9FVkVOVFM6XCJtZGwtanMtcmlwcGxlLWVmZmVjdC0taWdub3JlLWV2ZW50c1wiLEhFQURFUl9TRUFNRUQ6XCJtZGwtbGF5b3V0X19oZWFkZXItLXNlYW1lZFwiLEhFQURFUl9XQVRFUkZBTEw6XCJtZGwtbGF5b3V0X19oZWFkZXItLXdhdGVyZmFsbFwiLEhFQURFUl9TQ1JPTEw6XCJtZGwtbGF5b3V0X19oZWFkZXItLXNjcm9sbFwiLEZJWEVEX0hFQURFUjpcIm1kbC1sYXlvdXQtLWZpeGVkLWhlYWRlclwiLE9CRlVTQ0FUT1I6XCJtZGwtbGF5b3V0X19vYmZ1c2NhdG9yXCIsVEFCX0JBUjpcIm1kbC1sYXlvdXRfX3RhYi1iYXJcIixUQUJfQ09OVEFJTkVSOlwibWRsLWxheW91dF9fdGFiLWJhci1jb250YWluZXJcIixUQUI6XCJtZGwtbGF5b3V0X190YWJcIixUQUJfQkFSX0JVVFRPTjpcIm1kbC1sYXlvdXRfX3RhYi1iYXItYnV0dG9uXCIsVEFCX0JBUl9MRUZUX0JVVFRPTjpcIm1kbC1sYXlvdXRfX3RhYi1iYXItbGVmdC1idXR0b25cIixUQUJfQkFSX1JJR0hUX0JVVFRPTjpcIm1kbC1sYXlvdXRfX3RhYi1iYXItcmlnaHQtYnV0dG9uXCIsUEFORUw6XCJtZGwtbGF5b3V0X190YWItcGFuZWxcIixIQVNfRFJBV0VSOlwiaGFzLWRyYXdlclwiLEhBU19UQUJTOlwiaGFzLXRhYnNcIixIQVNfU0NST0xMSU5HX0hFQURFUjpcImhhcy1zY3JvbGxpbmctaGVhZGVyXCIsQ0FTVElOR19TSEFET1c6XCJpcy1jYXN0aW5nLXNoYWRvd1wiLElTX0NPTVBBQ1Q6XCJpcy1jb21wYWN0XCIsSVNfU01BTExfU0NSRUVOOlwiaXMtc21hbGwtc2NyZWVuXCIsSVNfRFJBV0VSX09QRU46XCJpcy12aXNpYmxlXCIsSVNfQUNUSVZFOlwiaXMtYWN0aXZlXCIsSVNfVVBHUkFERUQ6XCJpcy11cGdyYWRlZFwiLElTX0FOSU1BVElORzpcImlzLWFuaW1hdGluZ1wiLE9OX0xBUkdFX1NDUkVFTjpcIm1kbC1sYXlvdXQtLWxhcmdlLXNjcmVlbi1vbmx5XCIsT05fU01BTExfU0NSRUVOOlwibWRsLWxheW91dC0tc21hbGwtc2NyZWVuLW9ubHlcIn0sZi5wcm90b3R5cGUuY29udGVudFNjcm9sbEhhbmRsZXJfPWZ1bmN0aW9uKCl7dGhpcy5oZWFkZXJfLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLkNzc0NsYXNzZXNfLklTX0FOSU1BVElORyl8fCh0aGlzLmNvbnRlbnRfLnNjcm9sbFRvcD4wJiYhdGhpcy5oZWFkZXJfLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLkNzc0NsYXNzZXNfLklTX0NPTVBBQ1QpPyh0aGlzLmhlYWRlcl8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLkNBU1RJTkdfU0hBRE9XKSx0aGlzLmhlYWRlcl8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLklTX0NPTVBBQ1QpLHRoaXMuaGVhZGVyXy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfQU5JTUFUSU5HKSk6dGhpcy5jb250ZW50Xy5zY3JvbGxUb3A8PTAmJnRoaXMuaGVhZGVyXy5jbGFzc0xpc3QuY29udGFpbnModGhpcy5Dc3NDbGFzc2VzXy5JU19DT01QQUNUKSYmKHRoaXMuaGVhZGVyXy5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ3NzQ2xhc3Nlc18uQ0FTVElOR19TSEFET1cpLHRoaXMuaGVhZGVyXy5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfQ09NUEFDVCksdGhpcy5oZWFkZXJfLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5JU19BTklNQVRJTkcpKSl9LGYucHJvdG90eXBlLmtleWJvYXJkRXZlbnRIYW5kbGVyXz1mdW5jdGlvbihlKXtlLmtleUNvZGU9PT10aGlzLktleWNvZGVzXy5FU0NBUEUmJnRoaXMudG9nZ2xlRHJhd2VyKCl9LGYucHJvdG90eXBlLnNjcmVlblNpemVIYW5kbGVyXz1mdW5jdGlvbigpe3RoaXMuc2NyZWVuU2l6ZU1lZGlhUXVlcnlfLm1hdGNoZXM/dGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfU01BTExfU0NSRUVOKToodGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfU01BTExfU0NSRUVOKSx0aGlzLmRyYXdlcl8mJih0aGlzLmRyYXdlcl8uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNzc0NsYXNzZXNfLklTX0RSQVdFUl9PUEVOKSx0aGlzLm9iZnVzY2F0b3JfLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5Dc3NDbGFzc2VzXy5JU19EUkFXRVJfT1BFTikpKX0sZi5wcm90b3R5cGUuZHJhd2VyVG9nZ2xlSGFuZGxlcl89ZnVuY3Rpb24oZSl7aWYoZSYmXCJrZXlkb3duXCI9PT1lLnR5cGUpe2lmKGUua2V5Q29kZSE9PXRoaXMuS2V5Y29kZXNfLlNQQUNFJiZlLmtleUNvZGUhPT10aGlzLktleWNvZGVzXy5FTlRFUilyZXR1cm47ZS5wcmV2ZW50RGVmYXVsdCgpfXRoaXMudG9nZ2xlRHJhd2VyKCl9LGYucHJvdG90eXBlLmhlYWRlclRyYW5zaXRpb25FbmRIYW5kbGVyXz1mdW5jdGlvbigpe3RoaXMuaGVhZGVyXy5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfQU5JTUFUSU5HKX0sZi5wcm90b3R5cGUuaGVhZGVyQ2xpY2tIYW5kbGVyXz1mdW5jdGlvbigpe3RoaXMuaGVhZGVyXy5jbGFzc0xpc3QuY29udGFpbnModGhpcy5Dc3NDbGFzc2VzXy5JU19DT01QQUNUKSYmKHRoaXMuaGVhZGVyXy5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfQ09NUEFDVCksdGhpcy5oZWFkZXJfLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5JU19BTklNQVRJTkcpKX0sZi5wcm90b3R5cGUucmVzZXRUYWJTdGF0ZV89ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0KyspZVt0XS5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfQUNUSVZFKX0sZi5wcm90b3R5cGUucmVzZXRQYW5lbFN0YXRlXz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKyllW3RdLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5Dc3NDbGFzc2VzXy5JU19BQ1RJVkUpfSxmLnByb3RvdHlwZS50b2dnbGVEcmF3ZXI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmVsZW1lbnRfLnF1ZXJ5U2VsZWN0b3IoXCIuXCIrdGhpcy5Dc3NDbGFzc2VzXy5EUkFXRVJfQlROKTt0aGlzLmRyYXdlcl8uY2xhc3NMaXN0LnRvZ2dsZSh0aGlzLkNzc0NsYXNzZXNfLklTX0RSQVdFUl9PUEVOKSx0aGlzLm9iZnVzY2F0b3JfLmNsYXNzTGlzdC50b2dnbGUodGhpcy5Dc3NDbGFzc2VzXy5JU19EUkFXRVJfT1BFTiksdGhpcy5kcmF3ZXJfLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLkNzc0NsYXNzZXNfLklTX0RSQVdFUl9PUEVOKT8odGhpcy5kcmF3ZXJfLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsXCJmYWxzZVwiKSxlLnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIixcInRydWVcIikpOih0aGlzLmRyYXdlcl8uc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIixcInRydWVcIiksZS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsXCJmYWxzZVwiKSl9LGYucHJvdG90eXBlLnRvZ2dsZURyYXdlcj1mLnByb3RvdHlwZS50b2dnbGVEcmF3ZXIsZi5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe2lmKHRoaXMuZWxlbWVudF8pe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ZS5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uQ09OVEFJTkVSKSx0aGlzLmVsZW1lbnRfLnBhcmVudEVsZW1lbnQuaW5zZXJ0QmVmb3JlKGUsdGhpcy5lbGVtZW50XyksdGhpcy5lbGVtZW50Xy5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKHRoaXMuZWxlbWVudF8pLGUuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50Xyk7Zm9yKHZhciBzPXRoaXMuZWxlbWVudF8uY2hpbGROb2RlcyxpPXMubGVuZ3RoLG49MDtpPm47bisrKXt2YXIgYT1zW25dO2EuY2xhc3NMaXN0JiZhLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLkNzc0NsYXNzZXNfLkhFQURFUikmJih0aGlzLmhlYWRlcl89YSksYS5jbGFzc0xpc3QmJmEuY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuQ3NzQ2xhc3Nlc18uRFJBV0VSKSYmKHRoaXMuZHJhd2VyXz1hKSxhLmNsYXNzTGlzdCYmYS5jbGFzc0xpc3QuY29udGFpbnModGhpcy5Dc3NDbGFzc2VzXy5DT05URU5UKSYmKHRoaXMuY29udGVudF89YSl9d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJwYWdlc2hvd1wiLGZ1bmN0aW9uKGUpe2UucGVyc2lzdGVkJiYodGhpcy5lbGVtZW50Xy5zdHlsZS5vdmVyZmxvd1k9XCJoaWRkZW5cIixyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnRfLnN0eWxlLm92ZXJmbG93WT1cIlwifS5iaW5kKHRoaXMpKSl9LmJpbmQodGhpcyksITEpLHRoaXMuaGVhZGVyXyYmKHRoaXMudGFiQmFyXz10aGlzLmhlYWRlcl8ucXVlcnlTZWxlY3RvcihcIi5cIit0aGlzLkNzc0NsYXNzZXNfLlRBQl9CQVIpKTt2YXIgbD10aGlzLk1vZGVfLlNUQU5EQVJEO2lmKHRoaXMuaGVhZGVyXyYmKHRoaXMuaGVhZGVyXy5jbGFzc0xpc3QuY29udGFpbnModGhpcy5Dc3NDbGFzc2VzXy5IRUFERVJfU0VBTUVEKT9sPXRoaXMuTW9kZV8uU0VBTUVEOnRoaXMuaGVhZGVyXy5jbGFzc0xpc3QuY29udGFpbnModGhpcy5Dc3NDbGFzc2VzXy5IRUFERVJfV0FURVJGQUxMKT8obD10aGlzLk1vZGVfLldBVEVSRkFMTCx0aGlzLmhlYWRlcl8uYWRkRXZlbnRMaXN0ZW5lcihcInRyYW5zaXRpb25lbmRcIix0aGlzLmhlYWRlclRyYW5zaXRpb25FbmRIYW5kbGVyXy5iaW5kKHRoaXMpKSx0aGlzLmhlYWRlcl8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5oZWFkZXJDbGlja0hhbmRsZXJfLmJpbmQodGhpcykpKTp0aGlzLmhlYWRlcl8uY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuQ3NzQ2xhc3Nlc18uSEVBREVSX1NDUk9MTCkmJihsPXRoaXMuTW9kZV8uU0NST0xMLGUuY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLkhBU19TQ1JPTExJTkdfSEVBREVSKSksbD09PXRoaXMuTW9kZV8uU1RBTkRBUkQ/KHRoaXMuaGVhZGVyXy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uQ0FTVElOR19TSEFET1cpLHRoaXMudGFiQmFyXyYmdGhpcy50YWJCYXJfLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5DQVNUSU5HX1NIQURPVykpOmw9PT10aGlzLk1vZGVfLlNFQU1FRHx8bD09PXRoaXMuTW9kZV8uU0NST0xMPyh0aGlzLmhlYWRlcl8uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNzc0NsYXNzZXNfLkNBU1RJTkdfU0hBRE9XKSx0aGlzLnRhYkJhcl8mJnRoaXMudGFiQmFyXy5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ3NzQ2xhc3Nlc18uQ0FTVElOR19TSEFET1cpKTpsPT09dGhpcy5Nb2RlXy5XQVRFUkZBTEwmJih0aGlzLmNvbnRlbnRfLmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIix0aGlzLmNvbnRlbnRTY3JvbGxIYW5kbGVyXy5iaW5kKHRoaXMpKSx0aGlzLmNvbnRlbnRTY3JvbGxIYW5kbGVyXygpKSksdGhpcy5kcmF3ZXJfKXt2YXIgbz10aGlzLmVsZW1lbnRfLnF1ZXJ5U2VsZWN0b3IoXCIuXCIrdGhpcy5Dc3NDbGFzc2VzXy5EUkFXRVJfQlROKTtpZighbyl7bz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLG8uc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLFwiZmFsc2VcIiksby5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJidXR0b25cIiksby5zZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiLFwiMFwiKSxvLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5EUkFXRVJfQlROKTt2YXIgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaVwiKTtyLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5JQ09OKSxyLmlubmVySFRNTD10aGlzLkNvbnN0YW50Xy5NRU5VX0lDT04sby5hcHBlbmRDaGlsZChyKX10aGlzLmRyYXdlcl8uY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuQ3NzQ2xhc3Nlc18uT05fTEFSR0VfU0NSRUVOKT9vLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5PTl9MQVJHRV9TQ1JFRU4pOnRoaXMuZHJhd2VyXy5jbGFzc0xpc3QuY29udGFpbnModGhpcy5Dc3NDbGFzc2VzXy5PTl9TTUFMTF9TQ1JFRU4pJiZvLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5PTl9TTUFMTF9TQ1JFRU4pLG8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5kcmF3ZXJUb2dnbGVIYW5kbGVyXy5iaW5kKHRoaXMpKSxvLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsdGhpcy5kcmF3ZXJUb2dnbGVIYW5kbGVyXy5iaW5kKHRoaXMpKSx0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5IQVNfRFJBV0VSKSx0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLkNzc0NsYXNzZXNfLkZJWEVEX0hFQURFUik/dGhpcy5oZWFkZXJfLmluc2VydEJlZm9yZShvLHRoaXMuaGVhZGVyXy5maXJzdENoaWxkKTp0aGlzLmVsZW1lbnRfLmluc2VydEJlZm9yZShvLHRoaXMuY29udGVudF8pO3ZhciBfPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7Xy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uT0JGVVNDQVRPUiksdGhpcy5lbGVtZW50Xy5hcHBlbmRDaGlsZChfKSxfLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMuZHJhd2VyVG9nZ2xlSGFuZGxlcl8uYmluZCh0aGlzKSksdGhpcy5vYmZ1c2NhdG9yXz1fLHRoaXMuZHJhd2VyXy5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLHRoaXMua2V5Ym9hcmRFdmVudEhhbmRsZXJfLmJpbmQodGhpcykpLHRoaXMuZHJhd2VyXy5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLFwidHJ1ZVwiKX1pZih0aGlzLnNjcmVlblNpemVNZWRpYVF1ZXJ5Xz13aW5kb3cubWF0Y2hNZWRpYSh0aGlzLkNvbnN0YW50Xy5NQVhfV0lEVEgpLHRoaXMuc2NyZWVuU2l6ZU1lZGlhUXVlcnlfLmFkZExpc3RlbmVyKHRoaXMuc2NyZWVuU2l6ZUhhbmRsZXJfLmJpbmQodGhpcykpLHRoaXMuc2NyZWVuU2l6ZUhhbmRsZXJfKCksdGhpcy5oZWFkZXJfJiZ0aGlzLnRhYkJhcl8pe3RoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLkhBU19UQUJTKTt2YXIgZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2QuY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLlRBQl9DT05UQUlORVIpLHRoaXMuaGVhZGVyXy5pbnNlcnRCZWZvcmUoZCx0aGlzLnRhYkJhcl8pLHRoaXMuaGVhZGVyXy5yZW1vdmVDaGlsZCh0aGlzLnRhYkJhcl8pO3ZhciBoPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7aC5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uVEFCX0JBUl9CVVRUT04pLGguY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLlRBQl9CQVJfTEVGVF9CVVRUT04pO3ZhciBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpXCIpO2MuY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLklDT04pLGMudGV4dENvbnRlbnQ9dGhpcy5Db25zdGFudF8uQ0hFVlJPTl9MRUZULGguYXBwZW5kQ2hpbGQoYyksaC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbigpe3RoaXMudGFiQmFyXy5zY3JvbGxMZWZ0LT10aGlzLkNvbnN0YW50Xy5UQUJfU0NST0xMX1BJWEVMU30uYmluZCh0aGlzKSk7dmFyIHA9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtwLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5UQUJfQkFSX0JVVFRPTikscC5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uVEFCX0JBUl9SSUdIVF9CVVRUT04pO3ZhciBDPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpXCIpO0MuY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLklDT04pLEMudGV4dENvbnRlbnQ9dGhpcy5Db25zdGFudF8uQ0hFVlJPTl9SSUdIVCxwLmFwcGVuZENoaWxkKEMpLHAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oKXt0aGlzLnRhYkJhcl8uc2Nyb2xsTGVmdCs9dGhpcy5Db25zdGFudF8uVEFCX1NDUk9MTF9QSVhFTFN9LmJpbmQodGhpcykpLGQuYXBwZW5kQ2hpbGQoaCksZC5hcHBlbmRDaGlsZCh0aGlzLnRhYkJhcl8pLGQuYXBwZW5kQ2hpbGQocCk7dmFyIHU9ZnVuY3Rpb24oKXt0aGlzLnRhYkJhcl8uc2Nyb2xsTGVmdD4wP2guY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLklTX0FDVElWRSk6aC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfQUNUSVZFKSx0aGlzLnRhYkJhcl8uc2Nyb2xsTGVmdDx0aGlzLnRhYkJhcl8uc2Nyb2xsV2lkdGgtdGhpcy50YWJCYXJfLm9mZnNldFdpZHRoP3AuY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLklTX0FDVElWRSk6cC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfQUNUSVZFKX0uYmluZCh0aGlzKTt0aGlzLnRhYkJhcl8uYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLHUpLHUoKSx0aGlzLnRhYkJhcl8uY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuQ3NzQ2xhc3Nlc18uSlNfUklQUExFX0VGRkVDVCkmJnRoaXMudGFiQmFyXy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uUklQUExFX0lHTk9SRV9FVkVOVFMpO2Zvcih2YXIgRT10aGlzLnRhYkJhcl8ucXVlcnlTZWxlY3RvckFsbChcIi5cIit0aGlzLkNzc0NsYXNzZXNfLlRBQiksbT10aGlzLmNvbnRlbnRfLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuXCIrdGhpcy5Dc3NDbGFzc2VzXy5QQU5FTCksTD0wO0w8RS5sZW5ndGg7TCsrKW5ldyB0KEVbTF0sRSxtLHRoaXMpfXRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLklTX1VQR1JBREVEKX19LHdpbmRvdy5NYXRlcmlhbExheW91dFRhYj10LHMucmVnaXN0ZXIoe2NvbnN0cnVjdG9yOmYsY2xhc3NBc1N0cmluZzpcIk1hdGVyaWFsTGF5b3V0XCIsY3NzQ2xhc3M6XCJtZGwtanMtbGF5b3V0XCJ9KTt2YXIgYj1mdW5jdGlvbihlKXt0aGlzLmVsZW1lbnRfPWUsdGhpcy5pbml0KCl9O3dpbmRvdy5NYXRlcmlhbERhdGFUYWJsZT1iLGIucHJvdG90eXBlLkNvbnN0YW50Xz17fSxiLnByb3RvdHlwZS5Dc3NDbGFzc2VzXz17REFUQV9UQUJMRTpcIm1kbC1kYXRhLXRhYmxlXCIsU0VMRUNUQUJMRTpcIm1kbC1kYXRhLXRhYmxlLS1zZWxlY3RhYmxlXCIsU0VMRUNUX0VMRU1FTlQ6XCJtZGwtZGF0YS10YWJsZV9fc2VsZWN0XCIsSVNfU0VMRUNURUQ6XCJpcy1zZWxlY3RlZFwiLElTX1VQR1JBREVEOlwiaXMtdXBncmFkZWRcIn0sYi5wcm90b3R5cGUuc2VsZWN0Um93Xz1mdW5jdGlvbihlLHQscyl7cmV0dXJuIHQ/ZnVuY3Rpb24oKXtlLmNoZWNrZWQ/dC5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfU0VMRUNURUQpOnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNzc0NsYXNzZXNfLklTX1NFTEVDVEVEKX0uYmluZCh0aGlzKTpzP2Z1bmN0aW9uKCl7dmFyIHQsaTtpZihlLmNoZWNrZWQpZm9yKHQ9MDt0PHMubGVuZ3RoO3QrKylpPXNbdF0ucXVlcnlTZWxlY3RvcihcInRkXCIpLnF1ZXJ5U2VsZWN0b3IoXCIubWRsLWNoZWNrYm94XCIpLGkuTWF0ZXJpYWxDaGVja2JveC5jaGVjaygpLHNbdF0uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLklTX1NFTEVDVEVEKTtlbHNlIGZvcih0PTA7dDxzLmxlbmd0aDt0KyspaT1zW3RdLnF1ZXJ5U2VsZWN0b3IoXCJ0ZFwiKS5xdWVyeVNlbGVjdG9yKFwiLm1kbC1jaGVja2JveFwiKSxpLk1hdGVyaWFsQ2hlY2tib3gudW5jaGVjaygpLHNbdF0uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNzc0NsYXNzZXNfLklTX1NFTEVDVEVEKX0uYmluZCh0aGlzKTp2b2lkIDB9LGIucHJvdG90eXBlLmNyZWF0ZUNoZWNrYm94Xz1mdW5jdGlvbihlLHQpe3ZhciBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKSxuPVtcIm1kbC1jaGVja2JveFwiLFwibWRsLWpzLWNoZWNrYm94XCIsXCJtZGwtanMtcmlwcGxlLWVmZmVjdFwiLHRoaXMuQ3NzQ2xhc3Nlc18uU0VMRUNUX0VMRU1FTlRdO2kuY2xhc3NOYW1lPW4uam9pbihcIiBcIik7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO3JldHVybiBhLnR5cGU9XCJjaGVja2JveFwiLGEuY2xhc3NMaXN0LmFkZChcIm1kbC1jaGVja2JveF9faW5wdXRcIiksZT8oYS5jaGVja2VkPWUuY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfU0VMRUNURUQpLGEuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLHRoaXMuc2VsZWN0Um93XyhhLGUpKSk6dCYmYS5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsdGhpcy5zZWxlY3RSb3dfKGEsbnVsbCx0KSksaS5hcHBlbmRDaGlsZChhKSxzLnVwZ3JhZGVFbGVtZW50KGksXCJNYXRlcmlhbENoZWNrYm94XCIpLGl9LGIucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXtpZih0aGlzLmVsZW1lbnRfKXt2YXIgZT10aGlzLmVsZW1lbnRfLnF1ZXJ5U2VsZWN0b3IoXCJ0aFwiKSx0PUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuZWxlbWVudF8ucXVlcnlTZWxlY3RvckFsbChcInRib2R5IHRyXCIpKSxzPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuZWxlbWVudF8ucXVlcnlTZWxlY3RvckFsbChcInRmb290IHRyXCIpKSxpPXQuY29uY2F0KHMpO2lmKHRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuQ3NzQ2xhc3Nlc18uU0VMRUNUQUJMRSkpe3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0aFwiKSxhPXRoaXMuY3JlYXRlQ2hlY2tib3hfKG51bGwsaSk7bi5hcHBlbmRDaGlsZChhKSxlLnBhcmVudEVsZW1lbnQuaW5zZXJ0QmVmb3JlKG4sZSk7Zm9yKHZhciBsPTA7bDxpLmxlbmd0aDtsKyspe3ZhciBvPWlbbF0ucXVlcnlTZWxlY3RvcihcInRkXCIpO2lmKG8pe3ZhciByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtpZihcIlRCT0RZXCI9PT1pW2xdLnBhcmVudE5vZGUubm9kZU5hbWUudG9VcHBlckNhc2UoKSl7dmFyIF89dGhpcy5jcmVhdGVDaGVja2JveF8oaVtsXSk7ci5hcHBlbmRDaGlsZChfKX1pW2xdLmluc2VydEJlZm9yZShyLG8pfX10aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5JU19VUEdSQURFRCl9fX0scy5yZWdpc3Rlcih7Y29uc3RydWN0b3I6YixjbGFzc0FzU3RyaW5nOlwiTWF0ZXJpYWxEYXRhVGFibGVcIixjc3NDbGFzczpcIm1kbC1qcy1kYXRhLXRhYmxlXCJ9KTt2YXIgeT1mdW5jdGlvbihlKXt0aGlzLmVsZW1lbnRfPWUsdGhpcy5pbml0KCl9O3dpbmRvdy5NYXRlcmlhbFJpcHBsZT15LHkucHJvdG90eXBlLkNvbnN0YW50Xz17SU5JVElBTF9TQ0FMRTpcInNjYWxlKDAuMDAwMSwgMC4wMDAxKVwiLElOSVRJQUxfU0laRTpcIjFweFwiLElOSVRJQUxfT1BBQ0lUWTpcIjAuNFwiLEZJTkFMX09QQUNJVFk6XCIwXCIsRklOQUxfU0NBTEU6XCJcIn0seS5wcm90b3R5cGUuQ3NzQ2xhc3Nlc189e1JJUFBMRV9DRU5URVI6XCJtZGwtcmlwcGxlLS1jZW50ZXJcIixSSVBQTEVfRUZGRUNUX0lHTk9SRV9FVkVOVFM6XCJtZGwtanMtcmlwcGxlLWVmZmVjdC0taWdub3JlLWV2ZW50c1wiLFJJUFBMRTpcIm1kbC1yaXBwbGVcIixJU19BTklNQVRJTkc6XCJpcy1hbmltYXRpbmdcIixJU19WSVNJQkxFOlwiaXMtdmlzaWJsZVwifSx5LnByb3RvdHlwZS5kb3duSGFuZGxlcl89ZnVuY3Rpb24oZSl7aWYoIXRoaXMucmlwcGxlRWxlbWVudF8uc3R5bGUud2lkdGgmJiF0aGlzLnJpcHBsZUVsZW1lbnRfLnN0eWxlLmhlaWdodCl7dmFyIHQ9dGhpcy5lbGVtZW50Xy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTt0aGlzLmJvdW5kSGVpZ2h0PXQuaGVpZ2h0LHRoaXMuYm91bmRXaWR0aD10LndpZHRoLHRoaXMucmlwcGxlU2l6ZV89MipNYXRoLnNxcnQodC53aWR0aCp0LndpZHRoK3QuaGVpZ2h0KnQuaGVpZ2h0KSsyLHRoaXMucmlwcGxlRWxlbWVudF8uc3R5bGUud2lkdGg9dGhpcy5yaXBwbGVTaXplXytcInB4XCIsdGhpcy5yaXBwbGVFbGVtZW50Xy5zdHlsZS5oZWlnaHQ9dGhpcy5yaXBwbGVTaXplXytcInB4XCJ9aWYodGhpcy5yaXBwbGVFbGVtZW50Xy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfVklTSUJMRSksXCJtb3VzZWRvd25cIj09PWUudHlwZSYmdGhpcy5pZ25vcmluZ01vdXNlRG93bl8pdGhpcy5pZ25vcmluZ01vdXNlRG93bl89ITE7ZWxzZXtcInRvdWNoc3RhcnRcIj09PWUudHlwZSYmKHRoaXMuaWdub3JpbmdNb3VzZURvd25fPSEwKTt2YXIgcz10aGlzLmdldEZyYW1lQ291bnQoKTtpZihzPjApcmV0dXJuO3RoaXMuc2V0RnJhbWVDb3VudCgxKTt2YXIgaSxuLGE9ZS5jdXJyZW50VGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2lmKDA9PT1lLmNsaWVudFgmJjA9PT1lLmNsaWVudFkpaT1NYXRoLnJvdW5kKGEud2lkdGgvMiksbj1NYXRoLnJvdW5kKGEuaGVpZ2h0LzIpO2Vsc2V7dmFyIGw9ZS5jbGllbnRYP2UuY2xpZW50WDplLnRvdWNoZXNbMF0uY2xpZW50WCxvPWUuY2xpZW50WT9lLmNsaWVudFk6ZS50b3VjaGVzWzBdLmNsaWVudFk7aT1NYXRoLnJvdW5kKGwtYS5sZWZ0KSxuPU1hdGgucm91bmQoby1hLnRvcCl9dGhpcy5zZXRSaXBwbGVYWShpLG4pLHRoaXMuc2V0UmlwcGxlU3R5bGVzKCEwKSx3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbUZyYW1lSGFuZGxlci5iaW5kKHRoaXMpKX19LHkucHJvdG90eXBlLnVwSGFuZGxlcl89ZnVuY3Rpb24oZSl7ZSYmMiE9PWUuZGV0YWlsJiZ3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe3RoaXMucmlwcGxlRWxlbWVudF8uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNzc0NsYXNzZXNfLklTX1ZJU0lCTEUpfS5iaW5kKHRoaXMpLDApfSx5LnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7aWYodGhpcy5lbGVtZW50Xyl7dmFyIGU9dGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuY29udGFpbnModGhpcy5Dc3NDbGFzc2VzXy5SSVBQTEVfQ0VOVEVSKTt0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLkNzc0NsYXNzZXNfLlJJUFBMRV9FRkZFQ1RfSUdOT1JFX0VWRU5UUyl8fCh0aGlzLnJpcHBsZUVsZW1lbnRfPXRoaXMuZWxlbWVudF8ucXVlcnlTZWxlY3RvcihcIi5cIit0aGlzLkNzc0NsYXNzZXNfLlJJUFBMRSksdGhpcy5mcmFtZUNvdW50Xz0wLHRoaXMucmlwcGxlU2l6ZV89MCx0aGlzLnhfPTAsdGhpcy55Xz0wLHRoaXMuaWdub3JpbmdNb3VzZURvd25fPSExLHRoaXMuYm91bmREb3duSGFuZGxlcj10aGlzLmRvd25IYW5kbGVyXy5iaW5kKHRoaXMpLHRoaXMuZWxlbWVudF8uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLHRoaXMuYm91bmREb3duSGFuZGxlciksdGhpcy5lbGVtZW50Xy5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLHRoaXMuYm91bmREb3duSGFuZGxlciksdGhpcy5ib3VuZFVwSGFuZGxlcj10aGlzLnVwSGFuZGxlcl8uYmluZCh0aGlzKSx0aGlzLmVsZW1lbnRfLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsdGhpcy5ib3VuZFVwSGFuZGxlciksdGhpcy5lbGVtZW50Xy5hZGRFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLHRoaXMuYm91bmRVcEhhbmRsZXIpLHRoaXMuZWxlbWVudF8uYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsdGhpcy5ib3VuZFVwSGFuZGxlciksdGhpcy5lbGVtZW50Xy5hZGRFdmVudExpc3RlbmVyKFwiYmx1clwiLHRoaXMuYm91bmRVcEhhbmRsZXIpLHRoaXMuZ2V0RnJhbWVDb3VudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZyYW1lQ291bnRffSx0aGlzLnNldEZyYW1lQ291bnQ9ZnVuY3Rpb24oZSl7dGhpcy5mcmFtZUNvdW50Xz1lfSx0aGlzLmdldFJpcHBsZUVsZW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yaXBwbGVFbGVtZW50X30sdGhpcy5zZXRSaXBwbGVYWT1mdW5jdGlvbihlLHQpe3RoaXMueF89ZSx0aGlzLnlfPXR9LHRoaXMuc2V0UmlwcGxlU3R5bGVzPWZ1bmN0aW9uKHQpe2lmKG51bGwhPT10aGlzLnJpcHBsZUVsZW1lbnRfKXt2YXIgcyxpLG4sYT1cInRyYW5zbGF0ZShcIit0aGlzLnhfK1wicHgsIFwiK3RoaXMueV8rXCJweClcIjt0PyhpPXRoaXMuQ29uc3RhbnRfLklOSVRJQUxfU0NBTEUsbj10aGlzLkNvbnN0YW50Xy5JTklUSUFMX1NJWkUpOihpPXRoaXMuQ29uc3RhbnRfLkZJTkFMX1NDQUxFLG49dGhpcy5yaXBwbGVTaXplXytcInB4XCIsZSYmKGE9XCJ0cmFuc2xhdGUoXCIrdGhpcy5ib3VuZFdpZHRoLzIrXCJweCwgXCIrdGhpcy5ib3VuZEhlaWdodC8yK1wicHgpXCIpKSxzPVwidHJhbnNsYXRlKC01MCUsIC01MCUpIFwiK2EraSx0aGlzLnJpcHBsZUVsZW1lbnRfLnN0eWxlLndlYmtpdFRyYW5zZm9ybT1zLHRoaXMucmlwcGxlRWxlbWVudF8uc3R5bGUubXNUcmFuc2Zvcm09cyx0aGlzLnJpcHBsZUVsZW1lbnRfLnN0eWxlLnRyYW5zZm9ybT1zLHQ/dGhpcy5yaXBwbGVFbGVtZW50Xy5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfQU5JTUFUSU5HKTp0aGlzLnJpcHBsZUVsZW1lbnRfLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5JU19BTklNQVRJTkcpfX0sdGhpcy5hbmltRnJhbWVIYW5kbGVyPWZ1bmN0aW9uKCl7dGhpcy5mcmFtZUNvdW50Xy0tID4wP3dpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5hbmltRnJhbWVIYW5kbGVyLmJpbmQodGhpcykpOnRoaXMuc2V0UmlwcGxlU3R5bGVzKCExKX0pfX0scy5yZWdpc3Rlcih7Y29uc3RydWN0b3I6eSxjbGFzc0FzU3RyaW5nOlwiTWF0ZXJpYWxSaXBwbGVcIixjc3NDbGFzczpcIm1kbC1qcy1yaXBwbGUtZWZmZWN0XCIsd2lkZ2V0OiExfSl9KCk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hdGVyaWFsLm1pbi5qcy5tYXBcclxuIiwiLyohIGpRdWVyeSB2Mi4yLjAgfCAoYykgalF1ZXJ5IEZvdW5kYXRpb24gfCBqcXVlcnkub3JnL2xpY2Vuc2UgKi9cbiFmdW5jdGlvbihhLGIpe1wib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGUmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGUuZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1hLmRvY3VtZW50P2IoYSwhMCk6ZnVuY3Rpb24oYSl7aWYoIWEuZG9jdW1lbnQpdGhyb3cgbmV3IEVycm9yKFwialF1ZXJ5IHJlcXVpcmVzIGEgd2luZG93IHdpdGggYSBkb2N1bWVudFwiKTtyZXR1cm4gYihhKX06YihhKX0oXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6dGhpcyxmdW5jdGlvbihhLGIpe3ZhciBjPVtdLGQ9YS5kb2N1bWVudCxlPWMuc2xpY2UsZj1jLmNvbmNhdCxnPWMucHVzaCxoPWMuaW5kZXhPZixpPXt9LGo9aS50b1N0cmluZyxrPWkuaGFzT3duUHJvcGVydHksbD17fSxtPVwiMi4yLjBcIixuPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBuLmZuLmluaXQoYSxiKX0sbz0vXltcXHNcXHVGRUZGXFx4QTBdK3xbXFxzXFx1RkVGRlxceEEwXSskL2cscD0vXi1tcy0vLHE9Ly0oW1xcZGEtel0pL2dpLHI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi50b1VwcGVyQ2FzZSgpfTtuLmZuPW4ucHJvdG90eXBlPXtqcXVlcnk6bSxjb25zdHJ1Y3RvcjpuLHNlbGVjdG9yOlwiXCIsbGVuZ3RoOjAsdG9BcnJheTpmdW5jdGlvbigpe3JldHVybiBlLmNhbGwodGhpcyl9LGdldDpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YT8wPmE/dGhpc1thK3RoaXMubGVuZ3RoXTp0aGlzW2FdOmUuY2FsbCh0aGlzKX0scHVzaFN0YWNrOmZ1bmN0aW9uKGEpe3ZhciBiPW4ubWVyZ2UodGhpcy5jb25zdHJ1Y3RvcigpLGEpO3JldHVybiBiLnByZXZPYmplY3Q9dGhpcyxiLmNvbnRleHQ9dGhpcy5jb250ZXh0LGJ9LGVhY2g6ZnVuY3Rpb24oYSl7cmV0dXJuIG4uZWFjaCh0aGlzLGEpfSxtYXA6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKG4ubWFwKHRoaXMsZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5jYWxsKGIsYyxiKX0pKX0sc2xpY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soZS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSxmaXJzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKDApfSxsYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoLTEpfSxlcTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmxlbmd0aCxjPSthKygwPmE/YjowKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2soYz49MCYmYj5jP1t0aGlzW2NdXTpbXSl9LGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByZXZPYmplY3R8fHRoaXMuY29uc3RydWN0b3IoKX0scHVzaDpnLHNvcnQ6Yy5zb3J0LHNwbGljZTpjLnNwbGljZX0sbi5leHRlbmQ9bi5mbi5leHRlbmQ9ZnVuY3Rpb24oKXt2YXIgYSxiLGMsZCxlLGYsZz1hcmd1bWVudHNbMF18fHt9LGg9MSxpPWFyZ3VtZW50cy5sZW5ndGgsaj0hMTtmb3IoXCJib29sZWFuXCI9PXR5cGVvZiBnJiYoaj1nLGc9YXJndW1lbnRzW2hdfHx7fSxoKyspLFwib2JqZWN0XCI9PXR5cGVvZiBnfHxuLmlzRnVuY3Rpb24oZyl8fChnPXt9KSxoPT09aSYmKGc9dGhpcyxoLS0pO2k+aDtoKyspaWYobnVsbCE9KGE9YXJndW1lbnRzW2hdKSlmb3IoYiBpbiBhKWM9Z1tiXSxkPWFbYl0sZyE9PWQmJihqJiZkJiYobi5pc1BsYWluT2JqZWN0KGQpfHwoZT1uLmlzQXJyYXkoZCkpKT8oZT8oZT0hMSxmPWMmJm4uaXNBcnJheShjKT9jOltdKTpmPWMmJm4uaXNQbGFpbk9iamVjdChjKT9jOnt9LGdbYl09bi5leHRlbmQoaixmLGQpKTp2b2lkIDAhPT1kJiYoZ1tiXT1kKSk7cmV0dXJuIGd9LG4uZXh0ZW5kKHtleHBhbmRvOlwialF1ZXJ5XCIrKG0rTWF0aC5yYW5kb20oKSkucmVwbGFjZSgvXFxEL2csXCJcIiksaXNSZWFkeTohMCxlcnJvcjpmdW5jdGlvbihhKXt0aHJvdyBuZXcgRXJyb3IoYSl9LG5vb3A6ZnVuY3Rpb24oKXt9LGlzRnVuY3Rpb246ZnVuY3Rpb24oYSl7cmV0dXJuXCJmdW5jdGlvblwiPT09bi50eXBlKGEpfSxpc0FycmF5OkFycmF5LmlzQXJyYXksaXNXaW5kb3c6ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWEmJmE9PT1hLndpbmRvd30saXNOdW1lcmljOmZ1bmN0aW9uKGEpe3ZhciBiPWEmJmEudG9TdHJpbmcoKTtyZXR1cm4hbi5pc0FycmF5KGEpJiZiLXBhcnNlRmxvYXQoYikrMT49MH0saXNQbGFpbk9iamVjdDpmdW5jdGlvbihhKXtyZXR1cm5cIm9iamVjdFwiIT09bi50eXBlKGEpfHxhLm5vZGVUeXBlfHxuLmlzV2luZG93KGEpPyExOmEuY29uc3RydWN0b3ImJiFrLmNhbGwoYS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUsXCJpc1Byb3RvdHlwZU9mXCIpPyExOiEwfSxpc0VtcHR5T2JqZWN0OmZ1bmN0aW9uKGEpe3ZhciBiO2ZvcihiIGluIGEpcmV0dXJuITE7cmV0dXJuITB9LHR5cGU6ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWE/YStcIlwiOlwib2JqZWN0XCI9PXR5cGVvZiBhfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBhP2lbai5jYWxsKGEpXXx8XCJvYmplY3RcIjp0eXBlb2YgYX0sZ2xvYmFsRXZhbDpmdW5jdGlvbihhKXt2YXIgYixjPWV2YWw7YT1uLnRyaW0oYSksYSYmKDE9PT1hLmluZGV4T2YoXCJ1c2Ugc3RyaWN0XCIpPyhiPWQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKSxiLnRleHQ9YSxkLmhlYWQuYXBwZW5kQ2hpbGQoYikucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiKSk6YyhhKSl9LGNhbWVsQ2FzZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKHAsXCJtcy1cIikucmVwbGFjZShxLHIpfSxub2RlTmFtZTpmdW5jdGlvbihhLGIpe3JldHVybiBhLm5vZGVOYW1lJiZhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1iLnRvTG93ZXJDYXNlKCl9LGVhY2g6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPTA7aWYocyhhKSl7Zm9yKGM9YS5sZW5ndGg7Yz5kO2QrKylpZihiLmNhbGwoYVtkXSxkLGFbZF0pPT09ITEpYnJlYWt9ZWxzZSBmb3IoZCBpbiBhKWlmKGIuY2FsbChhW2RdLGQsYVtkXSk9PT0hMSlicmVhaztyZXR1cm4gYX0sdHJpbTpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YT9cIlwiOihhK1wiXCIpLnJlcGxhY2UobyxcIlwiKX0sbWFrZUFycmF5OmZ1bmN0aW9uKGEsYil7dmFyIGM9Ynx8W107cmV0dXJuIG51bGwhPWEmJihzKE9iamVjdChhKSk/bi5tZXJnZShjLFwic3RyaW5nXCI9PXR5cGVvZiBhP1thXTphKTpnLmNhbGwoYyxhKSksY30saW5BcnJheTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG51bGw9PWI/LTE6aC5jYWxsKGIsYSxjKX0sbWVyZ2U6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9K2IubGVuZ3RoLGQ9MCxlPWEubGVuZ3RoO2M+ZDtkKyspYVtlKytdPWJbZF07cmV0dXJuIGEubGVuZ3RoPWUsYX0sZ3JlcDpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkLGU9W10sZj0wLGc9YS5sZW5ndGgsaD0hYztnPmY7ZisrKWQ9IWIoYVtmXSxmKSxkIT09aCYmZS5wdXNoKGFbZl0pO3JldHVybiBlfSxtYXA6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZz0wLGg9W107aWYocyhhKSlmb3IoZD1hLmxlbmd0aDtkPmc7ZysrKWU9YihhW2ddLGcsYyksbnVsbCE9ZSYmaC5wdXNoKGUpO2Vsc2UgZm9yKGcgaW4gYSllPWIoYVtnXSxnLGMpLG51bGwhPWUmJmgucHVzaChlKTtyZXR1cm4gZi5hcHBseShbXSxoKX0sZ3VpZDoxLHByb3h5OmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxmO3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBiJiYoYz1hW2JdLGI9YSxhPWMpLG4uaXNGdW5jdGlvbihhKT8oZD1lLmNhbGwoYXJndW1lbnRzLDIpLGY9ZnVuY3Rpb24oKXtyZXR1cm4gYS5hcHBseShifHx0aGlzLGQuY29uY2F0KGUuY2FsbChhcmd1bWVudHMpKSl9LGYuZ3VpZD1hLmd1aWQ9YS5ndWlkfHxuLmd1aWQrKyxmKTp2b2lkIDB9LG5vdzpEYXRlLm5vdyxzdXBwb3J0Omx9KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihuLmZuW1N5bWJvbC5pdGVyYXRvcl09Y1tTeW1ib2wuaXRlcmF0b3JdKSxuLmVhY2goXCJCb29sZWFuIE51bWJlciBTdHJpbmcgRnVuY3Rpb24gQXJyYXkgRGF0ZSBSZWdFeHAgT2JqZWN0IEVycm9yIFN5bWJvbFwiLnNwbGl0KFwiIFwiKSxmdW5jdGlvbihhLGIpe2lbXCJbb2JqZWN0IFwiK2IrXCJdXCJdPWIudG9Mb3dlckNhc2UoKX0pO2Z1bmN0aW9uIHMoYSl7dmFyIGI9ISFhJiZcImxlbmd0aFwiaW4gYSYmYS5sZW5ndGgsYz1uLnR5cGUoYSk7cmV0dXJuXCJmdW5jdGlvblwiPT09Y3x8bi5pc1dpbmRvdyhhKT8hMTpcImFycmF5XCI9PT1jfHwwPT09Ynx8XCJudW1iZXJcIj09dHlwZW9mIGImJmI+MCYmYi0xIGluIGF9dmFyIHQ9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnLGgsaSxqLGssbCxtLG4sbyxwLHEscixzLHQsdT1cInNpenpsZVwiKzEqbmV3IERhdGUsdj1hLmRvY3VtZW50LHc9MCx4PTAseT1nYSgpLHo9Z2EoKSxBPWdhKCksQj1mdW5jdGlvbihhLGIpe3JldHVybiBhPT09YiYmKGw9ITApLDB9LEM9MTw8MzEsRD17fS5oYXNPd25Qcm9wZXJ0eSxFPVtdLEY9RS5wb3AsRz1FLnB1c2gsSD1FLnB1c2gsST1FLnNsaWNlLEo9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MCxkPWEubGVuZ3RoO2Q+YztjKyspaWYoYVtjXT09PWIpcmV0dXJuIGM7cmV0dXJuLTF9LEs9XCJjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZFwiLEw9XCJbXFxcXHgyMFxcXFx0XFxcXHJcXFxcblxcXFxmXVwiLE09XCIoPzpcXFxcXFxcXC58W1xcXFx3LV18W15cXFxceDAwLVxcXFx4YTBdKStcIixOPVwiXFxcXFtcIitMK1wiKihcIitNK1wiKSg/OlwiK0wrXCIqKFsqXiR8IX5dPz0pXCIrTCtcIiooPzonKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcJ10pKiknfFxcXCIoKD86XFxcXFxcXFwufFteXFxcXFxcXFxcXFwiXSkqKVxcXCJ8KFwiK00rXCIpKXwpXCIrTCtcIipcXFxcXVwiLE89XCI6KFwiK00rXCIpKD86XFxcXCgoKCcoKD86XFxcXFxcXFwufFteXFxcXFxcXFwnXSkqKSd8XFxcIigoPzpcXFxcXFxcXC58W15cXFxcXFxcXFxcXCJdKSopXFxcIil8KCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcKClbXFxcXF1dfFwiK04rXCIpKil8LiopXFxcXCl8KVwiLFA9bmV3IFJlZ0V4cChMK1wiK1wiLFwiZ1wiKSxRPW5ldyBSZWdFeHAoXCJeXCIrTCtcIit8KCg/Ol58W15cXFxcXFxcXF0pKD86XFxcXFxcXFwuKSopXCIrTCtcIiskXCIsXCJnXCIpLFI9bmV3IFJlZ0V4cChcIl5cIitMK1wiKixcIitMK1wiKlwiKSxTPW5ldyBSZWdFeHAoXCJeXCIrTCtcIiooWz4rfl18XCIrTCtcIilcIitMK1wiKlwiKSxUPW5ldyBSZWdFeHAoXCI9XCIrTCtcIiooW15cXFxcXSdcXFwiXSo/KVwiK0wrXCIqXFxcXF1cIixcImdcIiksVT1uZXcgUmVnRXhwKE8pLFY9bmV3IFJlZ0V4cChcIl5cIitNK1wiJFwiKSxXPXtJRDpuZXcgUmVnRXhwKFwiXiMoXCIrTStcIilcIiksQ0xBU1M6bmV3IFJlZ0V4cChcIl5cXFxcLihcIitNK1wiKVwiKSxUQUc6bmV3IFJlZ0V4cChcIl4oXCIrTStcInxbKl0pXCIpLEFUVFI6bmV3IFJlZ0V4cChcIl5cIitOKSxQU0VVRE86bmV3IFJlZ0V4cChcIl5cIitPKSxDSElMRDpuZXcgUmVnRXhwKFwiXjoob25seXxmaXJzdHxsYXN0fG50aHxudGgtbGFzdCktKGNoaWxkfG9mLXR5cGUpKD86XFxcXChcIitMK1wiKihldmVufG9kZHwoKFsrLV18KShcXFxcZCopbnwpXCIrTCtcIiooPzooWystXXwpXCIrTCtcIiooXFxcXGQrKXwpKVwiK0wrXCIqXFxcXCl8KVwiLFwiaVwiKSxib29sOm5ldyBSZWdFeHAoXCJeKD86XCIrSytcIikkXCIsXCJpXCIpLG5lZWRzQ29udGV4dDpuZXcgUmVnRXhwKFwiXlwiK0wrXCIqWz4rfl18OihldmVufG9kZHxlcXxndHxsdHxudGh8Zmlyc3R8bGFzdCkoPzpcXFxcKFwiK0wrXCIqKCg/Oi1cXFxcZCk/XFxcXGQqKVwiK0wrXCIqXFxcXCl8KSg/PVteLV18JClcIixcImlcIil9LFg9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxZPS9eaFxcZCQvaSxaPS9eW157XStcXHtcXHMqXFxbbmF0aXZlIFxcdy8sJD0vXig/OiMoW1xcdy1dKyl8KFxcdyspfFxcLihbXFx3LV0rKSkkLyxfPS9bK35dLyxhYT0vJ3xcXFxcL2csYmE9bmV3IFJlZ0V4cChcIlxcXFxcXFxcKFtcXFxcZGEtZl17MSw2fVwiK0wrXCI/fChcIitMK1wiKXwuKVwiLFwiaWdcIiksY2E9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPVwiMHhcIitiLTY1NTM2O3JldHVybiBkIT09ZHx8Yz9iOjA+ZD9TdHJpbmcuZnJvbUNoYXJDb2RlKGQrNjU1MzYpOlN0cmluZy5mcm9tQ2hhckNvZGUoZD4+MTB8NTUyOTYsMTAyMyZkfDU2MzIwKX0sZGE9ZnVuY3Rpb24oKXttKCl9O3RyeXtILmFwcGx5KEU9SS5jYWxsKHYuY2hpbGROb2Rlcyksdi5jaGlsZE5vZGVzKSxFW3YuY2hpbGROb2Rlcy5sZW5ndGhdLm5vZGVUeXBlfWNhdGNoKGVhKXtIPXthcHBseTpFLmxlbmd0aD9mdW5jdGlvbihhLGIpe0cuYXBwbHkoYSxJLmNhbGwoYikpfTpmdW5jdGlvbihhLGIpe3ZhciBjPWEubGVuZ3RoLGQ9MDt3aGlsZShhW2MrK109YltkKytdKTthLmxlbmd0aD1jLTF9fX1mdW5jdGlvbiBmYShhLGIsZCxlKXt2YXIgZixoLGosayxsLG8scixzLHc9YiYmYi5vd25lckRvY3VtZW50LHg9Yj9iLm5vZGVUeXBlOjk7aWYoZD1kfHxbXSxcInN0cmluZ1wiIT10eXBlb2YgYXx8IWF8fDEhPT14JiY5IT09eCYmMTEhPT14KXJldHVybiBkO2lmKCFlJiYoKGI/Yi5vd25lckRvY3VtZW50fHxiOnYpIT09biYmbShiKSxiPWJ8fG4scCkpe2lmKDExIT09eCYmKG89JC5leGVjKGEpKSlpZihmPW9bMV0pe2lmKDk9PT14KXtpZighKGo9Yi5nZXRFbGVtZW50QnlJZChmKSkpcmV0dXJuIGQ7aWYoai5pZD09PWYpcmV0dXJuIGQucHVzaChqKSxkfWVsc2UgaWYodyYmKGo9dy5nZXRFbGVtZW50QnlJZChmKSkmJnQoYixqKSYmai5pZD09PWYpcmV0dXJuIGQucHVzaChqKSxkfWVsc2V7aWYob1syXSlyZXR1cm4gSC5hcHBseShkLGIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYSkpLGQ7aWYoKGY9b1szXSkmJmMuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmYi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKXJldHVybiBILmFwcGx5KGQsYi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGYpKSxkfWlmKGMucXNhJiYhQVthK1wiIFwiXSYmKCFxfHwhcS50ZXN0KGEpKSl7aWYoMSE9PXgpdz1iLHM9YTtlbHNlIGlmKFwib2JqZWN0XCIhPT1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpeyhrPWIuZ2V0QXR0cmlidXRlKFwiaWRcIikpP2s9ay5yZXBsYWNlKGFhLFwiXFxcXCQmXCIpOmIuc2V0QXR0cmlidXRlKFwiaWRcIixrPXUpLHI9ZyhhKSxoPXIubGVuZ3RoLGw9Vi50ZXN0KGspP1wiI1wiK2s6XCJbaWQ9J1wiK2srXCInXVwiO3doaWxlKGgtLSlyW2hdPWwrXCIgXCIrcWEocltoXSk7cz1yLmpvaW4oXCIsXCIpLHc9Xy50ZXN0KGEpJiZvYShiLnBhcmVudE5vZGUpfHxifWlmKHMpdHJ5e3JldHVybiBILmFwcGx5KGQsdy5xdWVyeVNlbGVjdG9yQWxsKHMpKSxkfWNhdGNoKHkpe31maW5hbGx5e2s9PT11JiZiLnJlbW92ZUF0dHJpYnV0ZShcImlkXCIpfX19cmV0dXJuIGkoYS5yZXBsYWNlKFEsXCIkMVwiKSxiLGQsZSl9ZnVuY3Rpb24gZ2EoKXt2YXIgYT1bXTtmdW5jdGlvbiBiKGMsZSl7cmV0dXJuIGEucHVzaChjK1wiIFwiKT5kLmNhY2hlTGVuZ3RoJiZkZWxldGUgYlthLnNoaWZ0KCldLGJbYytcIiBcIl09ZX1yZXR1cm4gYn1mdW5jdGlvbiBoYShhKXtyZXR1cm4gYVt1XT0hMCxhfWZ1bmN0aW9uIGlhKGEpe3ZhciBiPW4uY3JlYXRlRWxlbWVudChcImRpdlwiKTt0cnl7cmV0dXJuISFhKGIpfWNhdGNoKGMpe3JldHVybiExfWZpbmFsbHl7Yi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYiksYj1udWxsfX1mdW5jdGlvbiBqYShhLGIpe3ZhciBjPWEuc3BsaXQoXCJ8XCIpLGU9Yy5sZW5ndGg7d2hpbGUoZS0tKWQuYXR0ckhhbmRsZVtjW2VdXT1ifWZ1bmN0aW9uIGthKGEsYil7dmFyIGM9YiYmYSxkPWMmJjE9PT1hLm5vZGVUeXBlJiYxPT09Yi5ub2RlVHlwZSYmKH5iLnNvdXJjZUluZGV4fHxDKS0ofmEuc291cmNlSW5kZXh8fEMpO2lmKGQpcmV0dXJuIGQ7aWYoYyl3aGlsZShjPWMubmV4dFNpYmxpbmcpaWYoYz09PWIpcmV0dXJuLTE7cmV0dXJuIGE/MTotMX1mdW5jdGlvbiBsYShhKXtyZXR1cm4gZnVuY3Rpb24oYil7dmFyIGM9Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVyblwiaW5wdXRcIj09PWMmJmIudHlwZT09PWF9fWZ1bmN0aW9uIG1hKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgYz1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuKFwiaW5wdXRcIj09PWN8fFwiYnV0dG9uXCI9PT1jKSYmYi50eXBlPT09YX19ZnVuY3Rpb24gbmEoYSl7cmV0dXJuIGhhKGZ1bmN0aW9uKGIpe3JldHVybiBiPStiLGhhKGZ1bmN0aW9uKGMsZCl7dmFyIGUsZj1hKFtdLGMubGVuZ3RoLGIpLGc9Zi5sZW5ndGg7d2hpbGUoZy0tKWNbZT1mW2ddXSYmKGNbZV09IShkW2VdPWNbZV0pKX0pfSl9ZnVuY3Rpb24gb2EoYSl7cmV0dXJuIGEmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBhLmdldEVsZW1lbnRzQnlUYWdOYW1lJiZhfWM9ZmEuc3VwcG9ydD17fSxmPWZhLmlzWE1MPWZ1bmN0aW9uKGEpe3ZhciBiPWEmJihhLm93bmVyRG9jdW1lbnR8fGEpLmRvY3VtZW50RWxlbWVudDtyZXR1cm4gYj9cIkhUTUxcIiE9PWIubm9kZU5hbWU6ITF9LG09ZmEuc2V0RG9jdW1lbnQ9ZnVuY3Rpb24oYSl7dmFyIGIsZSxnPWE/YS5vd25lckRvY3VtZW50fHxhOnY7cmV0dXJuIGchPT1uJiY5PT09Zy5ub2RlVHlwZSYmZy5kb2N1bWVudEVsZW1lbnQ/KG49ZyxvPW4uZG9jdW1lbnRFbGVtZW50LHA9IWYobiksKGU9bi5kZWZhdWx0VmlldykmJmUudG9wIT09ZSYmKGUuYWRkRXZlbnRMaXN0ZW5lcj9lLmFkZEV2ZW50TGlzdGVuZXIoXCJ1bmxvYWRcIixkYSwhMSk6ZS5hdHRhY2hFdmVudCYmZS5hdHRhY2hFdmVudChcIm9udW5sb2FkXCIsZGEpKSxjLmF0dHJpYnV0ZXM9aWEoZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2xhc3NOYW1lPVwiaVwiLCFhLmdldEF0dHJpYnV0ZShcImNsYXNzTmFtZVwiKX0pLGMuZ2V0RWxlbWVudHNCeVRhZ05hbWU9aWEoZnVuY3Rpb24oYSl7cmV0dXJuIGEuYXBwZW5kQ2hpbGQobi5jcmVhdGVDb21tZW50KFwiXCIpKSwhYS5nZXRFbGVtZW50c0J5VGFnTmFtZShcIipcIikubGVuZ3RofSksYy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lPVoudGVzdChuLmdldEVsZW1lbnRzQnlDbGFzc05hbWUpLGMuZ2V0QnlJZD1pYShmdW5jdGlvbihhKXtyZXR1cm4gby5hcHBlbmRDaGlsZChhKS5pZD11LCFuLmdldEVsZW1lbnRzQnlOYW1lfHwhbi5nZXRFbGVtZW50c0J5TmFtZSh1KS5sZW5ndGh9KSxjLmdldEJ5SWQ/KGQuZmluZC5JRD1mdW5jdGlvbihhLGIpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBiLmdldEVsZW1lbnRCeUlkJiZwKXt2YXIgYz1iLmdldEVsZW1lbnRCeUlkKGEpO3JldHVybiBjP1tjXTpbXX19LGQuZmlsdGVyLklEPWZ1bmN0aW9uKGEpe3ZhciBiPWEucmVwbGFjZShiYSxjYSk7cmV0dXJuIGZ1bmN0aW9uKGEpe3JldHVybiBhLmdldEF0dHJpYnV0ZShcImlkXCIpPT09Yn19KTooZGVsZXRlIGQuZmluZC5JRCxkLmZpbHRlci5JRD1mdW5jdGlvbihhKXt2YXIgYj1hLnJlcGxhY2UoYmEsY2EpO3JldHVybiBmdW5jdGlvbihhKXt2YXIgYz1cInVuZGVmaW5lZFwiIT10eXBlb2YgYS5nZXRBdHRyaWJ1dGVOb2RlJiZhLmdldEF0dHJpYnV0ZU5vZGUoXCJpZFwiKTtyZXR1cm4gYyYmYy52YWx1ZT09PWJ9fSksZC5maW5kLlRBRz1jLmdldEVsZW1lbnRzQnlUYWdOYW1lP2Z1bmN0aW9uKGEsYil7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGIuZ2V0RWxlbWVudHNCeVRhZ05hbWU/Yi5nZXRFbGVtZW50c0J5VGFnTmFtZShhKTpjLnFzYT9iLnF1ZXJ5U2VsZWN0b3JBbGwoYSk6dm9pZCAwfTpmdW5jdGlvbihhLGIpe3ZhciBjLGQ9W10sZT0wLGY9Yi5nZXRFbGVtZW50c0J5VGFnTmFtZShhKTtpZihcIipcIj09PWEpe3doaWxlKGM9ZltlKytdKTE9PT1jLm5vZGVUeXBlJiZkLnB1c2goYyk7cmV0dXJuIGR9cmV0dXJuIGZ9LGQuZmluZC5DTEFTUz1jLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmZ1bmN0aW9uKGEsYil7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmcD9iLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoYSk6dm9pZCAwfSxyPVtdLHE9W10sKGMucXNhPVoudGVzdChuLnF1ZXJ5U2VsZWN0b3JBbGwpKSYmKGlhKGZ1bmN0aW9uKGEpe28uYXBwZW5kQ2hpbGQoYSkuaW5uZXJIVE1MPVwiPGEgaWQ9J1wiK3UrXCInPjwvYT48c2VsZWN0IGlkPSdcIit1K1wiLVxcclxcXFwnIG1zYWxsb3djYXB0dXJlPScnPjxvcHRpb24gc2VsZWN0ZWQ9Jyc+PC9vcHRpb24+PC9zZWxlY3Q+XCIsYS5xdWVyeVNlbGVjdG9yQWxsKFwiW21zYWxsb3djYXB0dXJlXj0nJ11cIikubGVuZ3RoJiZxLnB1c2goXCJbKl4kXT1cIitMK1wiKig/OicnfFxcXCJcXFwiKVwiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbc2VsZWN0ZWRdXCIpLmxlbmd0aHx8cS5wdXNoKFwiXFxcXFtcIitMK1wiKig/OnZhbHVlfFwiK0srXCIpXCIpLGEucXVlcnlTZWxlY3RvckFsbChcIltpZH49XCIrdStcIi1dXCIpLmxlbmd0aHx8cS5wdXNoKFwifj1cIiksYS5xdWVyeVNlbGVjdG9yQWxsKFwiOmNoZWNrZWRcIikubGVuZ3RofHxxLnB1c2goXCI6Y2hlY2tlZFwiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoXCJhI1wiK3UrXCIrKlwiKS5sZW5ndGh8fHEucHVzaChcIi4jLitbK35dXCIpfSksaWEoZnVuY3Rpb24oYSl7dmFyIGI9bi5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7Yi5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJoaWRkZW5cIiksYS5hcHBlbmRDaGlsZChiKS5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsXCJEXCIpLGEucXVlcnlTZWxlY3RvckFsbChcIltuYW1lPWRdXCIpLmxlbmd0aCYmcS5wdXNoKFwibmFtZVwiK0wrXCIqWypeJHwhfl0/PVwiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoXCI6ZW5hYmxlZFwiKS5sZW5ndGh8fHEucHVzaChcIjplbmFibGVkXCIsXCI6ZGlzYWJsZWRcIiksYS5xdWVyeVNlbGVjdG9yQWxsKFwiKiw6eFwiKSxxLnB1c2goXCIsLio6XCIpfSkpLChjLm1hdGNoZXNTZWxlY3Rvcj1aLnRlc3Qocz1vLm1hdGNoZXN8fG8ud2Via2l0TWF0Y2hlc1NlbGVjdG9yfHxvLm1vek1hdGNoZXNTZWxlY3Rvcnx8by5vTWF0Y2hlc1NlbGVjdG9yfHxvLm1zTWF0Y2hlc1NlbGVjdG9yKSkmJmlhKGZ1bmN0aW9uKGEpe2MuZGlzY29ubmVjdGVkTWF0Y2g9cy5jYWxsKGEsXCJkaXZcIikscy5jYWxsKGEsXCJbcyE9JyddOnhcIiksci5wdXNoKFwiIT1cIixPKX0pLHE9cS5sZW5ndGgmJm5ldyBSZWdFeHAocS5qb2luKFwifFwiKSkscj1yLmxlbmd0aCYmbmV3IFJlZ0V4cChyLmpvaW4oXCJ8XCIpKSxiPVoudGVzdChvLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKSx0PWJ8fFoudGVzdChvLmNvbnRhaW5zKT9mdW5jdGlvbihhLGIpe3ZhciBjPTk9PT1hLm5vZGVUeXBlP2EuZG9jdW1lbnRFbGVtZW50OmEsZD1iJiZiLnBhcmVudE5vZGU7cmV0dXJuIGE9PT1kfHwhKCFkfHwxIT09ZC5ub2RlVHlwZXx8IShjLmNvbnRhaW5zP2MuY29udGFpbnMoZCk6YS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiYmMTYmYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihkKSkpfTpmdW5jdGlvbihhLGIpe2lmKGIpd2hpbGUoYj1iLnBhcmVudE5vZGUpaWYoYj09PWEpcmV0dXJuITA7cmV0dXJuITF9LEI9Yj9mdW5jdGlvbihhLGIpe2lmKGE9PT1iKXJldHVybiBsPSEwLDA7dmFyIGQ9IWEuY29tcGFyZURvY3VtZW50UG9zaXRpb24tIWIuY29tcGFyZURvY3VtZW50UG9zaXRpb247cmV0dXJuIGQ/ZDooZD0oYS5vd25lckRvY3VtZW50fHxhKT09PShiLm93bmVyRG9jdW1lbnR8fGIpP2EuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYik6MSwxJmR8fCFjLnNvcnREZXRhY2hlZCYmYi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihhKT09PWQ/YT09PW58fGEub3duZXJEb2N1bWVudD09PXYmJnQodixhKT8tMTpiPT09bnx8Yi5vd25lckRvY3VtZW50PT09diYmdCh2LGIpPzE6az9KKGssYSktSihrLGIpOjA6NCZkPy0xOjEpfTpmdW5jdGlvbihhLGIpe2lmKGE9PT1iKXJldHVybiBsPSEwLDA7dmFyIGMsZD0wLGU9YS5wYXJlbnROb2RlLGY9Yi5wYXJlbnROb2RlLGc9W2FdLGg9W2JdO2lmKCFlfHwhZilyZXR1cm4gYT09PW4/LTE6Yj09PW4/MTplPy0xOmY/MTprP0ooayxhKS1KKGssYik6MDtpZihlPT09ZilyZXR1cm4ga2EoYSxiKTtjPWE7d2hpbGUoYz1jLnBhcmVudE5vZGUpZy51bnNoaWZ0KGMpO2M9Yjt3aGlsZShjPWMucGFyZW50Tm9kZSloLnVuc2hpZnQoYyk7d2hpbGUoZ1tkXT09PWhbZF0pZCsrO3JldHVybiBkP2thKGdbZF0saFtkXSk6Z1tkXT09PXY/LTE6aFtkXT09PXY/MTowfSxuKTpufSxmYS5tYXRjaGVzPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGZhKGEsbnVsbCxudWxsLGIpfSxmYS5tYXRjaGVzU2VsZWN0b3I9ZnVuY3Rpb24oYSxiKXtpZigoYS5vd25lckRvY3VtZW50fHxhKSE9PW4mJm0oYSksYj1iLnJlcGxhY2UoVCxcIj0nJDEnXVwiKSxjLm1hdGNoZXNTZWxlY3RvciYmcCYmIUFbYitcIiBcIl0mJighcnx8IXIudGVzdChiKSkmJighcXx8IXEudGVzdChiKSkpdHJ5e3ZhciBkPXMuY2FsbChhLGIpO2lmKGR8fGMuZGlzY29ubmVjdGVkTWF0Y2h8fGEuZG9jdW1lbnQmJjExIT09YS5kb2N1bWVudC5ub2RlVHlwZSlyZXR1cm4gZH1jYXRjaChlKXt9cmV0dXJuIGZhKGIsbixudWxsLFthXSkubGVuZ3RoPjB9LGZhLmNvbnRhaW5zPWZ1bmN0aW9uKGEsYil7cmV0dXJuKGEub3duZXJEb2N1bWVudHx8YSkhPT1uJiZtKGEpLHQoYSxiKX0sZmEuYXR0cj1mdW5jdGlvbihhLGIpeyhhLm93bmVyRG9jdW1lbnR8fGEpIT09biYmbShhKTt2YXIgZT1kLmF0dHJIYW5kbGVbYi50b0xvd2VyQ2FzZSgpXSxmPWUmJkQuY2FsbChkLmF0dHJIYW5kbGUsYi50b0xvd2VyQ2FzZSgpKT9lKGEsYiwhcCk6dm9pZCAwO3JldHVybiB2b2lkIDAhPT1mP2Y6Yy5hdHRyaWJ1dGVzfHwhcD9hLmdldEF0dHJpYnV0ZShiKTooZj1hLmdldEF0dHJpYnV0ZU5vZGUoYikpJiZmLnNwZWNpZmllZD9mLnZhbHVlOm51bGx9LGZhLmVycm9yPWZ1bmN0aW9uKGEpe3Rocm93IG5ldyBFcnJvcihcIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246IFwiK2EpfSxmYS51bmlxdWVTb3J0PWZ1bmN0aW9uKGEpe3ZhciBiLGQ9W10sZT0wLGY9MDtpZihsPSFjLmRldGVjdER1cGxpY2F0ZXMsaz0hYy5zb3J0U3RhYmxlJiZhLnNsaWNlKDApLGEuc29ydChCKSxsKXt3aGlsZShiPWFbZisrXSliPT09YVtmXSYmKGU9ZC5wdXNoKGYpKTt3aGlsZShlLS0pYS5zcGxpY2UoZFtlXSwxKX1yZXR1cm4gaz1udWxsLGF9LGU9ZmEuZ2V0VGV4dD1mdW5jdGlvbihhKXt2YXIgYixjPVwiXCIsZD0wLGY9YS5ub2RlVHlwZTtpZihmKXtpZigxPT09Znx8OT09PWZ8fDExPT09Zil7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGEudGV4dENvbnRlbnQpcmV0dXJuIGEudGV4dENvbnRlbnQ7Zm9yKGE9YS5maXJzdENoaWxkO2E7YT1hLm5leHRTaWJsaW5nKWMrPWUoYSl9ZWxzZSBpZigzPT09Znx8ND09PWYpcmV0dXJuIGEubm9kZVZhbHVlfWVsc2Ugd2hpbGUoYj1hW2QrK10pYys9ZShiKTtyZXR1cm4gY30sZD1mYS5zZWxlY3RvcnM9e2NhY2hlTGVuZ3RoOjUwLGNyZWF0ZVBzZXVkbzpoYSxtYXRjaDpXLGF0dHJIYW5kbGU6e30sZmluZDp7fSxyZWxhdGl2ZTp7XCI+XCI6e2RpcjpcInBhcmVudE5vZGVcIixmaXJzdDohMH0sXCIgXCI6e2RpcjpcInBhcmVudE5vZGVcIn0sXCIrXCI6e2RpcjpcInByZXZpb3VzU2libGluZ1wiLGZpcnN0OiEwfSxcIn5cIjp7ZGlyOlwicHJldmlvdXNTaWJsaW5nXCJ9fSxwcmVGaWx0ZXI6e0FUVFI6ZnVuY3Rpb24oYSl7cmV0dXJuIGFbMV09YVsxXS5yZXBsYWNlKGJhLGNhKSxhWzNdPShhWzNdfHxhWzRdfHxhWzVdfHxcIlwiKS5yZXBsYWNlKGJhLGNhKSxcIn49XCI9PT1hWzJdJiYoYVszXT1cIiBcIithWzNdK1wiIFwiKSxhLnNsaWNlKDAsNCl9LENISUxEOmZ1bmN0aW9uKGEpe3JldHVybiBhWzFdPWFbMV0udG9Mb3dlckNhc2UoKSxcIm50aFwiPT09YVsxXS5zbGljZSgwLDMpPyhhWzNdfHxmYS5lcnJvcihhWzBdKSxhWzRdPSsoYVs0XT9hWzVdKyhhWzZdfHwxKToyKihcImV2ZW5cIj09PWFbM118fFwib2RkXCI9PT1hWzNdKSksYVs1XT0rKGFbN10rYVs4XXx8XCJvZGRcIj09PWFbM10pKTphWzNdJiZmYS5lcnJvcihhWzBdKSxhfSxQU0VVRE86ZnVuY3Rpb24oYSl7dmFyIGIsYz0hYVs2XSYmYVsyXTtyZXR1cm4gVy5DSElMRC50ZXN0KGFbMF0pP251bGw6KGFbM10/YVsyXT1hWzRdfHxhWzVdfHxcIlwiOmMmJlUudGVzdChjKSYmKGI9ZyhjLCEwKSkmJihiPWMuaW5kZXhPZihcIilcIixjLmxlbmd0aC1iKS1jLmxlbmd0aCkmJihhWzBdPWFbMF0uc2xpY2UoMCxiKSxhWzJdPWMuc2xpY2UoMCxiKSksYS5zbGljZSgwLDMpKX19LGZpbHRlcjp7VEFHOmZ1bmN0aW9uKGEpe3ZhciBiPWEucmVwbGFjZShiYSxjYSkudG9Mb3dlckNhc2UoKTtyZXR1cm5cIipcIj09PWE/ZnVuY3Rpb24oKXtyZXR1cm4hMH06ZnVuY3Rpb24oYSl7cmV0dXJuIGEubm9kZU5hbWUmJmEubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PWJ9fSxDTEFTUzpmdW5jdGlvbihhKXt2YXIgYj15W2ErXCIgXCJdO3JldHVybiBifHwoYj1uZXcgUmVnRXhwKFwiKF58XCIrTCtcIilcIithK1wiKFwiK0wrXCJ8JClcIikpJiZ5KGEsZnVuY3Rpb24oYSl7cmV0dXJuIGIudGVzdChcInN0cmluZ1wiPT10eXBlb2YgYS5jbGFzc05hbWUmJmEuY2xhc3NOYW1lfHxcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5nZXRBdHRyaWJ1dGUmJmEuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIil8fFwiXCIpfSl9LEFUVFI6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBmdW5jdGlvbihkKXt2YXIgZT1mYS5hdHRyKGQsYSk7cmV0dXJuIG51bGw9PWU/XCIhPVwiPT09YjpiPyhlKz1cIlwiLFwiPVwiPT09Yj9lPT09YzpcIiE9XCI9PT1iP2UhPT1jOlwiXj1cIj09PWI/YyYmMD09PWUuaW5kZXhPZihjKTpcIio9XCI9PT1iP2MmJmUuaW5kZXhPZihjKT4tMTpcIiQ9XCI9PT1iP2MmJmUuc2xpY2UoLWMubGVuZ3RoKT09PWM6XCJ+PVwiPT09Yj8oXCIgXCIrZS5yZXBsYWNlKFAsXCIgXCIpK1wiIFwiKS5pbmRleE9mKGMpPi0xOlwifD1cIj09PWI/ZT09PWN8fGUuc2xpY2UoMCxjLmxlbmd0aCsxKT09PWMrXCItXCI6ITEpOiEwfX0sQ0hJTEQ6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1cIm50aFwiIT09YS5zbGljZSgwLDMpLGc9XCJsYXN0XCIhPT1hLnNsaWNlKC00KSxoPVwib2YtdHlwZVwiPT09YjtyZXR1cm4gMT09PWQmJjA9PT1lP2Z1bmN0aW9uKGEpe3JldHVybiEhYS5wYXJlbnROb2RlfTpmdW5jdGlvbihiLGMsaSl7dmFyIGosayxsLG0sbixvLHA9ZiE9PWc/XCJuZXh0U2libGluZ1wiOlwicHJldmlvdXNTaWJsaW5nXCIscT1iLnBhcmVudE5vZGUscj1oJiZiLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkscz0haSYmIWgsdD0hMTtpZihxKXtpZihmKXt3aGlsZShwKXttPWI7d2hpbGUobT1tW3BdKWlmKGg/bS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09cjoxPT09bS5ub2RlVHlwZSlyZXR1cm4hMTtvPXA9XCJvbmx5XCI9PT1hJiYhbyYmXCJuZXh0U2libGluZ1wifXJldHVybiEwfWlmKG89W2c/cS5maXJzdENoaWxkOnEubGFzdENoaWxkXSxnJiZzKXttPXEsbD1tW3VdfHwobVt1XT17fSksaz1sW20udW5pcXVlSURdfHwobFttLnVuaXF1ZUlEXT17fSksaj1rW2FdfHxbXSxuPWpbMF09PT13JiZqWzFdLHQ9biYmalsyXSxtPW4mJnEuY2hpbGROb2Rlc1tuXTt3aGlsZShtPSsrbiYmbSYmbVtwXXx8KHQ9bj0wKXx8by5wb3AoKSlpZigxPT09bS5ub2RlVHlwZSYmKyt0JiZtPT09Yil7a1thXT1bdyxuLHRdO2JyZWFrfX1lbHNlIGlmKHMmJihtPWIsbD1tW3VdfHwobVt1XT17fSksaz1sW20udW5pcXVlSURdfHwobFttLnVuaXF1ZUlEXT17fSksaj1rW2FdfHxbXSxuPWpbMF09PT13JiZqWzFdLHQ9biksdD09PSExKXdoaWxlKG09KytuJiZtJiZtW3BdfHwodD1uPTApfHxvLnBvcCgpKWlmKChoP20ubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXI6MT09PW0ubm9kZVR5cGUpJiYrK3QmJihzJiYobD1tW3VdfHwobVt1XT17fSksaz1sW20udW5pcXVlSURdfHwobFttLnVuaXF1ZUlEXT17fSksa1thXT1bdyx0XSksbT09PWIpKWJyZWFrO3JldHVybiB0LT1lLHQ9PT1kfHx0JWQ9PT0wJiZ0L2Q+PTB9fX0sUFNFVURPOmZ1bmN0aW9uKGEsYil7dmFyIGMsZT1kLnBzZXVkb3NbYV18fGQuc2V0RmlsdGVyc1thLnRvTG93ZXJDYXNlKCldfHxmYS5lcnJvcihcInVuc3VwcG9ydGVkIHBzZXVkbzogXCIrYSk7cmV0dXJuIGVbdV0/ZShiKTplLmxlbmd0aD4xPyhjPVthLGEsXCJcIixiXSxkLnNldEZpbHRlcnMuaGFzT3duUHJvcGVydHkoYS50b0xvd2VyQ2FzZSgpKT9oYShmdW5jdGlvbihhLGMpe3ZhciBkLGY9ZShhLGIpLGc9Zi5sZW5ndGg7d2hpbGUoZy0tKWQ9SihhLGZbZ10pLGFbZF09IShjW2RdPWZbZ10pfSk6ZnVuY3Rpb24oYSl7cmV0dXJuIGUoYSwwLGMpfSk6ZX19LHBzZXVkb3M6e25vdDpoYShmdW5jdGlvbihhKXt2YXIgYj1bXSxjPVtdLGQ9aChhLnJlcGxhY2UoUSxcIiQxXCIpKTtyZXR1cm4gZFt1XT9oYShmdW5jdGlvbihhLGIsYyxlKXt2YXIgZixnPWQoYSxudWxsLGUsW10pLGg9YS5sZW5ndGg7d2hpbGUoaC0tKShmPWdbaF0pJiYoYVtoXT0hKGJbaF09ZikpfSk6ZnVuY3Rpb24oYSxlLGYpe3JldHVybiBiWzBdPWEsZChiLG51bGwsZixjKSxiWzBdPW51bGwsIWMucG9wKCl9fSksaGFzOmhhKGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gZmEoYSxiKS5sZW5ndGg+MH19KSxjb250YWluczpoYShmdW5jdGlvbihhKXtyZXR1cm4gYT1hLnJlcGxhY2UoYmEsY2EpLGZ1bmN0aW9uKGIpe3JldHVybihiLnRleHRDb250ZW50fHxiLmlubmVyVGV4dHx8ZShiKSkuaW5kZXhPZihhKT4tMX19KSxsYW5nOmhhKGZ1bmN0aW9uKGEpe3JldHVybiBWLnRlc3QoYXx8XCJcIil8fGZhLmVycm9yKFwidW5zdXBwb3J0ZWQgbGFuZzogXCIrYSksYT1hLnJlcGxhY2UoYmEsY2EpLnRvTG93ZXJDYXNlKCksZnVuY3Rpb24oYil7dmFyIGM7ZG8gaWYoYz1wP2IubGFuZzpiLmdldEF0dHJpYnV0ZShcInhtbDpsYW5nXCIpfHxiLmdldEF0dHJpYnV0ZShcImxhbmdcIikpcmV0dXJuIGM9Yy50b0xvd2VyQ2FzZSgpLGM9PT1hfHwwPT09Yy5pbmRleE9mKGErXCItXCIpO3doaWxlKChiPWIucGFyZW50Tm9kZSkmJjE9PT1iLm5vZGVUeXBlKTtyZXR1cm4hMX19KSx0YXJnZXQ6ZnVuY3Rpb24oYil7dmFyIGM9YS5sb2NhdGlvbiYmYS5sb2NhdGlvbi5oYXNoO3JldHVybiBjJiZjLnNsaWNlKDEpPT09Yi5pZH0scm9vdDpmdW5jdGlvbihhKXtyZXR1cm4gYT09PW99LGZvY3VzOmZ1bmN0aW9uKGEpe3JldHVybiBhPT09bi5hY3RpdmVFbGVtZW50JiYoIW4uaGFzRm9jdXN8fG4uaGFzRm9jdXMoKSkmJiEhKGEudHlwZXx8YS5ocmVmfHx+YS50YWJJbmRleCl9LGVuYWJsZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZGlzYWJsZWQ9PT0hMX0sZGlzYWJsZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZGlzYWJsZWQ9PT0hMH0sY2hlY2tlZDpmdW5jdGlvbihhKXt2YXIgYj1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuXCJpbnB1dFwiPT09YiYmISFhLmNoZWNrZWR8fFwib3B0aW9uXCI9PT1iJiYhIWEuc2VsZWN0ZWR9LHNlbGVjdGVkOmZ1bmN0aW9uKGEpe3JldHVybiBhLnBhcmVudE5vZGUmJmEucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4LGEuc2VsZWN0ZWQ9PT0hMH0sZW1wdHk6ZnVuY3Rpb24oYSl7Zm9yKGE9YS5maXJzdENoaWxkO2E7YT1hLm5leHRTaWJsaW5nKWlmKGEubm9kZVR5cGU8NilyZXR1cm4hMTtyZXR1cm4hMH0scGFyZW50OmZ1bmN0aW9uKGEpe3JldHVybiFkLnBzZXVkb3MuZW1wdHkoYSl9LGhlYWRlcjpmdW5jdGlvbihhKXtyZXR1cm4gWS50ZXN0KGEubm9kZU5hbWUpfSxpbnB1dDpmdW5jdGlvbihhKXtyZXR1cm4gWC50ZXN0KGEubm9kZU5hbWUpfSxidXR0b246ZnVuY3Rpb24oYSl7dmFyIGI9YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVyblwiaW5wdXRcIj09PWImJlwiYnV0dG9uXCI9PT1hLnR5cGV8fFwiYnV0dG9uXCI9PT1ifSx0ZXh0OmZ1bmN0aW9uKGEpe3ZhciBiO3JldHVyblwiaW5wdXRcIj09PWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmXCJ0ZXh0XCI9PT1hLnR5cGUmJihudWxsPT0oYj1hLmdldEF0dHJpYnV0ZShcInR5cGVcIikpfHxcInRleHRcIj09PWIudG9Mb3dlckNhc2UoKSl9LGZpcnN0Om5hKGZ1bmN0aW9uKCl7cmV0dXJuWzBdfSksbGFzdDpuYShmdW5jdGlvbihhLGIpe3JldHVybltiLTFdfSksZXE6bmEoZnVuY3Rpb24oYSxiLGMpe3JldHVyblswPmM/YytiOmNdfSksZXZlbjpuYShmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wO2I+YztjKz0yKWEucHVzaChjKTtyZXR1cm4gYX0pLG9kZDpuYShmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0xO2I+YztjKz0yKWEucHVzaChjKTtyZXR1cm4gYX0pLGx0Om5hKGZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9MD5jP2MrYjpjOy0tZD49MDspYS5wdXNoKGQpO3JldHVybiBhfSksZ3Q6bmEoZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD0wPmM/YytiOmM7KytkPGI7KWEucHVzaChkKTtyZXR1cm4gYX0pfX0sZC5wc2V1ZG9zLm50aD1kLnBzZXVkb3MuZXE7Zm9yKGIgaW57cmFkaW86ITAsY2hlY2tib3g6ITAsZmlsZTohMCxwYXNzd29yZDohMCxpbWFnZTohMH0pZC5wc2V1ZG9zW2JdPWxhKGIpO2ZvcihiIGlue3N1Ym1pdDohMCxyZXNldDohMH0pZC5wc2V1ZG9zW2JdPW1hKGIpO2Z1bmN0aW9uIHBhKCl7fXBhLnByb3RvdHlwZT1kLmZpbHRlcnM9ZC5wc2V1ZG9zLGQuc2V0RmlsdGVycz1uZXcgcGEsZz1mYS50b2tlbml6ZT1mdW5jdGlvbihhLGIpe3ZhciBjLGUsZixnLGgsaSxqLGs9elthK1wiIFwiXTtpZihrKXJldHVybiBiPzA6ay5zbGljZSgwKTtoPWEsaT1bXSxqPWQucHJlRmlsdGVyO3doaWxlKGgpeyghY3x8KGU9Ui5leGVjKGgpKSkmJihlJiYoaD1oLnNsaWNlKGVbMF0ubGVuZ3RoKXx8aCksaS5wdXNoKGY9W10pKSxjPSExLChlPVMuZXhlYyhoKSkmJihjPWUuc2hpZnQoKSxmLnB1c2goe3ZhbHVlOmMsdHlwZTplWzBdLnJlcGxhY2UoUSxcIiBcIil9KSxoPWguc2xpY2UoYy5sZW5ndGgpKTtmb3IoZyBpbiBkLmZpbHRlcikhKGU9V1tnXS5leGVjKGgpKXx8altnXSYmIShlPWpbZ10oZSkpfHwoYz1lLnNoaWZ0KCksZi5wdXNoKHt2YWx1ZTpjLHR5cGU6ZyxtYXRjaGVzOmV9KSxoPWguc2xpY2UoYy5sZW5ndGgpKTtpZighYylicmVha31yZXR1cm4gYj9oLmxlbmd0aDpoP2ZhLmVycm9yKGEpOnooYSxpKS5zbGljZSgwKX07ZnVuY3Rpb24gcWEoYSl7Zm9yKHZhciBiPTAsYz1hLmxlbmd0aCxkPVwiXCI7Yz5iO2IrKylkKz1hW2JdLnZhbHVlO3JldHVybiBkfWZ1bmN0aW9uIHJhKGEsYixjKXt2YXIgZD1iLmRpcixlPWMmJlwicGFyZW50Tm9kZVwiPT09ZCxmPXgrKztyZXR1cm4gYi5maXJzdD9mdW5jdGlvbihiLGMsZil7d2hpbGUoYj1iW2RdKWlmKDE9PT1iLm5vZGVUeXBlfHxlKXJldHVybiBhKGIsYyxmKX06ZnVuY3Rpb24oYixjLGcpe3ZhciBoLGksaixrPVt3LGZdO2lmKGcpe3doaWxlKGI9YltkXSlpZigoMT09PWIubm9kZVR5cGV8fGUpJiZhKGIsYyxnKSlyZXR1cm4hMH1lbHNlIHdoaWxlKGI9YltkXSlpZigxPT09Yi5ub2RlVHlwZXx8ZSl7aWYoaj1iW3VdfHwoYlt1XT17fSksaT1qW2IudW5pcXVlSURdfHwoaltiLnVuaXF1ZUlEXT17fSksKGg9aVtkXSkmJmhbMF09PT13JiZoWzFdPT09ZilyZXR1cm4ga1syXT1oWzJdO2lmKGlbZF09ayxrWzJdPWEoYixjLGcpKXJldHVybiEwfX19ZnVuY3Rpb24gc2EoYSl7cmV0dXJuIGEubGVuZ3RoPjE/ZnVuY3Rpb24oYixjLGQpe3ZhciBlPWEubGVuZ3RoO3doaWxlKGUtLSlpZighYVtlXShiLGMsZCkpcmV0dXJuITE7cmV0dXJuITB9OmFbMF19ZnVuY3Rpb24gdGEoYSxiLGMpe2Zvcih2YXIgZD0wLGU9Yi5sZW5ndGg7ZT5kO2QrKylmYShhLGJbZF0sYyk7cmV0dXJuIGN9ZnVuY3Rpb24gdWEoYSxiLGMsZCxlKXtmb3IodmFyIGYsZz1bXSxoPTAsaT1hLmxlbmd0aCxqPW51bGwhPWI7aT5oO2grKykoZj1hW2hdKSYmKCFjfHxjKGYsZCxlKSkmJihnLnB1c2goZiksaiYmYi5wdXNoKGgpKTtyZXR1cm4gZ31mdW5jdGlvbiB2YShhLGIsYyxkLGUsZil7cmV0dXJuIGQmJiFkW3VdJiYoZD12YShkKSksZSYmIWVbdV0mJihlPXZhKGUsZikpLGhhKGZ1bmN0aW9uKGYsZyxoLGkpe3ZhciBqLGssbCxtPVtdLG49W10sbz1nLmxlbmd0aCxwPWZ8fHRhKGJ8fFwiKlwiLGgubm9kZVR5cGU/W2hdOmgsW10pLHE9IWF8fCFmJiZiP3A6dWEocCxtLGEsaCxpKSxyPWM/ZXx8KGY/YTpvfHxkKT9bXTpnOnE7aWYoYyYmYyhxLHIsaCxpKSxkKXtqPXVhKHIsbiksZChqLFtdLGgsaSksaz1qLmxlbmd0aDt3aGlsZShrLS0pKGw9altrXSkmJihyW25ba11dPSEocVtuW2tdXT1sKSl9aWYoZil7aWYoZXx8YSl7aWYoZSl7aj1bXSxrPXIubGVuZ3RoO3doaWxlKGstLSkobD1yW2tdKSYmai5wdXNoKHFba109bCk7ZShudWxsLHI9W10saixpKX1rPXIubGVuZ3RoO3doaWxlKGstLSkobD1yW2tdKSYmKGo9ZT9KKGYsbCk6bVtrXSk+LTEmJihmW2pdPSEoZ1tqXT1sKSl9fWVsc2Ugcj11YShyPT09Zz9yLnNwbGljZShvLHIubGVuZ3RoKTpyKSxlP2UobnVsbCxnLHIsaSk6SC5hcHBseShnLHIpfSl9ZnVuY3Rpb24gd2EoYSl7Zm9yKHZhciBiLGMsZSxmPWEubGVuZ3RoLGc9ZC5yZWxhdGl2ZVthWzBdLnR5cGVdLGg9Z3x8ZC5yZWxhdGl2ZVtcIiBcIl0saT1nPzE6MCxrPXJhKGZ1bmN0aW9uKGEpe3JldHVybiBhPT09Yn0saCwhMCksbD1yYShmdW5jdGlvbihhKXtyZXR1cm4gSihiLGEpPi0xfSxoLCEwKSxtPVtmdW5jdGlvbihhLGMsZCl7dmFyIGU9IWcmJihkfHxjIT09ail8fCgoYj1jKS5ub2RlVHlwZT9rKGEsYyxkKTpsKGEsYyxkKSk7cmV0dXJuIGI9bnVsbCxlfV07Zj5pO2krKylpZihjPWQucmVsYXRpdmVbYVtpXS50eXBlXSltPVtyYShzYShtKSxjKV07ZWxzZXtpZihjPWQuZmlsdGVyW2FbaV0udHlwZV0uYXBwbHkobnVsbCxhW2ldLm1hdGNoZXMpLGNbdV0pe2ZvcihlPSsraTtmPmU7ZSsrKWlmKGQucmVsYXRpdmVbYVtlXS50eXBlXSlicmVhaztyZXR1cm4gdmEoaT4xJiZzYShtKSxpPjEmJnFhKGEuc2xpY2UoMCxpLTEpLmNvbmNhdCh7dmFsdWU6XCIgXCI9PT1hW2ktMl0udHlwZT9cIipcIjpcIlwifSkpLnJlcGxhY2UoUSxcIiQxXCIpLGMsZT5pJiZ3YShhLnNsaWNlKGksZSkpLGY+ZSYmd2EoYT1hLnNsaWNlKGUpKSxmPmUmJnFhKGEpKX1tLnB1c2goYyl9cmV0dXJuIHNhKG0pfWZ1bmN0aW9uIHhhKGEsYil7dmFyIGM9Yi5sZW5ndGg+MCxlPWEubGVuZ3RoPjAsZj1mdW5jdGlvbihmLGcsaCxpLGspe3ZhciBsLG8scSxyPTAscz1cIjBcIix0PWYmJltdLHU9W10sdj1qLHg9Znx8ZSYmZC5maW5kLlRBRyhcIipcIixrKSx5PXcrPW51bGw9PXY/MTpNYXRoLnJhbmRvbSgpfHwuMSx6PXgubGVuZ3RoO2ZvcihrJiYoaj1nPT09bnx8Z3x8ayk7cyE9PXomJm51bGwhPShsPXhbc10pO3MrKyl7aWYoZSYmbCl7bz0wLGd8fGwub3duZXJEb2N1bWVudD09PW58fChtKGwpLGg9IXApO3doaWxlKHE9YVtvKytdKWlmKHEobCxnfHxuLGgpKXtpLnB1c2gobCk7YnJlYWt9ayYmKHc9eSl9YyYmKChsPSFxJiZsKSYmci0tLGYmJnQucHVzaChsKSl9aWYocis9cyxjJiZzIT09cil7bz0wO3doaWxlKHE9YltvKytdKXEodCx1LGcsaCk7aWYoZil7aWYocj4wKXdoaWxlKHMtLSl0W3NdfHx1W3NdfHwodVtzXT1GLmNhbGwoaSkpO3U9dWEodSl9SC5hcHBseShpLHUpLGsmJiFmJiZ1Lmxlbmd0aD4wJiZyK2IubGVuZ3RoPjEmJmZhLnVuaXF1ZVNvcnQoaSl9cmV0dXJuIGsmJih3PXksaj12KSx0fTtyZXR1cm4gYz9oYShmKTpmfXJldHVybiBoPWZhLmNvbXBpbGU9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPVtdLGU9W10sZj1BW2ErXCIgXCJdO2lmKCFmKXtifHwoYj1nKGEpKSxjPWIubGVuZ3RoO3doaWxlKGMtLSlmPXdhKGJbY10pLGZbdV0/ZC5wdXNoKGYpOmUucHVzaChmKTtmPUEoYSx4YShlLGQpKSxmLnNlbGVjdG9yPWF9cmV0dXJuIGZ9LGk9ZmEuc2VsZWN0PWZ1bmN0aW9uKGEsYixlLGYpe3ZhciBpLGosayxsLG0sbj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBhJiZhLG89IWYmJmcoYT1uLnNlbGVjdG9yfHxhKTtpZihlPWV8fFtdLDE9PT1vLmxlbmd0aCl7aWYoaj1vWzBdPW9bMF0uc2xpY2UoMCksai5sZW5ndGg+MiYmXCJJRFwiPT09KGs9alswXSkudHlwZSYmYy5nZXRCeUlkJiY5PT09Yi5ub2RlVHlwZSYmcCYmZC5yZWxhdGl2ZVtqWzFdLnR5cGVdKXtpZihiPShkLmZpbmQuSUQoay5tYXRjaGVzWzBdLnJlcGxhY2UoYmEsY2EpLGIpfHxbXSlbMF0sIWIpcmV0dXJuIGU7biYmKGI9Yi5wYXJlbnROb2RlKSxhPWEuc2xpY2Uoai5zaGlmdCgpLnZhbHVlLmxlbmd0aCl9aT1XLm5lZWRzQ29udGV4dC50ZXN0KGEpPzA6ai5sZW5ndGg7d2hpbGUoaS0tKXtpZihrPWpbaV0sZC5yZWxhdGl2ZVtsPWsudHlwZV0pYnJlYWs7aWYoKG09ZC5maW5kW2xdKSYmKGY9bShrLm1hdGNoZXNbMF0ucmVwbGFjZShiYSxjYSksXy50ZXN0KGpbMF0udHlwZSkmJm9hKGIucGFyZW50Tm9kZSl8fGIpKSl7aWYoai5zcGxpY2UoaSwxKSxhPWYubGVuZ3RoJiZxYShqKSwhYSlyZXR1cm4gSC5hcHBseShlLGYpLGU7YnJlYWt9fX1yZXR1cm4obnx8aChhLG8pKShmLGIsIXAsZSwhYnx8Xy50ZXN0KGEpJiZvYShiLnBhcmVudE5vZGUpfHxiKSxlfSxjLnNvcnRTdGFibGU9dS5zcGxpdChcIlwiKS5zb3J0KEIpLmpvaW4oXCJcIik9PT11LGMuZGV0ZWN0RHVwbGljYXRlcz0hIWwsbSgpLGMuc29ydERldGFjaGVkPWlhKGZ1bmN0aW9uKGEpe3JldHVybiAxJmEuY29tcGFyZURvY3VtZW50UG9zaXRpb24obi5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKX0pLGlhKGZ1bmN0aW9uKGEpe3JldHVybiBhLmlubmVySFRNTD1cIjxhIGhyZWY9JyMnPjwvYT5cIixcIiNcIj09PWEuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpfSl8fGphKFwidHlwZXxocmVmfGhlaWdodHx3aWR0aFwiLGZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYz92b2lkIDA6YS5nZXRBdHRyaWJ1dGUoYixcInR5cGVcIj09PWIudG9Mb3dlckNhc2UoKT8xOjIpfSksYy5hdHRyaWJ1dGVzJiZpYShmdW5jdGlvbihhKXtyZXR1cm4gYS5pbm5lckhUTUw9XCI8aW5wdXQvPlwiLGEuZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLFwiXCIpLFwiXCI9PT1hLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKFwidmFsdWVcIil9KXx8amEoXCJ2YWx1ZVwiLGZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gY3x8XCJpbnB1dFwiIT09YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpP3ZvaWQgMDphLmRlZmF1bHRWYWx1ZX0pLGlhKGZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hLmdldEF0dHJpYnV0ZShcImRpc2FibGVkXCIpfSl8fGphKEssZnVuY3Rpb24oYSxiLGMpe3ZhciBkO3JldHVybiBjP3ZvaWQgMDphW2JdPT09ITA/Yi50b0xvd2VyQ2FzZSgpOihkPWEuZ2V0QXR0cmlidXRlTm9kZShiKSkmJmQuc3BlY2lmaWVkP2QudmFsdWU6bnVsbH0pLGZhfShhKTtuLmZpbmQ9dCxuLmV4cHI9dC5zZWxlY3RvcnMsbi5leHByW1wiOlwiXT1uLmV4cHIucHNldWRvcyxuLnVuaXF1ZVNvcnQ9bi51bmlxdWU9dC51bmlxdWVTb3J0LG4udGV4dD10LmdldFRleHQsbi5pc1hNTERvYz10LmlzWE1MLG4uY29udGFpbnM9dC5jb250YWluczt2YXIgdT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9W10sZT12b2lkIDAhPT1jO3doaWxlKChhPWFbYl0pJiY5IT09YS5ub2RlVHlwZSlpZigxPT09YS5ub2RlVHlwZSl7aWYoZSYmbihhKS5pcyhjKSlicmVhaztkLnB1c2goYSl9cmV0dXJuIGR9LHY9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9W107YTthPWEubmV4dFNpYmxpbmcpMT09PWEubm9kZVR5cGUmJmEhPT1iJiZjLnB1c2goYSk7cmV0dXJuIGN9LHc9bi5leHByLm1hdGNoLm5lZWRzQ29udGV4dCx4PS9ePChbXFx3LV0rKVxccypcXC8/Pig/OjxcXC9cXDE+fCkkLyx5PS9eLlteOiNcXFtcXC4sXSokLztmdW5jdGlvbiB6KGEsYixjKXtpZihuLmlzRnVuY3Rpb24oYikpcmV0dXJuIG4uZ3JlcChhLGZ1bmN0aW9uKGEsZCl7cmV0dXJuISFiLmNhbGwoYSxkLGEpIT09Y30pO2lmKGIubm9kZVR5cGUpcmV0dXJuIG4uZ3JlcChhLGZ1bmN0aW9uKGEpe3JldHVybiBhPT09YiE9PWN9KTtpZihcInN0cmluZ1wiPT10eXBlb2YgYil7aWYoeS50ZXN0KGIpKXJldHVybiBuLmZpbHRlcihiLGEsYyk7Yj1uLmZpbHRlcihiLGEpfXJldHVybiBuLmdyZXAoYSxmdW5jdGlvbihhKXtyZXR1cm4gaC5jYWxsKGIsYSk+LTEhPT1jfSl9bi5maWx0ZXI9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWJbMF07cmV0dXJuIGMmJihhPVwiOm5vdChcIithK1wiKVwiKSwxPT09Yi5sZW5ndGgmJjE9PT1kLm5vZGVUeXBlP24uZmluZC5tYXRjaGVzU2VsZWN0b3IoZCxhKT9bZF06W106bi5maW5kLm1hdGNoZXMoYSxuLmdyZXAoYixmdW5jdGlvbihhKXtyZXR1cm4gMT09PWEubm9kZVR5cGV9KSl9LG4uZm4uZXh0ZW5kKHtmaW5kOmZ1bmN0aW9uKGEpe3ZhciBiLGM9dGhpcy5sZW5ndGgsZD1bXSxlPXRoaXM7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGEpcmV0dXJuIHRoaXMucHVzaFN0YWNrKG4oYSkuZmlsdGVyKGZ1bmN0aW9uKCl7Zm9yKGI9MDtjPmI7YisrKWlmKG4uY29udGFpbnMoZVtiXSx0aGlzKSlyZXR1cm4hMH0pKTtmb3IoYj0wO2M+YjtiKyspbi5maW5kKGEsZVtiXSxkKTtyZXR1cm4gZD10aGlzLnB1c2hTdGFjayhjPjE/bi51bmlxdWUoZCk6ZCksZC5zZWxlY3Rvcj10aGlzLnNlbGVjdG9yP3RoaXMuc2VsZWN0b3IrXCIgXCIrYTphLGR9LGZpbHRlcjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soeih0aGlzLGF8fFtdLCExKSl9LG5vdDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soeih0aGlzLGF8fFtdLCEwKSl9LGlzOmZ1bmN0aW9uKGEpe3JldHVybiEheih0aGlzLFwic3RyaW5nXCI9PXR5cGVvZiBhJiZ3LnRlc3QoYSk/bihhKTphfHxbXSwhMSkubGVuZ3RofX0pO3ZhciBBLEI9L14oPzpcXHMqKDxbXFx3XFxXXSs+KVtePl0qfCMoW1xcdy1dKikpJC8sQz1uLmZuLmluaXQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBlLGY7aWYoIWEpcmV0dXJuIHRoaXM7aWYoYz1jfHxBLFwic3RyaW5nXCI9PXR5cGVvZiBhKXtpZihlPVwiPFwiPT09YVswXSYmXCI+XCI9PT1hW2EubGVuZ3RoLTFdJiZhLmxlbmd0aD49Mz9bbnVsbCxhLG51bGxdOkIuZXhlYyhhKSwhZXx8IWVbMV0mJmIpcmV0dXJuIWJ8fGIuanF1ZXJ5PyhifHxjKS5maW5kKGEpOnRoaXMuY29uc3RydWN0b3IoYikuZmluZChhKTtpZihlWzFdKXtpZihiPWIgaW5zdGFuY2VvZiBuP2JbMF06YixuLm1lcmdlKHRoaXMsbi5wYXJzZUhUTUwoZVsxXSxiJiZiLm5vZGVUeXBlP2Iub3duZXJEb2N1bWVudHx8YjpkLCEwKSkseC50ZXN0KGVbMV0pJiZuLmlzUGxhaW5PYmplY3QoYikpZm9yKGUgaW4gYiluLmlzRnVuY3Rpb24odGhpc1tlXSk/dGhpc1tlXShiW2VdKTp0aGlzLmF0dHIoZSxiW2VdKTtyZXR1cm4gdGhpc31yZXR1cm4gZj1kLmdldEVsZW1lbnRCeUlkKGVbMl0pLGYmJmYucGFyZW50Tm9kZSYmKHRoaXMubGVuZ3RoPTEsdGhpc1swXT1mKSx0aGlzLmNvbnRleHQ9ZCx0aGlzLnNlbGVjdG9yPWEsdGhpc31yZXR1cm4gYS5ub2RlVHlwZT8odGhpcy5jb250ZXh0PXRoaXNbMF09YSx0aGlzLmxlbmd0aD0xLHRoaXMpOm4uaXNGdW5jdGlvbihhKT92b2lkIDAhPT1jLnJlYWR5P2MucmVhZHkoYSk6YShuKToodm9pZCAwIT09YS5zZWxlY3RvciYmKHRoaXMuc2VsZWN0b3I9YS5zZWxlY3Rvcix0aGlzLmNvbnRleHQ9YS5jb250ZXh0KSxuLm1ha2VBcnJheShhLHRoaXMpKX07Qy5wcm90b3R5cGU9bi5mbixBPW4oZCk7dmFyIEQ9L14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8sRT17Y2hpbGRyZW46ITAsY29udGVudHM6ITAsbmV4dDohMCxwcmV2OiEwfTtuLmZuLmV4dGVuZCh7aGFzOmZ1bmN0aW9uKGEpe3ZhciBiPW4oYSx0aGlzKSxjPWIubGVuZ3RoO3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbigpe2Zvcih2YXIgYT0wO2M+YTthKyspaWYobi5jb250YWlucyh0aGlzLGJbYV0pKXJldHVybiEwfSl9LGNsb3Nlc3Q6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMsZD0wLGU9dGhpcy5sZW5ndGgsZj1bXSxnPXcudGVzdChhKXx8XCJzdHJpbmdcIiE9dHlwZW9mIGE/bihhLGJ8fHRoaXMuY29udGV4dCk6MDtlPmQ7ZCsrKWZvcihjPXRoaXNbZF07YyYmYyE9PWI7Yz1jLnBhcmVudE5vZGUpaWYoYy5ub2RlVHlwZTwxMSYmKGc/Zy5pbmRleChjKT4tMToxPT09Yy5ub2RlVHlwZSYmbi5maW5kLm1hdGNoZXNTZWxlY3RvcihjLGEpKSl7Zi5wdXNoKGMpO2JyZWFrfXJldHVybiB0aGlzLnB1c2hTdGFjayhmLmxlbmd0aD4xP24udW5pcXVlU29ydChmKTpmKX0saW5kZXg6ZnVuY3Rpb24oYSl7cmV0dXJuIGE/XCJzdHJpbmdcIj09dHlwZW9mIGE/aC5jYWxsKG4oYSksdGhpc1swXSk6aC5jYWxsKHRoaXMsYS5qcXVlcnk/YVswXTphKTp0aGlzWzBdJiZ0aGlzWzBdLnBhcmVudE5vZGU/dGhpcy5maXJzdCgpLnByZXZBbGwoKS5sZW5ndGg6LTF9LGFkZDpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLnB1c2hTdGFjayhuLnVuaXF1ZVNvcnQobi5tZXJnZSh0aGlzLmdldCgpLG4oYSxiKSkpKX0sYWRkQmFjazpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hZGQobnVsbD09YT90aGlzLnByZXZPYmplY3Q6dGhpcy5wcmV2T2JqZWN0LmZpbHRlcihhKSl9fSk7ZnVuY3Rpb24gRihhLGIpe3doaWxlKChhPWFbYl0pJiYxIT09YS5ub2RlVHlwZSk7cmV0dXJuIGF9bi5lYWNoKHtwYXJlbnQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5wYXJlbnROb2RlO3JldHVybiBiJiYxMSE9PWIubm9kZVR5cGU/YjpudWxsfSxwYXJlbnRzOmZ1bmN0aW9uKGEpe3JldHVybiB1KGEsXCJwYXJlbnROb2RlXCIpfSxwYXJlbnRzVW50aWw6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB1KGEsXCJwYXJlbnROb2RlXCIsYyl9LG5leHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIEYoYSxcIm5leHRTaWJsaW5nXCIpfSxwcmV2OmZ1bmN0aW9uKGEpe3JldHVybiBGKGEsXCJwcmV2aW91c1NpYmxpbmdcIil9LG5leHRBbGw6ZnVuY3Rpb24oYSl7cmV0dXJuIHUoYSxcIm5leHRTaWJsaW5nXCIpfSxwcmV2QWxsOmZ1bmN0aW9uKGEpe3JldHVybiB1KGEsXCJwcmV2aW91c1NpYmxpbmdcIil9LG5leHRVbnRpbDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIHUoYSxcIm5leHRTaWJsaW5nXCIsYyl9LHByZXZVbnRpbDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIHUoYSxcInByZXZpb3VzU2libGluZ1wiLGMpfSxzaWJsaW5nczpmdW5jdGlvbihhKXtyZXR1cm4gdigoYS5wYXJlbnROb2RlfHx7fSkuZmlyc3RDaGlsZCxhKX0sY2hpbGRyZW46ZnVuY3Rpb24oYSl7cmV0dXJuIHYoYS5maXJzdENoaWxkKX0sY29udGVudHM6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuY29udGVudERvY3VtZW50fHxuLm1lcmdlKFtdLGEuY2hpbGROb2Rlcyl9fSxmdW5jdGlvbihhLGIpe24uZm5bYV09ZnVuY3Rpb24oYyxkKXt2YXIgZT1uLm1hcCh0aGlzLGIsYyk7cmV0dXJuXCJVbnRpbFwiIT09YS5zbGljZSgtNSkmJihkPWMpLGQmJlwic3RyaW5nXCI9PXR5cGVvZiBkJiYoZT1uLmZpbHRlcihkLGUpKSx0aGlzLmxlbmd0aD4xJiYoRVthXXx8bi51bmlxdWVTb3J0KGUpLEQudGVzdChhKSYmZS5yZXZlcnNlKCkpLHRoaXMucHVzaFN0YWNrKGUpfX0pO3ZhciBHPS9cXFMrL2c7ZnVuY3Rpb24gSChhKXt2YXIgYj17fTtyZXR1cm4gbi5lYWNoKGEubWF0Y2goRyl8fFtdLGZ1bmN0aW9uKGEsYyl7YltjXT0hMH0pLGJ9bi5DYWxsYmFja3M9ZnVuY3Rpb24oYSl7YT1cInN0cmluZ1wiPT10eXBlb2YgYT9IKGEpOm4uZXh0ZW5kKHt9LGEpO3ZhciBiLGMsZCxlLGY9W10sZz1bXSxoPS0xLGk9ZnVuY3Rpb24oKXtmb3IoZT1hLm9uY2UsZD1iPSEwO2cubGVuZ3RoO2g9LTEpe2M9Zy5zaGlmdCgpO3doaWxlKCsraDxmLmxlbmd0aClmW2hdLmFwcGx5KGNbMF0sY1sxXSk9PT0hMSYmYS5zdG9wT25GYWxzZSYmKGg9Zi5sZW5ndGgsYz0hMSl9YS5tZW1vcnl8fChjPSExKSxiPSExLGUmJihmPWM/W106XCJcIil9LGo9e2FkZDpmdW5jdGlvbigpe3JldHVybiBmJiYoYyYmIWImJihoPWYubGVuZ3RoLTEsZy5wdXNoKGMpKSxmdW5jdGlvbiBkKGIpe24uZWFjaChiLGZ1bmN0aW9uKGIsYyl7bi5pc0Z1bmN0aW9uKGMpP2EudW5pcXVlJiZqLmhhcyhjKXx8Zi5wdXNoKGMpOmMmJmMubGVuZ3RoJiZcInN0cmluZ1wiIT09bi50eXBlKGMpJiZkKGMpfSl9KGFyZ3VtZW50cyksYyYmIWImJmkoKSksdGhpc30scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIG4uZWFjaChhcmd1bWVudHMsZnVuY3Rpb24oYSxiKXt2YXIgYzt3aGlsZSgoYz1uLmluQXJyYXkoYixmLGMpKT4tMSlmLnNwbGljZShjLDEpLGg+PWMmJmgtLX0pLHRoaXN9LGhhczpmdW5jdGlvbihhKXtyZXR1cm4gYT9uLmluQXJyYXkoYSxmKT4tMTpmLmxlbmd0aD4wfSxlbXB0eTpmdW5jdGlvbigpe3JldHVybiBmJiYoZj1bXSksdGhpc30sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiBlPWc9W10sZj1jPVwiXCIsdGhpc30sZGlzYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hZn0sbG9jazpmdW5jdGlvbigpe3JldHVybiBlPWc9W10sY3x8KGY9Yz1cIlwiKSx0aGlzfSxsb2NrZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIWV9LGZpcmVXaXRoOmZ1bmN0aW9uKGEsYyl7cmV0dXJuIGV8fChjPWN8fFtdLGM9W2EsYy5zbGljZT9jLnNsaWNlKCk6Y10sZy5wdXNoKGMpLGJ8fGkoKSksdGhpc30sZmlyZTpmdW5jdGlvbigpe3JldHVybiBqLmZpcmVXaXRoKHRoaXMsYXJndW1lbnRzKSx0aGlzfSxmaXJlZDpmdW5jdGlvbigpe3JldHVybiEhZH19O3JldHVybiBqfSxuLmV4dGVuZCh7RGVmZXJyZWQ6ZnVuY3Rpb24oYSl7dmFyIGI9W1tcInJlc29sdmVcIixcImRvbmVcIixuLkNhbGxiYWNrcyhcIm9uY2UgbWVtb3J5XCIpLFwicmVzb2x2ZWRcIl0sW1wicmVqZWN0XCIsXCJmYWlsXCIsbi5DYWxsYmFja3MoXCJvbmNlIG1lbW9yeVwiKSxcInJlamVjdGVkXCJdLFtcIm5vdGlmeVwiLFwicHJvZ3Jlc3NcIixuLkNhbGxiYWNrcyhcIm1lbW9yeVwiKV1dLGM9XCJwZW5kaW5nXCIsZD17c3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gY30sYWx3YXlzOmZ1bmN0aW9uKCl7cmV0dXJuIGUuZG9uZShhcmd1bWVudHMpLmZhaWwoYXJndW1lbnRzKSx0aGlzfSx0aGVuOmZ1bmN0aW9uKCl7dmFyIGE9YXJndW1lbnRzO3JldHVybiBuLkRlZmVycmVkKGZ1bmN0aW9uKGMpe24uZWFjaChiLGZ1bmN0aW9uKGIsZil7dmFyIGc9bi5pc0Z1bmN0aW9uKGFbYl0pJiZhW2JdO2VbZlsxXV0oZnVuY3Rpb24oKXt2YXIgYT1nJiZnLmFwcGx5KHRoaXMsYXJndW1lbnRzKTthJiZuLmlzRnVuY3Rpb24oYS5wcm9taXNlKT9hLnByb21pc2UoKS5wcm9ncmVzcyhjLm5vdGlmeSkuZG9uZShjLnJlc29sdmUpLmZhaWwoYy5yZWplY3QpOmNbZlswXStcIldpdGhcIl0odGhpcz09PWQ/Yy5wcm9taXNlKCk6dGhpcyxnP1thXTphcmd1bWVudHMpfSl9KSxhPW51bGx9KS5wcm9taXNlKCl9LHByb21pc2U6ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWE/bi5leHRlbmQoYSxkKTpkfX0sZT17fTtyZXR1cm4gZC5waXBlPWQudGhlbixuLmVhY2goYixmdW5jdGlvbihhLGYpe3ZhciBnPWZbMl0saD1mWzNdO2RbZlsxXV09Zy5hZGQsaCYmZy5hZGQoZnVuY3Rpb24oKXtjPWh9LGJbMV5hXVsyXS5kaXNhYmxlLGJbMl1bMl0ubG9jayksZVtmWzBdXT1mdW5jdGlvbigpe3JldHVybiBlW2ZbMF0rXCJXaXRoXCJdKHRoaXM9PT1lP2Q6dGhpcyxhcmd1bWVudHMpLHRoaXN9LGVbZlswXStcIldpdGhcIl09Zy5maXJlV2l0aH0pLGQucHJvbWlzZShlKSxhJiZhLmNhbGwoZSxlKSxlfSx3aGVuOmZ1bmN0aW9uKGEpe3ZhciBiPTAsYz1lLmNhbGwoYXJndW1lbnRzKSxkPWMubGVuZ3RoLGY9MSE9PWR8fGEmJm4uaXNGdW5jdGlvbihhLnByb21pc2UpP2Q6MCxnPTE9PT1mP2E6bi5EZWZlcnJlZCgpLGg9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBmdW5jdGlvbihkKXtiW2FdPXRoaXMsY1thXT1hcmd1bWVudHMubGVuZ3RoPjE/ZS5jYWxsKGFyZ3VtZW50cyk6ZCxjPT09aT9nLm5vdGlmeVdpdGgoYixjKTotLWZ8fGcucmVzb2x2ZVdpdGgoYixjKX19LGksaixrO2lmKGQ+MSlmb3IoaT1uZXcgQXJyYXkoZCksaj1uZXcgQXJyYXkoZCksaz1uZXcgQXJyYXkoZCk7ZD5iO2IrKyljW2JdJiZuLmlzRnVuY3Rpb24oY1tiXS5wcm9taXNlKT9jW2JdLnByb21pc2UoKS5wcm9ncmVzcyhoKGIsaixpKSkuZG9uZShoKGIsayxjKSkuZmFpbChnLnJlamVjdCk6LS1mO3JldHVybiBmfHxnLnJlc29sdmVXaXRoKGssYyksZy5wcm9taXNlKCl9fSk7dmFyIEk7bi5mbi5yZWFkeT1mdW5jdGlvbihhKXtyZXR1cm4gbi5yZWFkeS5wcm9taXNlKCkuZG9uZShhKSx0aGlzfSxuLmV4dGVuZCh7aXNSZWFkeTohMSxyZWFkeVdhaXQ6MSxob2xkUmVhZHk6ZnVuY3Rpb24oYSl7YT9uLnJlYWR5V2FpdCsrOm4ucmVhZHkoITApfSxyZWFkeTpmdW5jdGlvbihhKXsoYT09PSEwPy0tbi5yZWFkeVdhaXQ6bi5pc1JlYWR5KXx8KG4uaXNSZWFkeT0hMCxhIT09ITAmJi0tbi5yZWFkeVdhaXQ+MHx8KEkucmVzb2x2ZVdpdGgoZCxbbl0pLG4uZm4udHJpZ2dlckhhbmRsZXImJihuKGQpLnRyaWdnZXJIYW5kbGVyKFwicmVhZHlcIiksbihkKS5vZmYoXCJyZWFkeVwiKSkpKX19KTtmdW5jdGlvbiBKKCl7ZC5yZW1vdmVFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLEopLGEucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImxvYWRcIixKKSxuLnJlYWR5KCl9bi5yZWFkeS5wcm9taXNlPWZ1bmN0aW9uKGIpe3JldHVybiBJfHwoST1uLkRlZmVycmVkKCksXCJjb21wbGV0ZVwiPT09ZC5yZWFkeVN0YXRlfHxcImxvYWRpbmdcIiE9PWQucmVhZHlTdGF0ZSYmIWQuZG9jdW1lbnRFbGVtZW50LmRvU2Nyb2xsP2Euc2V0VGltZW91dChuLnJlYWR5KTooZC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLEopLGEuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixKKSkpLEkucHJvbWlzZShiKX0sbi5yZWFkeS5wcm9taXNlKCk7dmFyIEs9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7dmFyIGg9MCxpPWEubGVuZ3RoLGo9bnVsbD09YztpZihcIm9iamVjdFwiPT09bi50eXBlKGMpKXtlPSEwO2ZvcihoIGluIGMpSyhhLGIsaCxjW2hdLCEwLGYsZyl9ZWxzZSBpZih2b2lkIDAhPT1kJiYoZT0hMCxuLmlzRnVuY3Rpb24oZCl8fChnPSEwKSxqJiYoZz8oYi5jYWxsKGEsZCksYj1udWxsKTooaj1iLGI9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBqLmNhbGwobihhKSxjKX0pKSxiKSlmb3IoO2k+aDtoKyspYihhW2hdLGMsZz9kOmQuY2FsbChhW2hdLGgsYihhW2hdLGMpKSk7cmV0dXJuIGU/YTpqP2IuY2FsbChhKTppP2IoYVswXSxjKTpmfSxMPWZ1bmN0aW9uKGEpe3JldHVybiAxPT09YS5ub2RlVHlwZXx8OT09PWEubm9kZVR5cGV8fCErYS5ub2RlVHlwZX07ZnVuY3Rpb24gTSgpe3RoaXMuZXhwYW5kbz1uLmV4cGFuZG8rTS51aWQrK31NLnVpZD0xLE0ucHJvdG90eXBlPXtyZWdpc3RlcjpmdW5jdGlvbihhLGIpe3ZhciBjPWJ8fHt9O3JldHVybiBhLm5vZGVUeXBlP2FbdGhpcy5leHBhbmRvXT1jOk9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLHRoaXMuZXhwYW5kbyx7dmFsdWU6Yyx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxhW3RoaXMuZXhwYW5kb119LGNhY2hlOmZ1bmN0aW9uKGEpe2lmKCFMKGEpKXJldHVybnt9O3ZhciBiPWFbdGhpcy5leHBhbmRvXTtyZXR1cm4gYnx8KGI9e30sTChhKSYmKGEubm9kZVR5cGU/YVt0aGlzLmV4cGFuZG9dPWI6T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsdGhpcy5leHBhbmRvLHt2YWx1ZTpiLGNvbmZpZ3VyYWJsZTohMH0pKSksYn0sc2V0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlPXRoaXMuY2FjaGUoYSk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGIpZVtiXT1jO2Vsc2UgZm9yKGQgaW4gYillW2RdPWJbZF07cmV0dXJuIGV9LGdldDpmdW5jdGlvbihhLGIpe3JldHVybiB2b2lkIDA9PT1iP3RoaXMuY2FjaGUoYSk6YVt0aGlzLmV4cGFuZG9dJiZhW3RoaXMuZXhwYW5kb11bYl19LGFjY2VzczpmdW5jdGlvbihhLGIsYyl7dmFyIGQ7cmV0dXJuIHZvaWQgMD09PWJ8fGImJlwic3RyaW5nXCI9PXR5cGVvZiBiJiZ2b2lkIDA9PT1jPyhkPXRoaXMuZ2V0KGEsYiksdm9pZCAwIT09ZD9kOnRoaXMuZ2V0KGEsbi5jYW1lbENhc2UoYikpKToodGhpcy5zZXQoYSxiLGMpLHZvaWQgMCE9PWM/YzpiKX0scmVtb3ZlOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGY9YVt0aGlzLmV4cGFuZG9dO2lmKHZvaWQgMCE9PWYpe2lmKHZvaWQgMD09PWIpdGhpcy5yZWdpc3RlcihhKTtlbHNle24uaXNBcnJheShiKT9kPWIuY29uY2F0KGIubWFwKG4uY2FtZWxDYXNlKSk6KGU9bi5jYW1lbENhc2UoYiksYiBpbiBmP2Q9W2IsZV06KGQ9ZSxkPWQgaW4gZj9bZF06ZC5tYXRjaChHKXx8W10pKSxjPWQubGVuZ3RoO3doaWxlKGMtLSlkZWxldGUgZltkW2NdXX0odm9pZCAwPT09Ynx8bi5pc0VtcHR5T2JqZWN0KGYpKSYmKGEubm9kZVR5cGU/YVt0aGlzLmV4cGFuZG9dPXZvaWQgMDpkZWxldGUgYVt0aGlzLmV4cGFuZG9dKX19LGhhc0RhdGE6ZnVuY3Rpb24oYSl7dmFyIGI9YVt0aGlzLmV4cGFuZG9dO3JldHVybiB2b2lkIDAhPT1iJiYhbi5pc0VtcHR5T2JqZWN0KGIpfX07dmFyIE49bmV3IE0sTz1uZXcgTSxQPS9eKD86XFx7W1xcd1xcV10qXFx9fFxcW1tcXHdcXFddKlxcXSkkLyxRPS9bQS1aXS9nO2Z1bmN0aW9uIFIoYSxiLGMpe3ZhciBkO2lmKHZvaWQgMD09PWMmJjE9PT1hLm5vZGVUeXBlKWlmKGQ9XCJkYXRhLVwiK2IucmVwbGFjZShRLFwiLSQmXCIpLnRvTG93ZXJDYXNlKCksYz1hLmdldEF0dHJpYnV0ZShkKSxcInN0cmluZ1wiPT10eXBlb2YgYyl7dHJ5e2M9XCJ0cnVlXCI9PT1jPyEwOlwiZmFsc2VcIj09PWM/ITE6XCJudWxsXCI9PT1jP251bGw6K2MrXCJcIj09PWM/K2M6UC50ZXN0KGMpP24ucGFyc2VKU09OKGMpOmN9Y2F0Y2goZSl7fU8uc2V0KGEsYixjKTtcbn1lbHNlIGM9dm9pZCAwO3JldHVybiBjfW4uZXh0ZW5kKHtoYXNEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiBPLmhhc0RhdGEoYSl8fE4uaGFzRGF0YShhKX0sZGF0YTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIE8uYWNjZXNzKGEsYixjKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihhLGIpe08ucmVtb3ZlKGEsYil9LF9kYXRhOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gTi5hY2Nlc3MoYSxiLGMpfSxfcmVtb3ZlRGF0YTpmdW5jdGlvbihhLGIpe04ucmVtb3ZlKGEsYil9fSksbi5mbi5leHRlbmQoe2RhdGE6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZj10aGlzWzBdLGc9ZiYmZi5hdHRyaWJ1dGVzO2lmKHZvaWQgMD09PWEpe2lmKHRoaXMubGVuZ3RoJiYoZT1PLmdldChmKSwxPT09Zi5ub2RlVHlwZSYmIU4uZ2V0KGYsXCJoYXNEYXRhQXR0cnNcIikpKXtjPWcubGVuZ3RoO3doaWxlKGMtLSlnW2NdJiYoZD1nW2NdLm5hbWUsMD09PWQuaW5kZXhPZihcImRhdGEtXCIpJiYoZD1uLmNhbWVsQ2FzZShkLnNsaWNlKDUpKSxSKGYsZCxlW2RdKSkpO04uc2V0KGYsXCJoYXNEYXRhQXR0cnNcIiwhMCl9cmV0dXJuIGV9cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGE/dGhpcy5lYWNoKGZ1bmN0aW9uKCl7Ty5zZXQodGhpcyxhKX0pOksodGhpcyxmdW5jdGlvbihiKXt2YXIgYyxkO2lmKGYmJnZvaWQgMD09PWIpe2lmKGM9Ty5nZXQoZixhKXx8Ty5nZXQoZixhLnJlcGxhY2UoUSxcIi0kJlwiKS50b0xvd2VyQ2FzZSgpKSx2b2lkIDAhPT1jKXJldHVybiBjO2lmKGQ9bi5jYW1lbENhc2UoYSksYz1PLmdldChmLGQpLHZvaWQgMCE9PWMpcmV0dXJuIGM7aWYoYz1SKGYsZCx2b2lkIDApLHZvaWQgMCE9PWMpcmV0dXJuIGN9ZWxzZSBkPW4uY2FtZWxDYXNlKGEpLHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBjPU8uZ2V0KHRoaXMsZCk7Ty5zZXQodGhpcyxkLGIpLGEuaW5kZXhPZihcIi1cIik+LTEmJnZvaWQgMCE9PWMmJk8uc2V0KHRoaXMsYSxiKX0pfSxudWxsLGIsYXJndW1lbnRzLmxlbmd0aD4xLG51bGwsITApfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtPLnJlbW92ZSh0aGlzLGEpfSl9fSksbi5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZDtyZXR1cm4gYT8oYj0oYnx8XCJmeFwiKStcInF1ZXVlXCIsZD1OLmdldChhLGIpLGMmJighZHx8bi5pc0FycmF5KGMpP2Q9Ti5hY2Nlc3MoYSxiLG4ubWFrZUFycmF5KGMpKTpkLnB1c2goYykpLGR8fFtdKTp2b2lkIDB9LGRlcXVldWU6ZnVuY3Rpb24oYSxiKXtiPWJ8fFwiZnhcIjt2YXIgYz1uLnF1ZXVlKGEsYiksZD1jLmxlbmd0aCxlPWMuc2hpZnQoKSxmPW4uX3F1ZXVlSG9va3MoYSxiKSxnPWZ1bmN0aW9uKCl7bi5kZXF1ZXVlKGEsYil9O1wiaW5wcm9ncmVzc1wiPT09ZSYmKGU9Yy5zaGlmdCgpLGQtLSksZSYmKFwiZnhcIj09PWImJmMudW5zaGlmdChcImlucHJvZ3Jlc3NcIiksZGVsZXRlIGYuc3RvcCxlLmNhbGwoYSxnLGYpKSwhZCYmZiYmZi5lbXB0eS5maXJlKCl9LF9xdWV1ZUhvb2tzOmZ1bmN0aW9uKGEsYil7dmFyIGM9YitcInF1ZXVlSG9va3NcIjtyZXR1cm4gTi5nZXQoYSxjKXx8Ti5hY2Nlc3MoYSxjLHtlbXB0eTpuLkNhbGxiYWNrcyhcIm9uY2UgbWVtb3J5XCIpLmFkZChmdW5jdGlvbigpe04ucmVtb3ZlKGEsW2IrXCJxdWV1ZVwiLGNdKX0pfSl9fSksbi5mbi5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKGEsYil7dmFyIGM9MjtyZXR1cm5cInN0cmluZ1wiIT10eXBlb2YgYSYmKGI9YSxhPVwiZnhcIixjLS0pLGFyZ3VtZW50cy5sZW5ndGg8Yz9uLnF1ZXVlKHRoaXNbMF0sYSk6dm9pZCAwPT09Yj90aGlzOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBjPW4ucXVldWUodGhpcyxhLGIpO24uX3F1ZXVlSG9va3ModGhpcyxhKSxcImZ4XCI9PT1hJiZcImlucHJvZ3Jlc3NcIiE9PWNbMF0mJm4uZGVxdWV1ZSh0aGlzLGEpfSl9LGRlcXVldWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe24uZGVxdWV1ZSh0aGlzLGEpfSl9LGNsZWFyUXVldWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucXVldWUoYXx8XCJmeFwiLFtdKX0scHJvbWlzZTpmdW5jdGlvbihhLGIpe3ZhciBjLGQ9MSxlPW4uRGVmZXJyZWQoKSxmPXRoaXMsZz10aGlzLmxlbmd0aCxoPWZ1bmN0aW9uKCl7LS1kfHxlLnJlc29sdmVXaXRoKGYsW2ZdKX07XCJzdHJpbmdcIiE9dHlwZW9mIGEmJihiPWEsYT12b2lkIDApLGE9YXx8XCJmeFwiO3doaWxlKGctLSljPU4uZ2V0KGZbZ10sYStcInF1ZXVlSG9va3NcIiksYyYmYy5lbXB0eSYmKGQrKyxjLmVtcHR5LmFkZChoKSk7cmV0dXJuIGgoKSxlLnByb21pc2UoYil9fSk7dmFyIFM9L1srLV0/KD86XFxkKlxcLnwpXFxkKyg/OltlRV1bKy1dP1xcZCt8KS8uc291cmNlLFQ9bmV3IFJlZ0V4cChcIl4oPzooWystXSk9fCkoXCIrUytcIikoW2EteiVdKikkXCIsXCJpXCIpLFU9W1wiVG9wXCIsXCJSaWdodFwiLFwiQm90dG9tXCIsXCJMZWZ0XCJdLFY9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT1ifHxhLFwibm9uZVwiPT09bi5jc3MoYSxcImRpc3BsYXlcIil8fCFuLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudCxhKX07ZnVuY3Rpb24gVyhhLGIsYyxkKXt2YXIgZSxmPTEsZz0yMCxoPWQ/ZnVuY3Rpb24oKXtyZXR1cm4gZC5jdXIoKX06ZnVuY3Rpb24oKXtyZXR1cm4gbi5jc3MoYSxiLFwiXCIpfSxpPWgoKSxqPWMmJmNbM118fChuLmNzc051bWJlcltiXT9cIlwiOlwicHhcIiksaz0obi5jc3NOdW1iZXJbYl18fFwicHhcIiE9PWomJitpKSYmVC5leGVjKG4uY3NzKGEsYikpO2lmKGsmJmtbM10hPT1qKXtqPWp8fGtbM10sYz1jfHxbXSxrPStpfHwxO2RvIGY9Znx8XCIuNVwiLGsvPWYsbi5zdHlsZShhLGIsaytqKTt3aGlsZShmIT09KGY9aCgpL2kpJiYxIT09ZiYmLS1nKX1yZXR1cm4gYyYmKGs9K2t8fCtpfHwwLGU9Y1sxXT9rKyhjWzFdKzEpKmNbMl06K2NbMl0sZCYmKGQudW5pdD1qLGQuc3RhcnQ9ayxkLmVuZD1lKSksZX12YXIgWD0vXig/OmNoZWNrYm94fHJhZGlvKSQvaSxZPS88KFtcXHc6LV0rKS8sWj0vXiR8XFwvKD86amF2YXxlY21hKXNjcmlwdC9pLCQ9e29wdGlvbjpbMSxcIjxzZWxlY3QgbXVsdGlwbGU9J211bHRpcGxlJz5cIixcIjwvc2VsZWN0PlwiXSx0aGVhZDpbMSxcIjx0YWJsZT5cIixcIjwvdGFibGU+XCJdLGNvbDpbMixcIjx0YWJsZT48Y29sZ3JvdXA+XCIsXCI8L2NvbGdyb3VwPjwvdGFibGU+XCJdLHRyOlsyLFwiPHRhYmxlPjx0Ym9keT5cIixcIjwvdGJvZHk+PC90YWJsZT5cIl0sdGQ6WzMsXCI8dGFibGU+PHRib2R5Pjx0cj5cIixcIjwvdHI+PC90Ym9keT48L3RhYmxlPlwiXSxfZGVmYXVsdDpbMCxcIlwiLFwiXCJdfTskLm9wdGdyb3VwPSQub3B0aW9uLCQudGJvZHk9JC50Zm9vdD0kLmNvbGdyb3VwPSQuY2FwdGlvbj0kLnRoZWFkLCQudGg9JC50ZDtmdW5jdGlvbiBfKGEsYil7dmFyIGM9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEuZ2V0RWxlbWVudHNCeVRhZ05hbWU/YS5nZXRFbGVtZW50c0J5VGFnTmFtZShifHxcIipcIik6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEucXVlcnlTZWxlY3RvckFsbD9hLnF1ZXJ5U2VsZWN0b3JBbGwoYnx8XCIqXCIpOltdO3JldHVybiB2b2lkIDA9PT1ifHxiJiZuLm5vZGVOYW1lKGEsYik/bi5tZXJnZShbYV0sYyk6Y31mdW5jdGlvbiBhYShhLGIpe2Zvcih2YXIgYz0wLGQ9YS5sZW5ndGg7ZD5jO2MrKylOLnNldChhW2NdLFwiZ2xvYmFsRXZhbFwiLCFifHxOLmdldChiW2NdLFwiZ2xvYmFsRXZhbFwiKSl9dmFyIGJhPS88fCYjP1xcdys7LztmdW5jdGlvbiBjYShhLGIsYyxkLGUpe2Zvcih2YXIgZixnLGgsaSxqLGssbD1iLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxtPVtdLG89MCxwPWEubGVuZ3RoO3A+bztvKyspaWYoZj1hW29dLGZ8fDA9PT1mKWlmKFwib2JqZWN0XCI9PT1uLnR5cGUoZikpbi5tZXJnZShtLGYubm9kZVR5cGU/W2ZdOmYpO2Vsc2UgaWYoYmEudGVzdChmKSl7Zz1nfHxsLmFwcGVuZENoaWxkKGIuY3JlYXRlRWxlbWVudChcImRpdlwiKSksaD0oWS5leGVjKGYpfHxbXCJcIixcIlwiXSlbMV0udG9Mb3dlckNhc2UoKSxpPSRbaF18fCQuX2RlZmF1bHQsZy5pbm5lckhUTUw9aVsxXStuLmh0bWxQcmVmaWx0ZXIoZikraVsyXSxrPWlbMF07d2hpbGUoay0tKWc9Zy5sYXN0Q2hpbGQ7bi5tZXJnZShtLGcuY2hpbGROb2RlcyksZz1sLmZpcnN0Q2hpbGQsZy50ZXh0Q29udGVudD1cIlwifWVsc2UgbS5wdXNoKGIuY3JlYXRlVGV4dE5vZGUoZikpO2wudGV4dENvbnRlbnQ9XCJcIixvPTA7d2hpbGUoZj1tW28rK10paWYoZCYmbi5pbkFycmF5KGYsZCk+LTEpZSYmZS5wdXNoKGYpO2Vsc2UgaWYoaj1uLmNvbnRhaW5zKGYub3duZXJEb2N1bWVudCxmKSxnPV8obC5hcHBlbmRDaGlsZChmKSxcInNjcmlwdFwiKSxqJiZhYShnKSxjKXtrPTA7d2hpbGUoZj1nW2srK10pWi50ZXN0KGYudHlwZXx8XCJcIikmJmMucHVzaChmKX1yZXR1cm4gbH0hZnVuY3Rpb24oKXt2YXIgYT1kLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxiPWEuYXBwZW5kQ2hpbGQoZC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKSxjPWQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO2Muc2V0QXR0cmlidXRlKFwidHlwZVwiLFwicmFkaW9cIiksYy5zZXRBdHRyaWJ1dGUoXCJjaGVja2VkXCIsXCJjaGVja2VkXCIpLGMuc2V0QXR0cmlidXRlKFwibmFtZVwiLFwidFwiKSxiLmFwcGVuZENoaWxkKGMpLGwuY2hlY2tDbG9uZT1iLmNsb25lTm9kZSghMCkuY2xvbmVOb2RlKCEwKS5sYXN0Q2hpbGQuY2hlY2tlZCxiLmlubmVySFRNTD1cIjx0ZXh0YXJlYT54PC90ZXh0YXJlYT5cIixsLm5vQ2xvbmVDaGVja2VkPSEhYi5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5kZWZhdWx0VmFsdWV9KCk7dmFyIGRhPS9ea2V5LyxlYT0vXig/Om1vdXNlfHBvaW50ZXJ8Y29udGV4dG1lbnV8ZHJhZ3xkcm9wKXxjbGljay8sZmE9L14oW14uXSopKD86XFwuKC4rKXwpLztmdW5jdGlvbiBnYSgpe3JldHVybiEwfWZ1bmN0aW9uIGhhKCl7cmV0dXJuITF9ZnVuY3Rpb24gaWEoKXt0cnl7cmV0dXJuIGQuYWN0aXZlRWxlbWVudH1jYXRjaChhKXt9fWZ1bmN0aW9uIGphKGEsYixjLGQsZSxmKXt2YXIgZyxoO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBiKXtcInN0cmluZ1wiIT10eXBlb2YgYyYmKGQ9ZHx8YyxjPXZvaWQgMCk7Zm9yKGggaW4gYilqYShhLGgsYyxkLGJbaF0sZik7cmV0dXJuIGF9aWYobnVsbD09ZCYmbnVsbD09ZT8oZT1jLGQ9Yz12b2lkIDApOm51bGw9PWUmJihcInN0cmluZ1wiPT10eXBlb2YgYz8oZT1kLGQ9dm9pZCAwKTooZT1kLGQ9YyxjPXZvaWQgMCkpLGU9PT0hMSllPWhhO2Vsc2UgaWYoIWUpcmV0dXJuIHRoaXM7cmV0dXJuIDE9PT1mJiYoZz1lLGU9ZnVuY3Rpb24oYSl7cmV0dXJuIG4oKS5vZmYoYSksZy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGUuZ3VpZD1nLmd1aWR8fChnLmd1aWQ9bi5ndWlkKyspKSxhLmVhY2goZnVuY3Rpb24oKXtuLmV2ZW50LmFkZCh0aGlzLGIsZSxkLGMpfSl9bi5ldmVudD17Z2xvYmFsOnt9LGFkZDpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmLGcsaCxpLGosayxsLG0sbyxwLHEscj1OLmdldChhKTtpZihyKXtjLmhhbmRsZXImJihmPWMsYz1mLmhhbmRsZXIsZT1mLnNlbGVjdG9yKSxjLmd1aWR8fChjLmd1aWQ9bi5ndWlkKyspLChpPXIuZXZlbnRzKXx8KGk9ci5ldmVudHM9e30pLChnPXIuaGFuZGxlKXx8KGc9ci5oYW5kbGU9ZnVuY3Rpb24oYil7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG4mJm4uZXZlbnQudHJpZ2dlcmVkIT09Yi50eXBlP24uZXZlbnQuZGlzcGF0Y2guYXBwbHkoYSxhcmd1bWVudHMpOnZvaWQgMH0pLGI9KGJ8fFwiXCIpLm1hdGNoKEcpfHxbXCJcIl0saj1iLmxlbmd0aDt3aGlsZShqLS0paD1mYS5leGVjKGJbal0pfHxbXSxvPXE9aFsxXSxwPShoWzJdfHxcIlwiKS5zcGxpdChcIi5cIikuc29ydCgpLG8mJihsPW4uZXZlbnQuc3BlY2lhbFtvXXx8e30sbz0oZT9sLmRlbGVnYXRlVHlwZTpsLmJpbmRUeXBlKXx8byxsPW4uZXZlbnQuc3BlY2lhbFtvXXx8e30saz1uLmV4dGVuZCh7dHlwZTpvLG9yaWdUeXBlOnEsZGF0YTpkLGhhbmRsZXI6YyxndWlkOmMuZ3VpZCxzZWxlY3RvcjplLG5lZWRzQ29udGV4dDplJiZuLmV4cHIubWF0Y2gubmVlZHNDb250ZXh0LnRlc3QoZSksbmFtZXNwYWNlOnAuam9pbihcIi5cIil9LGYpLChtPWlbb10pfHwobT1pW29dPVtdLG0uZGVsZWdhdGVDb3VudD0wLGwuc2V0dXAmJmwuc2V0dXAuY2FsbChhLGQscCxnKSE9PSExfHxhLmFkZEV2ZW50TGlzdGVuZXImJmEuYWRkRXZlbnRMaXN0ZW5lcihvLGcpKSxsLmFkZCYmKGwuYWRkLmNhbGwoYSxrKSxrLmhhbmRsZXIuZ3VpZHx8KGsuaGFuZGxlci5ndWlkPWMuZ3VpZCkpLGU/bS5zcGxpY2UobS5kZWxlZ2F0ZUNvdW50KyssMCxrKTptLnB1c2goayksbi5ldmVudC5nbG9iYWxbb109ITApfX0scmVtb3ZlOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGYsZyxoLGksaixrLGwsbSxvLHAscSxyPU4uaGFzRGF0YShhKSYmTi5nZXQoYSk7aWYociYmKGk9ci5ldmVudHMpKXtiPShifHxcIlwiKS5tYXRjaChHKXx8W1wiXCJdLGo9Yi5sZW5ndGg7d2hpbGUoai0tKWlmKGg9ZmEuZXhlYyhiW2pdKXx8W10sbz1xPWhbMV0scD0oaFsyXXx8XCJcIikuc3BsaXQoXCIuXCIpLnNvcnQoKSxvKXtsPW4uZXZlbnQuc3BlY2lhbFtvXXx8e30sbz0oZD9sLmRlbGVnYXRlVHlwZTpsLmJpbmRUeXBlKXx8byxtPWlbb118fFtdLGg9aFsyXSYmbmV3IFJlZ0V4cChcIihefFxcXFwuKVwiK3Auam9pbihcIlxcXFwuKD86LipcXFxcLnwpXCIpK1wiKFxcXFwufCQpXCIpLGc9Zj1tLmxlbmd0aDt3aGlsZShmLS0paz1tW2ZdLCFlJiZxIT09ay5vcmlnVHlwZXx8YyYmYy5ndWlkIT09ay5ndWlkfHxoJiYhaC50ZXN0KGsubmFtZXNwYWNlKXx8ZCYmZCE9PWsuc2VsZWN0b3ImJihcIioqXCIhPT1kfHwhay5zZWxlY3Rvcil8fChtLnNwbGljZShmLDEpLGsuc2VsZWN0b3ImJm0uZGVsZWdhdGVDb3VudC0tLGwucmVtb3ZlJiZsLnJlbW92ZS5jYWxsKGEsaykpO2cmJiFtLmxlbmd0aCYmKGwudGVhcmRvd24mJmwudGVhcmRvd24uY2FsbChhLHAsci5oYW5kbGUpIT09ITF8fG4ucmVtb3ZlRXZlbnQoYSxvLHIuaGFuZGxlKSxkZWxldGUgaVtvXSl9ZWxzZSBmb3IobyBpbiBpKW4uZXZlbnQucmVtb3ZlKGEsbytiW2pdLGMsZCwhMCk7bi5pc0VtcHR5T2JqZWN0KGkpJiZOLnJlbW92ZShhLFwiaGFuZGxlIGV2ZW50c1wiKX19LGRpc3BhdGNoOmZ1bmN0aW9uKGEpe2E9bi5ldmVudC5maXgoYSk7dmFyIGIsYyxkLGYsZyxoPVtdLGk9ZS5jYWxsKGFyZ3VtZW50cyksaj0oTi5nZXQodGhpcyxcImV2ZW50c1wiKXx8e30pW2EudHlwZV18fFtdLGs9bi5ldmVudC5zcGVjaWFsW2EudHlwZV18fHt9O2lmKGlbMF09YSxhLmRlbGVnYXRlVGFyZ2V0PXRoaXMsIWsucHJlRGlzcGF0Y2h8fGsucHJlRGlzcGF0Y2guY2FsbCh0aGlzLGEpIT09ITEpe2g9bi5ldmVudC5oYW5kbGVycy5jYWxsKHRoaXMsYSxqKSxiPTA7d2hpbGUoKGY9aFtiKytdKSYmIWEuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSl7YS5jdXJyZW50VGFyZ2V0PWYuZWxlbSxjPTA7d2hpbGUoKGc9Zi5oYW5kbGVyc1tjKytdKSYmIWEuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSkoIWEucm5hbWVzcGFjZXx8YS5ybmFtZXNwYWNlLnRlc3QoZy5uYW1lc3BhY2UpKSYmKGEuaGFuZGxlT2JqPWcsYS5kYXRhPWcuZGF0YSxkPSgobi5ldmVudC5zcGVjaWFsW2cub3JpZ1R5cGVdfHx7fSkuaGFuZGxlfHxnLmhhbmRsZXIpLmFwcGx5KGYuZWxlbSxpKSx2b2lkIDAhPT1kJiYoYS5yZXN1bHQ9ZCk9PT0hMSYmKGEucHJldmVudERlZmF1bHQoKSxhLnN0b3BQcm9wYWdhdGlvbigpKSl9cmV0dXJuIGsucG9zdERpc3BhdGNoJiZrLnBvc3REaXNwYXRjaC5jYWxsKHRoaXMsYSksYS5yZXN1bHR9fSxoYW5kbGVyczpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmLGc9W10saD1iLmRlbGVnYXRlQ291bnQsaT1hLnRhcmdldDtpZihoJiZpLm5vZGVUeXBlJiYoXCJjbGlja1wiIT09YS50eXBlfHxpc05hTihhLmJ1dHRvbil8fGEuYnV0dG9uPDEpKWZvcig7aSE9PXRoaXM7aT1pLnBhcmVudE5vZGV8fHRoaXMpaWYoMT09PWkubm9kZVR5cGUmJihpLmRpc2FibGVkIT09ITB8fFwiY2xpY2tcIiE9PWEudHlwZSkpe2ZvcihkPVtdLGM9MDtoPmM7YysrKWY9YltjXSxlPWYuc2VsZWN0b3IrXCIgXCIsdm9pZCAwPT09ZFtlXSYmKGRbZV09Zi5uZWVkc0NvbnRleHQ/bihlLHRoaXMpLmluZGV4KGkpPi0xOm4uZmluZChlLHRoaXMsbnVsbCxbaV0pLmxlbmd0aCksZFtlXSYmZC5wdXNoKGYpO2QubGVuZ3RoJiZnLnB1c2goe2VsZW06aSxoYW5kbGVyczpkfSl9cmV0dXJuIGg8Yi5sZW5ndGgmJmcucHVzaCh7ZWxlbTp0aGlzLGhhbmRsZXJzOmIuc2xpY2UoaCl9KSxnfSxwcm9wczpcImFsdEtleSBidWJibGVzIGNhbmNlbGFibGUgY3RybEtleSBjdXJyZW50VGFyZ2V0IGRldGFpbCBldmVudFBoYXNlIG1ldGFLZXkgcmVsYXRlZFRhcmdldCBzaGlmdEtleSB0YXJnZXQgdGltZVN0YW1wIHZpZXcgd2hpY2hcIi5zcGxpdChcIiBcIiksZml4SG9va3M6e30sa2V5SG9va3M6e3Byb3BzOlwiY2hhciBjaGFyQ29kZSBrZXkga2V5Q29kZVwiLnNwbGl0KFwiIFwiKSxmaWx0ZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbnVsbD09YS53aGljaCYmKGEud2hpY2g9bnVsbCE9Yi5jaGFyQ29kZT9iLmNoYXJDb2RlOmIua2V5Q29kZSksYX19LG1vdXNlSG9va3M6e3Byb3BzOlwiYnV0dG9uIGJ1dHRvbnMgY2xpZW50WCBjbGllbnRZIG9mZnNldFggb2Zmc2V0WSBwYWdlWCBwYWdlWSBzY3JlZW5YIHNjcmVlblkgdG9FbGVtZW50XCIuc3BsaXQoXCIgXCIpLGZpbHRlcjpmdW5jdGlvbihhLGIpe3ZhciBjLGUsZixnPWIuYnV0dG9uO3JldHVybiBudWxsPT1hLnBhZ2VYJiZudWxsIT1iLmNsaWVudFgmJihjPWEudGFyZ2V0Lm93bmVyRG9jdW1lbnR8fGQsZT1jLmRvY3VtZW50RWxlbWVudCxmPWMuYm9keSxhLnBhZ2VYPWIuY2xpZW50WCsoZSYmZS5zY3JvbGxMZWZ0fHxmJiZmLnNjcm9sbExlZnR8fDApLShlJiZlLmNsaWVudExlZnR8fGYmJmYuY2xpZW50TGVmdHx8MCksYS5wYWdlWT1iLmNsaWVudFkrKGUmJmUuc2Nyb2xsVG9wfHxmJiZmLnNjcm9sbFRvcHx8MCktKGUmJmUuY2xpZW50VG9wfHxmJiZmLmNsaWVudFRvcHx8MCkpLGEud2hpY2h8fHZvaWQgMD09PWd8fChhLndoaWNoPTEmZz8xOjImZz8zOjQmZz8yOjApLGF9fSxmaXg6ZnVuY3Rpb24oYSl7aWYoYVtuLmV4cGFuZG9dKXJldHVybiBhO3ZhciBiLGMsZSxmPWEudHlwZSxnPWEsaD10aGlzLmZpeEhvb2tzW2ZdO2h8fCh0aGlzLmZpeEhvb2tzW2ZdPWg9ZWEudGVzdChmKT90aGlzLm1vdXNlSG9va3M6ZGEudGVzdChmKT90aGlzLmtleUhvb2tzOnt9KSxlPWgucHJvcHM/dGhpcy5wcm9wcy5jb25jYXQoaC5wcm9wcyk6dGhpcy5wcm9wcyxhPW5ldyBuLkV2ZW50KGcpLGI9ZS5sZW5ndGg7d2hpbGUoYi0tKWM9ZVtiXSxhW2NdPWdbY107cmV0dXJuIGEudGFyZ2V0fHwoYS50YXJnZXQ9ZCksMz09PWEudGFyZ2V0Lm5vZGVUeXBlJiYoYS50YXJnZXQ9YS50YXJnZXQucGFyZW50Tm9kZSksaC5maWx0ZXI/aC5maWx0ZXIoYSxnKTphfSxzcGVjaWFsOntsb2FkOntub0J1YmJsZTohMH0sZm9jdXM6e3RyaWdnZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcyE9PWlhKCkmJnRoaXMuZm9jdXM/KHRoaXMuZm9jdXMoKSwhMSk6dm9pZCAwfSxkZWxlZ2F0ZVR5cGU6XCJmb2N1c2luXCJ9LGJsdXI6e3RyaWdnZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcz09PWlhKCkmJnRoaXMuYmx1cj8odGhpcy5ibHVyKCksITEpOnZvaWQgMH0sZGVsZWdhdGVUeXBlOlwiZm9jdXNvdXRcIn0sY2xpY2s6e3RyaWdnZXI6ZnVuY3Rpb24oKXtyZXR1cm5cImNoZWNrYm94XCI9PT10aGlzLnR5cGUmJnRoaXMuY2xpY2smJm4ubm9kZU5hbWUodGhpcyxcImlucHV0XCIpPyh0aGlzLmNsaWNrKCksITEpOnZvaWQgMH0sX2RlZmF1bHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIG4ubm9kZU5hbWUoYS50YXJnZXQsXCJhXCIpfX0sYmVmb3JldW5sb2FkOntwb3N0RGlzcGF0Y2g6ZnVuY3Rpb24oYSl7dm9pZCAwIT09YS5yZXN1bHQmJmEub3JpZ2luYWxFdmVudCYmKGEub3JpZ2luYWxFdmVudC5yZXR1cm5WYWx1ZT1hLnJlc3VsdCl9fX19LG4ucmVtb3ZlRXZlbnQ9ZnVuY3Rpb24oYSxiLGMpe2EucmVtb3ZlRXZlbnRMaXN0ZW5lciYmYS5yZW1vdmVFdmVudExpc3RlbmVyKGIsYyl9LG4uRXZlbnQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIG4uRXZlbnQ/KGEmJmEudHlwZT8odGhpcy5vcmlnaW5hbEV2ZW50PWEsdGhpcy50eXBlPWEudHlwZSx0aGlzLmlzRGVmYXVsdFByZXZlbnRlZD1hLmRlZmF1bHRQcmV2ZW50ZWR8fHZvaWQgMD09PWEuZGVmYXVsdFByZXZlbnRlZCYmYS5yZXR1cm5WYWx1ZT09PSExP2dhOmhhKTp0aGlzLnR5cGU9YSxiJiZuLmV4dGVuZCh0aGlzLGIpLHRoaXMudGltZVN0YW1wPWEmJmEudGltZVN0YW1wfHxuLm5vdygpLHZvaWQodGhpc1tuLmV4cGFuZG9dPSEwKSk6bmV3IG4uRXZlbnQoYSxiKX0sbi5FdmVudC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOm4uRXZlbnQsaXNEZWZhdWx0UHJldmVudGVkOmhhLGlzUHJvcGFnYXRpb25TdG9wcGVkOmhhLGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOmhhLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNEZWZhdWx0UHJldmVudGVkPWdhLGEmJmEucHJldmVudERlZmF1bHQoKX0sc3RvcFByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQ9Z2EsYSYmYS5zdG9wUHJvcGFnYXRpb24oKX0sc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9Z2EsYSYmYS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx0aGlzLnN0b3BQcm9wYWdhdGlvbigpfX0sbi5lYWNoKHttb3VzZWVudGVyOlwibW91c2VvdmVyXCIsbW91c2VsZWF2ZTpcIm1vdXNlb3V0XCIscG9pbnRlcmVudGVyOlwicG9pbnRlcm92ZXJcIixwb2ludGVybGVhdmU6XCJwb2ludGVyb3V0XCJ9LGZ1bmN0aW9uKGEsYil7bi5ldmVudC5zcGVjaWFsW2FdPXtkZWxlZ2F0ZVR5cGU6YixiaW5kVHlwZTpiLGhhbmRsZTpmdW5jdGlvbihhKXt2YXIgYyxkPXRoaXMsZT1hLnJlbGF0ZWRUYXJnZXQsZj1hLmhhbmRsZU9iajtyZXR1cm4oIWV8fGUhPT1kJiYhbi5jb250YWlucyhkLGUpKSYmKGEudHlwZT1mLm9yaWdUeXBlLGM9Zi5oYW5kbGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxhLnR5cGU9YiksY319fSksbi5mbi5leHRlbmQoe29uOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBqYSh0aGlzLGEsYixjLGQpfSxvbmU6ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIGphKHRoaXMsYSxiLGMsZCwxKX0sb2ZmOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlO2lmKGEmJmEucHJldmVudERlZmF1bHQmJmEuaGFuZGxlT2JqKXJldHVybiBkPWEuaGFuZGxlT2JqLG4oYS5kZWxlZ2F0ZVRhcmdldCkub2ZmKGQubmFtZXNwYWNlP2Qub3JpZ1R5cGUrXCIuXCIrZC5uYW1lc3BhY2U6ZC5vcmlnVHlwZSxkLnNlbGVjdG9yLGQuaGFuZGxlciksdGhpcztpZihcIm9iamVjdFwiPT10eXBlb2YgYSl7Zm9yKGUgaW4gYSl0aGlzLm9mZihlLGIsYVtlXSk7cmV0dXJuIHRoaXN9cmV0dXJuKGI9PT0hMXx8XCJmdW5jdGlvblwiPT10eXBlb2YgYikmJihjPWIsYj12b2lkIDApLGM9PT0hMSYmKGM9aGEpLHRoaXMuZWFjaChmdW5jdGlvbigpe24uZXZlbnQucmVtb3ZlKHRoaXMsYSxjLGIpfSl9fSk7dmFyIGthPS88KD8hYXJlYXxicnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSkoKFtcXHc6LV0rKVtePl0qKVxcLz4vZ2ksbGE9LzxzY3JpcHR8PHN0eWxlfDxsaW5rL2ksbWE9L2NoZWNrZWRcXHMqKD86W149XXw9XFxzKi5jaGVja2VkLikvaSxuYT0vXnRydWVcXC8oLiopLyxvYT0vXlxccyo8ISg/OlxcW0NEQVRBXFxbfC0tKXwoPzpcXF1cXF18LS0pPlxccyokL2c7ZnVuY3Rpb24gcGEoYSxiKXtyZXR1cm4gbi5ub2RlTmFtZShhLFwidGFibGVcIikmJm4ubm9kZU5hbWUoMTEhPT1iLm5vZGVUeXBlP2I6Yi5maXJzdENoaWxkLFwidHJcIik/YS5nZXRFbGVtZW50c0J5VGFnTmFtZShcInRib2R5XCIpWzBdfHxhOmF9ZnVuY3Rpb24gcWEoYSl7cmV0dXJuIGEudHlwZT0obnVsbCE9PWEuZ2V0QXR0cmlidXRlKFwidHlwZVwiKSkrXCIvXCIrYS50eXBlLGF9ZnVuY3Rpb24gcmEoYSl7dmFyIGI9bmEuZXhlYyhhLnR5cGUpO3JldHVybiBiP2EudHlwZT1iWzFdOmEucmVtb3ZlQXR0cmlidXRlKFwidHlwZVwiKSxhfWZ1bmN0aW9uIHNhKGEsYil7dmFyIGMsZCxlLGYsZyxoLGksajtpZigxPT09Yi5ub2RlVHlwZSl7aWYoTi5oYXNEYXRhKGEpJiYoZj1OLmFjY2VzcyhhKSxnPU4uc2V0KGIsZiksaj1mLmV2ZW50cykpe2RlbGV0ZSBnLmhhbmRsZSxnLmV2ZW50cz17fTtmb3IoZSBpbiBqKWZvcihjPTAsZD1qW2VdLmxlbmd0aDtkPmM7YysrKW4uZXZlbnQuYWRkKGIsZSxqW2VdW2NdKX1PLmhhc0RhdGEoYSkmJihoPU8uYWNjZXNzKGEpLGk9bi5leHRlbmQoe30saCksTy5zZXQoYixpKSl9fWZ1bmN0aW9uIHRhKGEsYil7dmFyIGM9Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1wiaW5wdXRcIj09PWMmJlgudGVzdChhLnR5cGUpP2IuY2hlY2tlZD1hLmNoZWNrZWQ6KFwiaW5wdXRcIj09PWN8fFwidGV4dGFyZWFcIj09PWMpJiYoYi5kZWZhdWx0VmFsdWU9YS5kZWZhdWx0VmFsdWUpfWZ1bmN0aW9uIHVhKGEsYixjLGQpe2I9Zi5hcHBseShbXSxiKTt2YXIgZSxnLGgsaSxqLGssbT0wLG89YS5sZW5ndGgscD1vLTEscT1iWzBdLHI9bi5pc0Z1bmN0aW9uKHEpO2lmKHJ8fG8+MSYmXCJzdHJpbmdcIj09dHlwZW9mIHEmJiFsLmNoZWNrQ2xvbmUmJm1hLnRlc3QocSkpcmV0dXJuIGEuZWFjaChmdW5jdGlvbihlKXt2YXIgZj1hLmVxKGUpO3ImJihiWzBdPXEuY2FsbCh0aGlzLGUsZi5odG1sKCkpKSx1YShmLGIsYyxkKX0pO2lmKG8mJihlPWNhKGIsYVswXS5vd25lckRvY3VtZW50LCExLGEsZCksZz1lLmZpcnN0Q2hpbGQsMT09PWUuY2hpbGROb2Rlcy5sZW5ndGgmJihlPWcpLGd8fGQpKXtmb3IoaD1uLm1hcChfKGUsXCJzY3JpcHRcIikscWEpLGk9aC5sZW5ndGg7bz5tO20rKylqPWUsbSE9PXAmJihqPW4uY2xvbmUoaiwhMCwhMCksaSYmbi5tZXJnZShoLF8oaixcInNjcmlwdFwiKSkpLGMuY2FsbChhW21dLGosbSk7aWYoaSlmb3Ioaz1oW2gubGVuZ3RoLTFdLm93bmVyRG9jdW1lbnQsbi5tYXAoaCxyYSksbT0wO2k+bTttKyspaj1oW21dLFoudGVzdChqLnR5cGV8fFwiXCIpJiYhTi5hY2Nlc3MoaixcImdsb2JhbEV2YWxcIikmJm4uY29udGFpbnMoayxqKSYmKGouc3JjP24uX2V2YWxVcmwmJm4uX2V2YWxVcmwoai5zcmMpOm4uZ2xvYmFsRXZhbChqLnRleHRDb250ZW50LnJlcGxhY2Uob2EsXCJcIikpKX1yZXR1cm4gYX1mdW5jdGlvbiB2YShhLGIsYyl7Zm9yKHZhciBkLGU9Yj9uLmZpbHRlcihiLGEpOmEsZj0wO251bGwhPShkPWVbZl0pO2YrKyljfHwxIT09ZC5ub2RlVHlwZXx8bi5jbGVhbkRhdGEoXyhkKSksZC5wYXJlbnROb2RlJiYoYyYmbi5jb250YWlucyhkLm93bmVyRG9jdW1lbnQsZCkmJmFhKF8oZCxcInNjcmlwdFwiKSksZC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGQpKTtyZXR1cm4gYX1uLmV4dGVuZCh7aHRtbFByZWZpbHRlcjpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKGthLFwiPCQxPjwvJDI+XCIpfSxjbG9uZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmLGcsaD1hLmNsb25lTm9kZSghMCksaT1uLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudCxhKTtpZighKGwubm9DbG9uZUNoZWNrZWR8fDEhPT1hLm5vZGVUeXBlJiYxMSE9PWEubm9kZVR5cGV8fG4uaXNYTUxEb2MoYSkpKWZvcihnPV8oaCksZj1fKGEpLGQ9MCxlPWYubGVuZ3RoO2U+ZDtkKyspdGEoZltkXSxnW2RdKTtpZihiKWlmKGMpZm9yKGY9Znx8XyhhKSxnPWd8fF8oaCksZD0wLGU9Zi5sZW5ndGg7ZT5kO2QrKylzYShmW2RdLGdbZF0pO2Vsc2Ugc2EoYSxoKTtyZXR1cm4gZz1fKGgsXCJzY3JpcHRcIiksZy5sZW5ndGg+MCYmYWEoZywhaSYmXyhhLFwic2NyaXB0XCIpKSxofSxjbGVhbkRhdGE6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGMsZCxlPW4uZXZlbnQuc3BlY2lhbCxmPTA7dm9pZCAwIT09KGM9YVtmXSk7ZisrKWlmKEwoYykpe2lmKGI9Y1tOLmV4cGFuZG9dKXtpZihiLmV2ZW50cylmb3IoZCBpbiBiLmV2ZW50cyllW2RdP24uZXZlbnQucmVtb3ZlKGMsZCk6bi5yZW1vdmVFdmVudChjLGQsYi5oYW5kbGUpO2NbTi5leHBhbmRvXT12b2lkIDB9Y1tPLmV4cGFuZG9dJiYoY1tPLmV4cGFuZG9dPXZvaWQgMCl9fX0pLG4uZm4uZXh0ZW5kKHtkb21NYW5pcDp1YSxkZXRhY2g6ZnVuY3Rpb24oYSl7cmV0dXJuIHZhKHRoaXMsYSwhMCl9LHJlbW92ZTpmdW5jdGlvbihhKXtyZXR1cm4gdmEodGhpcyxhKX0sdGV4dDpmdW5jdGlvbihhKXtyZXR1cm4gSyh0aGlzLGZ1bmN0aW9uKGEpe3JldHVybiB2b2lkIDA9PT1hP24udGV4dCh0aGlzKTp0aGlzLmVtcHR5KCkuZWFjaChmdW5jdGlvbigpeygxPT09dGhpcy5ub2RlVHlwZXx8MTE9PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSkmJih0aGlzLnRleHRDb250ZW50PWEpfSl9LG51bGwsYSxhcmd1bWVudHMubGVuZ3RoKX0sYXBwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHVhKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGEpe2lmKDE9PT10aGlzLm5vZGVUeXBlfHwxMT09PXRoaXMubm9kZVR5cGV8fDk9PT10aGlzLm5vZGVUeXBlKXt2YXIgYj1wYSh0aGlzLGEpO2IuYXBwZW5kQ2hpbGQoYSl9fSl9LHByZXBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdWEodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oYSl7aWYoMT09PXRoaXMubm9kZVR5cGV8fDExPT09dGhpcy5ub2RlVHlwZXx8OT09PXRoaXMubm9kZVR5cGUpe3ZhciBiPXBhKHRoaXMsYSk7Yi5pbnNlcnRCZWZvcmUoYSxiLmZpcnN0Q2hpbGQpfX0pfSxiZWZvcmU6ZnVuY3Rpb24oKXtyZXR1cm4gdWEodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oYSl7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGEsdGhpcyl9KX0sYWZ0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdWEodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oYSl7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGEsdGhpcy5uZXh0U2libGluZyl9KX0sZW1wdHk6ZnVuY3Rpb24oKXtmb3IodmFyIGEsYj0wO251bGwhPShhPXRoaXNbYl0pO2IrKykxPT09YS5ub2RlVHlwZSYmKG4uY2xlYW5EYXRhKF8oYSwhMSkpLGEudGV4dENvbnRlbnQ9XCJcIik7cmV0dXJuIHRoaXN9LGNsb25lOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9bnVsbD09YT8hMTphLGI9bnVsbD09Yj9hOmIsdGhpcy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gbi5jbG9uZSh0aGlzLGEsYil9KX0saHRtbDpmdW5jdGlvbihhKXtyZXR1cm4gSyh0aGlzLGZ1bmN0aW9uKGEpe3ZhciBiPXRoaXNbMF18fHt9LGM9MCxkPXRoaXMubGVuZ3RoO2lmKHZvaWQgMD09PWEmJjE9PT1iLm5vZGVUeXBlKXJldHVybiBiLmlubmVySFRNTDtpZihcInN0cmluZ1wiPT10eXBlb2YgYSYmIWxhLnRlc3QoYSkmJiEkWyhZLmV4ZWMoYSl8fFtcIlwiLFwiXCJdKVsxXS50b0xvd2VyQ2FzZSgpXSl7YT1uLmh0bWxQcmVmaWx0ZXIoYSk7dHJ5e2Zvcig7ZD5jO2MrKyliPXRoaXNbY118fHt9LDE9PT1iLm5vZGVUeXBlJiYobi5jbGVhbkRhdGEoXyhiLCExKSksYi5pbm5lckhUTUw9YSk7Yj0wfWNhdGNoKGUpe319YiYmdGhpcy5lbXB0eSgpLmFwcGVuZChhKX0sbnVsbCxhLGFyZ3VtZW50cy5sZW5ndGgpfSxyZXBsYWNlV2l0aDpmdW5jdGlvbigpe3ZhciBhPVtdO3JldHVybiB1YSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihiKXt2YXIgYz10aGlzLnBhcmVudE5vZGU7bi5pbkFycmF5KHRoaXMsYSk8MCYmKG4uY2xlYW5EYXRhKF8odGhpcykpLGMmJmMucmVwbGFjZUNoaWxkKGIsdGhpcykpfSxhKX19KSxuLmVhY2goe2FwcGVuZFRvOlwiYXBwZW5kXCIscHJlcGVuZFRvOlwicHJlcGVuZFwiLGluc2VydEJlZm9yZTpcImJlZm9yZVwiLGluc2VydEFmdGVyOlwiYWZ0ZXJcIixyZXBsYWNlQWxsOlwicmVwbGFjZVdpdGhcIn0sZnVuY3Rpb24oYSxiKXtuLmZuW2FdPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYyxkPVtdLGU9bihhKSxmPWUubGVuZ3RoLTEsaD0wO2Y+PWg7aCsrKWM9aD09PWY/dGhpczp0aGlzLmNsb25lKCEwKSxuKGVbaF0pW2JdKGMpLGcuYXBwbHkoZCxjLmdldCgpKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2soZCl9fSk7dmFyIHdhLHhhPXtIVE1MOlwiYmxvY2tcIixCT0RZOlwiYmxvY2tcIn07ZnVuY3Rpb24geWEoYSxiKXt2YXIgYz1uKGIuY3JlYXRlRWxlbWVudChhKSkuYXBwZW5kVG8oYi5ib2R5KSxkPW4uY3NzKGNbMF0sXCJkaXNwbGF5XCIpO3JldHVybiBjLmRldGFjaCgpLGR9ZnVuY3Rpb24gemEoYSl7dmFyIGI9ZCxjPXhhW2FdO3JldHVybiBjfHwoYz15YShhLGIpLFwibm9uZVwiIT09YyYmY3x8KHdhPSh3YXx8bihcIjxpZnJhbWUgZnJhbWVib3JkZXI9JzAnIHdpZHRoPScwJyBoZWlnaHQ9JzAnLz5cIikpLmFwcGVuZFRvKGIuZG9jdW1lbnRFbGVtZW50KSxiPXdhWzBdLmNvbnRlbnREb2N1bWVudCxiLndyaXRlKCksYi5jbG9zZSgpLGM9eWEoYSxiKSx3YS5kZXRhY2goKSkseGFbYV09YyksY312YXIgQWE9L15tYXJnaW4vLEJhPW5ldyBSZWdFeHAoXCJeKFwiK1MrXCIpKD8hcHgpW2EteiVdKyRcIixcImlcIiksQ2E9ZnVuY3Rpb24oYil7dmFyIGM9Yi5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O3JldHVybiBjLm9wZW5lcnx8KGM9YSksYy5nZXRDb21wdXRlZFN0eWxlKGIpfSxEYT1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZSxmLGc9e307Zm9yKGYgaW4gYilnW2ZdPWEuc3R5bGVbZl0sYS5zdHlsZVtmXT1iW2ZdO2U9Yy5hcHBseShhLGR8fFtdKTtmb3IoZiBpbiBiKWEuc3R5bGVbZl09Z1tmXTtyZXR1cm4gZX0sRWE9ZC5kb2N1bWVudEVsZW1lbnQ7IWZ1bmN0aW9uKCl7dmFyIGIsYyxlLGYsZz1kLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksaD1kLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7aWYoaC5zdHlsZSl7aC5zdHlsZS5iYWNrZ3JvdW5kQ2xpcD1cImNvbnRlbnQtYm94XCIsaC5jbG9uZU5vZGUoITApLnN0eWxlLmJhY2tncm91bmRDbGlwPVwiXCIsbC5jbGVhckNsb25lU3R5bGU9XCJjb250ZW50LWJveFwiPT09aC5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCxnLnN0eWxlLmNzc1RleHQ9XCJib3JkZXI6MDt3aWR0aDo4cHg7aGVpZ2h0OjA7dG9wOjA7bGVmdDotOTk5OXB4O3BhZGRpbmc6MDttYXJnaW4tdG9wOjFweDtwb3NpdGlvbjphYnNvbHV0ZVwiLGcuYXBwZW5kQ2hpbGQoaCk7ZnVuY3Rpb24gaSgpe2guc3R5bGUuY3NzVGV4dD1cIi13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94Oy1tb3otYm94LXNpemluZzpib3JkZXItYm94O2JveC1zaXppbmc6Ym9yZGVyLWJveDtwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmJsb2NrO21hcmdpbjphdXRvO2JvcmRlcjoxcHg7cGFkZGluZzoxcHg7dG9wOjElO3dpZHRoOjUwJVwiLGguaW5uZXJIVE1MPVwiXCIsRWEuYXBwZW5kQ2hpbGQoZyk7dmFyIGQ9YS5nZXRDb21wdXRlZFN0eWxlKGgpO2I9XCIxJVwiIT09ZC50b3AsZj1cIjJweFwiPT09ZC5tYXJnaW5MZWZ0LGM9XCI0cHhcIj09PWQud2lkdGgsaC5zdHlsZS5tYXJnaW5SaWdodD1cIjUwJVwiLGU9XCI0cHhcIj09PWQubWFyZ2luUmlnaHQsRWEucmVtb3ZlQ2hpbGQoZyl9bi5leHRlbmQobCx7cGl4ZWxQb3NpdGlvbjpmdW5jdGlvbigpe3JldHVybiBpKCksYn0sYm94U2l6aW5nUmVsaWFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09YyYmaSgpLGN9LHBpeGVsTWFyZ2luUmlnaHQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09YyYmaSgpLGV9LHJlbGlhYmxlTWFyZ2luTGVmdDpmdW5jdGlvbigpe3JldHVybiBudWxsPT1jJiZpKCksZn0scmVsaWFibGVNYXJnaW5SaWdodDpmdW5jdGlvbigpe3ZhciBiLGM9aC5hcHBlbmRDaGlsZChkLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO3JldHVybiBjLnN0eWxlLmNzc1RleHQ9aC5zdHlsZS5jc3NUZXh0PVwiLXdlYmtpdC1ib3gtc2l6aW5nOmNvbnRlbnQtYm94O2JveC1zaXppbmc6Y29udGVudC1ib3g7ZGlzcGxheTpibG9jazttYXJnaW46MDtib3JkZXI6MDtwYWRkaW5nOjBcIixjLnN0eWxlLm1hcmdpblJpZ2h0PWMuc3R5bGUud2lkdGg9XCIwXCIsaC5zdHlsZS53aWR0aD1cIjFweFwiLEVhLmFwcGVuZENoaWxkKGcpLGI9IXBhcnNlRmxvYXQoYS5nZXRDb21wdXRlZFN0eWxlKGMpLm1hcmdpblJpZ2h0KSxFYS5yZW1vdmVDaGlsZChnKSxoLnJlbW92ZUNoaWxkKGMpLGJ9fSl9fSgpO2Z1bmN0aW9uIEZhKGEsYixjKXt2YXIgZCxlLGYsZyxoPWEuc3R5bGU7cmV0dXJuIGM9Y3x8Q2EoYSksYyYmKGc9Yy5nZXRQcm9wZXJ0eVZhbHVlKGIpfHxjW2JdLFwiXCIhPT1nfHxuLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudCxhKXx8KGc9bi5zdHlsZShhLGIpKSwhbC5waXhlbE1hcmdpblJpZ2h0KCkmJkJhLnRlc3QoZykmJkFhLnRlc3QoYikmJihkPWgud2lkdGgsZT1oLm1pbldpZHRoLGY9aC5tYXhXaWR0aCxoLm1pbldpZHRoPWgubWF4V2lkdGg9aC53aWR0aD1nLGc9Yy53aWR0aCxoLndpZHRoPWQsaC5taW5XaWR0aD1lLGgubWF4V2lkdGg9ZikpLHZvaWQgMCE9PWc/ZytcIlwiOmd9ZnVuY3Rpb24gR2EoYSxiKXtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEoKT92b2lkIGRlbGV0ZSB0aGlzLmdldDoodGhpcy5nZXQ9YikuYXBwbHkodGhpcyxhcmd1bWVudHMpfX19dmFyIEhhPS9eKG5vbmV8dGFibGUoPyEtY1tlYV0pLispLyxJYT17cG9zaXRpb246XCJhYnNvbHV0ZVwiLHZpc2liaWxpdHk6XCJoaWRkZW5cIixkaXNwbGF5OlwiYmxvY2tcIn0sSmE9e2xldHRlclNwYWNpbmc6XCIwXCIsZm9udFdlaWdodDpcIjQwMFwifSxLYT1bXCJXZWJraXRcIixcIk9cIixcIk1velwiLFwibXNcIl0sTGE9ZC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLnN0eWxlO2Z1bmN0aW9uIE1hKGEpe2lmKGEgaW4gTGEpcmV0dXJuIGE7dmFyIGI9YVswXS50b1VwcGVyQ2FzZSgpK2Euc2xpY2UoMSksYz1LYS5sZW5ndGg7d2hpbGUoYy0tKWlmKGE9S2FbY10rYixhIGluIExhKXJldHVybiBhfWZ1bmN0aW9uIE5hKGEsYixjKXt2YXIgZD1ULmV4ZWMoYik7cmV0dXJuIGQ/TWF0aC5tYXgoMCxkWzJdLShjfHwwKSkrKGRbM118fFwicHhcIik6Yn1mdW5jdGlvbiBPYShhLGIsYyxkLGUpe2Zvcih2YXIgZj1jPT09KGQ/XCJib3JkZXJcIjpcImNvbnRlbnRcIik/NDpcIndpZHRoXCI9PT1iPzE6MCxnPTA7ND5mO2YrPTIpXCJtYXJnaW5cIj09PWMmJihnKz1uLmNzcyhhLGMrVVtmXSwhMCxlKSksZD8oXCJjb250ZW50XCI9PT1jJiYoZy09bi5jc3MoYSxcInBhZGRpbmdcIitVW2ZdLCEwLGUpKSxcIm1hcmdpblwiIT09YyYmKGctPW4uY3NzKGEsXCJib3JkZXJcIitVW2ZdK1wiV2lkdGhcIiwhMCxlKSkpOihnKz1uLmNzcyhhLFwicGFkZGluZ1wiK1VbZl0sITAsZSksXCJwYWRkaW5nXCIhPT1jJiYoZys9bi5jc3MoYSxcImJvcmRlclwiK1VbZl0rXCJXaWR0aFwiLCEwLGUpKSk7cmV0dXJuIGd9ZnVuY3Rpb24gUGEoYixjLGUpe3ZhciBmPSEwLGc9XCJ3aWR0aFwiPT09Yz9iLm9mZnNldFdpZHRoOmIub2Zmc2V0SGVpZ2h0LGg9Q2EoYiksaT1cImJvcmRlci1ib3hcIj09PW4uY3NzKGIsXCJib3hTaXppbmdcIiwhMSxoKTtpZihkLm1zRnVsbHNjcmVlbkVsZW1lbnQmJmEudG9wIT09YSYmYi5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCYmKGc9TWF0aC5yb3VuZCgxMDAqYi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVtjXSkpLDA+PWd8fG51bGw9PWcpe2lmKGc9RmEoYixjLGgpLCgwPmd8fG51bGw9PWcpJiYoZz1iLnN0eWxlW2NdKSxCYS50ZXN0KGcpKXJldHVybiBnO2Y9aSYmKGwuYm94U2l6aW5nUmVsaWFibGUoKXx8Zz09PWIuc3R5bGVbY10pLGc9cGFyc2VGbG9hdChnKXx8MH1yZXR1cm4gZytPYShiLGMsZXx8KGk/XCJib3JkZXJcIjpcImNvbnRlbnRcIiksZixoKStcInB4XCJ9ZnVuY3Rpb24gUWEoYSxiKXtmb3IodmFyIGMsZCxlLGY9W10sZz0wLGg9YS5sZW5ndGg7aD5nO2crKylkPWFbZ10sZC5zdHlsZSYmKGZbZ109Ti5nZXQoZCxcIm9sZGRpc3BsYXlcIiksYz1kLnN0eWxlLmRpc3BsYXksYj8oZltnXXx8XCJub25lXCIhPT1jfHwoZC5zdHlsZS5kaXNwbGF5PVwiXCIpLFwiXCI9PT1kLnN0eWxlLmRpc3BsYXkmJlYoZCkmJihmW2ddPU4uYWNjZXNzKGQsXCJvbGRkaXNwbGF5XCIsemEoZC5ub2RlTmFtZSkpKSk6KGU9VihkKSxcIm5vbmVcIj09PWMmJmV8fE4uc2V0KGQsXCJvbGRkaXNwbGF5XCIsZT9jOm4uY3NzKGQsXCJkaXNwbGF5XCIpKSkpO2ZvcihnPTA7aD5nO2crKylkPWFbZ10sZC5zdHlsZSYmKGImJlwibm9uZVwiIT09ZC5zdHlsZS5kaXNwbGF5JiZcIlwiIT09ZC5zdHlsZS5kaXNwbGF5fHwoZC5zdHlsZS5kaXNwbGF5PWI/ZltnXXx8XCJcIjpcIm5vbmVcIikpO3JldHVybiBhfW4uZXh0ZW5kKHtjc3NIb29rczp7b3BhY2l0eTp7Z2V0OmZ1bmN0aW9uKGEsYil7aWYoYil7dmFyIGM9RmEoYSxcIm9wYWNpdHlcIik7cmV0dXJuXCJcIj09PWM/XCIxXCI6Y319fX0sY3NzTnVtYmVyOnthbmltYXRpb25JdGVyYXRpb25Db3VudDohMCxjb2x1bW5Db3VudDohMCxmaWxsT3BhY2l0eTohMCxmbGV4R3JvdzohMCxmbGV4U2hyaW5rOiEwLGZvbnRXZWlnaHQ6ITAsbGluZUhlaWdodDohMCxvcGFjaXR5OiEwLG9yZGVyOiEwLG9ycGhhbnM6ITAsd2lkb3dzOiEwLHpJbmRleDohMCx6b29tOiEwfSxjc3NQcm9wczp7XCJmbG9hdFwiOlwiY3NzRmxvYXRcIn0sc3R5bGU6ZnVuY3Rpb24oYSxiLGMsZCl7aWYoYSYmMyE9PWEubm9kZVR5cGUmJjghPT1hLm5vZGVUeXBlJiZhLnN0eWxlKXt2YXIgZSxmLGcsaD1uLmNhbWVsQ2FzZShiKSxpPWEuc3R5bGU7cmV0dXJuIGI9bi5jc3NQcm9wc1toXXx8KG4uY3NzUHJvcHNbaF09TWEoaCl8fGgpLGc9bi5jc3NIb29rc1tiXXx8bi5jc3NIb29rc1toXSx2b2lkIDA9PT1jP2cmJlwiZ2V0XCJpbiBnJiZ2b2lkIDAhPT0oZT1nLmdldChhLCExLGQpKT9lOmlbYl06KGY9dHlwZW9mIGMsXCJzdHJpbmdcIj09PWYmJihlPVQuZXhlYyhjKSkmJmVbMV0mJihjPVcoYSxiLGUpLGY9XCJudW1iZXJcIiksbnVsbCE9YyYmYz09PWMmJihcIm51bWJlclwiPT09ZiYmKGMrPWUmJmVbM118fChuLmNzc051bWJlcltoXT9cIlwiOlwicHhcIikpLGwuY2xlYXJDbG9uZVN0eWxlfHxcIlwiIT09Y3x8MCE9PWIuaW5kZXhPZihcImJhY2tncm91bmRcIil8fChpW2JdPVwiaW5oZXJpdFwiKSxnJiZcInNldFwiaW4gZyYmdm9pZCAwPT09KGM9Zy5zZXQoYSxjLGQpKXx8KGlbYl09YykpLHZvaWQgMCl9fSxjc3M6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGUsZixnLGg9bi5jYW1lbENhc2UoYik7cmV0dXJuIGI9bi5jc3NQcm9wc1toXXx8KG4uY3NzUHJvcHNbaF09TWEoaCl8fGgpLGc9bi5jc3NIb29rc1tiXXx8bi5jc3NIb29rc1toXSxnJiZcImdldFwiaW4gZyYmKGU9Zy5nZXQoYSwhMCxjKSksdm9pZCAwPT09ZSYmKGU9RmEoYSxiLGQpKSxcIm5vcm1hbFwiPT09ZSYmYiBpbiBKYSYmKGU9SmFbYl0pLFwiXCI9PT1jfHxjPyhmPXBhcnNlRmxvYXQoZSksYz09PSEwfHxpc0Zpbml0ZShmKT9mfHwwOmUpOmV9fSksbi5lYWNoKFtcImhlaWdodFwiLFwid2lkdGhcIl0sZnVuY3Rpb24oYSxiKXtuLmNzc0hvb2tzW2JdPXtnZXQ6ZnVuY3Rpb24oYSxjLGQpe3JldHVybiBjP0hhLnRlc3Qobi5jc3MoYSxcImRpc3BsYXlcIikpJiYwPT09YS5vZmZzZXRXaWR0aD9EYShhLElhLGZ1bmN0aW9uKCl7cmV0dXJuIFBhKGEsYixkKX0pOlBhKGEsYixkKTp2b2lkIDB9LHNldDpmdW5jdGlvbihhLGMsZCl7dmFyIGUsZj1kJiZDYShhKSxnPWQmJk9hKGEsYixkLFwiYm9yZGVyLWJveFwiPT09bi5jc3MoYSxcImJveFNpemluZ1wiLCExLGYpLGYpO3JldHVybiBnJiYoZT1ULmV4ZWMoYykpJiZcInB4XCIhPT0oZVszXXx8XCJweFwiKSYmKGEuc3R5bGVbYl09YyxjPW4uY3NzKGEsYikpLE5hKGEsYyxnKX19fSksbi5jc3NIb29rcy5tYXJnaW5MZWZ0PUdhKGwucmVsaWFibGVNYXJnaW5MZWZ0LGZ1bmN0aW9uKGEsYil7cmV0dXJuIGI/KHBhcnNlRmxvYXQoRmEoYSxcIm1hcmdpbkxlZnRcIikpfHxhLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQtRGEoYSx7bWFyZ2luTGVmdDowfSxmdW5jdGlvbigpe3JldHVybiBhLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnR9KSkrXCJweFwiOnZvaWQgMH0pLG4uY3NzSG9va3MubWFyZ2luUmlnaHQ9R2EobC5yZWxpYWJsZU1hcmdpblJpZ2h0LGZ1bmN0aW9uKGEsYil7cmV0dXJuIGI/RGEoYSx7ZGlzcGxheTpcImlubGluZS1ibG9ja1wifSxGYSxbYSxcIm1hcmdpblJpZ2h0XCJdKTp2b2lkIDB9KSxuLmVhY2goe21hcmdpbjpcIlwiLHBhZGRpbmc6XCJcIixib3JkZXI6XCJXaWR0aFwifSxmdW5jdGlvbihhLGIpe24uY3NzSG9va3NbYStiXT17ZXhwYW5kOmZ1bmN0aW9uKGMpe2Zvcih2YXIgZD0wLGU9e30sZj1cInN0cmluZ1wiPT10eXBlb2YgYz9jLnNwbGl0KFwiIFwiKTpbY107ND5kO2QrKyllW2ErVVtkXStiXT1mW2RdfHxmW2QtMl18fGZbMF07cmV0dXJuIGV9fSxBYS50ZXN0KGEpfHwobi5jc3NIb29rc1thK2JdLnNldD1OYSl9KSxuLmZuLmV4dGVuZCh7Y3NzOmZ1bmN0aW9uKGEsYil7cmV0dXJuIEsodGhpcyxmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmPXt9LGc9MDtpZihuLmlzQXJyYXkoYikpe2ZvcihkPUNhKGEpLGU9Yi5sZW5ndGg7ZT5nO2crKylmW2JbZ11dPW4uY3NzKGEsYltnXSwhMSxkKTtyZXR1cm4gZn1yZXR1cm4gdm9pZCAwIT09Yz9uLnN0eWxlKGEsYixjKTpuLmNzcyhhLGIpfSxhLGIsYXJndW1lbnRzLmxlbmd0aD4xKX0sc2hvdzpmdW5jdGlvbigpe3JldHVybiBRYSh0aGlzLCEwKX0saGlkZTpmdW5jdGlvbigpe3JldHVybiBRYSh0aGlzKX0sdG9nZ2xlOmZ1bmN0aW9uKGEpe3JldHVyblwiYm9vbGVhblwiPT10eXBlb2YgYT9hP3RoaXMuc2hvdygpOnRoaXMuaGlkZSgpOnRoaXMuZWFjaChmdW5jdGlvbigpe1YodGhpcyk/bih0aGlzKS5zaG93KCk6bih0aGlzKS5oaWRlKCl9KX19KTtmdW5jdGlvbiBSYShhLGIsYyxkLGUpe3JldHVybiBuZXcgUmEucHJvdG90eXBlLmluaXQoYSxiLGMsZCxlKX1uLlR3ZWVuPVJhLFJhLnByb3RvdHlwZT17Y29uc3RydWN0b3I6UmEsaW5pdDpmdW5jdGlvbihhLGIsYyxkLGUsZil7dGhpcy5lbGVtPWEsdGhpcy5wcm9wPWMsdGhpcy5lYXNpbmc9ZXx8bi5lYXNpbmcuX2RlZmF1bHQsdGhpcy5vcHRpb25zPWIsdGhpcy5zdGFydD10aGlzLm5vdz10aGlzLmN1cigpLHRoaXMuZW5kPWQsdGhpcy51bml0PWZ8fChuLmNzc051bWJlcltjXT9cIlwiOlwicHhcIil9LGN1cjpmdW5jdGlvbigpe3ZhciBhPVJhLnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiBhJiZhLmdldD9hLmdldCh0aGlzKTpSYS5wcm9wSG9va3MuX2RlZmF1bHQuZ2V0KHRoaXMpfSxydW46ZnVuY3Rpb24oYSl7dmFyIGIsYz1SYS5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gdGhpcy5vcHRpb25zLmR1cmF0aW9uP3RoaXMucG9zPWI9bi5lYXNpbmdbdGhpcy5lYXNpbmddKGEsdGhpcy5vcHRpb25zLmR1cmF0aW9uKmEsMCwxLHRoaXMub3B0aW9ucy5kdXJhdGlvbik6dGhpcy5wb3M9Yj1hLHRoaXMubm93PSh0aGlzLmVuZC10aGlzLnN0YXJ0KSpiK3RoaXMuc3RhcnQsdGhpcy5vcHRpb25zLnN0ZXAmJnRoaXMub3B0aW9ucy5zdGVwLmNhbGwodGhpcy5lbGVtLHRoaXMubm93LHRoaXMpLGMmJmMuc2V0P2Muc2V0KHRoaXMpOlJhLnByb3BIb29rcy5fZGVmYXVsdC5zZXQodGhpcyksdGhpc319LFJhLnByb3RvdHlwZS5pbml0LnByb3RvdHlwZT1SYS5wcm90b3R5cGUsUmEucHJvcEhvb2tzPXtfZGVmYXVsdDp7Z2V0OmZ1bmN0aW9uKGEpe3ZhciBiO3JldHVybiAxIT09YS5lbGVtLm5vZGVUeXBlfHxudWxsIT1hLmVsZW1bYS5wcm9wXSYmbnVsbD09YS5lbGVtLnN0eWxlW2EucHJvcF0/YS5lbGVtW2EucHJvcF06KGI9bi5jc3MoYS5lbGVtLGEucHJvcCxcIlwiKSxiJiZcImF1dG9cIiE9PWI/YjowKX0sc2V0OmZ1bmN0aW9uKGEpe24uZnguc3RlcFthLnByb3BdP24uZnguc3RlcFthLnByb3BdKGEpOjEhPT1hLmVsZW0ubm9kZVR5cGV8fG51bGw9PWEuZWxlbS5zdHlsZVtuLmNzc1Byb3BzW2EucHJvcF1dJiYhbi5jc3NIb29rc1thLnByb3BdP2EuZWxlbVthLnByb3BdPWEubm93Om4uc3R5bGUoYS5lbGVtLGEucHJvcCxhLm5vdythLnVuaXQpfX19LFJhLnByb3BIb29rcy5zY3JvbGxUb3A9UmEucHJvcEhvb2tzLnNjcm9sbExlZnQ9e3NldDpmdW5jdGlvbihhKXthLmVsZW0ubm9kZVR5cGUmJmEuZWxlbS5wYXJlbnROb2RlJiYoYS5lbGVtW2EucHJvcF09YS5ub3cpfX0sbi5lYXNpbmc9e2xpbmVhcjpmdW5jdGlvbihhKXtyZXR1cm4gYX0sc3dpbmc6ZnVuY3Rpb24oYSl7cmV0dXJuLjUtTWF0aC5jb3MoYSpNYXRoLlBJKS8yfSxfZGVmYXVsdDpcInN3aW5nXCJ9LG4uZng9UmEucHJvdG90eXBlLmluaXQsbi5meC5zdGVwPXt9O3ZhciBTYSxUYSxVYT0vXig/OnRvZ2dsZXxzaG93fGhpZGUpJC8sVmE9L3F1ZXVlSG9va3MkLztmdW5jdGlvbiBXYSgpe3JldHVybiBhLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtTYT12b2lkIDB9KSxTYT1uLm5vdygpfWZ1bmN0aW9uIFhhKGEsYil7dmFyIGMsZD0wLGU9e2hlaWdodDphfTtmb3IoYj1iPzE6MDs0PmQ7ZCs9Mi1iKWM9VVtkXSxlW1wibWFyZ2luXCIrY109ZVtcInBhZGRpbmdcIitjXT1hO3JldHVybiBiJiYoZS5vcGFjaXR5PWUud2lkdGg9YSksZX1mdW5jdGlvbiBZYShhLGIsYyl7Zm9yKHZhciBkLGU9KF9hLnR3ZWVuZXJzW2JdfHxbXSkuY29uY2F0KF9hLnR3ZWVuZXJzW1wiKlwiXSksZj0wLGc9ZS5sZW5ndGg7Zz5mO2YrKylpZihkPWVbZl0uY2FsbChjLGIsYSkpcmV0dXJuIGR9ZnVuY3Rpb24gWmEoYSxiLGMpe3ZhciBkLGUsZixnLGgsaSxqLGssbD10aGlzLG09e30sbz1hLnN0eWxlLHA9YS5ub2RlVHlwZSYmVihhKSxxPU4uZ2V0KGEsXCJmeHNob3dcIik7Yy5xdWV1ZXx8KGg9bi5fcXVldWVIb29rcyhhLFwiZnhcIiksbnVsbD09aC51bnF1ZXVlZCYmKGgudW5xdWV1ZWQ9MCxpPWguZW1wdHkuZmlyZSxoLmVtcHR5LmZpcmU9ZnVuY3Rpb24oKXtoLnVucXVldWVkfHxpKCl9KSxoLnVucXVldWVkKyssbC5hbHdheXMoZnVuY3Rpb24oKXtsLmFsd2F5cyhmdW5jdGlvbigpe2gudW5xdWV1ZWQtLSxuLnF1ZXVlKGEsXCJmeFwiKS5sZW5ndGh8fGguZW1wdHkuZmlyZSgpfSl9KSksMT09PWEubm9kZVR5cGUmJihcImhlaWdodFwiaW4gYnx8XCJ3aWR0aFwiaW4gYikmJihjLm92ZXJmbG93PVtvLm92ZXJmbG93LG8ub3ZlcmZsb3dYLG8ub3ZlcmZsb3dZXSxqPW4uY3NzKGEsXCJkaXNwbGF5XCIpLGs9XCJub25lXCI9PT1qP04uZ2V0KGEsXCJvbGRkaXNwbGF5XCIpfHx6YShhLm5vZGVOYW1lKTpqLFwiaW5saW5lXCI9PT1rJiZcIm5vbmVcIj09PW4uY3NzKGEsXCJmbG9hdFwiKSYmKG8uZGlzcGxheT1cImlubGluZS1ibG9ja1wiKSksYy5vdmVyZmxvdyYmKG8ub3ZlcmZsb3c9XCJoaWRkZW5cIixsLmFsd2F5cyhmdW5jdGlvbigpe28ub3ZlcmZsb3c9Yy5vdmVyZmxvd1swXSxvLm92ZXJmbG93WD1jLm92ZXJmbG93WzFdLG8ub3ZlcmZsb3dZPWMub3ZlcmZsb3dbMl19KSk7Zm9yKGQgaW4gYilpZihlPWJbZF0sVWEuZXhlYyhlKSl7aWYoZGVsZXRlIGJbZF0sZj1mfHxcInRvZ2dsZVwiPT09ZSxlPT09KHA/XCJoaWRlXCI6XCJzaG93XCIpKXtpZihcInNob3dcIiE9PWV8fCFxfHx2b2lkIDA9PT1xW2RdKWNvbnRpbnVlO3A9ITB9bVtkXT1xJiZxW2RdfHxuLnN0eWxlKGEsZCl9ZWxzZSBqPXZvaWQgMDtpZihuLmlzRW1wdHlPYmplY3QobSkpXCJpbmxpbmVcIj09PShcIm5vbmVcIj09PWo/emEoYS5ub2RlTmFtZSk6aikmJihvLmRpc3BsYXk9aik7ZWxzZXtxP1wiaGlkZGVuXCJpbiBxJiYocD1xLmhpZGRlbik6cT1OLmFjY2VzcyhhLFwiZnhzaG93XCIse30pLGYmJihxLmhpZGRlbj0hcCkscD9uKGEpLnNob3coKTpsLmRvbmUoZnVuY3Rpb24oKXtuKGEpLmhpZGUoKX0pLGwuZG9uZShmdW5jdGlvbigpe3ZhciBiO04ucmVtb3ZlKGEsXCJmeHNob3dcIik7Zm9yKGIgaW4gbSluLnN0eWxlKGEsYixtW2JdKX0pO2ZvcihkIGluIG0pZz1ZYShwP3FbZF06MCxkLGwpLGQgaW4gcXx8KHFbZF09Zy5zdGFydCxwJiYoZy5lbmQ9Zy5zdGFydCxnLnN0YXJ0PVwid2lkdGhcIj09PWR8fFwiaGVpZ2h0XCI9PT1kPzE6MCkpfX1mdW5jdGlvbiAkYShhLGIpe3ZhciBjLGQsZSxmLGc7Zm9yKGMgaW4gYSlpZihkPW4uY2FtZWxDYXNlKGMpLGU9YltkXSxmPWFbY10sbi5pc0FycmF5KGYpJiYoZT1mWzFdLGY9YVtjXT1mWzBdKSxjIT09ZCYmKGFbZF09ZixkZWxldGUgYVtjXSksZz1uLmNzc0hvb2tzW2RdLGcmJlwiZXhwYW5kXCJpbiBnKXtmPWcuZXhwYW5kKGYpLGRlbGV0ZSBhW2RdO2ZvcihjIGluIGYpYyBpbiBhfHwoYVtjXT1mW2NdLGJbY109ZSl9ZWxzZSBiW2RdPWV9ZnVuY3Rpb24gX2EoYSxiLGMpe3ZhciBkLGUsZj0wLGc9X2EucHJlZmlsdGVycy5sZW5ndGgsaD1uLkRlZmVycmVkKCkuYWx3YXlzKGZ1bmN0aW9uKCl7ZGVsZXRlIGkuZWxlbX0pLGk9ZnVuY3Rpb24oKXtpZihlKXJldHVybiExO2Zvcih2YXIgYj1TYXx8V2EoKSxjPU1hdGgubWF4KDAsai5zdGFydFRpbWUrai5kdXJhdGlvbi1iKSxkPWMvai5kdXJhdGlvbnx8MCxmPTEtZCxnPTAsaT1qLnR3ZWVucy5sZW5ndGg7aT5nO2crKylqLnR3ZWVuc1tnXS5ydW4oZik7cmV0dXJuIGgubm90aWZ5V2l0aChhLFtqLGYsY10pLDE+ZiYmaT9jOihoLnJlc29sdmVXaXRoKGEsW2pdKSwhMSl9LGo9aC5wcm9taXNlKHtlbGVtOmEscHJvcHM6bi5leHRlbmQoe30sYiksb3B0czpuLmV4dGVuZCghMCx7c3BlY2lhbEVhc2luZzp7fSxlYXNpbmc6bi5lYXNpbmcuX2RlZmF1bHR9LGMpLG9yaWdpbmFsUHJvcGVydGllczpiLG9yaWdpbmFsT3B0aW9uczpjLHN0YXJ0VGltZTpTYXx8V2EoKSxkdXJhdGlvbjpjLmR1cmF0aW9uLHR3ZWVuczpbXSxjcmVhdGVUd2VlbjpmdW5jdGlvbihiLGMpe3ZhciBkPW4uVHdlZW4oYSxqLm9wdHMsYixjLGoub3B0cy5zcGVjaWFsRWFzaW5nW2JdfHxqLm9wdHMuZWFzaW5nKTtyZXR1cm4gai50d2VlbnMucHVzaChkKSxkfSxzdG9wOmZ1bmN0aW9uKGIpe3ZhciBjPTAsZD1iP2oudHdlZW5zLmxlbmd0aDowO2lmKGUpcmV0dXJuIHRoaXM7Zm9yKGU9ITA7ZD5jO2MrKylqLnR3ZWVuc1tjXS5ydW4oMSk7cmV0dXJuIGI/KGgubm90aWZ5V2l0aChhLFtqLDEsMF0pLGgucmVzb2x2ZVdpdGgoYSxbaixiXSkpOmgucmVqZWN0V2l0aChhLFtqLGJdKSx0aGlzfX0pLGs9ai5wcm9wcztmb3IoJGEoayxqLm9wdHMuc3BlY2lhbEVhc2luZyk7Zz5mO2YrKylpZihkPV9hLnByZWZpbHRlcnNbZl0uY2FsbChqLGEsayxqLm9wdHMpKXJldHVybiBuLmlzRnVuY3Rpb24oZC5zdG9wKSYmKG4uX3F1ZXVlSG9va3Moai5lbGVtLGoub3B0cy5xdWV1ZSkuc3RvcD1uLnByb3h5KGQuc3RvcCxkKSksZDtyZXR1cm4gbi5tYXAoayxZYSxqKSxuLmlzRnVuY3Rpb24oai5vcHRzLnN0YXJ0KSYmai5vcHRzLnN0YXJ0LmNhbGwoYSxqKSxuLmZ4LnRpbWVyKG4uZXh0ZW5kKGkse2VsZW06YSxhbmltOmoscXVldWU6ai5vcHRzLnF1ZXVlfSkpLGoucHJvZ3Jlc3Moai5vcHRzLnByb2dyZXNzKS5kb25lKGoub3B0cy5kb25lLGoub3B0cy5jb21wbGV0ZSkuZmFpbChqLm9wdHMuZmFpbCkuYWx3YXlzKGoub3B0cy5hbHdheXMpfW4uQW5pbWF0aW9uPW4uZXh0ZW5kKF9hLHt0d2VlbmVyczp7XCIqXCI6W2Z1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5jcmVhdGVUd2VlbihhLGIpO3JldHVybiBXKGMuZWxlbSxhLFQuZXhlYyhiKSxjKSxjfV19LHR3ZWVuZXI6ZnVuY3Rpb24oYSxiKXtuLmlzRnVuY3Rpb24oYSk/KGI9YSxhPVtcIipcIl0pOmE9YS5tYXRjaChHKTtmb3IodmFyIGMsZD0wLGU9YS5sZW5ndGg7ZT5kO2QrKyljPWFbZF0sX2EudHdlZW5lcnNbY109X2EudHdlZW5lcnNbY118fFtdLF9hLnR3ZWVuZXJzW2NdLnVuc2hpZnQoYil9LHByZWZpbHRlcnM6W1phXSxwcmVmaWx0ZXI6ZnVuY3Rpb24oYSxiKXtiP19hLnByZWZpbHRlcnMudW5zaGlmdChhKTpfYS5wcmVmaWx0ZXJzLnB1c2goYSl9fSksbi5zcGVlZD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YSYmXCJvYmplY3RcIj09dHlwZW9mIGE/bi5leHRlbmQoe30sYSk6e2NvbXBsZXRlOmN8fCFjJiZifHxuLmlzRnVuY3Rpb24oYSkmJmEsZHVyYXRpb246YSxlYXNpbmc6YyYmYnx8YiYmIW4uaXNGdW5jdGlvbihiKSYmYn07cmV0dXJuIGQuZHVyYXRpb249bi5meC5vZmY/MDpcIm51bWJlclwiPT10eXBlb2YgZC5kdXJhdGlvbj9kLmR1cmF0aW9uOmQuZHVyYXRpb24gaW4gbi5meC5zcGVlZHM/bi5meC5zcGVlZHNbZC5kdXJhdGlvbl06bi5meC5zcGVlZHMuX2RlZmF1bHQsKG51bGw9PWQucXVldWV8fGQucXVldWU9PT0hMCkmJihkLnF1ZXVlPVwiZnhcIiksZC5vbGQ9ZC5jb21wbGV0ZSxkLmNvbXBsZXRlPWZ1bmN0aW9uKCl7bi5pc0Z1bmN0aW9uKGQub2xkKSYmZC5vbGQuY2FsbCh0aGlzKSxkLnF1ZXVlJiZuLmRlcXVldWUodGhpcyxkLnF1ZXVlKX0sZH0sbi5mbi5leHRlbmQoe2ZhZGVUbzpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5maWx0ZXIoVikuY3NzKFwib3BhY2l0eVwiLDApLnNob3coKS5lbmQoKS5hbmltYXRlKHtvcGFjaXR5OmJ9LGEsYyxkKX0sYW5pbWF0ZTpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1uLmlzRW1wdHlPYmplY3QoYSksZj1uLnNwZWVkKGIsYyxkKSxnPWZ1bmN0aW9uKCl7dmFyIGI9X2EodGhpcyxuLmV4dGVuZCh7fSxhKSxmKTsoZXx8Ti5nZXQodGhpcyxcImZpbmlzaFwiKSkmJmIuc3RvcCghMCl9O3JldHVybiBnLmZpbmlzaD1nLGV8fGYucXVldWU9PT0hMT90aGlzLmVhY2goZyk6dGhpcy5xdWV1ZShmLnF1ZXVlLGcpfSxzdG9wOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1mdW5jdGlvbihhKXt2YXIgYj1hLnN0b3A7ZGVsZXRlIGEuc3RvcCxiKGMpfTtyZXR1cm5cInN0cmluZ1wiIT10eXBlb2YgYSYmKGM9YixiPWEsYT12b2lkIDApLGImJmEhPT0hMSYmdGhpcy5xdWV1ZShhfHxcImZ4XCIsW10pLHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPSEwLGU9bnVsbCE9YSYmYStcInF1ZXVlSG9va3NcIixmPW4udGltZXJzLGc9Ti5nZXQodGhpcyk7aWYoZSlnW2VdJiZnW2VdLnN0b3AmJmQoZ1tlXSk7ZWxzZSBmb3IoZSBpbiBnKWdbZV0mJmdbZV0uc3RvcCYmVmEudGVzdChlKSYmZChnW2VdKTtmb3IoZT1mLmxlbmd0aDtlLS07KWZbZV0uZWxlbSE9PXRoaXN8fG51bGwhPWEmJmZbZV0ucXVldWUhPT1hfHwoZltlXS5hbmltLnN0b3AoYyksYj0hMSxmLnNwbGljZShlLDEpKTsoYnx8IWMpJiZuLmRlcXVldWUodGhpcyxhKX0pfSxmaW5pc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIGEhPT0hMSYmKGE9YXx8XCJmeFwiKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYixjPU4uZ2V0KHRoaXMpLGQ9Y1thK1wicXVldWVcIl0sZT1jW2ErXCJxdWV1ZUhvb2tzXCJdLGY9bi50aW1lcnMsZz1kP2QubGVuZ3RoOjA7Zm9yKGMuZmluaXNoPSEwLG4ucXVldWUodGhpcyxhLFtdKSxlJiZlLnN0b3AmJmUuc3RvcC5jYWxsKHRoaXMsITApLGI9Zi5sZW5ndGg7Yi0tOylmW2JdLmVsZW09PT10aGlzJiZmW2JdLnF1ZXVlPT09YSYmKGZbYl0uYW5pbS5zdG9wKCEwKSxmLnNwbGljZShiLDEpKTtmb3IoYj0wO2c+YjtiKyspZFtiXSYmZFtiXS5maW5pc2gmJmRbYl0uZmluaXNoLmNhbGwodGhpcyk7ZGVsZXRlIGMuZmluaXNofSl9fSksbi5lYWNoKFtcInRvZ2dsZVwiLFwic2hvd1wiLFwiaGlkZVwiXSxmdW5jdGlvbihhLGIpe3ZhciBjPW4uZm5bYl07bi5mbltiXT1mdW5jdGlvbihhLGQsZSl7cmV0dXJuIG51bGw9PWF8fFwiYm9vbGVhblwiPT10eXBlb2YgYT9jLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp0aGlzLmFuaW1hdGUoWGEoYiwhMCksYSxkLGUpfX0pLG4uZWFjaCh7c2xpZGVEb3duOlhhKFwic2hvd1wiKSxzbGlkZVVwOlhhKFwiaGlkZVwiKSxzbGlkZVRvZ2dsZTpYYShcInRvZ2dsZVwiKSxmYWRlSW46e29wYWNpdHk6XCJzaG93XCJ9LGZhZGVPdXQ6e29wYWNpdHk6XCJoaWRlXCJ9LGZhZGVUb2dnbGU6e29wYWNpdHk6XCJ0b2dnbGVcIn19LGZ1bmN0aW9uKGEsYil7bi5mblthXT1mdW5jdGlvbihhLGMsZCl7cmV0dXJuIHRoaXMuYW5pbWF0ZShiLGEsYyxkKX19KSxuLnRpbWVycz1bXSxuLmZ4LnRpY2s9ZnVuY3Rpb24oKXt2YXIgYSxiPTAsYz1uLnRpbWVycztmb3IoU2E9bi5ub3coKTtiPGMubGVuZ3RoO2IrKylhPWNbYl0sYSgpfHxjW2JdIT09YXx8Yy5zcGxpY2UoYi0tLDEpO2MubGVuZ3RofHxuLmZ4LnN0b3AoKSxTYT12b2lkIDB9LG4uZngudGltZXI9ZnVuY3Rpb24oYSl7bi50aW1lcnMucHVzaChhKSxhKCk/bi5meC5zdGFydCgpOm4udGltZXJzLnBvcCgpfSxuLmZ4LmludGVydmFsPTEzLG4uZnguc3RhcnQ9ZnVuY3Rpb24oKXtUYXx8KFRhPWEuc2V0SW50ZXJ2YWwobi5meC50aWNrLG4uZnguaW50ZXJ2YWwpKX0sbi5meC5zdG9wPWZ1bmN0aW9uKCl7YS5jbGVhckludGVydmFsKFRhKSxUYT1udWxsfSxuLmZ4LnNwZWVkcz17c2xvdzo2MDAsZmFzdDoyMDAsX2RlZmF1bHQ6NDAwfSxuLmZuLmRlbGF5PWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGI9bi5meD9uLmZ4LnNwZWVkc1tiXXx8YjpiLGM9Y3x8XCJmeFwiLHRoaXMucXVldWUoYyxmdW5jdGlvbihjLGQpe3ZhciBlPWEuc2V0VGltZW91dChjLGIpO2Quc3RvcD1mdW5jdGlvbigpe2EuY2xlYXJUaW1lb3V0KGUpfX0pfSxmdW5jdGlvbigpe3ZhciBhPWQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpLGI9ZC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIpLGM9Yi5hcHBlbmRDaGlsZChkLmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIikpO2EudHlwZT1cImNoZWNrYm94XCIsbC5jaGVja09uPVwiXCIhPT1hLnZhbHVlLGwub3B0U2VsZWN0ZWQ9Yy5zZWxlY3RlZCxiLmRpc2FibGVkPSEwLGwub3B0RGlzYWJsZWQ9IWMuZGlzYWJsZWQsYT1kLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKSxhLnZhbHVlPVwidFwiLGEudHlwZT1cInJhZGlvXCIsbC5yYWRpb1ZhbHVlPVwidFwiPT09YS52YWx1ZX0oKTt2YXIgYWIsYmI9bi5leHByLmF0dHJIYW5kbGU7bi5mbi5leHRlbmQoe2F0dHI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gSyh0aGlzLG4uYXR0cixhLGIsYXJndW1lbnRzLmxlbmd0aD4xKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7bi5yZW1vdmVBdHRyKHRoaXMsYSl9KX19KSxuLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmPWEubm9kZVR5cGU7aWYoMyE9PWYmJjghPT1mJiYyIT09ZilyZXR1cm5cInVuZGVmaW5lZFwiPT10eXBlb2YgYS5nZXRBdHRyaWJ1dGU/bi5wcm9wKGEsYixjKTooMT09PWYmJm4uaXNYTUxEb2MoYSl8fChiPWIudG9Mb3dlckNhc2UoKSxlPW4uYXR0ckhvb2tzW2JdfHwobi5leHByLm1hdGNoLmJvb2wudGVzdChiKT9hYjp2b2lkIDApKSx2b2lkIDAhPT1jP251bGw9PT1jP3ZvaWQgbi5yZW1vdmVBdHRyKGEsYik6ZSYmXCJzZXRcImluIGUmJnZvaWQgMCE9PShkPWUuc2V0KGEsYyxiKSk/ZDooYS5zZXRBdHRyaWJ1dGUoYixjK1wiXCIpLGMpOmUmJlwiZ2V0XCJpbiBlJiZudWxsIT09KGQ9ZS5nZXQoYSxiKSk/ZDooZD1uLmZpbmQuYXR0cihhLGIpLG51bGw9PWQ/dm9pZCAwOmQpKX0sYXR0ckhvb2tzOnt0eXBlOntzZXQ6ZnVuY3Rpb24oYSxiKXtpZighbC5yYWRpb1ZhbHVlJiZcInJhZGlvXCI9PT1iJiZuLm5vZGVOYW1lKGEsXCJpbnB1dFwiKSl7dmFyIGM9YS52YWx1ZTtyZXR1cm4gYS5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsYiksYyYmKGEudmFsdWU9YyksYn19fX0scmVtb3ZlQXR0cjpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZT0wLGY9YiYmYi5tYXRjaChHKTtpZihmJiYxPT09YS5ub2RlVHlwZSl3aGlsZShjPWZbZSsrXSlkPW4ucHJvcEZpeFtjXXx8YyxuLmV4cHIubWF0Y2guYm9vbC50ZXN0KGMpJiYoYVtkXT0hMSksYS5yZW1vdmVBdHRyaWJ1dGUoYyl9fSksYWI9e3NldDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGI9PT0hMT9uLnJlbW92ZUF0dHIoYSxjKTphLnNldEF0dHJpYnV0ZShjLGMpLGN9fSxuLmVhY2gobi5leHByLm1hdGNoLmJvb2wuc291cmNlLm1hdGNoKC9cXHcrL2cpLGZ1bmN0aW9uKGEsYil7dmFyIGM9YmJbYl18fG4uZmluZC5hdHRyO2JiW2JdPWZ1bmN0aW9uKGEsYixkKXt2YXIgZSxmO3JldHVybiBkfHwoZj1iYltiXSxiYltiXT1lLGU9bnVsbCE9YyhhLGIsZCk/Yi50b0xvd2VyQ2FzZSgpOm51bGwsYmJbYl09ZiksZX19KTt2YXIgY2I9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxkYj0vXig/OmF8YXJlYSkkL2k7bi5mbi5leHRlbmQoe3Byb3A6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gSyh0aGlzLG4ucHJvcCxhLGIsYXJndW1lbnRzLmxlbmd0aD4xKX0scmVtb3ZlUHJvcDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXNbbi5wcm9wRml4W2FdfHxhXX0pfX0pLG4uZXh0ZW5kKHtwcm9wOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGY9YS5ub2RlVHlwZTtpZigzIT09ZiYmOCE9PWYmJjIhPT1mKXJldHVybiAxPT09ZiYmbi5pc1hNTERvYyhhKXx8KGI9bi5wcm9wRml4W2JdfHxiLGU9bi5wcm9wSG9va3NbYl0pLHZvaWQgMCE9PWM/ZSYmXCJzZXRcImluIGUmJnZvaWQgMCE9PShkPWUuc2V0KGEsYyxiKSk/ZDphW2JdPWM6ZSYmXCJnZXRcImluIGUmJm51bGwhPT0oZD1lLmdldChhLGIpKT9kOmFbYl07XG59LHByb3BIb29rczp7dGFiSW5kZXg6e2dldDpmdW5jdGlvbihhKXt2YXIgYj1uLmZpbmQuYXR0cihhLFwidGFiaW5kZXhcIik7cmV0dXJuIGI/cGFyc2VJbnQoYiwxMCk6Y2IudGVzdChhLm5vZGVOYW1lKXx8ZGIudGVzdChhLm5vZGVOYW1lKSYmYS5ocmVmPzA6LTF9fX0scHJvcEZpeDp7XCJmb3JcIjpcImh0bWxGb3JcIixcImNsYXNzXCI6XCJjbGFzc05hbWVcIn19KSxsLm9wdFNlbGVjdGVkfHwobi5wcm9wSG9va3Muc2VsZWN0ZWQ9e2dldDpmdW5jdGlvbihhKXt2YXIgYj1hLnBhcmVudE5vZGU7cmV0dXJuIGImJmIucGFyZW50Tm9kZSYmYi5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsbnVsbH19KSxuLmVhY2goW1widGFiSW5kZXhcIixcInJlYWRPbmx5XCIsXCJtYXhMZW5ndGhcIixcImNlbGxTcGFjaW5nXCIsXCJjZWxsUGFkZGluZ1wiLFwicm93U3BhblwiLFwiY29sU3BhblwiLFwidXNlTWFwXCIsXCJmcmFtZUJvcmRlclwiLFwiY29udGVudEVkaXRhYmxlXCJdLGZ1bmN0aW9uKCl7bi5wcm9wRml4W3RoaXMudG9Mb3dlckNhc2UoKV09dGhpc30pO3ZhciBlYj0vW1xcdFxcclxcblxcZl0vZztmdW5jdGlvbiBmYihhKXtyZXR1cm4gYS5nZXRBdHRyaWJ1dGUmJmEuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIil8fFwiXCJ9bi5mbi5leHRlbmQoe2FkZENsYXNzOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoLGk9MDtpZihuLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXtuKHRoaXMpLmFkZENsYXNzKGEuY2FsbCh0aGlzLGIsZmIodGhpcykpKX0pO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBhJiZhKXtiPWEubWF0Y2goRyl8fFtdO3doaWxlKGM9dGhpc1tpKytdKWlmKGU9ZmIoYyksZD0xPT09Yy5ub2RlVHlwZSYmKFwiIFwiK2UrXCIgXCIpLnJlcGxhY2UoZWIsXCIgXCIpKXtnPTA7d2hpbGUoZj1iW2crK10pZC5pbmRleE9mKFwiIFwiK2YrXCIgXCIpPDAmJihkKz1mK1wiIFwiKTtoPW4udHJpbShkKSxlIT09aCYmYy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLGgpfX1yZXR1cm4gdGhpc30scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnLGgsaT0wO2lmKG4uaXNGdW5jdGlvbihhKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGIpe24odGhpcykucmVtb3ZlQ2xhc3MoYS5jYWxsKHRoaXMsYixmYih0aGlzKSkpfSk7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuYXR0cihcImNsYXNzXCIsXCJcIik7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGEmJmEpe2I9YS5tYXRjaChHKXx8W107d2hpbGUoYz10aGlzW2krK10paWYoZT1mYihjKSxkPTE9PT1jLm5vZGVUeXBlJiYoXCIgXCIrZStcIiBcIikucmVwbGFjZShlYixcIiBcIikpe2c9MDt3aGlsZShmPWJbZysrXSl3aGlsZShkLmluZGV4T2YoXCIgXCIrZitcIiBcIik+LTEpZD1kLnJlcGxhY2UoXCIgXCIrZitcIiBcIixcIiBcIik7aD1uLnRyaW0oZCksZSE9PWgmJmMuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixoKX19cmV0dXJuIHRoaXN9LHRvZ2dsZUNsYXNzOmZ1bmN0aW9uKGEsYil7dmFyIGM9dHlwZW9mIGE7cmV0dXJuXCJib29sZWFuXCI9PXR5cGVvZiBiJiZcInN0cmluZ1wiPT09Yz9iP3RoaXMuYWRkQ2xhc3MoYSk6dGhpcy5yZW1vdmVDbGFzcyhhKTpuLmlzRnVuY3Rpb24oYSk/dGhpcy5lYWNoKGZ1bmN0aW9uKGMpe24odGhpcykudG9nZ2xlQ2xhc3MoYS5jYWxsKHRoaXMsYyxmYih0aGlzKSxiKSxiKX0pOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiLGQsZSxmO2lmKFwic3RyaW5nXCI9PT1jKXtkPTAsZT1uKHRoaXMpLGY9YS5tYXRjaChHKXx8W107d2hpbGUoYj1mW2QrK10pZS5oYXNDbGFzcyhiKT9lLnJlbW92ZUNsYXNzKGIpOmUuYWRkQ2xhc3MoYil9ZWxzZSh2b2lkIDA9PT1hfHxcImJvb2xlYW5cIj09PWMpJiYoYj1mYih0aGlzKSxiJiZOLnNldCh0aGlzLFwiX19jbGFzc05hbWVfX1wiLGIpLHRoaXMuc2V0QXR0cmlidXRlJiZ0aGlzLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsYnx8YT09PSExP1wiXCI6Ti5nZXQodGhpcyxcIl9fY2xhc3NOYW1lX19cIil8fFwiXCIpKX0pfSxoYXNDbGFzczpmdW5jdGlvbihhKXt2YXIgYixjLGQ9MDtiPVwiIFwiK2ErXCIgXCI7d2hpbGUoYz10aGlzW2QrK10paWYoMT09PWMubm9kZVR5cGUmJihcIiBcIitmYihjKStcIiBcIikucmVwbGFjZShlYixcIiBcIikuaW5kZXhPZihiKT4tMSlyZXR1cm4hMDtyZXR1cm4hMX19KTt2YXIgZ2I9L1xcci9nO24uZm4uZXh0ZW5kKHt2YWw6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGU9dGhpc1swXTt7aWYoYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gZD1uLmlzRnVuY3Rpb24oYSksdGhpcy5lYWNoKGZ1bmN0aW9uKGMpe3ZhciBlOzE9PT10aGlzLm5vZGVUeXBlJiYoZT1kP2EuY2FsbCh0aGlzLGMsbih0aGlzKS52YWwoKSk6YSxudWxsPT1lP2U9XCJcIjpcIm51bWJlclwiPT10eXBlb2YgZT9lKz1cIlwiOm4uaXNBcnJheShlKSYmKGU9bi5tYXAoZSxmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YT9cIlwiOmErXCJcIn0pKSxiPW4udmFsSG9va3NbdGhpcy50eXBlXXx8bi52YWxIb29rc1t0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldLGImJlwic2V0XCJpbiBiJiZ2b2lkIDAhPT1iLnNldCh0aGlzLGUsXCJ2YWx1ZVwiKXx8KHRoaXMudmFsdWU9ZSkpfSk7aWYoZSlyZXR1cm4gYj1uLnZhbEhvb2tzW2UudHlwZV18fG4udmFsSG9va3NbZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSxiJiZcImdldFwiaW4gYiYmdm9pZCAwIT09KGM9Yi5nZXQoZSxcInZhbHVlXCIpKT9jOihjPWUudmFsdWUsXCJzdHJpbmdcIj09dHlwZW9mIGM/Yy5yZXBsYWNlKGdiLFwiXCIpOm51bGw9PWM/XCJcIjpjKX19fSksbi5leHRlbmQoe3ZhbEhvb2tzOntvcHRpb246e2dldDpmdW5jdGlvbihhKXtyZXR1cm4gbi50cmltKGEudmFsdWUpfX0sc2VsZWN0OntnZXQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGMsZD1hLm9wdGlvbnMsZT1hLnNlbGVjdGVkSW5kZXgsZj1cInNlbGVjdC1vbmVcIj09PWEudHlwZXx8MD5lLGc9Zj9udWxsOltdLGg9Zj9lKzE6ZC5sZW5ndGgsaT0wPmU/aDpmP2U6MDtoPmk7aSsrKWlmKGM9ZFtpXSwoYy5zZWxlY3RlZHx8aT09PWUpJiYobC5vcHREaXNhYmxlZD8hYy5kaXNhYmxlZDpudWxsPT09Yy5nZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKSkmJighYy5wYXJlbnROb2RlLmRpc2FibGVkfHwhbi5ub2RlTmFtZShjLnBhcmVudE5vZGUsXCJvcHRncm91cFwiKSkpe2lmKGI9bihjKS52YWwoKSxmKXJldHVybiBiO2cucHVzaChiKX1yZXR1cm4gZ30sc2V0OmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlPWEub3B0aW9ucyxmPW4ubWFrZUFycmF5KGIpLGc9ZS5sZW5ndGg7d2hpbGUoZy0tKWQ9ZVtnXSwoZC5zZWxlY3RlZD1uLmluQXJyYXkobi52YWxIb29rcy5vcHRpb24uZ2V0KGQpLGYpPi0xKSYmKGM9ITApO3JldHVybiBjfHwoYS5zZWxlY3RlZEluZGV4PS0xKSxmfX19fSksbi5lYWNoKFtcInJhZGlvXCIsXCJjaGVja2JveFwiXSxmdW5jdGlvbigpe24udmFsSG9va3NbdGhpc109e3NldDpmdW5jdGlvbihhLGIpe3JldHVybiBuLmlzQXJyYXkoYik/YS5jaGVja2VkPW4uaW5BcnJheShuKGEpLnZhbCgpLGIpPi0xOnZvaWQgMH19LGwuY2hlY2tPbnx8KG4udmFsSG9va3NbdGhpc10uZ2V0PWZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT09YS5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKT9cIm9uXCI6YS52YWx1ZX0pfSk7dmFyIGhiPS9eKD86Zm9jdXNpbmZvY3VzfGZvY3Vzb3V0Ymx1cikkLztuLmV4dGVuZChuLmV2ZW50LHt0cmlnZ2VyOmZ1bmN0aW9uKGIsYyxlLGYpe3ZhciBnLGgsaSxqLGwsbSxvLHA9W2V8fGRdLHE9ay5jYWxsKGIsXCJ0eXBlXCIpP2IudHlwZTpiLHI9ay5jYWxsKGIsXCJuYW1lc3BhY2VcIik/Yi5uYW1lc3BhY2Uuc3BsaXQoXCIuXCIpOltdO2lmKGg9aT1lPWV8fGQsMyE9PWUubm9kZVR5cGUmJjghPT1lLm5vZGVUeXBlJiYhaGIudGVzdChxK24uZXZlbnQudHJpZ2dlcmVkKSYmKHEuaW5kZXhPZihcIi5cIik+LTEmJihyPXEuc3BsaXQoXCIuXCIpLHE9ci5zaGlmdCgpLHIuc29ydCgpKSxsPXEuaW5kZXhPZihcIjpcIik8MCYmXCJvblwiK3EsYj1iW24uZXhwYW5kb10/YjpuZXcgbi5FdmVudChxLFwib2JqZWN0XCI9PXR5cGVvZiBiJiZiKSxiLmlzVHJpZ2dlcj1mPzI6MyxiLm5hbWVzcGFjZT1yLmpvaW4oXCIuXCIpLGIucm5hbWVzcGFjZT1iLm5hbWVzcGFjZT9uZXcgUmVnRXhwKFwiKF58XFxcXC4pXCIrci5qb2luKFwiXFxcXC4oPzouKlxcXFwufClcIikrXCIoXFxcXC58JClcIik6bnVsbCxiLnJlc3VsdD12b2lkIDAsYi50YXJnZXR8fChiLnRhcmdldD1lKSxjPW51bGw9PWM/W2JdOm4ubWFrZUFycmF5KGMsW2JdKSxvPW4uZXZlbnQuc3BlY2lhbFtxXXx8e30sZnx8IW8udHJpZ2dlcnx8by50cmlnZ2VyLmFwcGx5KGUsYykhPT0hMSkpe2lmKCFmJiYhby5ub0J1YmJsZSYmIW4uaXNXaW5kb3coZSkpe2ZvcihqPW8uZGVsZWdhdGVUeXBlfHxxLGhiLnRlc3QoaitxKXx8KGg9aC5wYXJlbnROb2RlKTtoO2g9aC5wYXJlbnROb2RlKXAucHVzaChoKSxpPWg7aT09PShlLm93bmVyRG9jdW1lbnR8fGQpJiZwLnB1c2goaS5kZWZhdWx0Vmlld3x8aS5wYXJlbnRXaW5kb3d8fGEpfWc9MDt3aGlsZSgoaD1wW2crK10pJiYhYi5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKWIudHlwZT1nPjE/ajpvLmJpbmRUeXBlfHxxLG09KE4uZ2V0KGgsXCJldmVudHNcIil8fHt9KVtiLnR5cGVdJiZOLmdldChoLFwiaGFuZGxlXCIpLG0mJm0uYXBwbHkoaCxjKSxtPWwmJmhbbF0sbSYmbS5hcHBseSYmTChoKSYmKGIucmVzdWx0PW0uYXBwbHkoaCxjKSxiLnJlc3VsdD09PSExJiZiLnByZXZlbnREZWZhdWx0KCkpO3JldHVybiBiLnR5cGU9cSxmfHxiLmlzRGVmYXVsdFByZXZlbnRlZCgpfHxvLl9kZWZhdWx0JiZvLl9kZWZhdWx0LmFwcGx5KHAucG9wKCksYykhPT0hMXx8IUwoZSl8fGwmJm4uaXNGdW5jdGlvbihlW3FdKSYmIW4uaXNXaW5kb3coZSkmJihpPWVbbF0saSYmKGVbbF09bnVsbCksbi5ldmVudC50cmlnZ2VyZWQ9cSxlW3FdKCksbi5ldmVudC50cmlnZ2VyZWQ9dm9pZCAwLGkmJihlW2xdPWkpKSxiLnJlc3VsdH19LHNpbXVsYXRlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1uLmV4dGVuZChuZXcgbi5FdmVudCxjLHt0eXBlOmEsaXNTaW11bGF0ZWQ6ITB9KTtuLmV2ZW50LnRyaWdnZXIoZCxudWxsLGIpLGQuaXNEZWZhdWx0UHJldmVudGVkKCkmJmMucHJldmVudERlZmF1bHQoKX19KSxuLmZuLmV4dGVuZCh7dHJpZ2dlcjpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtuLmV2ZW50LnRyaWdnZXIoYSxiLHRoaXMpfSl9LHRyaWdnZXJIYW5kbGVyOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpc1swXTtyZXR1cm4gYz9uLmV2ZW50LnRyaWdnZXIoYSxiLGMsITApOnZvaWQgMH19KSxuLmVhY2goXCJibHVyIGZvY3VzIGZvY3VzaW4gZm9jdXNvdXQgbG9hZCByZXNpemUgc2Nyb2xsIHVubG9hZCBjbGljayBkYmxjbGljayBtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmUgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlZW50ZXIgbW91c2VsZWF2ZSBjaGFuZ2Ugc2VsZWN0IHN1Ym1pdCBrZXlkb3duIGtleXByZXNzIGtleXVwIGVycm9yIGNvbnRleHRtZW51XCIuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGEsYil7bi5mbltiXT1mdW5jdGlvbihhLGMpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPjA/dGhpcy5vbihiLG51bGwsYSxjKTp0aGlzLnRyaWdnZXIoYil9fSksbi5mbi5leHRlbmQoe2hvdmVyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMubW91c2VlbnRlcihhKS5tb3VzZWxlYXZlKGJ8fGEpfX0pLGwuZm9jdXNpbj1cIm9uZm9jdXNpblwiaW4gYSxsLmZvY3VzaW58fG4uZWFjaCh7Zm9jdXM6XCJmb2N1c2luXCIsYmx1cjpcImZvY3Vzb3V0XCJ9LGZ1bmN0aW9uKGEsYil7dmFyIGM9ZnVuY3Rpb24oYSl7bi5ldmVudC5zaW11bGF0ZShiLGEudGFyZ2V0LG4uZXZlbnQuZml4KGEpKX07bi5ldmVudC5zcGVjaWFsW2JdPXtzZXR1cDpmdW5jdGlvbigpe3ZhciBkPXRoaXMub3duZXJEb2N1bWVudHx8dGhpcyxlPU4uYWNjZXNzKGQsYik7ZXx8ZC5hZGRFdmVudExpc3RlbmVyKGEsYywhMCksTi5hY2Nlc3MoZCxiLChlfHwwKSsxKX0sdGVhcmRvd246ZnVuY3Rpb24oKXt2YXIgZD10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMsZT1OLmFjY2VzcyhkLGIpLTE7ZT9OLmFjY2VzcyhkLGIsZSk6KGQucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLGMsITApLE4ucmVtb3ZlKGQsYikpfX19KTt2YXIgaWI9YS5sb2NhdGlvbixqYj1uLm5vdygpLGtiPS9cXD8vO24ucGFyc2VKU09OPWZ1bmN0aW9uKGEpe3JldHVybiBKU09OLnBhcnNlKGErXCJcIil9LG4ucGFyc2VYTUw9ZnVuY3Rpb24oYil7dmFyIGM7aWYoIWJ8fFwic3RyaW5nXCIhPXR5cGVvZiBiKXJldHVybiBudWxsO3RyeXtjPShuZXcgYS5ET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhiLFwidGV4dC94bWxcIil9Y2F0Y2goZCl7Yz12b2lkIDB9cmV0dXJuKCFjfHxjLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwicGFyc2VyZXJyb3JcIikubGVuZ3RoKSYmbi5lcnJvcihcIkludmFsaWQgWE1MOiBcIitiKSxjfTt2YXIgbGI9LyMuKiQvLG1iPS8oWz8mXSlfPVteJl0qLyxuYj0vXiguKj8pOlsgXFx0XSooW15cXHJcXG5dKikkL2dtLG9iPS9eKD86YWJvdXR8YXBwfGFwcC1zdG9yYWdlfC4rLWV4dGVuc2lvbnxmaWxlfHJlc3x3aWRnZXQpOiQvLHBiPS9eKD86R0VUfEhFQUQpJC8scWI9L15cXC9cXC8vLHJiPXt9LHNiPXt9LHRiPVwiKi9cIi5jb25jYXQoXCIqXCIpLHViPWQuY3JlYXRlRWxlbWVudChcImFcIik7dWIuaHJlZj1pYi5ocmVmO2Z1bmN0aW9uIHZiKGEpe3JldHVybiBmdW5jdGlvbihiLGMpe1wic3RyaW5nXCIhPXR5cGVvZiBiJiYoYz1iLGI9XCIqXCIpO3ZhciBkLGU9MCxmPWIudG9Mb3dlckNhc2UoKS5tYXRjaChHKXx8W107aWYobi5pc0Z1bmN0aW9uKGMpKXdoaWxlKGQ9ZltlKytdKVwiK1wiPT09ZFswXT8oZD1kLnNsaWNlKDEpfHxcIipcIiwoYVtkXT1hW2RdfHxbXSkudW5zaGlmdChjKSk6KGFbZF09YVtkXXx8W10pLnB1c2goYyl9fWZ1bmN0aW9uIHdiKGEsYixjLGQpe3ZhciBlPXt9LGY9YT09PXNiO2Z1bmN0aW9uIGcoaCl7dmFyIGk7cmV0dXJuIGVbaF09ITAsbi5lYWNoKGFbaF18fFtdLGZ1bmN0aW9uKGEsaCl7dmFyIGo9aChiLGMsZCk7cmV0dXJuXCJzdHJpbmdcIiE9dHlwZW9mIGp8fGZ8fGVbal0/Zj8hKGk9aik6dm9pZCAwOihiLmRhdGFUeXBlcy51bnNoaWZ0KGopLGcoaiksITEpfSksaX1yZXR1cm4gZyhiLmRhdGFUeXBlc1swXSl8fCFlW1wiKlwiXSYmZyhcIipcIil9ZnVuY3Rpb24geGIoYSxiKXt2YXIgYyxkLGU9bi5hamF4U2V0dGluZ3MuZmxhdE9wdGlvbnN8fHt9O2ZvcihjIGluIGIpdm9pZCAwIT09YltjXSYmKChlW2NdP2E6ZHx8KGQ9e30pKVtjXT1iW2NdKTtyZXR1cm4gZCYmbi5leHRlbmQoITAsYSxkKSxhfWZ1bmN0aW9uIHliKGEsYixjKXt2YXIgZCxlLGYsZyxoPWEuY29udGVudHMsaT1hLmRhdGFUeXBlczt3aGlsZShcIipcIj09PWlbMF0paS5zaGlmdCgpLHZvaWQgMD09PWQmJihkPWEubWltZVR5cGV8fGIuZ2V0UmVzcG9uc2VIZWFkZXIoXCJDb250ZW50LVR5cGVcIikpO2lmKGQpZm9yKGUgaW4gaClpZihoW2VdJiZoW2VdLnRlc3QoZCkpe2kudW5zaGlmdChlKTticmVha31pZihpWzBdaW4gYylmPWlbMF07ZWxzZXtmb3IoZSBpbiBjKXtpZighaVswXXx8YS5jb252ZXJ0ZXJzW2UrXCIgXCIraVswXV0pe2Y9ZTticmVha31nfHwoZz1lKX1mPWZ8fGd9cmV0dXJuIGY/KGYhPT1pWzBdJiZpLnVuc2hpZnQoZiksY1tmXSk6dm9pZCAwfWZ1bmN0aW9uIHpiKGEsYixjLGQpe3ZhciBlLGYsZyxoLGksaj17fSxrPWEuZGF0YVR5cGVzLnNsaWNlKCk7aWYoa1sxXSlmb3IoZyBpbiBhLmNvbnZlcnRlcnMpaltnLnRvTG93ZXJDYXNlKCldPWEuY29udmVydGVyc1tnXTtmPWsuc2hpZnQoKTt3aGlsZShmKWlmKGEucmVzcG9uc2VGaWVsZHNbZl0mJihjW2EucmVzcG9uc2VGaWVsZHNbZl1dPWIpLCFpJiZkJiZhLmRhdGFGaWx0ZXImJihiPWEuZGF0YUZpbHRlcihiLGEuZGF0YVR5cGUpKSxpPWYsZj1rLnNoaWZ0KCkpaWYoXCIqXCI9PT1mKWY9aTtlbHNlIGlmKFwiKlwiIT09aSYmaSE9PWYpe2lmKGc9altpK1wiIFwiK2ZdfHxqW1wiKiBcIitmXSwhZylmb3IoZSBpbiBqKWlmKGg9ZS5zcGxpdChcIiBcIiksaFsxXT09PWYmJihnPWpbaStcIiBcIitoWzBdXXx8altcIiogXCIraFswXV0pKXtnPT09ITA/Zz1qW2VdOmpbZV0hPT0hMCYmKGY9aFswXSxrLnVuc2hpZnQoaFsxXSkpO2JyZWFrfWlmKGchPT0hMClpZihnJiZhW1widGhyb3dzXCJdKWI9ZyhiKTtlbHNlIHRyeXtiPWcoYil9Y2F0Y2gobCl7cmV0dXJue3N0YXRlOlwicGFyc2VyZXJyb3JcIixlcnJvcjpnP2w6XCJObyBjb252ZXJzaW9uIGZyb20gXCIraStcIiB0byBcIitmfX19cmV0dXJue3N0YXRlOlwic3VjY2Vzc1wiLGRhdGE6Yn19bi5leHRlbmQoe2FjdGl2ZTowLGxhc3RNb2RpZmllZDp7fSxldGFnOnt9LGFqYXhTZXR0aW5nczp7dXJsOmliLmhyZWYsdHlwZTpcIkdFVFwiLGlzTG9jYWw6b2IudGVzdChpYi5wcm90b2NvbCksZ2xvYmFsOiEwLHByb2Nlc3NEYXRhOiEwLGFzeW5jOiEwLGNvbnRlbnRUeXBlOlwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04XCIsYWNjZXB0czp7XCIqXCI6dGIsdGV4dDpcInRleHQvcGxhaW5cIixodG1sOlwidGV4dC9odG1sXCIseG1sOlwiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbFwiLGpzb246XCJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L2phdmFzY3JpcHRcIn0sY29udGVudHM6e3htbDovXFxieG1sXFxiLyxodG1sOi9cXGJodG1sLyxqc29uOi9cXGJqc29uXFxiL30scmVzcG9uc2VGaWVsZHM6e3htbDpcInJlc3BvbnNlWE1MXCIsdGV4dDpcInJlc3BvbnNlVGV4dFwiLGpzb246XCJyZXNwb25zZUpTT05cIn0sY29udmVydGVyczp7XCIqIHRleHRcIjpTdHJpbmcsXCJ0ZXh0IGh0bWxcIjohMCxcInRleHQganNvblwiOm4ucGFyc2VKU09OLFwidGV4dCB4bWxcIjpuLnBhcnNlWE1MfSxmbGF0T3B0aW9uczp7dXJsOiEwLGNvbnRleHQ6ITB9fSxhamF4U2V0dXA6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj94Yih4YihhLG4uYWpheFNldHRpbmdzKSxiKTp4YihuLmFqYXhTZXR0aW5ncyxhKX0sYWpheFByZWZpbHRlcjp2YihyYiksYWpheFRyYW5zcG9ydDp2YihzYiksYWpheDpmdW5jdGlvbihiLGMpe1wib2JqZWN0XCI9PXR5cGVvZiBiJiYoYz1iLGI9dm9pZCAwKSxjPWN8fHt9O3ZhciBlLGYsZyxoLGksaixrLGwsbT1uLmFqYXhTZXR1cCh7fSxjKSxvPW0uY29udGV4dHx8bSxwPW0uY29udGV4dCYmKG8ubm9kZVR5cGV8fG8uanF1ZXJ5KT9uKG8pOm4uZXZlbnQscT1uLkRlZmVycmVkKCkscj1uLkNhbGxiYWNrcyhcIm9uY2UgbWVtb3J5XCIpLHM9bS5zdGF0dXNDb2RlfHx7fSx0PXt9LHU9e30sdj0wLHc9XCJjYW5jZWxlZFwiLHg9e3JlYWR5U3RhdGU6MCxnZXRSZXNwb25zZUhlYWRlcjpmdW5jdGlvbihhKXt2YXIgYjtpZigyPT09dil7aWYoIWgpe2g9e307d2hpbGUoYj1uYi5leGVjKGcpKWhbYlsxXS50b0xvd2VyQ2FzZSgpXT1iWzJdfWI9aFthLnRvTG93ZXJDYXNlKCldfXJldHVybiBudWxsPT1iP251bGw6Yn0sZ2V0QWxsUmVzcG9uc2VIZWFkZXJzOmZ1bmN0aW9uKCl7cmV0dXJuIDI9PT12P2c6bnVsbH0sc2V0UmVxdWVzdEhlYWRlcjpmdW5jdGlvbihhLGIpe3ZhciBjPWEudG9Mb3dlckNhc2UoKTtyZXR1cm4gdnx8KGE9dVtjXT11W2NdfHxhLHRbYV09YiksdGhpc30sb3ZlcnJpZGVNaW1lVHlwZTpmdW5jdGlvbihhKXtyZXR1cm4gdnx8KG0ubWltZVR5cGU9YSksdGhpc30sc3RhdHVzQ29kZTpmdW5jdGlvbihhKXt2YXIgYjtpZihhKWlmKDI+dilmb3IoYiBpbiBhKXNbYl09W3NbYl0sYVtiXV07ZWxzZSB4LmFsd2F5cyhhW3guc3RhdHVzXSk7cmV0dXJuIHRoaXN9LGFib3J0OmZ1bmN0aW9uKGEpe3ZhciBiPWF8fHc7cmV0dXJuIGUmJmUuYWJvcnQoYikseigwLGIpLHRoaXN9fTtpZihxLnByb21pc2UoeCkuY29tcGxldGU9ci5hZGQseC5zdWNjZXNzPXguZG9uZSx4LmVycm9yPXguZmFpbCxtLnVybD0oKGJ8fG0udXJsfHxpYi5ocmVmKStcIlwiKS5yZXBsYWNlKGxiLFwiXCIpLnJlcGxhY2UocWIsaWIucHJvdG9jb2wrXCIvL1wiKSxtLnR5cGU9Yy5tZXRob2R8fGMudHlwZXx8bS5tZXRob2R8fG0udHlwZSxtLmRhdGFUeXBlcz1uLnRyaW0obS5kYXRhVHlwZXx8XCIqXCIpLnRvTG93ZXJDYXNlKCkubWF0Y2goRyl8fFtcIlwiXSxudWxsPT1tLmNyb3NzRG9tYWluKXtqPWQuY3JlYXRlRWxlbWVudChcImFcIik7dHJ5e2ouaHJlZj1tLnVybCxqLmhyZWY9ai5ocmVmLG0uY3Jvc3NEb21haW49dWIucHJvdG9jb2wrXCIvL1wiK3ViLmhvc3QhPWoucHJvdG9jb2wrXCIvL1wiK2ouaG9zdH1jYXRjaCh5KXttLmNyb3NzRG9tYWluPSEwfX1pZihtLmRhdGEmJm0ucHJvY2Vzc0RhdGEmJlwic3RyaW5nXCIhPXR5cGVvZiBtLmRhdGEmJihtLmRhdGE9bi5wYXJhbShtLmRhdGEsbS50cmFkaXRpb25hbCkpLHdiKHJiLG0sYyx4KSwyPT09dilyZXR1cm4geDtrPW4uZXZlbnQmJm0uZ2xvYmFsLGsmJjA9PT1uLmFjdGl2ZSsrJiZuLmV2ZW50LnRyaWdnZXIoXCJhamF4U3RhcnRcIiksbS50eXBlPW0udHlwZS50b1VwcGVyQ2FzZSgpLG0uaGFzQ29udGVudD0hcGIudGVzdChtLnR5cGUpLGY9bS51cmwsbS5oYXNDb250ZW50fHwobS5kYXRhJiYoZj1tLnVybCs9KGtiLnRlc3QoZik/XCImXCI6XCI/XCIpK20uZGF0YSxkZWxldGUgbS5kYXRhKSxtLmNhY2hlPT09ITEmJihtLnVybD1tYi50ZXN0KGYpP2YucmVwbGFjZShtYixcIiQxXz1cIitqYisrKTpmKyhrYi50ZXN0KGYpP1wiJlwiOlwiP1wiKStcIl89XCIramIrKykpLG0uaWZNb2RpZmllZCYmKG4ubGFzdE1vZGlmaWVkW2ZdJiZ4LnNldFJlcXVlc3RIZWFkZXIoXCJJZi1Nb2RpZmllZC1TaW5jZVwiLG4ubGFzdE1vZGlmaWVkW2ZdKSxuLmV0YWdbZl0mJnguc2V0UmVxdWVzdEhlYWRlcihcIklmLU5vbmUtTWF0Y2hcIixuLmV0YWdbZl0pKSwobS5kYXRhJiZtLmhhc0NvbnRlbnQmJm0uY29udGVudFR5cGUhPT0hMXx8Yy5jb250ZW50VHlwZSkmJnguc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtVHlwZVwiLG0uY29udGVudFR5cGUpLHguc2V0UmVxdWVzdEhlYWRlcihcIkFjY2VwdFwiLG0uZGF0YVR5cGVzWzBdJiZtLmFjY2VwdHNbbS5kYXRhVHlwZXNbMF1dP20uYWNjZXB0c1ttLmRhdGFUeXBlc1swXV0rKFwiKlwiIT09bS5kYXRhVHlwZXNbMF0/XCIsIFwiK3RiK1wiOyBxPTAuMDFcIjpcIlwiKTptLmFjY2VwdHNbXCIqXCJdKTtmb3IobCBpbiBtLmhlYWRlcnMpeC5zZXRSZXF1ZXN0SGVhZGVyKGwsbS5oZWFkZXJzW2xdKTtpZihtLmJlZm9yZVNlbmQmJihtLmJlZm9yZVNlbmQuY2FsbChvLHgsbSk9PT0hMXx8Mj09PXYpKXJldHVybiB4LmFib3J0KCk7dz1cImFib3J0XCI7Zm9yKGwgaW57c3VjY2VzczoxLGVycm9yOjEsY29tcGxldGU6MX0peFtsXShtW2xdKTtpZihlPXdiKHNiLG0sYyx4KSl7aWYoeC5yZWFkeVN0YXRlPTEsayYmcC50cmlnZ2VyKFwiYWpheFNlbmRcIixbeCxtXSksMj09PXYpcmV0dXJuIHg7bS5hc3luYyYmbS50aW1lb3V0PjAmJihpPWEuc2V0VGltZW91dChmdW5jdGlvbigpe3guYWJvcnQoXCJ0aW1lb3V0XCIpfSxtLnRpbWVvdXQpKTt0cnl7dj0xLGUuc2VuZCh0LHopfWNhdGNoKHkpe2lmKCEoMj52KSl0aHJvdyB5O3ooLTEseSl9fWVsc2UgeigtMSxcIk5vIFRyYW5zcG9ydFwiKTtmdW5jdGlvbiB6KGIsYyxkLGgpe3ZhciBqLGwsdCx1LHcseT1jOzIhPT12JiYodj0yLGkmJmEuY2xlYXJUaW1lb3V0KGkpLGU9dm9pZCAwLGc9aHx8XCJcIix4LnJlYWR5U3RhdGU9Yj4wPzQ6MCxqPWI+PTIwMCYmMzAwPmJ8fDMwND09PWIsZCYmKHU9eWIobSx4LGQpKSx1PXpiKG0sdSx4LGopLGo/KG0uaWZNb2RpZmllZCYmKHc9eC5nZXRSZXNwb25zZUhlYWRlcihcIkxhc3QtTW9kaWZpZWRcIiksdyYmKG4ubGFzdE1vZGlmaWVkW2ZdPXcpLHc9eC5nZXRSZXNwb25zZUhlYWRlcihcImV0YWdcIiksdyYmKG4uZXRhZ1tmXT13KSksMjA0PT09Ynx8XCJIRUFEXCI9PT1tLnR5cGU/eT1cIm5vY29udGVudFwiOjMwND09PWI/eT1cIm5vdG1vZGlmaWVkXCI6KHk9dS5zdGF0ZSxsPXUuZGF0YSx0PXUuZXJyb3Isaj0hdCkpOih0PXksKGJ8fCF5KSYmKHk9XCJlcnJvclwiLDA+YiYmKGI9MCkpKSx4LnN0YXR1cz1iLHguc3RhdHVzVGV4dD0oY3x8eSkrXCJcIixqP3EucmVzb2x2ZVdpdGgobyxbbCx5LHhdKTpxLnJlamVjdFdpdGgobyxbeCx5LHRdKSx4LnN0YXR1c0NvZGUocykscz12b2lkIDAsayYmcC50cmlnZ2VyKGo/XCJhamF4U3VjY2Vzc1wiOlwiYWpheEVycm9yXCIsW3gsbSxqP2w6dF0pLHIuZmlyZVdpdGgobyxbeCx5XSksayYmKHAudHJpZ2dlcihcImFqYXhDb21wbGV0ZVwiLFt4LG1dKSwtLW4uYWN0aXZlfHxuLmV2ZW50LnRyaWdnZXIoXCJhamF4U3RvcFwiKSkpfXJldHVybiB4fSxnZXRKU09OOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbi5nZXQoYSxiLGMsXCJqc29uXCIpfSxnZXRTY3JpcHQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbi5nZXQoYSx2b2lkIDAsYixcInNjcmlwdFwiKX19KSxuLmVhY2goW1wiZ2V0XCIsXCJwb3N0XCJdLGZ1bmN0aW9uKGEsYil7bltiXT1mdW5jdGlvbihhLGMsZCxlKXtyZXR1cm4gbi5pc0Z1bmN0aW9uKGMpJiYoZT1lfHxkLGQ9YyxjPXZvaWQgMCksbi5hamF4KG4uZXh0ZW5kKHt1cmw6YSx0eXBlOmIsZGF0YVR5cGU6ZSxkYXRhOmMsc3VjY2VzczpkfSxuLmlzUGxhaW5PYmplY3QoYSkmJmEpKX19KSxuLl9ldmFsVXJsPWZ1bmN0aW9uKGEpe3JldHVybiBuLmFqYXgoe3VybDphLHR5cGU6XCJHRVRcIixkYXRhVHlwZTpcInNjcmlwdFwiLGFzeW5jOiExLGdsb2JhbDohMSxcInRocm93c1wiOiEwfSl9LG4uZm4uZXh0ZW5kKHt3cmFwQWxsOmZ1bmN0aW9uKGEpe3ZhciBiO3JldHVybiBuLmlzRnVuY3Rpb24oYSk/dGhpcy5lYWNoKGZ1bmN0aW9uKGIpe24odGhpcykud3JhcEFsbChhLmNhbGwodGhpcyxiKSl9KToodGhpc1swXSYmKGI9bihhLHRoaXNbMF0ub3duZXJEb2N1bWVudCkuZXEoMCkuY2xvbmUoITApLHRoaXNbMF0ucGFyZW50Tm9kZSYmYi5pbnNlcnRCZWZvcmUodGhpc1swXSksYi5tYXAoZnVuY3Rpb24oKXt2YXIgYT10aGlzO3doaWxlKGEuZmlyc3RFbGVtZW50Q2hpbGQpYT1hLmZpcnN0RWxlbWVudENoaWxkO3JldHVybiBhfSkuYXBwZW5kKHRoaXMpKSx0aGlzKX0sd3JhcElubmVyOmZ1bmN0aW9uKGEpe3JldHVybiBuLmlzRnVuY3Rpb24oYSk/dGhpcy5lYWNoKGZ1bmN0aW9uKGIpe24odGhpcykud3JhcElubmVyKGEuY2FsbCh0aGlzLGIpKX0pOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPW4odGhpcyksYz1iLmNvbnRlbnRzKCk7Yy5sZW5ndGg/Yy53cmFwQWxsKGEpOmIuYXBwZW5kKGEpfSl9LHdyYXA6ZnVuY3Rpb24oYSl7dmFyIGI9bi5pc0Z1bmN0aW9uKGEpO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYyl7bih0aGlzKS53cmFwQWxsKGI/YS5jYWxsKHRoaXMsYyk6YSl9KX0sdW53cmFwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50KCkuZWFjaChmdW5jdGlvbigpe24ubm9kZU5hbWUodGhpcyxcImJvZHlcIil8fG4odGhpcykucmVwbGFjZVdpdGgodGhpcy5jaGlsZE5vZGVzKX0pLmVuZCgpfX0pLG4uZXhwci5maWx0ZXJzLmhpZGRlbj1mdW5jdGlvbihhKXtyZXR1cm4hbi5leHByLmZpbHRlcnMudmlzaWJsZShhKX0sbi5leHByLmZpbHRlcnMudmlzaWJsZT1mdW5jdGlvbihhKXtyZXR1cm4gYS5vZmZzZXRXaWR0aD4wfHxhLm9mZnNldEhlaWdodD4wfHxhLmdldENsaWVudFJlY3RzKCkubGVuZ3RoPjB9O3ZhciBBYj0vJTIwL2csQmI9L1xcW1xcXSQvLENiPS9cXHI/XFxuL2csRGI9L14oPzpzdWJtaXR8YnV0dG9ufGltYWdlfHJlc2V0fGZpbGUpJC9pLEViPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGtleWdlbikvaTtmdW5jdGlvbiBGYihhLGIsYyxkKXt2YXIgZTtpZihuLmlzQXJyYXkoYikpbi5lYWNoKGIsZnVuY3Rpb24oYixlKXtjfHxCYi50ZXN0KGEpP2QoYSxlKTpGYihhK1wiW1wiKyhcIm9iamVjdFwiPT10eXBlb2YgZSYmbnVsbCE9ZT9iOlwiXCIpK1wiXVwiLGUsYyxkKX0pO2Vsc2UgaWYoY3x8XCJvYmplY3RcIiE9PW4udHlwZShiKSlkKGEsYik7ZWxzZSBmb3IoZSBpbiBiKUZiKGErXCJbXCIrZStcIl1cIixiW2VdLGMsZCl9bi5wYXJhbT1mdW5jdGlvbihhLGIpe3ZhciBjLGQ9W10sZT1mdW5jdGlvbihhLGIpe2I9bi5pc0Z1bmN0aW9uKGIpP2IoKTpudWxsPT1iP1wiXCI6YixkW2QubGVuZ3RoXT1lbmNvZGVVUklDb21wb25lbnQoYSkrXCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KGIpfTtpZih2b2lkIDA9PT1iJiYoYj1uLmFqYXhTZXR0aW5ncyYmbi5hamF4U2V0dGluZ3MudHJhZGl0aW9uYWwpLG4uaXNBcnJheShhKXx8YS5qcXVlcnkmJiFuLmlzUGxhaW5PYmplY3QoYSkpbi5lYWNoKGEsZnVuY3Rpb24oKXtlKHRoaXMubmFtZSx0aGlzLnZhbHVlKX0pO2Vsc2UgZm9yKGMgaW4gYSlGYihjLGFbY10sYixlKTtyZXR1cm4gZC5qb2luKFwiJlwiKS5yZXBsYWNlKEFiLFwiK1wiKX0sbi5mbi5leHRlbmQoe3NlcmlhbGl6ZTpmdW5jdGlvbigpe3JldHVybiBuLnBhcmFtKHRoaXMuc2VyaWFsaXplQXJyYXkoKSl9LHNlcmlhbGl6ZUFycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7dmFyIGE9bi5wcm9wKHRoaXMsXCJlbGVtZW50c1wiKTtyZXR1cm4gYT9uLm1ha2VBcnJheShhKTp0aGlzfSkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy50eXBlO3JldHVybiB0aGlzLm5hbWUmJiFuKHRoaXMpLmlzKFwiOmRpc2FibGVkXCIpJiZFYi50ZXN0KHRoaXMubm9kZU5hbWUpJiYhRGIudGVzdChhKSYmKHRoaXMuY2hlY2tlZHx8IVgudGVzdChhKSl9KS5tYXAoZnVuY3Rpb24oYSxiKXt2YXIgYz1uKHRoaXMpLnZhbCgpO3JldHVybiBudWxsPT1jP251bGw6bi5pc0FycmF5KGMpP24ubWFwKGMsZnVuY3Rpb24oYSl7cmV0dXJue25hbWU6Yi5uYW1lLHZhbHVlOmEucmVwbGFjZShDYixcIlxcclxcblwiKX19KTp7bmFtZTpiLm5hbWUsdmFsdWU6Yy5yZXBsYWNlKENiLFwiXFxyXFxuXCIpfX0pLmdldCgpfX0pLG4uYWpheFNldHRpbmdzLnhocj1mdW5jdGlvbigpe3RyeXtyZXR1cm4gbmV3IGEuWE1MSHR0cFJlcXVlc3R9Y2F0Y2goYil7fX07dmFyIEdiPXswOjIwMCwxMjIzOjIwNH0sSGI9bi5hamF4U2V0dGluZ3MueGhyKCk7bC5jb3JzPSEhSGImJlwid2l0aENyZWRlbnRpYWxzXCJpbiBIYixsLmFqYXg9SGI9ISFIYixuLmFqYXhUcmFuc3BvcnQoZnVuY3Rpb24oYil7dmFyIGMsZDtyZXR1cm4gbC5jb3JzfHxIYiYmIWIuY3Jvc3NEb21haW4/e3NlbmQ6ZnVuY3Rpb24oZSxmKXt2YXIgZyxoPWIueGhyKCk7aWYoaC5vcGVuKGIudHlwZSxiLnVybCxiLmFzeW5jLGIudXNlcm5hbWUsYi5wYXNzd29yZCksYi54aHJGaWVsZHMpZm9yKGcgaW4gYi54aHJGaWVsZHMpaFtnXT1iLnhockZpZWxkc1tnXTtiLm1pbWVUeXBlJiZoLm92ZXJyaWRlTWltZVR5cGUmJmgub3ZlcnJpZGVNaW1lVHlwZShiLm1pbWVUeXBlKSxiLmNyb3NzRG9tYWlufHxlW1wiWC1SZXF1ZXN0ZWQtV2l0aFwiXXx8KGVbXCJYLVJlcXVlc3RlZC1XaXRoXCJdPVwiWE1MSHR0cFJlcXVlc3RcIik7Zm9yKGcgaW4gZSloLnNldFJlcXVlc3RIZWFkZXIoZyxlW2ddKTtjPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe2MmJihjPWQ9aC5vbmxvYWQ9aC5vbmVycm9yPWgub25hYm9ydD1oLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLFwiYWJvcnRcIj09PWE/aC5hYm9ydCgpOlwiZXJyb3JcIj09PWE/XCJudW1iZXJcIiE9dHlwZW9mIGguc3RhdHVzP2YoMCxcImVycm9yXCIpOmYoaC5zdGF0dXMsaC5zdGF0dXNUZXh0KTpmKEdiW2guc3RhdHVzXXx8aC5zdGF0dXMsaC5zdGF0dXNUZXh0LFwidGV4dFwiIT09KGgucmVzcG9uc2VUeXBlfHxcInRleHRcIil8fFwic3RyaW5nXCIhPXR5cGVvZiBoLnJlc3BvbnNlVGV4dD97YmluYXJ5OmgucmVzcG9uc2V9Ont0ZXh0OmgucmVzcG9uc2VUZXh0fSxoLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSl9fSxoLm9ubG9hZD1jKCksZD1oLm9uZXJyb3I9YyhcImVycm9yXCIpLHZvaWQgMCE9PWgub25hYm9ydD9oLm9uYWJvcnQ9ZDpoLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpezQ9PT1oLnJlYWR5U3RhdGUmJmEuc2V0VGltZW91dChmdW5jdGlvbigpe2MmJmQoKX0pfSxjPWMoXCJhYm9ydFwiKTt0cnl7aC5zZW5kKGIuaGFzQ29udGVudCYmYi5kYXRhfHxudWxsKX1jYXRjaChpKXtpZihjKXRocm93IGl9fSxhYm9ydDpmdW5jdGlvbigpe2MmJmMoKX19OnZvaWQgMH0pLG4uYWpheFNldHVwKHthY2NlcHRzOntzY3JpcHQ6XCJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2VjbWFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtZWNtYXNjcmlwdFwifSxjb250ZW50czp7c2NyaXB0Oi9cXGIoPzpqYXZhfGVjbWEpc2NyaXB0XFxiL30sY29udmVydGVyczp7XCJ0ZXh0IHNjcmlwdFwiOmZ1bmN0aW9uKGEpe3JldHVybiBuLmdsb2JhbEV2YWwoYSksYX19fSksbi5hamF4UHJlZmlsdGVyKFwic2NyaXB0XCIsZnVuY3Rpb24oYSl7dm9pZCAwPT09YS5jYWNoZSYmKGEuY2FjaGU9ITEpLGEuY3Jvc3NEb21haW4mJihhLnR5cGU9XCJHRVRcIil9KSxuLmFqYXhUcmFuc3BvcnQoXCJzY3JpcHRcIixmdW5jdGlvbihhKXtpZihhLmNyb3NzRG9tYWluKXt2YXIgYixjO3JldHVybntzZW5kOmZ1bmN0aW9uKGUsZil7Yj1uKFwiPHNjcmlwdD5cIikucHJvcCh7Y2hhcnNldDphLnNjcmlwdENoYXJzZXQsc3JjOmEudXJsfSkub24oXCJsb2FkIGVycm9yXCIsYz1mdW5jdGlvbihhKXtiLnJlbW92ZSgpLGM9bnVsbCxhJiZmKFwiZXJyb3JcIj09PWEudHlwZT80MDQ6MjAwLGEudHlwZSl9KSxkLmhlYWQuYXBwZW5kQ2hpbGQoYlswXSl9LGFib3J0OmZ1bmN0aW9uKCl7YyYmYygpfX19fSk7dmFyIEliPVtdLEpiPS8oPSlcXD8oPz0mfCQpfFxcP1xcPy87bi5hamF4U2V0dXAoe2pzb25wOlwiY2FsbGJhY2tcIixqc29ucENhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGE9SWIucG9wKCl8fG4uZXhwYW5kbytcIl9cIitqYisrO3JldHVybiB0aGlzW2FdPSEwLGF9fSksbi5hamF4UHJlZmlsdGVyKFwianNvbiBqc29ucFwiLGZ1bmN0aW9uKGIsYyxkKXt2YXIgZSxmLGcsaD1iLmpzb25wIT09ITEmJihKYi50ZXN0KGIudXJsKT9cInVybFwiOlwic3RyaW5nXCI9PXR5cGVvZiBiLmRhdGEmJjA9PT0oYi5jb250ZW50VHlwZXx8XCJcIikuaW5kZXhPZihcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiKSYmSmIudGVzdChiLmRhdGEpJiZcImRhdGFcIik7cmV0dXJuIGh8fFwianNvbnBcIj09PWIuZGF0YVR5cGVzWzBdPyhlPWIuanNvbnBDYWxsYmFjaz1uLmlzRnVuY3Rpb24oYi5qc29ucENhbGxiYWNrKT9iLmpzb25wQ2FsbGJhY2soKTpiLmpzb25wQ2FsbGJhY2ssaD9iW2hdPWJbaF0ucmVwbGFjZShKYixcIiQxXCIrZSk6Yi5qc29ucCE9PSExJiYoYi51cmwrPShrYi50ZXN0KGIudXJsKT9cIiZcIjpcIj9cIikrYi5qc29ucCtcIj1cIitlKSxiLmNvbnZlcnRlcnNbXCJzY3JpcHQganNvblwiXT1mdW5jdGlvbigpe3JldHVybiBnfHxuLmVycm9yKGUrXCIgd2FzIG5vdCBjYWxsZWRcIiksZ1swXX0sYi5kYXRhVHlwZXNbMF09XCJqc29uXCIsZj1hW2VdLGFbZV09ZnVuY3Rpb24oKXtnPWFyZ3VtZW50c30sZC5hbHdheXMoZnVuY3Rpb24oKXt2b2lkIDA9PT1mP24oYSkucmVtb3ZlUHJvcChlKTphW2VdPWYsYltlXSYmKGIuanNvbnBDYWxsYmFjaz1jLmpzb25wQ2FsbGJhY2ssSWIucHVzaChlKSksZyYmbi5pc0Z1bmN0aW9uKGYpJiZmKGdbMF0pLGc9Zj12b2lkIDB9KSxcInNjcmlwdFwiKTp2b2lkIDB9KSxsLmNyZWF0ZUhUTUxEb2N1bWVudD1mdW5jdGlvbigpe3ZhciBhPWQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KFwiXCIpLmJvZHk7cmV0dXJuIGEuaW5uZXJIVE1MPVwiPGZvcm0+PC9mb3JtPjxmb3JtPjwvZm9ybT5cIiwyPT09YS5jaGlsZE5vZGVzLmxlbmd0aH0oKSxuLnBhcnNlSFRNTD1mdW5jdGlvbihhLGIsYyl7aWYoIWF8fFwic3RyaW5nXCIhPXR5cGVvZiBhKXJldHVybiBudWxsO1wiYm9vbGVhblwiPT10eXBlb2YgYiYmKGM9YixiPSExKSxiPWJ8fChsLmNyZWF0ZUhUTUxEb2N1bWVudD9kLmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudChcIlwiKTpkKTt2YXIgZT14LmV4ZWMoYSksZj0hYyYmW107cmV0dXJuIGU/W2IuY3JlYXRlRWxlbWVudChlWzFdKV06KGU9Y2EoW2FdLGIsZiksZiYmZi5sZW5ndGgmJm4oZikucmVtb3ZlKCksbi5tZXJnZShbXSxlLmNoaWxkTm9kZXMpKX07dmFyIEtiPW4uZm4ubG9hZDtuLmZuLmxvYWQ9ZnVuY3Rpb24oYSxiLGMpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBhJiZLYilyZXR1cm4gS2IuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBkLGUsZixnPXRoaXMsaD1hLmluZGV4T2YoXCIgXCIpO3JldHVybiBoPi0xJiYoZD1uLnRyaW0oYS5zbGljZShoKSksYT1hLnNsaWNlKDAsaCkpLG4uaXNGdW5jdGlvbihiKT8oYz1iLGI9dm9pZCAwKTpiJiZcIm9iamVjdFwiPT10eXBlb2YgYiYmKGU9XCJQT1NUXCIpLGcubGVuZ3RoPjAmJm4uYWpheCh7dXJsOmEsdHlwZTplfHxcIkdFVFwiLGRhdGFUeXBlOlwiaHRtbFwiLGRhdGE6Yn0pLmRvbmUoZnVuY3Rpb24oYSl7Zj1hcmd1bWVudHMsZy5odG1sKGQ/bihcIjxkaXY+XCIpLmFwcGVuZChuLnBhcnNlSFRNTChhKSkuZmluZChkKTphKX0pLmFsd2F5cyhjJiZmdW5jdGlvbihhLGIpe2cuZWFjaChmdW5jdGlvbigpe2MuYXBwbHkoZyxmfHxbYS5yZXNwb25zZVRleHQsYixhXSl9KX0pLHRoaXN9LG4uZWFjaChbXCJhamF4U3RhcnRcIixcImFqYXhTdG9wXCIsXCJhamF4Q29tcGxldGVcIixcImFqYXhFcnJvclwiLFwiYWpheFN1Y2Nlc3NcIixcImFqYXhTZW5kXCJdLGZ1bmN0aW9uKGEsYil7bi5mbltiXT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5vbihiLGEpfX0pLG4uZXhwci5maWx0ZXJzLmFuaW1hdGVkPWZ1bmN0aW9uKGEpe3JldHVybiBuLmdyZXAobi50aW1lcnMsZnVuY3Rpb24oYil7cmV0dXJuIGE9PT1iLmVsZW19KS5sZW5ndGh9O2Z1bmN0aW9uIExiKGEpe3JldHVybiBuLmlzV2luZG93KGEpP2E6OT09PWEubm9kZVR5cGUmJmEuZGVmYXVsdFZpZXd9bi5vZmZzZXQ9e3NldE9mZnNldDpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmLGcsaCxpLGosaz1uLmNzcyhhLFwicG9zaXRpb25cIiksbD1uKGEpLG09e307XCJzdGF0aWNcIj09PWsmJihhLnN0eWxlLnBvc2l0aW9uPVwicmVsYXRpdmVcIiksaD1sLm9mZnNldCgpLGY9bi5jc3MoYSxcInRvcFwiKSxpPW4uY3NzKGEsXCJsZWZ0XCIpLGo9KFwiYWJzb2x1dGVcIj09PWt8fFwiZml4ZWRcIj09PWspJiYoZitpKS5pbmRleE9mKFwiYXV0b1wiKT4tMSxqPyhkPWwucG9zaXRpb24oKSxnPWQudG9wLGU9ZC5sZWZ0KTooZz1wYXJzZUZsb2F0KGYpfHwwLGU9cGFyc2VGbG9hdChpKXx8MCksbi5pc0Z1bmN0aW9uKGIpJiYoYj1iLmNhbGwoYSxjLG4uZXh0ZW5kKHt9LGgpKSksbnVsbCE9Yi50b3AmJihtLnRvcD1iLnRvcC1oLnRvcCtnKSxudWxsIT1iLmxlZnQmJihtLmxlZnQ9Yi5sZWZ0LWgubGVmdCtlKSxcInVzaW5nXCJpbiBiP2IudXNpbmcuY2FsbChhLG0pOmwuY3NzKG0pfX0sbi5mbi5leHRlbmQoe29mZnNldDpmdW5jdGlvbihhKXtpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiB2b2lkIDA9PT1hP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKGIpe24ub2Zmc2V0LnNldE9mZnNldCh0aGlzLGEsYil9KTt2YXIgYixjLGQ9dGhpc1swXSxlPXt0b3A6MCxsZWZ0OjB9LGY9ZCYmZC5vd25lckRvY3VtZW50O2lmKGYpcmV0dXJuIGI9Zi5kb2N1bWVudEVsZW1lbnQsbi5jb250YWlucyhiLGQpPyhlPWQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksYz1MYihmKSx7dG9wOmUudG9wK2MucGFnZVlPZmZzZXQtYi5jbGllbnRUb3AsbGVmdDplLmxlZnQrYy5wYWdlWE9mZnNldC1iLmNsaWVudExlZnR9KTplfSxwb3NpdGlvbjpmdW5jdGlvbigpe2lmKHRoaXNbMF0pe3ZhciBhLGIsYz10aGlzWzBdLGQ9e3RvcDowLGxlZnQ6MH07cmV0dXJuXCJmaXhlZFwiPT09bi5jc3MoYyxcInBvc2l0aW9uXCIpP2I9Yy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTooYT10aGlzLm9mZnNldFBhcmVudCgpLGI9dGhpcy5vZmZzZXQoKSxuLm5vZGVOYW1lKGFbMF0sXCJodG1sXCIpfHwoZD1hLm9mZnNldCgpKSxkLnRvcCs9bi5jc3MoYVswXSxcImJvcmRlclRvcFdpZHRoXCIsITApLWEuc2Nyb2xsVG9wKCksZC5sZWZ0Kz1uLmNzcyhhWzBdLFwiYm9yZGVyTGVmdFdpZHRoXCIsITApLWEuc2Nyb2xsTGVmdCgpKSx7dG9wOmIudG9wLWQudG9wLW4uY3NzKGMsXCJtYXJnaW5Ub3BcIiwhMCksbGVmdDpiLmxlZnQtZC5sZWZ0LW4uY3NzKGMsXCJtYXJnaW5MZWZ0XCIsITApfX19LG9mZnNldFBhcmVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3ZhciBhPXRoaXMub2Zmc2V0UGFyZW50O3doaWxlKGEmJlwic3RhdGljXCI9PT1uLmNzcyhhLFwicG9zaXRpb25cIikpYT1hLm9mZnNldFBhcmVudDtyZXR1cm4gYXx8RWF9KX19KSxuLmVhY2goe3Njcm9sbExlZnQ6XCJwYWdlWE9mZnNldFwiLHNjcm9sbFRvcDpcInBhZ2VZT2Zmc2V0XCJ9LGZ1bmN0aW9uKGEsYil7dmFyIGM9XCJwYWdlWU9mZnNldFwiPT09YjtuLmZuW2FdPWZ1bmN0aW9uKGQpe3JldHVybiBLKHRoaXMsZnVuY3Rpb24oYSxkLGUpe3ZhciBmPUxiKGEpO3JldHVybiB2b2lkIDA9PT1lP2Y/ZltiXTphW2RdOnZvaWQoZj9mLnNjcm9sbFRvKGM/Zi5wYWdlWE9mZnNldDplLGM/ZTpmLnBhZ2VZT2Zmc2V0KTphW2RdPWUpfSxhLGQsYXJndW1lbnRzLmxlbmd0aCl9fSksbi5lYWNoKFtcInRvcFwiLFwibGVmdFwiXSxmdW5jdGlvbihhLGIpe24uY3NzSG9va3NbYl09R2EobC5waXhlbFBvc2l0aW9uLGZ1bmN0aW9uKGEsYyl7cmV0dXJuIGM/KGM9RmEoYSxiKSxCYS50ZXN0KGMpP24oYSkucG9zaXRpb24oKVtiXStcInB4XCI6Yyk6dm9pZCAwfSl9KSxuLmVhY2goe0hlaWdodDpcImhlaWdodFwiLFdpZHRoOlwid2lkdGhcIn0sZnVuY3Rpb24oYSxiKXtuLmVhY2goe3BhZGRpbmc6XCJpbm5lclwiK2EsY29udGVudDpiLFwiXCI6XCJvdXRlclwiK2F9LGZ1bmN0aW9uKGMsZCl7bi5mbltkXT1mdW5jdGlvbihkLGUpe3ZhciBmPWFyZ3VtZW50cy5sZW5ndGgmJihjfHxcImJvb2xlYW5cIiE9dHlwZW9mIGQpLGc9Y3x8KGQ9PT0hMHx8ZT09PSEwP1wibWFyZ2luXCI6XCJib3JkZXJcIik7cmV0dXJuIEsodGhpcyxmdW5jdGlvbihiLGMsZCl7dmFyIGU7cmV0dXJuIG4uaXNXaW5kb3coYik/Yi5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbXCJjbGllbnRcIithXTo5PT09Yi5ub2RlVHlwZT8oZT1iLmRvY3VtZW50RWxlbWVudCxNYXRoLm1heChiLmJvZHlbXCJzY3JvbGxcIithXSxlW1wic2Nyb2xsXCIrYV0sYi5ib2R5W1wib2Zmc2V0XCIrYV0sZVtcIm9mZnNldFwiK2FdLGVbXCJjbGllbnRcIithXSkpOnZvaWQgMD09PWQ/bi5jc3MoYixjLGcpOm4uc3R5bGUoYixjLGQsZyl9LGIsZj9kOnZvaWQgMCxmLG51bGwpfX0pfSksbi5mbi5leHRlbmQoe2JpbmQ6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLm9uKGEsbnVsbCxiLGMpfSx1bmJpbmQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5vZmYoYSxudWxsLGIpfSxkZWxlZ2F0ZTpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5vbihiLGEsYyxkKX0sdW5kZWxlZ2F0ZTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMub2ZmKGEsXCIqKlwiKTp0aGlzLm9mZihiLGF8fFwiKipcIixjKX0sc2l6ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aH19KSxuLmZuLmFuZFNlbGY9bi5mbi5hZGRCYWNrLFwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZCYmZGVmaW5lKFwianF1ZXJ5XCIsW10sZnVuY3Rpb24oKXtyZXR1cm4gbn0pO3ZhciBNYj1hLmpRdWVyeSxOYj1hLiQ7cmV0dXJuIG4ubm9Db25mbGljdD1mdW5jdGlvbihiKXtyZXR1cm4gYS4kPT09biYmKGEuJD1OYiksYiYmYS5qUXVlcnk9PT1uJiYoYS5qUXVlcnk9TWIpLG59LGJ8fChhLmpRdWVyeT1hLiQ9biksbn0pO1xuIiwiLyohXHJcbiBEYXRhVGFibGVzIDEuMTAuMTBcclxuIMKpMjAwOC0yMDE1IFNwcnlNZWRpYSBMdGQgLSBkYXRhdGFibGVzLm5ldC9saWNlbnNlXHJcbiovXHJcbihmdW5jdGlvbihoKXtcImZ1bmN0aW9uXCI9PT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXCJqcXVlcnlcIl0sZnVuY3Rpb24oRSl7cmV0dXJuIGgoRSx3aW5kb3csZG9jdW1lbnQpfSk6XCJvYmplY3RcIj09PXR5cGVvZiBleHBvcnRzP21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKEUsSCl7RXx8KEU9d2luZG93KTtIfHwoSD1cInVuZGVmaW5lZFwiIT09dHlwZW9mIHdpbmRvdz9yZXF1aXJlKFwianF1ZXJ5XCIpOnJlcXVpcmUoXCJqcXVlcnlcIikoRSkpO3JldHVybiBoKEgsRSxFLmRvY3VtZW50KX06aChqUXVlcnksd2luZG93LGRvY3VtZW50KX0pKGZ1bmN0aW9uKGgsRSxILGspe2Z1bmN0aW9uIFkoYSl7dmFyIGIsYyxkPXt9O2guZWFjaChhLGZ1bmN0aW9uKGUpe2lmKChiPWUubWF0Y2goL14oW15BLVpdKz8pKFtBLVpdKS8pKSYmLTEhPT1cImEgYWEgYWkgYW8gYXMgYiBmbiBpIG0gbyBzIFwiLmluZGV4T2YoYlsxXStcIiBcIikpYz1lLnJlcGxhY2UoYlswXSxiWzJdLnRvTG93ZXJDYXNlKCkpLFxyXG5kW2NdPWUsXCJvXCI9PT1iWzFdJiZZKGFbZV0pfSk7YS5faHVuZ2FyaWFuTWFwPWR9ZnVuY3Rpb24gSihhLGIsYyl7YS5faHVuZ2FyaWFuTWFwfHxZKGEpO3ZhciBkO2guZWFjaChiLGZ1bmN0aW9uKGUpe2Q9YS5faHVuZ2FyaWFuTWFwW2VdO2lmKGQhPT1rJiYoY3x8YltkXT09PWspKVwib1wiPT09ZC5jaGFyQXQoMCk/KGJbZF18fChiW2RdPXt9KSxoLmV4dGVuZCghMCxiW2RdLGJbZV0pLEooYVtkXSxiW2RdLGMpKTpiW2RdPWJbZV19KX1mdW5jdGlvbiBGYShhKXt2YXIgYj1tLmRlZmF1bHRzLm9MYW5ndWFnZSxjPWEuc1plcm9SZWNvcmRzOyFhLnNFbXB0eVRhYmxlJiYoYyYmXCJObyBkYXRhIGF2YWlsYWJsZSBpbiB0YWJsZVwiPT09Yi5zRW1wdHlUYWJsZSkmJkYoYSxhLFwic1plcm9SZWNvcmRzXCIsXCJzRW1wdHlUYWJsZVwiKTshYS5zTG9hZGluZ1JlY29yZHMmJihjJiZcIkxvYWRpbmcuLi5cIj09PWIuc0xvYWRpbmdSZWNvcmRzKSYmRihhLGEsXCJzWmVyb1JlY29yZHNcIixcInNMb2FkaW5nUmVjb3Jkc1wiKTtcclxuYS5zSW5mb1Rob3VzYW5kcyYmKGEuc1Rob3VzYW5kcz1hLnNJbmZvVGhvdXNhbmRzKTsoYT1hLnNEZWNpbWFsKSYmZGIoYSl9ZnVuY3Rpb24gZWIoYSl7QShhLFwib3JkZXJpbmdcIixcImJTb3J0XCIpO0EoYSxcIm9yZGVyTXVsdGlcIixcImJTb3J0TXVsdGlcIik7QShhLFwib3JkZXJDbGFzc2VzXCIsXCJiU29ydENsYXNzZXNcIik7QShhLFwib3JkZXJDZWxsc1RvcFwiLFwiYlNvcnRDZWxsc1RvcFwiKTtBKGEsXCJvcmRlclwiLFwiYWFTb3J0aW5nXCIpO0EoYSxcIm9yZGVyRml4ZWRcIixcImFhU29ydGluZ0ZpeGVkXCIpO0EoYSxcInBhZ2luZ1wiLFwiYlBhZ2luYXRlXCIpO0EoYSxcInBhZ2luZ1R5cGVcIixcInNQYWdpbmF0aW9uVHlwZVwiKTtBKGEsXCJwYWdlTGVuZ3RoXCIsXCJpRGlzcGxheUxlbmd0aFwiKTtBKGEsXCJzZWFyY2hpbmdcIixcImJGaWx0ZXJcIik7XCJib29sZWFuXCI9PT10eXBlb2YgYS5zU2Nyb2xsWCYmKGEuc1Njcm9sbFg9YS5zU2Nyb2xsWD9cIjEwMCVcIjpcIlwiKTtcImJvb2xlYW5cIj09PXR5cGVvZiBhLnNjcm9sbFgmJihhLnNjcm9sbFg9XHJcbmEuc2Nyb2xsWD9cIjEwMCVcIjpcIlwiKTtpZihhPWEuYW9TZWFyY2hDb2xzKWZvcih2YXIgYj0wLGM9YS5sZW5ndGg7YjxjO2IrKylhW2JdJiZKKG0ubW9kZWxzLm9TZWFyY2gsYVtiXSl9ZnVuY3Rpb24gZmIoYSl7QShhLFwib3JkZXJhYmxlXCIsXCJiU29ydGFibGVcIik7QShhLFwib3JkZXJEYXRhXCIsXCJhRGF0YVNvcnRcIik7QShhLFwib3JkZXJTZXF1ZW5jZVwiLFwiYXNTb3J0aW5nXCIpO0EoYSxcIm9yZGVyRGF0YVR5cGVcIixcInNvcnREYXRhVHlwZVwiKTt2YXIgYj1hLmFEYXRhU29ydDtiJiYhaC5pc0FycmF5KGIpJiYoYS5hRGF0YVNvcnQ9W2JdKX1mdW5jdGlvbiBnYihhKXtpZighbS5fX2Jyb3dzZXIpe3ZhciBiPXt9O20uX19icm93c2VyPWI7dmFyIGM9aChcIjxkaXYvPlwiKS5jc3Moe3Bvc2l0aW9uOlwiZml4ZWRcIix0b3A6MCxsZWZ0OjAsaGVpZ2h0OjEsd2lkdGg6MSxvdmVyZmxvdzpcImhpZGRlblwifSkuYXBwZW5kKGgoXCI8ZGl2Lz5cIikuY3NzKHtwb3NpdGlvbjpcImFic29sdXRlXCIsdG9wOjEsbGVmdDoxLFxyXG53aWR0aDoxMDAsb3ZlcmZsb3c6XCJzY3JvbGxcIn0pLmFwcGVuZChoKFwiPGRpdi8+XCIpLmNzcyh7d2lkdGg6XCIxMDAlXCIsaGVpZ2h0OjEwfSkpKS5hcHBlbmRUbyhcImJvZHlcIiksZD1jLmNoaWxkcmVuKCksZT1kLmNoaWxkcmVuKCk7Yi5iYXJXaWR0aD1kWzBdLm9mZnNldFdpZHRoLWRbMF0uY2xpZW50V2lkdGg7Yi5iU2Nyb2xsT3ZlcnNpemU9MTAwPT09ZVswXS5vZmZzZXRXaWR0aCYmMTAwIT09ZFswXS5jbGllbnRXaWR0aDtiLmJTY3JvbGxiYXJMZWZ0PTEhPT1NYXRoLnJvdW5kKGUub2Zmc2V0KCkubGVmdCk7Yi5iQm91bmRpbmc9Y1swXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aD8hMDohMTtjLnJlbW92ZSgpfWguZXh0ZW5kKGEub0Jyb3dzZXIsbS5fX2Jyb3dzZXIpO2Eub1Njcm9sbC5pQmFyV2lkdGg9bS5fX2Jyb3dzZXIuYmFyV2lkdGh9ZnVuY3Rpb24gaGIoYSxiLGMsZCxlLGYpe3ZhciBnLGo9ITE7YyE9PWsmJihnPWMsaj0hMCk7Zm9yKDtkIT09ZTspYS5oYXNPd25Qcm9wZXJ0eShkKSYmXHJcbihnPWo/YihnLGFbZF0sZCxhKTphW2RdLGo9ITAsZCs9Zik7cmV0dXJuIGd9ZnVuY3Rpb24gR2EoYSxiKXt2YXIgYz1tLmRlZmF1bHRzLmNvbHVtbixkPWEuYW9Db2x1bW5zLmxlbmd0aCxjPWguZXh0ZW5kKHt9LG0ubW9kZWxzLm9Db2x1bW4sYyx7blRoOmI/YjpILmNyZWF0ZUVsZW1lbnQoXCJ0aFwiKSxzVGl0bGU6Yy5zVGl0bGU/Yy5zVGl0bGU6Yj9iLmlubmVySFRNTDpcIlwiLGFEYXRhU29ydDpjLmFEYXRhU29ydD9jLmFEYXRhU29ydDpbZF0sbURhdGE6Yy5tRGF0YT9jLm1EYXRhOmQsaWR4OmR9KTthLmFvQ29sdW1ucy5wdXNoKGMpO2M9YS5hb1ByZVNlYXJjaENvbHM7Y1tkXT1oLmV4dGVuZCh7fSxtLm1vZGVscy5vU2VhcmNoLGNbZF0pO2xhKGEsZCxoKGIpLmRhdGEoKSl9ZnVuY3Rpb24gbGEoYSxiLGMpe3ZhciBiPWEuYW9Db2x1bW5zW2JdLGQ9YS5vQ2xhc3NlcyxlPWgoYi5uVGgpO2lmKCFiLnNXaWR0aE9yaWcpe2Iuc1dpZHRoT3JpZz1lLmF0dHIoXCJ3aWR0aFwiKXx8bnVsbDt2YXIgZj1cclxuKGUuYXR0cihcInN0eWxlXCIpfHxcIlwiKS5tYXRjaCgvd2lkdGg6XFxzKihcXGQrW3B4ZW0lXSspLyk7ZiYmKGIuc1dpZHRoT3JpZz1mWzFdKX1jIT09ayYmbnVsbCE9PWMmJihmYihjKSxKKG0uZGVmYXVsdHMuY29sdW1uLGMpLGMubURhdGFQcm9wIT09ayYmIWMubURhdGEmJihjLm1EYXRhPWMubURhdGFQcm9wKSxjLnNUeXBlJiYoYi5fc01hbnVhbFR5cGU9Yy5zVHlwZSksYy5jbGFzc05hbWUmJiFjLnNDbGFzcyYmKGMuc0NsYXNzPWMuY2xhc3NOYW1lKSxoLmV4dGVuZChiLGMpLEYoYixjLFwic1dpZHRoXCIsXCJzV2lkdGhPcmlnXCIpLGMuaURhdGFTb3J0IT09ayYmKGIuYURhdGFTb3J0PVtjLmlEYXRhU29ydF0pLEYoYixjLFwiYURhdGFTb3J0XCIpKTt2YXIgZz1iLm1EYXRhLGo9UShnKSxpPWIubVJlbmRlcj9RKGIubVJlbmRlcik6bnVsbCxjPWZ1bmN0aW9uKGEpe3JldHVyblwic3RyaW5nXCI9PT10eXBlb2YgYSYmLTEhPT1hLmluZGV4T2YoXCJAXCIpfTtiLl9iQXR0clNyYz1oLmlzUGxhaW5PYmplY3QoZykmJlxyXG4oYyhnLnNvcnQpfHxjKGcudHlwZSl8fGMoZy5maWx0ZXIpKTtiLmZuR2V0RGF0YT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9aihhLGIsayxjKTtyZXR1cm4gaSYmYj9pKGQsYixhLGMpOmR9O2IuZm5TZXREYXRhPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gUihnKShhLGIsYyl9O1wibnVtYmVyXCIhPT10eXBlb2YgZyYmKGEuX3Jvd1JlYWRPYmplY3Q9ITApO2Eub0ZlYXR1cmVzLmJTb3J0fHwoYi5iU29ydGFibGU9ITEsZS5hZGRDbGFzcyhkLnNTb3J0YWJsZU5vbmUpKTthPS0xIT09aC5pbkFycmF5KFwiYXNjXCIsYi5hc1NvcnRpbmcpO2M9LTEhPT1oLmluQXJyYXkoXCJkZXNjXCIsYi5hc1NvcnRpbmcpOyFiLmJTb3J0YWJsZXx8IWEmJiFjPyhiLnNTb3J0aW5nQ2xhc3M9ZC5zU29ydGFibGVOb25lLGIuc1NvcnRpbmdDbGFzc0pVST1cIlwiKTphJiYhYz8oYi5zU29ydGluZ0NsYXNzPWQuc1NvcnRhYmxlQXNjLGIuc1NvcnRpbmdDbGFzc0pVST1kLnNTb3J0SlVJQXNjQWxsb3dlZCk6IWEmJmM/KGIuc1NvcnRpbmdDbGFzcz1cclxuZC5zU29ydGFibGVEZXNjLGIuc1NvcnRpbmdDbGFzc0pVST1kLnNTb3J0SlVJRGVzY0FsbG93ZWQpOihiLnNTb3J0aW5nQ2xhc3M9ZC5zU29ydGFibGUsYi5zU29ydGluZ0NsYXNzSlVJPWQuc1NvcnRKVUkpfWZ1bmN0aW9uIFUoYSl7aWYoITEhPT1hLm9GZWF0dXJlcy5iQXV0b1dpZHRoKXt2YXIgYj1hLmFvQ29sdW1ucztIYShhKTtmb3IodmFyIGM9MCxkPWIubGVuZ3RoO2M8ZDtjKyspYltjXS5uVGguc3R5bGUud2lkdGg9YltjXS5zV2lkdGh9Yj1hLm9TY3JvbGw7KFwiXCIhPT1iLnNZfHxcIlwiIT09Yi5zWCkmJlooYSk7dihhLG51bGwsXCJjb2x1bW4tc2l6aW5nXCIsW2FdKX1mdW5jdGlvbiAkKGEsYil7dmFyIGM9YWEoYSxcImJWaXNpYmxlXCIpO3JldHVyblwibnVtYmVyXCI9PT10eXBlb2YgY1tiXT9jW2JdOm51bGx9ZnVuY3Rpb24gYmEoYSxiKXt2YXIgYz1hYShhLFwiYlZpc2libGVcIiksYz1oLmluQXJyYXkoYixjKTtyZXR1cm4tMSE9PWM/YzpudWxsfWZ1bmN0aW9uIGNhKGEpe3JldHVybiBhYShhLFxyXG5cImJWaXNpYmxlXCIpLmxlbmd0aH1mdW5jdGlvbiBhYShhLGIpe3ZhciBjPVtdO2gubWFwKGEuYW9Db2x1bW5zLGZ1bmN0aW9uKGEsZSl7YVtiXSYmYy5wdXNoKGUpfSk7cmV0dXJuIGN9ZnVuY3Rpb24gSWEoYSl7dmFyIGI9YS5hb0NvbHVtbnMsYz1hLmFvRGF0YSxkPW0uZXh0LnR5cGUuZGV0ZWN0LGUsZixnLGosaSxoLGwscSx1O2U9MDtmb3IoZj1iLmxlbmd0aDtlPGY7ZSsrKWlmKGw9YltlXSx1PVtdLCFsLnNUeXBlJiZsLl9zTWFudWFsVHlwZSlsLnNUeXBlPWwuX3NNYW51YWxUeXBlO2Vsc2UgaWYoIWwuc1R5cGUpe2c9MDtmb3Ioaj1kLmxlbmd0aDtnPGo7ZysrKXtpPTA7Zm9yKGg9Yy5sZW5ndGg7aTxoO2krKyl7dVtpXT09PWsmJih1W2ldPUIoYSxpLGUsXCJ0eXBlXCIpKTtxPWRbZ10odVtpXSxhKTtpZighcSYmZyE9PWQubGVuZ3RoLTEpYnJlYWs7aWYoXCJodG1sXCI9PT1xKWJyZWFrfWlmKHEpe2wuc1R5cGU9cTticmVha319bC5zVHlwZXx8KGwuc1R5cGU9XCJzdHJpbmdcIil9fWZ1bmN0aW9uIGliKGEsXHJcbmIsYyxkKXt2YXIgZSxmLGcsaixpLG8sbD1hLmFvQ29sdW1ucztpZihiKWZvcihlPWIubGVuZ3RoLTE7MDw9ZTtlLS0pe289YltlXTt2YXIgcT1vLnRhcmdldHMhPT1rP28udGFyZ2V0czpvLmFUYXJnZXRzO2guaXNBcnJheShxKXx8KHE9W3FdKTtmPTA7Zm9yKGc9cS5sZW5ndGg7ZjxnO2YrKylpZihcIm51bWJlclwiPT09dHlwZW9mIHFbZl0mJjA8PXFbZl0pe2Zvcig7bC5sZW5ndGg8PXFbZl07KUdhKGEpO2QocVtmXSxvKX1lbHNlIGlmKFwibnVtYmVyXCI9PT10eXBlb2YgcVtmXSYmMD5xW2ZdKWQobC5sZW5ndGgrcVtmXSxvKTtlbHNlIGlmKFwic3RyaW5nXCI9PT10eXBlb2YgcVtmXSl7aj0wO2ZvcihpPWwubGVuZ3RoO2o8aTtqKyspKFwiX2FsbFwiPT1xW2ZdfHxoKGxbal0ublRoKS5oYXNDbGFzcyhxW2ZdKSkmJmQoaixvKX19aWYoYyl7ZT0wO2ZvcihhPWMubGVuZ3RoO2U8YTtlKyspZChlLGNbZV0pfX1mdW5jdGlvbiBOKGEsYixjLGQpe3ZhciBlPWEuYW9EYXRhLmxlbmd0aCxmPWguZXh0ZW5kKCEwLFxyXG57fSxtLm1vZGVscy5vUm93LHtzcmM6Yz9cImRvbVwiOlwiZGF0YVwiLGlkeDplfSk7Zi5fYURhdGE9YjthLmFvRGF0YS5wdXNoKGYpO2Zvcih2YXIgZz1hLmFvQ29sdW1ucyxqPTAsaT1nLmxlbmd0aDtqPGk7aisrKWdbal0uc1R5cGU9bnVsbDthLmFpRGlzcGxheU1hc3Rlci5wdXNoKGUpO2I9YS5yb3dJZEZuKGIpO2IhPT1rJiYoYS5hSWRzW2JdPWYpOyhjfHwhYS5vRmVhdHVyZXMuYkRlZmVyUmVuZGVyKSYmSmEoYSxlLGMsZCk7cmV0dXJuIGV9ZnVuY3Rpb24gbWEoYSxiKXt2YXIgYztiIGluc3RhbmNlb2YgaHx8KGI9aChiKSk7cmV0dXJuIGIubWFwKGZ1bmN0aW9uKGIsZSl7Yz1LYShhLGUpO3JldHVybiBOKGEsYy5kYXRhLGUsYy5jZWxscyl9KX1mdW5jdGlvbiBCKGEsYixjLGQpe3ZhciBlPWEuaURyYXcsZj1hLmFvQ29sdW1uc1tjXSxnPWEuYW9EYXRhW2JdLl9hRGF0YSxqPWYuc0RlZmF1bHRDb250ZW50LGk9Zi5mbkdldERhdGEoZyxkLHtzZXR0aW5nczphLHJvdzpiLGNvbDpjfSk7XHJcbmlmKGk9PT1rKXJldHVybiBhLmlEcmF3RXJyb3IhPWUmJm51bGw9PT1qJiYoSyhhLDAsXCJSZXF1ZXN0ZWQgdW5rbm93biBwYXJhbWV0ZXIgXCIrKFwiZnVuY3Rpb25cIj09dHlwZW9mIGYubURhdGE/XCJ7ZnVuY3Rpb259XCI6XCInXCIrZi5tRGF0YStcIidcIikrXCIgZm9yIHJvdyBcIitiK1wiLCBjb2x1bW4gXCIrYyw0KSxhLmlEcmF3RXJyb3I9ZSksajtpZigoaT09PWd8fG51bGw9PT1pKSYmbnVsbCE9PWopaT1qO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGkpcmV0dXJuIGkuY2FsbChnKTtyZXR1cm4gbnVsbD09PWkmJlwiZGlzcGxheVwiPT1kP1wiXCI6aX1mdW5jdGlvbiBqYihhLGIsYyxkKXthLmFvQ29sdW1uc1tjXS5mblNldERhdGEoYS5hb0RhdGFbYl0uX2FEYXRhLGQse3NldHRpbmdzOmEscm93OmIsY29sOmN9KX1mdW5jdGlvbiBMYShhKXtyZXR1cm4gaC5tYXAoYS5tYXRjaCgvKFxcXFwufFteXFwuXSkrL2cpfHxbXCJcIl0sZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvXFxcXC4vZyxcIi5cIil9KX1mdW5jdGlvbiBRKGEpe2lmKGguaXNQbGFpbk9iamVjdChhKSl7dmFyIGI9XHJcbnt9O2guZWFjaChhLGZ1bmN0aW9uKGEsYyl7YyYmKGJbYV09UShjKSl9KTtyZXR1cm4gZnVuY3Rpb24oYSxjLGYsZyl7dmFyIGo9YltjXXx8Yi5fO3JldHVybiBqIT09az9qKGEsYyxmLGcpOmF9fWlmKG51bGw9PT1hKXJldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gYX07aWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGEpcmV0dXJuIGZ1bmN0aW9uKGIsYyxmLGcpe3JldHVybiBhKGIsYyxmLGcpfTtpZihcInN0cmluZ1wiPT09dHlwZW9mIGEmJigtMSE9PWEuaW5kZXhPZihcIi5cIil8fC0xIT09YS5pbmRleE9mKFwiW1wiKXx8LTEhPT1hLmluZGV4T2YoXCIoXCIpKSl7dmFyIGM9ZnVuY3Rpb24oYSxiLGYpe3ZhciBnLGo7aWYoXCJcIiE9PWYpe2o9TGEoZik7Zm9yKHZhciBpPTAsbz1qLmxlbmd0aDtpPG87aSsrKXtmPWpbaV0ubWF0Y2goZGEpO2c9altpXS5tYXRjaChWKTtpZihmKXtqW2ldPWpbaV0ucmVwbGFjZShkYSxcIlwiKTtcIlwiIT09altpXSYmKGE9YVtqW2ldXSk7Zz1bXTtqLnNwbGljZSgwLGkrMSk7aj1cclxuai5qb2luKFwiLlwiKTtpZihoLmlzQXJyYXkoYSkpe2k9MDtmb3Iobz1hLmxlbmd0aDtpPG87aSsrKWcucHVzaChjKGFbaV0sYixqKSl9YT1mWzBdLnN1YnN0cmluZygxLGZbMF0ubGVuZ3RoLTEpO2E9XCJcIj09PWE/ZzpnLmpvaW4oYSk7YnJlYWt9ZWxzZSBpZihnKXtqW2ldPWpbaV0ucmVwbGFjZShWLFwiXCIpO2E9YVtqW2ldXSgpO2NvbnRpbnVlfWlmKG51bGw9PT1hfHxhW2pbaV1dPT09aylyZXR1cm4gazthPWFbaltpXV19fXJldHVybiBhfTtyZXR1cm4gZnVuY3Rpb24oYixlKXtyZXR1cm4gYyhiLGUsYSl9fXJldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gYlthXX19ZnVuY3Rpb24gUihhKXtpZihoLmlzUGxhaW5PYmplY3QoYSkpcmV0dXJuIFIoYS5fKTtpZihudWxsPT09YSlyZXR1cm4gZnVuY3Rpb24oKXt9O2lmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBhKXJldHVybiBmdW5jdGlvbihiLGQsZSl7YShiLFwic2V0XCIsZCxlKX07aWYoXCJzdHJpbmdcIj09PXR5cGVvZiBhJiYoLTEhPT1hLmluZGV4T2YoXCIuXCIpfHxcclxuLTEhPT1hLmluZGV4T2YoXCJbXCIpfHwtMSE9PWEuaW5kZXhPZihcIihcIikpKXt2YXIgYj1mdW5jdGlvbihhLGQsZSl7dmFyIGU9TGEoZSksZjtmPWVbZS5sZW5ndGgtMV07Zm9yKHZhciBnLGosaT0wLG89ZS5sZW5ndGgtMTtpPG87aSsrKXtnPWVbaV0ubWF0Y2goZGEpO2o9ZVtpXS5tYXRjaChWKTtpZihnKXtlW2ldPWVbaV0ucmVwbGFjZShkYSxcIlwiKTthW2VbaV1dPVtdO2Y9ZS5zbGljZSgpO2Yuc3BsaWNlKDAsaSsxKTtnPWYuam9pbihcIi5cIik7aWYoaC5pc0FycmF5KGQpKXtqPTA7Zm9yKG89ZC5sZW5ndGg7ajxvO2orKylmPXt9LGIoZixkW2pdLGcpLGFbZVtpXV0ucHVzaChmKX1lbHNlIGFbZVtpXV09ZDtyZXR1cm59aiYmKGVbaV09ZVtpXS5yZXBsYWNlKFYsXCJcIiksYT1hW2VbaV1dKGQpKTtpZihudWxsPT09YVtlW2ldXXx8YVtlW2ldXT09PWspYVtlW2ldXT17fTthPWFbZVtpXV19aWYoZi5tYXRjaChWKSlhW2YucmVwbGFjZShWLFwiXCIpXShkKTtlbHNlIGFbZi5yZXBsYWNlKGRhLFwiXCIpXT1cclxuZH07cmV0dXJuIGZ1bmN0aW9uKGMsZCl7cmV0dXJuIGIoYyxkLGEpfX1yZXR1cm4gZnVuY3Rpb24oYixkKXtiW2FdPWR9fWZ1bmN0aW9uIE1hKGEpe3JldHVybiBEKGEuYW9EYXRhLFwiX2FEYXRhXCIpfWZ1bmN0aW9uIG5hKGEpe2EuYW9EYXRhLmxlbmd0aD0wO2EuYWlEaXNwbGF5TWFzdGVyLmxlbmd0aD0wO2EuYWlEaXNwbGF5Lmxlbmd0aD0wO2EuYUlkcz17fX1mdW5jdGlvbiBvYShhLGIsYyl7Zm9yKHZhciBkPS0xLGU9MCxmPWEubGVuZ3RoO2U8ZjtlKyspYVtlXT09Yj9kPWU6YVtlXT5iJiZhW2VdLS07IC0xIT1kJiZjPT09ayYmYS5zcGxpY2UoZCwxKX1mdW5jdGlvbiBlYShhLGIsYyxkKXt2YXIgZT1hLmFvRGF0YVtiXSxmLGc9ZnVuY3Rpb24oYyxkKXtmb3IoO2MuY2hpbGROb2Rlcy5sZW5ndGg7KWMucmVtb3ZlQ2hpbGQoYy5maXJzdENoaWxkKTtjLmlubmVySFRNTD1CKGEsYixkLFwiZGlzcGxheVwiKX07aWYoXCJkb21cIj09PWN8fCghY3x8XCJhdXRvXCI9PT1jKSYmXCJkb21cIj09PWUuc3JjKWUuX2FEYXRhPVxyXG5LYShhLGUsZCxkPT09az9rOmUuX2FEYXRhKS5kYXRhO2Vsc2V7dmFyIGo9ZS5hbkNlbGxzO2lmKGopaWYoZCE9PWspZyhqW2RdLGQpO2Vsc2V7Yz0wO2ZvcihmPWoubGVuZ3RoO2M8ZjtjKyspZyhqW2NdLGMpfX1lLl9hU29ydERhdGE9bnVsbDtlLl9hRmlsdGVyRGF0YT1udWxsO2c9YS5hb0NvbHVtbnM7aWYoZCE9PWspZ1tkXS5zVHlwZT1udWxsO2Vsc2V7Yz0wO2ZvcihmPWcubGVuZ3RoO2M8ZjtjKyspZ1tjXS5zVHlwZT1udWxsO05hKGEsZSl9fWZ1bmN0aW9uIEthKGEsYixjLGQpe3ZhciBlPVtdLGY9Yi5maXJzdENoaWxkLGcsaixpPTAsbyxsPWEuYW9Db2x1bW5zLHE9YS5fcm93UmVhZE9iamVjdCxkPWQhPT1rP2Q6cT97fTpbXSx1PWZ1bmN0aW9uKGEsYil7aWYoXCJzdHJpbmdcIj09PXR5cGVvZiBhKXt2YXIgYz1hLmluZGV4T2YoXCJAXCIpOy0xIT09YyYmKGM9YS5zdWJzdHJpbmcoYysxKSxSKGEpKGQsYi5nZXRBdHRyaWJ1dGUoYykpKX19LFM9ZnVuY3Rpb24oYSl7aWYoYz09PWt8fFxyXG5jPT09aSlqPWxbaV0sbz1oLnRyaW0oYS5pbm5lckhUTUwpLGomJmouX2JBdHRyU3JjPyhSKGoubURhdGEuXykoZCxvKSx1KGoubURhdGEuc29ydCxhKSx1KGoubURhdGEudHlwZSxhKSx1KGoubURhdGEuZmlsdGVyLGEpKTpxPyhqLl9zZXR0ZXJ8fChqLl9zZXR0ZXI9UihqLm1EYXRhKSksai5fc2V0dGVyKGQsbykpOmRbaV09bztpKyt9O2lmKGYpZm9yKDtmOyl7Zz1mLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCk7aWYoXCJURFwiPT1nfHxcIlRIXCI9PWcpUyhmKSxlLnB1c2goZik7Zj1mLm5leHRTaWJsaW5nfWVsc2V7ZT1iLmFuQ2VsbHM7Zj0wO2ZvcihnPWUubGVuZ3RoO2Y8ZztmKyspUyhlW2ZdKX1pZihiPWIuZmlyc3RDaGlsZD9iOmIublRyKShiPWIuZ2V0QXR0cmlidXRlKFwiaWRcIikpJiZSKGEucm93SWQpKGQsYik7cmV0dXJue2RhdGE6ZCxjZWxsczplfX1mdW5jdGlvbiBKYShhLGIsYyxkKXt2YXIgZT1hLmFvRGF0YVtiXSxmPWUuX2FEYXRhLGc9W10saixpLGgsbCxxO2lmKG51bGw9PT1cclxuZS5uVHIpe2o9Y3x8SC5jcmVhdGVFbGVtZW50KFwidHJcIik7ZS5uVHI9ajtlLmFuQ2VsbHM9ZztqLl9EVF9Sb3dJbmRleD1iO05hKGEsZSk7bD0wO2ZvcihxPWEuYW9Db2x1bW5zLmxlbmd0aDtsPHE7bCsrKXtoPWEuYW9Db2x1bW5zW2xdO2k9Yz9kW2xdOkguY3JlYXRlRWxlbWVudChoLnNDZWxsVHlwZSk7aS5fRFRfQ2VsbEluZGV4PXtyb3c6Yixjb2x1bW46bH07Zy5wdXNoKGkpO2lmKCFjfHxoLm1SZW5kZXJ8fGgubURhdGEhPT1sKWkuaW5uZXJIVE1MPUIoYSxiLGwsXCJkaXNwbGF5XCIpO2guc0NsYXNzJiYoaS5jbGFzc05hbWUrPVwiIFwiK2guc0NsYXNzKTtoLmJWaXNpYmxlJiYhYz9qLmFwcGVuZENoaWxkKGkpOiFoLmJWaXNpYmxlJiZjJiZpLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaSk7aC5mbkNyZWF0ZWRDZWxsJiZoLmZuQ3JlYXRlZENlbGwuY2FsbChhLm9JbnN0YW5jZSxpLEIoYSxiLGwpLGYsYixsKX12KGEsXCJhb1Jvd0NyZWF0ZWRDYWxsYmFja1wiLG51bGwsW2osZixiXSl9ZS5uVHIuc2V0QXR0cmlidXRlKFwicm9sZVwiLFxyXG5cInJvd1wiKX1mdW5jdGlvbiBOYShhLGIpe3ZhciBjPWIublRyLGQ9Yi5fYURhdGE7aWYoYyl7dmFyIGU9YS5yb3dJZEZuKGQpO2UmJihjLmlkPWUpO2QuRFRfUm93Q2xhc3MmJihlPWQuRFRfUm93Q2xhc3Muc3BsaXQoXCIgXCIpLGIuX19yb3djPWIuX19yb3djP3BhKGIuX19yb3djLmNvbmNhdChlKSk6ZSxoKGMpLnJlbW92ZUNsYXNzKGIuX19yb3djLmpvaW4oXCIgXCIpKS5hZGRDbGFzcyhkLkRUX1Jvd0NsYXNzKSk7ZC5EVF9Sb3dBdHRyJiZoKGMpLmF0dHIoZC5EVF9Sb3dBdHRyKTtkLkRUX1Jvd0RhdGEmJmgoYykuZGF0YShkLkRUX1Jvd0RhdGEpfX1mdW5jdGlvbiBrYihhKXt2YXIgYixjLGQsZSxmLGc9YS5uVEhlYWQsaj1hLm5URm9vdCxpPTA9PT1oKFwidGgsIHRkXCIsZykubGVuZ3RoLG89YS5vQ2xhc3NlcyxsPWEuYW9Db2x1bW5zO2kmJihlPWgoXCI8dHIvPlwiKS5hcHBlbmRUbyhnKSk7Yj0wO2ZvcihjPWwubGVuZ3RoO2I8YztiKyspZj1sW2JdLGQ9aChmLm5UaCkuYWRkQ2xhc3MoZi5zQ2xhc3MpLFxyXG5pJiZkLmFwcGVuZFRvKGUpLGEub0ZlYXR1cmVzLmJTb3J0JiYoZC5hZGRDbGFzcyhmLnNTb3J0aW5nQ2xhc3MpLCExIT09Zi5iU29ydGFibGUmJihkLmF0dHIoXCJ0YWJpbmRleFwiLGEuaVRhYkluZGV4KS5hdHRyKFwiYXJpYS1jb250cm9sc1wiLGEuc1RhYmxlSWQpLE9hKGEsZi5uVGgsYikpKSxmLnNUaXRsZSE9ZFswXS5pbm5lckhUTUwmJmQuaHRtbChmLnNUaXRsZSksUGEoYSxcImhlYWRlclwiKShhLGQsZixvKTtpJiZmYShhLmFvSGVhZGVyLGcpO2goZykuZmluZChcIj50clwiKS5hdHRyKFwicm9sZVwiLFwicm93XCIpO2goZykuZmluZChcIj50cj50aCwgPnRyPnRkXCIpLmFkZENsYXNzKG8uc0hlYWRlclRIKTtoKGopLmZpbmQoXCI+dHI+dGgsID50cj50ZFwiKS5hZGRDbGFzcyhvLnNGb290ZXJUSCk7aWYobnVsbCE9PWope2E9YS5hb0Zvb3RlclswXTtiPTA7Zm9yKGM9YS5sZW5ndGg7YjxjO2IrKylmPWxbYl0sZi5uVGY9YVtiXS5jZWxsLGYuc0NsYXNzJiZoKGYublRmKS5hZGRDbGFzcyhmLnNDbGFzcyl9fVxyXG5mdW5jdGlvbiBnYShhLGIsYyl7dmFyIGQsZSxmLGc9W10saj1bXSxpPWEuYW9Db2x1bW5zLmxlbmd0aCxvO2lmKGIpe2M9PT1rJiYoYz0hMSk7ZD0wO2ZvcihlPWIubGVuZ3RoO2Q8ZTtkKyspe2dbZF09YltkXS5zbGljZSgpO2dbZF0ublRyPWJbZF0ublRyO2ZvcihmPWktMTswPD1mO2YtLSkhYS5hb0NvbHVtbnNbZl0uYlZpc2libGUmJiFjJiZnW2RdLnNwbGljZShmLDEpO2oucHVzaChbXSl9ZD0wO2ZvcihlPWcubGVuZ3RoO2Q8ZTtkKyspe2lmKGE9Z1tkXS5uVHIpZm9yKDtmPWEuZmlyc3RDaGlsZDspYS5yZW1vdmVDaGlsZChmKTtmPTA7Zm9yKGI9Z1tkXS5sZW5ndGg7ZjxiO2YrKylpZihvPWk9MSxqW2RdW2ZdPT09ayl7YS5hcHBlbmRDaGlsZChnW2RdW2ZdLmNlbGwpO2ZvcihqW2RdW2ZdPTE7Z1tkK2ldIT09ayYmZ1tkXVtmXS5jZWxsPT1nW2QraV1bZl0uY2VsbDspaltkK2ldW2ZdPTEsaSsrO2Zvcig7Z1tkXVtmK29dIT09ayYmZ1tkXVtmXS5jZWxsPT1nW2RdW2Yrb10uY2VsbDspe2ZvcihjPVxyXG4wO2M8aTtjKyspaltkK2NdW2Yrb109MTtvKyt9aChnW2RdW2ZdLmNlbGwpLmF0dHIoXCJyb3dzcGFuXCIsaSkuYXR0cihcImNvbHNwYW5cIixvKX19fX1mdW5jdGlvbiBPKGEpe3ZhciBiPXYoYSxcImFvUHJlRHJhd0NhbGxiYWNrXCIsXCJwcmVEcmF3XCIsW2FdKTtpZigtMSE9PWguaW5BcnJheSghMSxiKSlDKGEsITEpO2Vsc2V7dmFyIGI9W10sYz0wLGQ9YS5hc1N0cmlwZUNsYXNzZXMsZT1kLmxlbmd0aCxmPWEub0xhbmd1YWdlLGc9YS5pSW5pdERpc3BsYXlTdGFydCxqPVwic3NwXCI9PXkoYSksaT1hLmFpRGlzcGxheTthLmJEcmF3aW5nPSEwO2chPT1rJiYtMSE9PWcmJihhLl9pRGlzcGxheVN0YXJ0PWo/ZzpnPj1hLmZuUmVjb3Jkc0Rpc3BsYXkoKT8wOmcsYS5pSW5pdERpc3BsYXlTdGFydD0tMSk7dmFyIGc9YS5faURpc3BsYXlTdGFydCxvPWEuZm5EaXNwbGF5RW5kKCk7aWYoYS5iRGVmZXJMb2FkaW5nKWEuYkRlZmVyTG9hZGluZz0hMSxhLmlEcmF3KyssQyhhLCExKTtlbHNlIGlmKGope2lmKCFhLmJEZXN0cm95aW5nJiZcclxuIWxiKGEpKXJldHVybn1lbHNlIGEuaURyYXcrKztpZigwIT09aS5sZW5ndGgpe2Y9aj9hLmFvRGF0YS5sZW5ndGg6bztmb3Ioaj1qPzA6ZztqPGY7aisrKXt2YXIgbD1pW2pdLHE9YS5hb0RhdGFbbF07bnVsbD09PXEublRyJiZKYShhLGwpO2w9cS5uVHI7aWYoMCE9PWUpe3ZhciB1PWRbYyVlXTtxLl9zUm93U3RyaXBlIT11JiYoaChsKS5yZW1vdmVDbGFzcyhxLl9zUm93U3RyaXBlKS5hZGRDbGFzcyh1KSxxLl9zUm93U3RyaXBlPXUpfXYoYSxcImFvUm93Q2FsbGJhY2tcIixudWxsLFtsLHEuX2FEYXRhLGMsal0pO2IucHVzaChsKTtjKyt9fWVsc2UgYz1mLnNaZXJvUmVjb3JkcywxPT1hLmlEcmF3JiZcImFqYXhcIj09eShhKT9jPWYuc0xvYWRpbmdSZWNvcmRzOmYuc0VtcHR5VGFibGUmJjA9PT1hLmZuUmVjb3Jkc1RvdGFsKCkmJihjPWYuc0VtcHR5VGFibGUpLGJbMF09aChcIjx0ci8+XCIse1wiY2xhc3NcIjplP2RbMF06XCJcIn0pLmFwcGVuZChoKFwiPHRkIC8+XCIse3ZhbGlnbjpcInRvcFwiLGNvbFNwYW46Y2EoYSksXHJcblwiY2xhc3NcIjphLm9DbGFzc2VzLnNSb3dFbXB0eX0pLmh0bWwoYykpWzBdO3YoYSxcImFvSGVhZGVyQ2FsbGJhY2tcIixcImhlYWRlclwiLFtoKGEublRIZWFkKS5jaGlsZHJlbihcInRyXCIpWzBdLE1hKGEpLGcsbyxpXSk7dihhLFwiYW9Gb290ZXJDYWxsYmFja1wiLFwiZm9vdGVyXCIsW2goYS5uVEZvb3QpLmNoaWxkcmVuKFwidHJcIilbMF0sTWEoYSksZyxvLGldKTtkPWgoYS5uVEJvZHkpO2QuY2hpbGRyZW4oKS5kZXRhY2goKTtkLmFwcGVuZChoKGIpKTt2KGEsXCJhb0RyYXdDYWxsYmFja1wiLFwiZHJhd1wiLFthXSk7YS5iU29ydGVkPSExO2EuYkZpbHRlcmVkPSExO2EuYkRyYXdpbmc9ITF9fWZ1bmN0aW9uIFQoYSxiKXt2YXIgYz1hLm9GZWF0dXJlcyxkPWMuYkZpbHRlcjtjLmJTb3J0JiZtYihhKTtkP2hhKGEsYS5vUHJldmlvdXNTZWFyY2gpOmEuYWlEaXNwbGF5PWEuYWlEaXNwbGF5TWFzdGVyLnNsaWNlKCk7ITAhPT1iJiYoYS5faURpc3BsYXlTdGFydD0wKTthLl9kcmF3SG9sZD1iO08oYSk7YS5fZHJhd0hvbGQ9XHJcbiExfWZ1bmN0aW9uIG5iKGEpe3ZhciBiPWEub0NsYXNzZXMsYz1oKGEublRhYmxlKSxjPWgoXCI8ZGl2Lz5cIikuaW5zZXJ0QmVmb3JlKGMpLGQ9YS5vRmVhdHVyZXMsZT1oKFwiPGRpdi8+XCIse2lkOmEuc1RhYmxlSWQrXCJfd3JhcHBlclwiLFwiY2xhc3NcIjpiLnNXcmFwcGVyKyhhLm5URm9vdD9cIlwiOlwiIFwiK2Iuc05vRm9vdGVyKX0pO2EubkhvbGRpbmc9Y1swXTthLm5UYWJsZVdyYXBwZXI9ZVswXTthLm5UYWJsZVJlaW5zZXJ0QmVmb3JlPWEublRhYmxlLm5leHRTaWJsaW5nO2Zvcih2YXIgZj1hLnNEb20uc3BsaXQoXCJcIiksZyxqLGksbyxsLHEsdT0wO3U8Zi5sZW5ndGg7dSsrKXtnPW51bGw7aj1mW3VdO2lmKFwiPFwiPT1qKXtpPWgoXCI8ZGl2Lz5cIilbMF07bz1mW3UrMV07aWYoXCInXCI9PW98fCdcIic9PW8pe2w9XCJcIjtmb3IocT0yO2ZbdStxXSE9bzspbCs9Zlt1K3FdLHErKztcIkhcIj09bD9sPWIuc0pVSUhlYWRlcjpcIkZcIj09bCYmKGw9Yi5zSlVJRm9vdGVyKTstMSE9bC5pbmRleE9mKFwiLlwiKT8obz1sLnNwbGl0KFwiLlwiKSxcclxuaS5pZD1vWzBdLnN1YnN0cigxLG9bMF0ubGVuZ3RoLTEpLGkuY2xhc3NOYW1lPW9bMV0pOlwiI1wiPT1sLmNoYXJBdCgwKT9pLmlkPWwuc3Vic3RyKDEsbC5sZW5ndGgtMSk6aS5jbGFzc05hbWU9bDt1Kz1xfWUuYXBwZW5kKGkpO2U9aChpKX1lbHNlIGlmKFwiPlwiPT1qKWU9ZS5wYXJlbnQoKTtlbHNlIGlmKFwibFwiPT1qJiZkLmJQYWdpbmF0ZSYmZC5iTGVuZ3RoQ2hhbmdlKWc9b2IoYSk7ZWxzZSBpZihcImZcIj09aiYmZC5iRmlsdGVyKWc9cGIoYSk7ZWxzZSBpZihcInJcIj09aiYmZC5iUHJvY2Vzc2luZylnPXFiKGEpO2Vsc2UgaWYoXCJ0XCI9PWopZz1yYihhKTtlbHNlIGlmKFwiaVwiPT1qJiZkLmJJbmZvKWc9c2IoYSk7ZWxzZSBpZihcInBcIj09aiYmZC5iUGFnaW5hdGUpZz10YihhKTtlbHNlIGlmKDAhPT1tLmV4dC5mZWF0dXJlLmxlbmd0aCl7aT1tLmV4dC5mZWF0dXJlO3E9MDtmb3Iobz1pLmxlbmd0aDtxPG87cSsrKWlmKGo9PWlbcV0uY0ZlYXR1cmUpe2c9aVtxXS5mbkluaXQoYSk7YnJlYWt9fWcmJlxyXG4oaT1hLmFhbkZlYXR1cmVzLGlbal18fChpW2pdPVtdKSxpW2pdLnB1c2goZyksZS5hcHBlbmQoZykpfWMucmVwbGFjZVdpdGgoZSk7YS5uSG9sZGluZz1udWxsfWZ1bmN0aW9uIGZhKGEsYil7dmFyIGM9aChiKS5jaGlsZHJlbihcInRyXCIpLGQsZSxmLGcsaixpLG8sbCxxLHU7YS5zcGxpY2UoMCxhLmxlbmd0aCk7Zj0wO2ZvcihpPWMubGVuZ3RoO2Y8aTtmKyspYS5wdXNoKFtdKTtmPTA7Zm9yKGk9Yy5sZW5ndGg7ZjxpO2YrKyl7ZD1jW2ZdO2ZvcihlPWQuZmlyc3RDaGlsZDtlOyl7aWYoXCJURFwiPT1lLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCl8fFwiVEhcIj09ZS5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpKXtsPTEqZS5nZXRBdHRyaWJ1dGUoXCJjb2xzcGFuXCIpO3E9MSplLmdldEF0dHJpYnV0ZShcInJvd3NwYW5cIik7bD0hbHx8MD09PWx8fDE9PT1sPzE6bDtxPSFxfHwwPT09cXx8MT09PXE/MTpxO2c9MDtmb3Ioaj1hW2ZdO2pbZ107KWcrKztvPWc7dT0xPT09bD8hMDohMTtmb3Ioaj0wO2o8bDtqKyspZm9yKGc9XHJcbjA7ZzxxO2crKylhW2YrZ11bbytqXT17Y2VsbDplLHVuaXF1ZTp1fSxhW2YrZ10ublRyPWR9ZT1lLm5leHRTaWJsaW5nfX19ZnVuY3Rpb24gcWEoYSxiLGMpe3ZhciBkPVtdO2N8fChjPWEuYW9IZWFkZXIsYiYmKGM9W10sZmEoYyxiKSkpO2Zvcih2YXIgYj0wLGU9Yy5sZW5ndGg7YjxlO2IrKylmb3IodmFyIGY9MCxnPWNbYl0ubGVuZ3RoO2Y8ZztmKyspaWYoY1tiXVtmXS51bmlxdWUmJighZFtmXXx8IWEuYlNvcnRDZWxsc1RvcCkpZFtmXT1jW2JdW2ZdLmNlbGw7cmV0dXJuIGR9ZnVuY3Rpb24gcmEoYSxiLGMpe3YoYSxcImFvU2VydmVyUGFyYW1zXCIsXCJzZXJ2ZXJQYXJhbXNcIixbYl0pO2lmKGImJmguaXNBcnJheShiKSl7dmFyIGQ9e30sZT0vKC4qPylcXFtcXF0kLztoLmVhY2goYixmdW5jdGlvbihhLGIpe3ZhciBjPWIubmFtZS5tYXRjaChlKTtjPyhjPWNbMF0sZFtjXXx8KGRbY109W10pLGRbY10ucHVzaChiLnZhbHVlKSk6ZFtiLm5hbWVdPWIudmFsdWV9KTtiPWR9dmFyIGYsZz1hLmFqYXgsXHJcbmo9YS5vSW5zdGFuY2UsaT1mdW5jdGlvbihiKXt2KGEsbnVsbCxcInhoclwiLFthLGIsYS5qcVhIUl0pO2MoYil9O2lmKGguaXNQbGFpbk9iamVjdChnKSYmZy5kYXRhKXtmPWcuZGF0YTt2YXIgbz1oLmlzRnVuY3Rpb24oZik/ZihiLGEpOmYsYj1oLmlzRnVuY3Rpb24oZikmJm8/bzpoLmV4dGVuZCghMCxiLG8pO2RlbGV0ZSBnLmRhdGF9bz17ZGF0YTpiLHN1Y2Nlc3M6ZnVuY3Rpb24oYil7dmFyIGM9Yi5lcnJvcnx8Yi5zRXJyb3I7YyYmSyhhLDAsYyk7YS5qc29uPWI7aShiKX0sZGF0YVR5cGU6XCJqc29uXCIsY2FjaGU6ITEsdHlwZTphLnNTZXJ2ZXJNZXRob2QsZXJyb3I6ZnVuY3Rpb24oYixjKXt2YXIgZD12KGEsbnVsbCxcInhoclwiLFthLG51bGwsYS5qcVhIUl0pOy0xPT09aC5pbkFycmF5KCEwLGQpJiYoXCJwYXJzZXJlcnJvclwiPT1jP0soYSwwLFwiSW52YWxpZCBKU09OIHJlc3BvbnNlXCIsMSk6ND09PWIucmVhZHlTdGF0ZSYmSyhhLDAsXCJBamF4IGVycm9yXCIsNykpO0MoYSwhMSl9fTthLm9BamF4RGF0YT1cclxuYjt2KGEsbnVsbCxcInByZVhoclwiLFthLGJdKTthLmZuU2VydmVyRGF0YT9hLmZuU2VydmVyRGF0YS5jYWxsKGosYS5zQWpheFNvdXJjZSxoLm1hcChiLGZ1bmN0aW9uKGEsYil7cmV0dXJue25hbWU6Yix2YWx1ZTphfX0pLGksYSk6YS5zQWpheFNvdXJjZXx8XCJzdHJpbmdcIj09PXR5cGVvZiBnP2EuanFYSFI9aC5hamF4KGguZXh0ZW5kKG8se3VybDpnfHxhLnNBamF4U291cmNlfSkpOmguaXNGdW5jdGlvbihnKT9hLmpxWEhSPWcuY2FsbChqLGIsaSxhKTooYS5qcVhIUj1oLmFqYXgoaC5leHRlbmQobyxnKSksZy5kYXRhPWYpfWZ1bmN0aW9uIGxiKGEpe3JldHVybiBhLmJBamF4RGF0YUdldD8oYS5pRHJhdysrLEMoYSwhMCkscmEoYSx1YihhKSxmdW5jdGlvbihiKXt2YihhLGIpfSksITEpOiEwfWZ1bmN0aW9uIHViKGEpe3ZhciBiPWEuYW9Db2x1bW5zLGM9Yi5sZW5ndGgsZD1hLm9GZWF0dXJlcyxlPWEub1ByZXZpb3VzU2VhcmNoLGY9YS5hb1ByZVNlYXJjaENvbHMsZyxqPVtdLGksbyxcclxubCxxPVcoYSk7Zz1hLl9pRGlzcGxheVN0YXJ0O2k9ITEhPT1kLmJQYWdpbmF0ZT9hLl9pRGlzcGxheUxlbmd0aDotMTt2YXIgaz1mdW5jdGlvbihhLGIpe2oucHVzaCh7bmFtZTphLHZhbHVlOmJ9KX07ayhcInNFY2hvXCIsYS5pRHJhdyk7ayhcImlDb2x1bW5zXCIsYyk7ayhcInNDb2x1bW5zXCIsRChiLFwic05hbWVcIikuam9pbihcIixcIikpO2soXCJpRGlzcGxheVN0YXJ0XCIsZyk7ayhcImlEaXNwbGF5TGVuZ3RoXCIsaSk7dmFyIFM9e2RyYXc6YS5pRHJhdyxjb2x1bW5zOltdLG9yZGVyOltdLHN0YXJ0OmcsbGVuZ3RoOmksc2VhcmNoOnt2YWx1ZTplLnNTZWFyY2gscmVnZXg6ZS5iUmVnZXh9fTtmb3IoZz0wO2c8YztnKyspbz1iW2ddLGw9ZltnXSxpPVwiZnVuY3Rpb25cIj09dHlwZW9mIG8ubURhdGE/XCJmdW5jdGlvblwiOm8ubURhdGEsUy5jb2x1bW5zLnB1c2goe2RhdGE6aSxuYW1lOm8uc05hbWUsc2VhcmNoYWJsZTpvLmJTZWFyY2hhYmxlLG9yZGVyYWJsZTpvLmJTb3J0YWJsZSxzZWFyY2g6e3ZhbHVlOmwuc1NlYXJjaCxcclxucmVnZXg6bC5iUmVnZXh9fSksayhcIm1EYXRhUHJvcF9cIitnLGkpLGQuYkZpbHRlciYmKGsoXCJzU2VhcmNoX1wiK2csbC5zU2VhcmNoKSxrKFwiYlJlZ2V4X1wiK2csbC5iUmVnZXgpLGsoXCJiU2VhcmNoYWJsZV9cIitnLG8uYlNlYXJjaGFibGUpKSxkLmJTb3J0JiZrKFwiYlNvcnRhYmxlX1wiK2csby5iU29ydGFibGUpO2QuYkZpbHRlciYmKGsoXCJzU2VhcmNoXCIsZS5zU2VhcmNoKSxrKFwiYlJlZ2V4XCIsZS5iUmVnZXgpKTtkLmJTb3J0JiYoaC5lYWNoKHEsZnVuY3Rpb24oYSxiKXtTLm9yZGVyLnB1c2goe2NvbHVtbjpiLmNvbCxkaXI6Yi5kaXJ9KTtrKFwiaVNvcnRDb2xfXCIrYSxiLmNvbCk7ayhcInNTb3J0RGlyX1wiK2EsYi5kaXIpfSksayhcImlTb3J0aW5nQ29sc1wiLHEubGVuZ3RoKSk7Yj1tLmV4dC5sZWdhY3kuYWpheDtyZXR1cm4gbnVsbD09PWI/YS5zQWpheFNvdXJjZT9qOlM6Yj9qOlN9ZnVuY3Rpb24gdmIoYSxiKXt2YXIgYz1zYShhLGIpLGQ9Yi5zRWNobyE9PWs/Yi5zRWNobzpiLmRyYXcsZT1cclxuYi5pVG90YWxSZWNvcmRzIT09az9iLmlUb3RhbFJlY29yZHM6Yi5yZWNvcmRzVG90YWwsZj1iLmlUb3RhbERpc3BsYXlSZWNvcmRzIT09az9iLmlUb3RhbERpc3BsYXlSZWNvcmRzOmIucmVjb3Jkc0ZpbHRlcmVkO2lmKGQpe2lmKDEqZDxhLmlEcmF3KXJldHVybjthLmlEcmF3PTEqZH1uYShhKTthLl9pUmVjb3Jkc1RvdGFsPXBhcnNlSW50KGUsMTApO2EuX2lSZWNvcmRzRGlzcGxheT1wYXJzZUludChmLDEwKTtkPTA7Zm9yKGU9Yy5sZW5ndGg7ZDxlO2QrKylOKGEsY1tkXSk7YS5haURpc3BsYXk9YS5haURpc3BsYXlNYXN0ZXIuc2xpY2UoKTthLmJBamF4RGF0YUdldD0hMTtPKGEpO2EuX2JJbml0Q29tcGxldGV8fHRhKGEsYik7YS5iQWpheERhdGFHZXQ9ITA7QyhhLCExKX1mdW5jdGlvbiBzYShhLGIpe3ZhciBjPWguaXNQbGFpbk9iamVjdChhLmFqYXgpJiZhLmFqYXguZGF0YVNyYyE9PWs/YS5hamF4LmRhdGFTcmM6YS5zQWpheERhdGFQcm9wO3JldHVyblwiZGF0YVwiPT09Yz9iLmFhRGF0YXx8XHJcbmJbY106XCJcIiE9PWM/UShjKShiKTpifWZ1bmN0aW9uIHBiKGEpe3ZhciBiPWEub0NsYXNzZXMsYz1hLnNUYWJsZUlkLGQ9YS5vTGFuZ3VhZ2UsZT1hLm9QcmV2aW91c1NlYXJjaCxmPWEuYWFuRmVhdHVyZXMsZz0nPGlucHV0IHR5cGU9XCJzZWFyY2hcIiBjbGFzcz1cIicrYi5zRmlsdGVySW5wdXQrJ1wiLz4nLGo9ZC5zU2VhcmNoLGo9ai5tYXRjaCgvX0lOUFVUXy8pP2oucmVwbGFjZShcIl9JTlBVVF9cIixnKTpqK2csYj1oKFwiPGRpdi8+XCIse2lkOiFmLmY/YytcIl9maWx0ZXJcIjpudWxsLFwiY2xhc3NcIjpiLnNGaWx0ZXJ9KS5hcHBlbmQoaChcIjxsYWJlbC8+XCIpLmFwcGVuZChqKSksZj1mdW5jdGlvbigpe3ZhciBiPSF0aGlzLnZhbHVlP1wiXCI6dGhpcy52YWx1ZTtiIT1lLnNTZWFyY2gmJihoYShhLHtzU2VhcmNoOmIsYlJlZ2V4OmUuYlJlZ2V4LGJTbWFydDplLmJTbWFydCxiQ2FzZUluc2Vuc2l0aXZlOmUuYkNhc2VJbnNlbnNpdGl2ZX0pLGEuX2lEaXNwbGF5U3RhcnQ9MCxPKGEpKX0sZz1udWxsIT09XHJcbmEuc2VhcmNoRGVsYXk/YS5zZWFyY2hEZWxheTpcInNzcFwiPT09eShhKT80MDA6MCxpPWgoXCJpbnB1dFwiLGIpLnZhbChlLnNTZWFyY2gpLmF0dHIoXCJwbGFjZWhvbGRlclwiLGQuc1NlYXJjaFBsYWNlaG9sZGVyKS5iaW5kKFwia2V5dXAuRFQgc2VhcmNoLkRUIGlucHV0LkRUIHBhc3RlLkRUIGN1dC5EVFwiLGc/dWEoZixnKTpmKS5iaW5kKFwia2V5cHJlc3MuRFRcIixmdW5jdGlvbihhKXtpZigxMz09YS5rZXlDb2RlKXJldHVybiExfSkuYXR0cihcImFyaWEtY29udHJvbHNcIixjKTtoKGEublRhYmxlKS5vbihcInNlYXJjaC5kdC5EVFwiLGZ1bmN0aW9uKGIsYyl7aWYoYT09PWMpdHJ5e2lbMF0hPT1ILmFjdGl2ZUVsZW1lbnQmJmkudmFsKGUuc1NlYXJjaCl9Y2F0Y2goZCl7fX0pO3JldHVybiBiWzBdfWZ1bmN0aW9uIGhhKGEsYixjKXt2YXIgZD1hLm9QcmV2aW91c1NlYXJjaCxlPWEuYW9QcmVTZWFyY2hDb2xzLGY9ZnVuY3Rpb24oYSl7ZC5zU2VhcmNoPWEuc1NlYXJjaDtkLmJSZWdleD1hLmJSZWdleDtcclxuZC5iU21hcnQ9YS5iU21hcnQ7ZC5iQ2FzZUluc2Vuc2l0aXZlPWEuYkNhc2VJbnNlbnNpdGl2ZX07SWEoYSk7aWYoXCJzc3BcIiE9eShhKSl7d2IoYSxiLnNTZWFyY2gsYyxiLmJFc2NhcGVSZWdleCE9PWs/IWIuYkVzY2FwZVJlZ2V4OmIuYlJlZ2V4LGIuYlNtYXJ0LGIuYkNhc2VJbnNlbnNpdGl2ZSk7ZihiKTtmb3IoYj0wO2I8ZS5sZW5ndGg7YisrKXhiKGEsZVtiXS5zU2VhcmNoLGIsZVtiXS5iRXNjYXBlUmVnZXghPT1rPyFlW2JdLmJFc2NhcGVSZWdleDplW2JdLmJSZWdleCxlW2JdLmJTbWFydCxlW2JdLmJDYXNlSW5zZW5zaXRpdmUpO3liKGEpfWVsc2UgZihiKTthLmJGaWx0ZXJlZD0hMDt2KGEsbnVsbCxcInNlYXJjaFwiLFthXSl9ZnVuY3Rpb24geWIoYSl7Zm9yKHZhciBiPW0uZXh0LnNlYXJjaCxjPWEuYWlEaXNwbGF5LGQsZSxmPTAsZz1iLmxlbmd0aDtmPGc7ZisrKXtmb3IodmFyIGo9W10saT0wLG89Yy5sZW5ndGg7aTxvO2krKyllPWNbaV0sZD1hLmFvRGF0YVtlXSxiW2ZdKGEsXHJcbmQuX2FGaWx0ZXJEYXRhLGUsZC5fYURhdGEsaSkmJmoucHVzaChlKTtjLmxlbmd0aD0wO2gubWVyZ2UoYyxqKX19ZnVuY3Rpb24geGIoYSxiLGMsZCxlLGYpe2lmKFwiXCIhPT1iKWZvcih2YXIgZz1hLmFpRGlzcGxheSxkPVFhKGIsZCxlLGYpLGU9Zy5sZW5ndGgtMTswPD1lO2UtLSliPWEuYW9EYXRhW2dbZV1dLl9hRmlsdGVyRGF0YVtjXSxkLnRlc3QoYil8fGcuc3BsaWNlKGUsMSl9ZnVuY3Rpb24gd2IoYSxiLGMsZCxlLGYpe3ZhciBkPVFhKGIsZCxlLGYpLGU9YS5vUHJldmlvdXNTZWFyY2guc1NlYXJjaCxmPWEuYWlEaXNwbGF5TWFzdGVyLGc7MCE9PW0uZXh0LnNlYXJjaC5sZW5ndGgmJihjPSEwKTtnPXpiKGEpO2lmKDA+PWIubGVuZ3RoKWEuYWlEaXNwbGF5PWYuc2xpY2UoKTtlbHNle2lmKGd8fGN8fGUubGVuZ3RoPmIubGVuZ3RofHwwIT09Yi5pbmRleE9mKGUpfHxhLmJTb3J0ZWQpYS5haURpc3BsYXk9Zi5zbGljZSgpO2I9YS5haURpc3BsYXk7Zm9yKGM9Yi5sZW5ndGgtMTswPD1cclxuYztjLS0pZC50ZXN0KGEuYW9EYXRhW2JbY11dLl9zRmlsdGVyUm93KXx8Yi5zcGxpY2UoYywxKX19ZnVuY3Rpb24gUWEoYSxiLGMsZCl7YT1iP2E6dmEoYSk7YyYmKGE9XCJeKD89Lio/XCIraC5tYXAoYS5tYXRjaCgvXCJbXlwiXStcInxbXiBdKy9nKXx8W1wiXCJdLGZ1bmN0aW9uKGEpe2lmKCdcIic9PT1hLmNoYXJBdCgwKSl2YXIgYj1hLm1hdGNoKC9eXCIoLiopXCIkLyksYT1iP2JbMV06YTtyZXR1cm4gYS5yZXBsYWNlKCdcIicsXCJcIil9KS5qb2luKFwiKSg/PS4qP1wiKStcIikuKiRcIik7cmV0dXJuIFJlZ0V4cChhLGQ/XCJpXCI6XCJcIil9ZnVuY3Rpb24gdmEoYSl7cmV0dXJuIGEucmVwbGFjZShZYixcIlxcXFwkMVwiKX1mdW5jdGlvbiB6YihhKXt2YXIgYj1hLmFvQ29sdW1ucyxjLGQsZSxmLGcsaixpLGgsbD1tLmV4dC50eXBlLnNlYXJjaDtjPSExO2Q9MDtmb3IoZj1hLmFvRGF0YS5sZW5ndGg7ZDxmO2QrKylpZihoPWEuYW9EYXRhW2RdLCFoLl9hRmlsdGVyRGF0YSl7aj1bXTtlPTA7Zm9yKGc9Yi5sZW5ndGg7ZTxcclxuZztlKyspYz1iW2VdLGMuYlNlYXJjaGFibGU/KGk9QihhLGQsZSxcImZpbHRlclwiKSxsW2Muc1R5cGVdJiYoaT1sW2Muc1R5cGVdKGkpKSxudWxsPT09aSYmKGk9XCJcIiksXCJzdHJpbmdcIiE9PXR5cGVvZiBpJiZpLnRvU3RyaW5nJiYoaT1pLnRvU3RyaW5nKCkpKTppPVwiXCIsaS5pbmRleE9mJiYtMSE9PWkuaW5kZXhPZihcIiZcIikmJih3YS5pbm5lckhUTUw9aSxpPVpiP3dhLnRleHRDb250ZW50OndhLmlubmVyVGV4dCksaS5yZXBsYWNlJiYoaT1pLnJlcGxhY2UoL1tcXHJcXG5dL2csXCJcIikpLGoucHVzaChpKTtoLl9hRmlsdGVyRGF0YT1qO2guX3NGaWx0ZXJSb3c9ai5qb2luKFwiICBcIik7Yz0hMH1yZXR1cm4gY31mdW5jdGlvbiBBYihhKXtyZXR1cm57c2VhcmNoOmEuc1NlYXJjaCxzbWFydDphLmJTbWFydCxyZWdleDphLmJSZWdleCxjYXNlSW5zZW5zaXRpdmU6YS5iQ2FzZUluc2Vuc2l0aXZlfX1mdW5jdGlvbiBCYihhKXtyZXR1cm57c1NlYXJjaDphLnNlYXJjaCxiU21hcnQ6YS5zbWFydCxiUmVnZXg6YS5yZWdleCxcclxuYkNhc2VJbnNlbnNpdGl2ZTphLmNhc2VJbnNlbnNpdGl2ZX19ZnVuY3Rpb24gc2IoYSl7dmFyIGI9YS5zVGFibGVJZCxjPWEuYWFuRmVhdHVyZXMuaSxkPWgoXCI8ZGl2Lz5cIix7XCJjbGFzc1wiOmEub0NsYXNzZXMuc0luZm8saWQ6IWM/YitcIl9pbmZvXCI6bnVsbH0pO2N8fChhLmFvRHJhd0NhbGxiYWNrLnB1c2goe2ZuOkNiLHNOYW1lOlwiaW5mb3JtYXRpb25cIn0pLGQuYXR0cihcInJvbGVcIixcInN0YXR1c1wiKS5hdHRyKFwiYXJpYS1saXZlXCIsXCJwb2xpdGVcIiksaChhLm5UYWJsZSkuYXR0cihcImFyaWEtZGVzY3JpYmVkYnlcIixiK1wiX2luZm9cIikpO3JldHVybiBkWzBdfWZ1bmN0aW9uIENiKGEpe3ZhciBiPWEuYWFuRmVhdHVyZXMuaTtpZigwIT09Yi5sZW5ndGgpe3ZhciBjPWEub0xhbmd1YWdlLGQ9YS5faURpc3BsYXlTdGFydCsxLGU9YS5mbkRpc3BsYXlFbmQoKSxmPWEuZm5SZWNvcmRzVG90YWwoKSxnPWEuZm5SZWNvcmRzRGlzcGxheSgpLGo9Zz9jLnNJbmZvOmMuc0luZm9FbXB0eTtnIT09ZiYmXHJcbihqKz1cIiBcIitjLnNJbmZvRmlsdGVyZWQpO2orPWMuc0luZm9Qb3N0Rml4O2o9RGIoYSxqKTtjPWMuZm5JbmZvQ2FsbGJhY2s7bnVsbCE9PWMmJihqPWMuY2FsbChhLm9JbnN0YW5jZSxhLGQsZSxmLGcsaikpO2goYikuaHRtbChqKX19ZnVuY3Rpb24gRGIoYSxiKXt2YXIgYz1hLmZuRm9ybWF0TnVtYmVyLGQ9YS5faURpc3BsYXlTdGFydCsxLGU9YS5faURpc3BsYXlMZW5ndGgsZj1hLmZuUmVjb3Jkc0Rpc3BsYXkoKSxnPS0xPT09ZTtyZXR1cm4gYi5yZXBsYWNlKC9fU1RBUlRfL2csYy5jYWxsKGEsZCkpLnJlcGxhY2UoL19FTkRfL2csYy5jYWxsKGEsYS5mbkRpc3BsYXlFbmQoKSkpLnJlcGxhY2UoL19NQVhfL2csYy5jYWxsKGEsYS5mblJlY29yZHNUb3RhbCgpKSkucmVwbGFjZSgvX1RPVEFMXy9nLGMuY2FsbChhLGYpKS5yZXBsYWNlKC9fUEFHRV8vZyxjLmNhbGwoYSxnPzE6TWF0aC5jZWlsKGQvZSkpKS5yZXBsYWNlKC9fUEFHRVNfL2csYy5jYWxsKGEsZz8xOk1hdGguY2VpbChmL1xyXG5lKSkpfWZ1bmN0aW9uIGlhKGEpe3ZhciBiLGMsZD1hLmlJbml0RGlzcGxheVN0YXJ0LGU9YS5hb0NvbHVtbnMsZjtjPWEub0ZlYXR1cmVzO3ZhciBnPWEuYkRlZmVyTG9hZGluZztpZihhLmJJbml0aWFsaXNlZCl7bmIoYSk7a2IoYSk7Z2EoYSxhLmFvSGVhZGVyKTtnYShhLGEuYW9Gb290ZXIpO0MoYSwhMCk7Yy5iQXV0b1dpZHRoJiZIYShhKTtiPTA7Zm9yKGM9ZS5sZW5ndGg7YjxjO2IrKylmPWVbYl0sZi5zV2lkdGgmJihmLm5UaC5zdHlsZS53aWR0aD13KGYuc1dpZHRoKSk7dihhLG51bGwsXCJwcmVJbml0XCIsW2FdKTtUKGEpO2U9eShhKTtpZihcInNzcFwiIT1lfHxnKVwiYWpheFwiPT1lP3JhKGEsW10sZnVuY3Rpb24oYyl7dmFyIGY9c2EoYSxjKTtmb3IoYj0wO2I8Zi5sZW5ndGg7YisrKU4oYSxmW2JdKTthLmlJbml0RGlzcGxheVN0YXJ0PWQ7VChhKTtDKGEsITEpO3RhKGEsYyl9LGEpOihDKGEsITEpLHRhKGEpKX1lbHNlIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtpYShhKX0sMjAwKX1cclxuZnVuY3Rpb24gdGEoYSxiKXthLl9iSW5pdENvbXBsZXRlPSEwOyhifHxhLm9Jbml0LmFhRGF0YSkmJlUoYSk7dihhLG51bGwsXCJwbHVnaW4taW5pdFwiLFthLGJdKTt2KGEsXCJhb0luaXRDb21wbGV0ZVwiLFwiaW5pdFwiLFthLGJdKX1mdW5jdGlvbiBSYShhLGIpe3ZhciBjPXBhcnNlSW50KGIsMTApO2EuX2lEaXNwbGF5TGVuZ3RoPWM7U2EoYSk7dihhLG51bGwsXCJsZW5ndGhcIixbYSxjXSl9ZnVuY3Rpb24gb2IoYSl7Zm9yKHZhciBiPWEub0NsYXNzZXMsYz1hLnNUYWJsZUlkLGQ9YS5hTGVuZ3RoTWVudSxlPWguaXNBcnJheShkWzBdKSxmPWU/ZFswXTpkLGQ9ZT9kWzFdOmQsZT1oKFwiPHNlbGVjdC8+XCIse25hbWU6YytcIl9sZW5ndGhcIixcImFyaWEtY29udHJvbHNcIjpjLFwiY2xhc3NcIjpiLnNMZW5ndGhTZWxlY3R9KSxnPTAsaj1mLmxlbmd0aDtnPGo7ZysrKWVbMF1bZ109bmV3IE9wdGlvbihkW2ddLGZbZ10pO3ZhciBpPWgoXCI8ZGl2PjxsYWJlbC8+PC9kaXY+XCIpLmFkZENsYXNzKGIuc0xlbmd0aCk7XHJcbmEuYWFuRmVhdHVyZXMubHx8KGlbMF0uaWQ9YytcIl9sZW5ndGhcIik7aS5jaGlsZHJlbigpLmFwcGVuZChhLm9MYW5ndWFnZS5zTGVuZ3RoTWVudS5yZXBsYWNlKFwiX01FTlVfXCIsZVswXS5vdXRlckhUTUwpKTtoKFwic2VsZWN0XCIsaSkudmFsKGEuX2lEaXNwbGF5TGVuZ3RoKS5iaW5kKFwiY2hhbmdlLkRUXCIsZnVuY3Rpb24oKXtSYShhLGgodGhpcykudmFsKCkpO08oYSl9KTtoKGEublRhYmxlKS5iaW5kKFwibGVuZ3RoLmR0LkRUXCIsZnVuY3Rpb24oYixjLGQpe2E9PT1jJiZoKFwic2VsZWN0XCIsaSkudmFsKGQpfSk7cmV0dXJuIGlbMF19ZnVuY3Rpb24gdGIoYSl7dmFyIGI9YS5zUGFnaW5hdGlvblR5cGUsYz1tLmV4dC5wYWdlcltiXSxkPVwiZnVuY3Rpb25cIj09PXR5cGVvZiBjLGU9ZnVuY3Rpb24oYSl7TyhhKX0sYj1oKFwiPGRpdi8+XCIpLmFkZENsYXNzKGEub0NsYXNzZXMuc1BhZ2luZytiKVswXSxmPWEuYWFuRmVhdHVyZXM7ZHx8Yy5mbkluaXQoYSxiLGUpO2YucHx8KGIuaWQ9YS5zVGFibGVJZCtcclxuXCJfcGFnaW5hdGVcIixhLmFvRHJhd0NhbGxiYWNrLnB1c2goe2ZuOmZ1bmN0aW9uKGEpe2lmKGQpe3ZhciBiPWEuX2lEaXNwbGF5U3RhcnQsaT1hLl9pRGlzcGxheUxlbmd0aCxoPWEuZm5SZWNvcmRzRGlzcGxheSgpLGw9LTE9PT1pLGI9bD8wOk1hdGguY2VpbChiL2kpLGk9bD8xOk1hdGguY2VpbChoL2kpLGg9YyhiLGkpLGssbD0wO2ZvcihrPWYucC5sZW5ndGg7bDxrO2wrKylQYShhLFwicGFnZUJ1dHRvblwiKShhLGYucFtsXSxsLGgsYixpKX1lbHNlIGMuZm5VcGRhdGUoYSxlKX0sc05hbWU6XCJwYWdpbmF0aW9uXCJ9KSk7cmV0dXJuIGJ9ZnVuY3Rpb24gVGEoYSxiLGMpe3ZhciBkPWEuX2lEaXNwbGF5U3RhcnQsZT1hLl9pRGlzcGxheUxlbmd0aCxmPWEuZm5SZWNvcmRzRGlzcGxheSgpOzA9PT1mfHwtMT09PWU/ZD0wOlwibnVtYmVyXCI9PT10eXBlb2YgYj8oZD1iKmUsZD5mJiYoZD0wKSk6XCJmaXJzdFwiPT1iP2Q9MDpcInByZXZpb3VzXCI9PWI/KGQ9MDw9ZT9kLWU6MCwwPmQmJihkPTApKTpcIm5leHRcIj09XHJcbmI/ZCtlPGYmJihkKz1lKTpcImxhc3RcIj09Yj9kPU1hdGguZmxvb3IoKGYtMSkvZSkqZTpLKGEsMCxcIlVua25vd24gcGFnaW5nIGFjdGlvbjogXCIrYiw1KTtiPWEuX2lEaXNwbGF5U3RhcnQhPT1kO2EuX2lEaXNwbGF5U3RhcnQ9ZDtiJiYodihhLG51bGwsXCJwYWdlXCIsW2FdKSxjJiZPKGEpKTtyZXR1cm4gYn1mdW5jdGlvbiBxYihhKXtyZXR1cm4gaChcIjxkaXYvPlwiLHtpZDohYS5hYW5GZWF0dXJlcy5yP2Euc1RhYmxlSWQrXCJfcHJvY2Vzc2luZ1wiOm51bGwsXCJjbGFzc1wiOmEub0NsYXNzZXMuc1Byb2Nlc3Npbmd9KS5odG1sKGEub0xhbmd1YWdlLnNQcm9jZXNzaW5nKS5pbnNlcnRCZWZvcmUoYS5uVGFibGUpWzBdfWZ1bmN0aW9uIEMoYSxiKXthLm9GZWF0dXJlcy5iUHJvY2Vzc2luZyYmaChhLmFhbkZlYXR1cmVzLnIpLmNzcyhcImRpc3BsYXlcIixiP1wiYmxvY2tcIjpcIm5vbmVcIik7dihhLG51bGwsXCJwcm9jZXNzaW5nXCIsW2EsYl0pfWZ1bmN0aW9uIHJiKGEpe3ZhciBiPWgoYS5uVGFibGUpO2IuYXR0cihcInJvbGVcIixcclxuXCJncmlkXCIpO3ZhciBjPWEub1Njcm9sbDtpZihcIlwiPT09Yy5zWCYmXCJcIj09PWMuc1kpcmV0dXJuIGEublRhYmxlO3ZhciBkPWMuc1gsZT1jLnNZLGY9YS5vQ2xhc3NlcyxnPWIuY2hpbGRyZW4oXCJjYXB0aW9uXCIpLGo9Zy5sZW5ndGg/Z1swXS5fY2FwdGlvblNpZGU6bnVsbCxpPWgoYlswXS5jbG9uZU5vZGUoITEpKSxvPWgoYlswXS5jbG9uZU5vZGUoITEpKSxsPWIuY2hpbGRyZW4oXCJ0Zm9vdFwiKTtsLmxlbmd0aHx8KGw9bnVsbCk7aT1oKFwiPGRpdi8+XCIse1wiY2xhc3NcIjpmLnNTY3JvbGxXcmFwcGVyfSkuYXBwZW5kKGgoXCI8ZGl2Lz5cIix7XCJjbGFzc1wiOmYuc1Njcm9sbEhlYWR9KS5jc3Moe292ZXJmbG93OlwiaGlkZGVuXCIscG9zaXRpb246XCJyZWxhdGl2ZVwiLGJvcmRlcjowLHdpZHRoOmQ/IWQ/bnVsbDp3KGQpOlwiMTAwJVwifSkuYXBwZW5kKGgoXCI8ZGl2Lz5cIix7XCJjbGFzc1wiOmYuc1Njcm9sbEhlYWRJbm5lcn0pLmNzcyh7XCJib3gtc2l6aW5nXCI6XCJjb250ZW50LWJveFwiLHdpZHRoOmMuc1hJbm5lcnx8XHJcblwiMTAwJVwifSkuYXBwZW5kKGkucmVtb3ZlQXR0cihcImlkXCIpLmNzcyhcIm1hcmdpbi1sZWZ0XCIsMCkuYXBwZW5kKFwidG9wXCI9PT1qP2c6bnVsbCkuYXBwZW5kKGIuY2hpbGRyZW4oXCJ0aGVhZFwiKSkpKSkuYXBwZW5kKGgoXCI8ZGl2Lz5cIix7XCJjbGFzc1wiOmYuc1Njcm9sbEJvZHl9KS5jc3Moe3Bvc2l0aW9uOlwicmVsYXRpdmVcIixvdmVyZmxvdzpcImF1dG9cIix3aWR0aDohZD9udWxsOncoZCl9KS5hcHBlbmQoYikpO2wmJmkuYXBwZW5kKGgoXCI8ZGl2Lz5cIix7XCJjbGFzc1wiOmYuc1Njcm9sbEZvb3R9KS5jc3Moe292ZXJmbG93OlwiaGlkZGVuXCIsYm9yZGVyOjAsd2lkdGg6ZD8hZD9udWxsOncoZCk6XCIxMDAlXCJ9KS5hcHBlbmQoaChcIjxkaXYvPlwiLHtcImNsYXNzXCI6Zi5zU2Nyb2xsRm9vdElubmVyfSkuYXBwZW5kKG8ucmVtb3ZlQXR0cihcImlkXCIpLmNzcyhcIm1hcmdpbi1sZWZ0XCIsMCkuYXBwZW5kKFwiYm90dG9tXCI9PT1qP2c6bnVsbCkuYXBwZW5kKGIuY2hpbGRyZW4oXCJ0Zm9vdFwiKSkpKSk7dmFyIGI9aS5jaGlsZHJlbigpLFxyXG5rPWJbMF0sZj1iWzFdLHU9bD9iWzJdOm51bGw7aWYoZCloKGYpLm9uKFwic2Nyb2xsLkRUXCIsZnVuY3Rpb24oKXt2YXIgYT10aGlzLnNjcm9sbExlZnQ7ay5zY3JvbGxMZWZ0PWE7bCYmKHUuc2Nyb2xsTGVmdD1hKX0pO2goZikuY3NzKGUmJmMuYkNvbGxhcHNlP1wibWF4LWhlaWdodFwiOlwiaGVpZ2h0XCIsZSk7YS5uU2Nyb2xsSGVhZD1rO2EublNjcm9sbEJvZHk9ZjthLm5TY3JvbGxGb290PXU7YS5hb0RyYXdDYWxsYmFjay5wdXNoKHtmbjpaLHNOYW1lOlwic2Nyb2xsaW5nXCJ9KTtyZXR1cm4gaVswXX1mdW5jdGlvbiBaKGEpe3ZhciBiPWEub1Njcm9sbCxjPWIuc1gsZD1iLnNYSW5uZXIsZT1iLnNZLGI9Yi5pQmFyV2lkdGgsZj1oKGEublNjcm9sbEhlYWQpLGc9ZlswXS5zdHlsZSxqPWYuY2hpbGRyZW4oXCJkaXZcIiksaT1qWzBdLnN0eWxlLG89ai5jaGlsZHJlbihcInRhYmxlXCIpLGo9YS5uU2Nyb2xsQm9keSxsPWgoaikscT1qLnN0eWxlLHU9aChhLm5TY3JvbGxGb290KS5jaGlsZHJlbihcImRpdlwiKSxcclxubT11LmNoaWxkcmVuKFwidGFibGVcIiksbj1oKGEublRIZWFkKSxwPWgoYS5uVGFibGUpLHQ9cFswXSx2PXQuc3R5bGUscj1hLm5URm9vdD9oKGEublRGb290KTpudWxsLEViPWEub0Jyb3dzZXIsVWE9RWIuYlNjcm9sbE92ZXJzaXplLHMsTCxQLHgseT1bXSx6PVtdLEE9W10sQixDPWZ1bmN0aW9uKGEpe2E9YS5zdHlsZTthLnBhZGRpbmdUb3A9XCIwXCI7YS5wYWRkaW5nQm90dG9tPVwiMFwiO2EuYm9yZGVyVG9wV2lkdGg9XCIwXCI7YS5ib3JkZXJCb3R0b21XaWR0aD1cIjBcIjthLmhlaWdodD0wfTtMPWouc2Nyb2xsSGVpZ2h0PmouY2xpZW50SGVpZ2h0O2lmKGEuc2Nyb2xsQmFyVmlzIT09TCYmYS5zY3JvbGxCYXJWaXMhPT1rKWEuc2Nyb2xsQmFyVmlzPUwsVShhKTtlbHNle2Euc2Nyb2xsQmFyVmlzPUw7cC5jaGlsZHJlbihcInRoZWFkLCB0Zm9vdFwiKS5yZW1vdmUoKTt4PW4uY2xvbmUoKS5wcmVwZW5kVG8ocCk7bj1uLmZpbmQoXCJ0clwiKTtMPXguZmluZChcInRyXCIpO3guZmluZChcInRoLCB0ZFwiKS5yZW1vdmVBdHRyKFwidGFiaW5kZXhcIik7XHJcbnImJihQPXIuY2xvbmUoKS5wcmVwZW5kVG8ocCkscz1yLmZpbmQoXCJ0clwiKSxQPVAuZmluZChcInRyXCIpKTtjfHwocS53aWR0aD1cIjEwMCVcIixmWzBdLnN0eWxlLndpZHRoPVwiMTAwJVwiKTtoLmVhY2gocWEoYSx4KSxmdW5jdGlvbihiLGMpe0I9JChhLGIpO2Muc3R5bGUud2lkdGg9YS5hb0NvbHVtbnNbQl0uc1dpZHRofSk7ciYmSShmdW5jdGlvbihhKXthLnN0eWxlLndpZHRoPVwiXCJ9LFApO2Y9cC5vdXRlcldpZHRoKCk7aWYoXCJcIj09PWMpe3Yud2lkdGg9XCIxMDAlXCI7aWYoVWEmJihwLmZpbmQoXCJ0Ym9keVwiKS5oZWlnaHQoKT5qLm9mZnNldEhlaWdodHx8XCJzY3JvbGxcIj09bC5jc3MoXCJvdmVyZmxvdy15XCIpKSl2LndpZHRoPXcocC5vdXRlcldpZHRoKCktYik7Zj1wLm91dGVyV2lkdGgoKX1lbHNlXCJcIiE9PWQmJih2LndpZHRoPXcoZCksZj1wLm91dGVyV2lkdGgoKSk7SShDLEwpO0koZnVuY3Rpb24oYSl7QS5wdXNoKGEuaW5uZXJIVE1MKTt5LnB1c2godyhoKGEpLmNzcyhcIndpZHRoXCIpKSl9LFxyXG5MKTtJKGZ1bmN0aW9uKGEsYil7YS5zdHlsZS53aWR0aD15W2JdfSxuKTtoKEwpLmhlaWdodCgwKTtyJiYoSShDLFApLEkoZnVuY3Rpb24oYSl7ei5wdXNoKHcoaChhKS5jc3MoXCJ3aWR0aFwiKSkpfSxQKSxJKGZ1bmN0aW9uKGEsYil7YS5zdHlsZS53aWR0aD16W2JdfSxzKSxoKFApLmhlaWdodCgwKSk7SShmdW5jdGlvbihhLGIpe2EuaW5uZXJIVE1MPSc8ZGl2IGNsYXNzPVwiZGF0YVRhYmxlc19zaXppbmdcIiBzdHlsZT1cImhlaWdodDowO292ZXJmbG93OmhpZGRlbjtcIj4nK0FbYl0rXCI8L2Rpdj5cIjthLnN0eWxlLndpZHRoPXlbYl19LEwpO3ImJkkoZnVuY3Rpb24oYSxiKXthLmlubmVySFRNTD1cIlwiO2Euc3R5bGUud2lkdGg9eltiXX0sUCk7aWYocC5vdXRlcldpZHRoKCk8Zil7cz1qLnNjcm9sbEhlaWdodD5qLm9mZnNldEhlaWdodHx8XCJzY3JvbGxcIj09bC5jc3MoXCJvdmVyZmxvdy15XCIpP2YrYjpmO2lmKFVhJiYoai5zY3JvbGxIZWlnaHQ+ai5vZmZzZXRIZWlnaHR8fFwic2Nyb2xsXCI9PWwuY3NzKFwib3ZlcmZsb3cteVwiKSkpdi53aWR0aD1cclxudyhzLWIpOyhcIlwiPT09Y3x8XCJcIiE9PWQpJiZLKGEsMSxcIlBvc3NpYmxlIGNvbHVtbiBtaXNhbGlnbm1lbnRcIiw2KX1lbHNlIHM9XCIxMDAlXCI7cS53aWR0aD13KHMpO2cud2lkdGg9dyhzKTtyJiYoYS5uU2Nyb2xsRm9vdC5zdHlsZS53aWR0aD13KHMpKTshZSYmVWEmJihxLmhlaWdodD13KHQub2Zmc2V0SGVpZ2h0K2IpKTtjPXAub3V0ZXJXaWR0aCgpO29bMF0uc3R5bGUud2lkdGg9dyhjKTtpLndpZHRoPXcoYyk7ZD1wLmhlaWdodCgpPmouY2xpZW50SGVpZ2h0fHxcInNjcm9sbFwiPT1sLmNzcyhcIm92ZXJmbG93LXlcIik7ZT1cInBhZGRpbmdcIisoRWIuYlNjcm9sbGJhckxlZnQ/XCJMZWZ0XCI6XCJSaWdodFwiKTtpW2VdPWQ/YitcInB4XCI6XCIwcHhcIjtyJiYobVswXS5zdHlsZS53aWR0aD13KGMpLHVbMF0uc3R5bGUud2lkdGg9dyhjKSx1WzBdLnN0eWxlW2VdPWQ/YitcInB4XCI6XCIwcHhcIik7bC5zY3JvbGwoKTtpZigoYS5iU29ydGVkfHxhLmJGaWx0ZXJlZCkmJiFhLl9kcmF3SG9sZClqLnNjcm9sbFRvcD1cclxuMH19ZnVuY3Rpb24gSShhLGIsYyl7Zm9yKHZhciBkPTAsZT0wLGY9Yi5sZW5ndGgsZyxqO2U8Zjspe2c9YltlXS5maXJzdENoaWxkO2ZvcihqPWM/Y1tlXS5maXJzdENoaWxkOm51bGw7ZzspMT09PWcubm9kZVR5cGUmJihjP2EoZyxqLGQpOmEoZyxkKSxkKyspLGc9Zy5uZXh0U2libGluZyxqPWM/ai5uZXh0U2libGluZzpudWxsO2UrK319ZnVuY3Rpb24gSGEoYSl7dmFyIGI9YS5uVGFibGUsYz1hLmFvQ29sdW1ucyxkPWEub1Njcm9sbCxlPWQuc1ksZj1kLnNYLGc9ZC5zWElubmVyLGo9Yy5sZW5ndGgsaT1hYShhLFwiYlZpc2libGVcIiksbz1oKFwidGhcIixhLm5USGVhZCksbD1iLmdldEF0dHJpYnV0ZShcIndpZHRoXCIpLGs9Yi5wYXJlbnROb2RlLHU9ITEsbSxuLHA9YS5vQnJvd3NlcixkPXAuYlNjcm9sbE92ZXJzaXplOyhtPWIuc3R5bGUud2lkdGgpJiYtMSE9PW0uaW5kZXhPZihcIiVcIikmJihsPW0pO2ZvcihtPTA7bTxpLmxlbmd0aDttKyspbj1jW2lbbV1dLG51bGwhPT1uLnNXaWR0aCYmXHJcbihuLnNXaWR0aD1GYihuLnNXaWR0aE9yaWcsayksdT0hMCk7aWYoZHx8IXUmJiFmJiYhZSYmaj09Y2EoYSkmJmo9PW8ubGVuZ3RoKWZvcihtPTA7bTxqO20rKylpPSQoYSxtKSxudWxsIT09aSYmKGNbaV0uc1dpZHRoPXcoby5lcShtKS53aWR0aCgpKSk7ZWxzZXtqPWgoYikuY2xvbmUoKS5jc3MoXCJ2aXNpYmlsaXR5XCIsXCJoaWRkZW5cIikucmVtb3ZlQXR0cihcImlkXCIpO2ouZmluZChcInRib2R5IHRyXCIpLnJlbW92ZSgpO3ZhciB0PWgoXCI8dHIvPlwiKS5hcHBlbmRUbyhqLmZpbmQoXCJ0Ym9keVwiKSk7ai5maW5kKFwidGhlYWQsIHRmb290XCIpLnJlbW92ZSgpO2ouYXBwZW5kKGgoYS5uVEhlYWQpLmNsb25lKCkpLmFwcGVuZChoKGEublRGb290KS5jbG9uZSgpKTtqLmZpbmQoXCJ0Zm9vdCB0aCwgdGZvb3QgdGRcIikuY3NzKFwid2lkdGhcIixcIlwiKTtvPXFhKGEsai5maW5kKFwidGhlYWRcIilbMF0pO2ZvcihtPTA7bTxpLmxlbmd0aDttKyspbj1jW2lbbV1dLG9bbV0uc3R5bGUud2lkdGg9bnVsbCE9PW4uc1dpZHRoT3JpZyYmXHJcblwiXCIhPT1uLnNXaWR0aE9yaWc/dyhuLnNXaWR0aE9yaWcpOlwiXCIsbi5zV2lkdGhPcmlnJiZmJiZoKG9bbV0pLmFwcGVuZChoKFwiPGRpdi8+XCIpLmNzcyh7d2lkdGg6bi5zV2lkdGhPcmlnLG1hcmdpbjowLHBhZGRpbmc6MCxib3JkZXI6MCxoZWlnaHQ6MX0pKTtpZihhLmFvRGF0YS5sZW5ndGgpZm9yKG09MDttPGkubGVuZ3RoO20rKyl1PWlbbV0sbj1jW3VdLGgoR2IoYSx1KSkuY2xvbmUoITEpLmFwcGVuZChuLnNDb250ZW50UGFkZGluZykuYXBwZW5kVG8odCk7bj1oKFwiPGRpdi8+XCIpLmNzcyhmfHxlP3twb3NpdGlvbjpcImFic29sdXRlXCIsdG9wOjAsbGVmdDowLGhlaWdodDoxLHJpZ2h0OjAsb3ZlcmZsb3c6XCJoaWRkZW5cIn06e30pLmFwcGVuZChqKS5hcHBlbmRUbyhrKTtmJiZnP2oud2lkdGgoZyk6Zj8oai5jc3MoXCJ3aWR0aFwiLFwiYXV0b1wiKSxqLnJlbW92ZUF0dHIoXCJ3aWR0aFwiKSxqLndpZHRoKCk8ay5jbGllbnRXaWR0aCYmbCYmai53aWR0aChrLmNsaWVudFdpZHRoKSk6ZT9qLndpZHRoKGsuY2xpZW50V2lkdGgpOlxyXG5sJiZqLndpZHRoKGwpO2ZvcihtPWU9MDttPGkubGVuZ3RoO20rKylrPWgob1ttXSksZz1rLm91dGVyV2lkdGgoKS1rLndpZHRoKCksaz1wLmJCb3VuZGluZz9NYXRoLmNlaWwob1ttXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCk6ay5vdXRlcldpZHRoKCksZSs9ayxjW2lbbV1dLnNXaWR0aD13KGstZyk7Yi5zdHlsZS53aWR0aD13KGUpO24ucmVtb3ZlKCl9bCYmKGIuc3R5bGUud2lkdGg9dyhsKSk7aWYoKGx8fGYpJiYhYS5fcmVzekV2dCliPWZ1bmN0aW9uKCl7aChFKS5iaW5kKFwicmVzaXplLkRULVwiK2Euc0luc3RhbmNlLHVhKGZ1bmN0aW9uKCl7VShhKX0pKX0sZD9zZXRUaW1lb3V0KGIsMUUzKTpiKCksYS5fcmVzekV2dD0hMH1mdW5jdGlvbiB1YShhLGIpe3ZhciBjPWIhPT1rP2I6MjAwLGQsZTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYj10aGlzLGc9K25ldyBEYXRlLGo9YXJndW1lbnRzO2QmJmc8ZCtjPyhjbGVhclRpbWVvdXQoZSksZT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZD1cclxuazthLmFwcGx5KGIsail9LGMpKTooZD1nLGEuYXBwbHkoYixqKSl9fWZ1bmN0aW9uIEZiKGEsYil7aWYoIWEpcmV0dXJuIDA7dmFyIGM9aChcIjxkaXYvPlwiKS5jc3MoXCJ3aWR0aFwiLHcoYSkpLmFwcGVuZFRvKGJ8fEguYm9keSksZD1jWzBdLm9mZnNldFdpZHRoO2MucmVtb3ZlKCk7cmV0dXJuIGR9ZnVuY3Rpb24gR2IoYSxiKXt2YXIgYz1IYihhLGIpO2lmKDA+YylyZXR1cm4gbnVsbDt2YXIgZD1hLmFvRGF0YVtjXTtyZXR1cm4hZC5uVHI/aChcIjx0ZC8+XCIpLmh0bWwoQihhLGMsYixcImRpc3BsYXlcIikpWzBdOmQuYW5DZWxsc1tiXX1mdW5jdGlvbiBIYihhLGIpe2Zvcih2YXIgYyxkPS0xLGU9LTEsZj0wLGc9YS5hb0RhdGEubGVuZ3RoO2Y8ZztmKyspYz1CKGEsZixiLFwiZGlzcGxheVwiKStcIlwiLGM9Yy5yZXBsYWNlKCRiLFwiXCIpLGM9Yy5yZXBsYWNlKC8mbmJzcDsvZyxcIiBcIiksYy5sZW5ndGg+ZCYmKGQ9Yy5sZW5ndGgsZT1mKTtyZXR1cm4gZX1mdW5jdGlvbiB3KGEpe3JldHVybiBudWxsPT09XHJcbmE/XCIwcHhcIjpcIm51bWJlclwiPT10eXBlb2YgYT8wPmE/XCIwcHhcIjphK1wicHhcIjphLm1hdGNoKC9cXGQkLyk/YStcInB4XCI6YX1mdW5jdGlvbiBXKGEpe3ZhciBiLGMsZD1bXSxlPWEuYW9Db2x1bW5zLGYsZyxqLGk7Yj1hLmFhU29ydGluZ0ZpeGVkO2M9aC5pc1BsYWluT2JqZWN0KGIpO3ZhciBvPVtdO2Y9ZnVuY3Rpb24oYSl7YS5sZW5ndGgmJiFoLmlzQXJyYXkoYVswXSk/by5wdXNoKGEpOmgubWVyZ2UobyxhKX07aC5pc0FycmF5KGIpJiZmKGIpO2MmJmIucHJlJiZmKGIucHJlKTtmKGEuYWFTb3J0aW5nKTtjJiZiLnBvc3QmJmYoYi5wb3N0KTtmb3IoYT0wO2E8by5sZW5ndGg7YSsrKXtpPW9bYV1bMF07Zj1lW2ldLmFEYXRhU29ydDtiPTA7Zm9yKGM9Zi5sZW5ndGg7YjxjO2IrKylnPWZbYl0saj1lW2ddLnNUeXBlfHxcInN0cmluZ1wiLG9bYV0uX2lkeD09PWsmJihvW2FdLl9pZHg9aC5pbkFycmF5KG9bYV1bMV0sZVtnXS5hc1NvcnRpbmcpKSxkLnB1c2goe3NyYzppLGNvbDpnLGRpcjpvW2FdWzFdLFxyXG5pbmRleDpvW2FdLl9pZHgsdHlwZTpqLGZvcm1hdHRlcjptLmV4dC50eXBlLm9yZGVyW2orXCItcHJlXCJdfSl9cmV0dXJuIGR9ZnVuY3Rpb24gbWIoYSl7dmFyIGIsYyxkPVtdLGU9bS5leHQudHlwZS5vcmRlcixmPWEuYW9EYXRhLGc9MCxqLGk9YS5haURpc3BsYXlNYXN0ZXIsaDtJYShhKTtoPVcoYSk7Yj0wO2ZvcihjPWgubGVuZ3RoO2I8YztiKyspaj1oW2JdLGouZm9ybWF0dGVyJiZnKyssSWIoYSxqLmNvbCk7aWYoXCJzc3BcIiE9eShhKSYmMCE9PWgubGVuZ3RoKXtiPTA7Zm9yKGM9aS5sZW5ndGg7YjxjO2IrKylkW2lbYl1dPWI7Zz09PWgubGVuZ3RoP2kuc29ydChmdW5jdGlvbihhLGIpe3ZhciBjLGUsZyxqLGk9aC5sZW5ndGgsaz1mW2FdLl9hU29ydERhdGEsbT1mW2JdLl9hU29ydERhdGE7Zm9yKGc9MDtnPGk7ZysrKWlmKGo9aFtnXSxjPWtbai5jb2xdLGU9bVtqLmNvbF0sYz1jPGU/LTE6Yz5lPzE6MCwwIT09YylyZXR1cm5cImFzY1wiPT09ai5kaXI/YzotYztjPWRbYV07ZT1kW2JdO1xyXG5yZXR1cm4gYzxlPy0xOmM+ZT8xOjB9KTppLnNvcnQoZnVuY3Rpb24oYSxiKXt2YXIgYyxnLGosaSxrPWgubGVuZ3RoLG09ZlthXS5fYVNvcnREYXRhLHA9ZltiXS5fYVNvcnREYXRhO2ZvcihqPTA7ajxrO2orKylpZihpPWhbal0sYz1tW2kuY29sXSxnPXBbaS5jb2xdLGk9ZVtpLnR5cGUrXCItXCIraS5kaXJdfHxlW1wic3RyaW5nLVwiK2kuZGlyXSxjPWkoYyxnKSwwIT09YylyZXR1cm4gYztjPWRbYV07Zz1kW2JdO3JldHVybiBjPGc/LTE6Yz5nPzE6MH0pfWEuYlNvcnRlZD0hMH1mdW5jdGlvbiBKYihhKXtmb3IodmFyIGIsYyxkPWEuYW9Db2x1bW5zLGU9VyhhKSxhPWEub0xhbmd1YWdlLm9BcmlhLGY9MCxnPWQubGVuZ3RoO2Y8ZztmKyspe2M9ZFtmXTt2YXIgaj1jLmFzU29ydGluZztiPWMuc1RpdGxlLnJlcGxhY2UoLzwuKj8+L2csXCJcIik7dmFyIGk9Yy5uVGg7aS5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLXNvcnRcIik7Yy5iU29ydGFibGUmJigwPGUubGVuZ3RoJiZlWzBdLmNvbD09Zj8oaS5zZXRBdHRyaWJ1dGUoXCJhcmlhLXNvcnRcIixcclxuXCJhc2NcIj09ZVswXS5kaXI/XCJhc2NlbmRpbmdcIjpcImRlc2NlbmRpbmdcIiksYz1qW2VbMF0uaW5kZXgrMV18fGpbMF0pOmM9alswXSxiKz1cImFzY1wiPT09Yz9hLnNTb3J0QXNjZW5kaW5nOmEuc1NvcnREZXNjZW5kaW5nKTtpLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIixiKX19ZnVuY3Rpb24gVmEoYSxiLGMsZCl7dmFyIGU9YS5hYVNvcnRpbmcsZj1hLmFvQ29sdW1uc1tiXS5hc1NvcnRpbmcsZz1mdW5jdGlvbihhLGIpe3ZhciBjPWEuX2lkeDtjPT09ayYmKGM9aC5pbkFycmF5KGFbMV0sZikpO3JldHVybiBjKzE8Zi5sZW5ndGg/YysxOmI/bnVsbDowfTtcIm51bWJlclwiPT09dHlwZW9mIGVbMF0mJihlPWEuYWFTb3J0aW5nPVtlXSk7YyYmYS5vRmVhdHVyZXMuYlNvcnRNdWx0aT8oYz1oLmluQXJyYXkoYixEKGUsXCIwXCIpKSwtMSE9PWM/KGI9ZyhlW2NdLCEwKSxudWxsPT09YiYmMT09PWUubGVuZ3RoJiYoYj0wKSxudWxsPT09Yj9lLnNwbGljZShjLDEpOihlW2NdWzFdPWZbYl0sZVtjXS5faWR4PVxyXG5iKSk6KGUucHVzaChbYixmWzBdLDBdKSxlW2UubGVuZ3RoLTFdLl9pZHg9MCkpOmUubGVuZ3RoJiZlWzBdWzBdPT1iPyhiPWcoZVswXSksZS5sZW5ndGg9MSxlWzBdWzFdPWZbYl0sZVswXS5faWR4PWIpOihlLmxlbmd0aD0wLGUucHVzaChbYixmWzBdXSksZVswXS5faWR4PTApO1QoYSk7XCJmdW5jdGlvblwiPT10eXBlb2YgZCYmZChhKX1mdW5jdGlvbiBPYShhLGIsYyxkKXt2YXIgZT1hLmFvQ29sdW1uc1tjXTtXYShiLHt9LGZ1bmN0aW9uKGIpeyExIT09ZS5iU29ydGFibGUmJihhLm9GZWF0dXJlcy5iUHJvY2Vzc2luZz8oQyhhLCEwKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7VmEoYSxjLGIuc2hpZnRLZXksZCk7XCJzc3BcIiE9PXkoYSkmJkMoYSwhMSl9LDApKTpWYShhLGMsYi5zaGlmdEtleSxkKSl9KX1mdW5jdGlvbiB4YShhKXt2YXIgYj1hLmFMYXN0U29ydCxjPWEub0NsYXNzZXMuc1NvcnRDb2x1bW4sZD1XKGEpLGU9YS5vRmVhdHVyZXMsZixnO2lmKGUuYlNvcnQmJmUuYlNvcnRDbGFzc2VzKXtlPVxyXG4wO2ZvcihmPWIubGVuZ3RoO2U8ZjtlKyspZz1iW2VdLnNyYyxoKEQoYS5hb0RhdGEsXCJhbkNlbGxzXCIsZykpLnJlbW92ZUNsYXNzKGMrKDI+ZT9lKzE6MykpO2U9MDtmb3IoZj1kLmxlbmd0aDtlPGY7ZSsrKWc9ZFtlXS5zcmMsaChEKGEuYW9EYXRhLFwiYW5DZWxsc1wiLGcpKS5hZGRDbGFzcyhjKygyPmU/ZSsxOjMpKX1hLmFMYXN0U29ydD1kfWZ1bmN0aW9uIEliKGEsYil7dmFyIGM9YS5hb0NvbHVtbnNbYl0sZD1tLmV4dC5vcmRlcltjLnNTb3J0RGF0YVR5cGVdLGU7ZCYmKGU9ZC5jYWxsKGEub0luc3RhbmNlLGEsYixiYShhLGIpKSk7Zm9yKHZhciBmLGc9bS5leHQudHlwZS5vcmRlcltjLnNUeXBlK1wiLXByZVwiXSxqPTAsaT1hLmFvRGF0YS5sZW5ndGg7ajxpO2orKylpZihjPWEuYW9EYXRhW2pdLGMuX2FTb3J0RGF0YXx8KGMuX2FTb3J0RGF0YT1bXSksIWMuX2FTb3J0RGF0YVtiXXx8ZClmPWQ/ZVtqXTpCKGEsaixiLFwic29ydFwiKSxjLl9hU29ydERhdGFbYl09Zz9nKGYpOmZ9ZnVuY3Rpb24geWEoYSl7aWYoYS5vRmVhdHVyZXMuYlN0YXRlU2F2ZSYmXHJcbiFhLmJEZXN0cm95aW5nKXt2YXIgYj17dGltZTorbmV3IERhdGUsc3RhcnQ6YS5faURpc3BsYXlTdGFydCxsZW5ndGg6YS5faURpc3BsYXlMZW5ndGgsb3JkZXI6aC5leHRlbmQoITAsW10sYS5hYVNvcnRpbmcpLHNlYXJjaDpBYihhLm9QcmV2aW91c1NlYXJjaCksY29sdW1uczpoLm1hcChhLmFvQ29sdW1ucyxmdW5jdGlvbihiLGQpe3JldHVybnt2aXNpYmxlOmIuYlZpc2libGUsc2VhcmNoOkFiKGEuYW9QcmVTZWFyY2hDb2xzW2RdKX19KX07dihhLFwiYW9TdGF0ZVNhdmVQYXJhbXNcIixcInN0YXRlU2F2ZVBhcmFtc1wiLFthLGJdKTthLm9TYXZlZFN0YXRlPWI7YS5mblN0YXRlU2F2ZUNhbGxiYWNrLmNhbGwoYS5vSW5zdGFuY2UsYSxiKX19ZnVuY3Rpb24gS2IoYSl7dmFyIGIsYyxkPWEuYW9Db2x1bW5zO2lmKGEub0ZlYXR1cmVzLmJTdGF0ZVNhdmUpe3ZhciBlPWEuZm5TdGF0ZUxvYWRDYWxsYmFjay5jYWxsKGEub0luc3RhbmNlLGEpO2lmKGUmJmUudGltZSYmKGI9dihhLFwiYW9TdGF0ZUxvYWRQYXJhbXNcIixcclxuXCJzdGF0ZUxvYWRQYXJhbXNcIixbYSxlXSksLTE9PT1oLmluQXJyYXkoITEsYikmJihiPWEuaVN0YXRlRHVyYXRpb24sISgwPGImJmUudGltZTwrbmV3IERhdGUtMUUzKmIpJiZkLmxlbmd0aD09PWUuY29sdW1ucy5sZW5ndGgpKSl7YS5vTG9hZGVkU3RhdGU9aC5leHRlbmQoITAse30sZSk7ZS5zdGFydCE9PWsmJihhLl9pRGlzcGxheVN0YXJ0PWUuc3RhcnQsYS5pSW5pdERpc3BsYXlTdGFydD1lLnN0YXJ0KTtlLmxlbmd0aCE9PWsmJihhLl9pRGlzcGxheUxlbmd0aD1lLmxlbmd0aCk7ZS5vcmRlciE9PWsmJihhLmFhU29ydGluZz1bXSxoLmVhY2goZS5vcmRlcixmdW5jdGlvbihiLGMpe2EuYWFTb3J0aW5nLnB1c2goY1swXT49ZC5sZW5ndGg/WzAsY1sxXV06Yyl9KSk7ZS5zZWFyY2ghPT1rJiZoLmV4dGVuZChhLm9QcmV2aW91c1NlYXJjaCxCYihlLnNlYXJjaCkpO2I9MDtmb3IoYz1lLmNvbHVtbnMubGVuZ3RoO2I8YztiKyspe3ZhciBmPWUuY29sdW1uc1tiXTtmLnZpc2libGUhPT1cclxuayYmKGRbYl0uYlZpc2libGU9Zi52aXNpYmxlKTtmLnNlYXJjaCE9PWsmJmguZXh0ZW5kKGEuYW9QcmVTZWFyY2hDb2xzW2JdLEJiKGYuc2VhcmNoKSl9dihhLFwiYW9TdGF0ZUxvYWRlZFwiLFwic3RhdGVMb2FkZWRcIixbYSxlXSl9fX1mdW5jdGlvbiB6YShhKXt2YXIgYj1tLnNldHRpbmdzLGE9aC5pbkFycmF5KGEsRChiLFwiblRhYmxlXCIpKTtyZXR1cm4tMSE9PWE/YlthXTpudWxsfWZ1bmN0aW9uIEsoYSxiLGMsZCl7Yz1cIkRhdGFUYWJsZXMgd2FybmluZzogXCIrKGE/XCJ0YWJsZSBpZD1cIithLnNUYWJsZUlkK1wiIC0gXCI6XCJcIikrYztkJiYoYys9XCIuIEZvciBtb3JlIGluZm9ybWF0aW9uIGFib3V0IHRoaXMgZXJyb3IsIHBsZWFzZSBzZWUgaHR0cDovL2RhdGF0YWJsZXMubmV0L3RuL1wiK2QpO2lmKGIpRS5jb25zb2xlJiZjb25zb2xlLmxvZyYmY29uc29sZS5sb2coYyk7ZWxzZSBpZihiPW0uZXh0LGI9Yi5zRXJyTW9kZXx8Yi5lcnJNb2RlLGEmJnYoYSxudWxsLFwiZXJyb3JcIixbYSxkLGNdKSxcImFsZXJ0XCI9PVxyXG5iKWFsZXJ0KGMpO2Vsc2V7aWYoXCJ0aHJvd1wiPT1iKXRocm93IEVycm9yKGMpO1wiZnVuY3Rpb25cIj09dHlwZW9mIGImJmIoYSxkLGMpfX1mdW5jdGlvbiBGKGEsYixjLGQpe2guaXNBcnJheShjKT9oLmVhY2goYyxmdW5jdGlvbihjLGQpe2guaXNBcnJheShkKT9GKGEsYixkWzBdLGRbMV0pOkYoYSxiLGQpfSk6KGQ9PT1rJiYoZD1jKSxiW2NdIT09ayYmKGFbZF09YltjXSkpfWZ1bmN0aW9uIExiKGEsYixjKXt2YXIgZCxlO2ZvcihlIGluIGIpYi5oYXNPd25Qcm9wZXJ0eShlKSYmKGQ9YltlXSxoLmlzUGxhaW5PYmplY3QoZCk/KGguaXNQbGFpbk9iamVjdChhW2VdKXx8KGFbZV09e30pLGguZXh0ZW5kKCEwLGFbZV0sZCkpOmFbZV09YyYmXCJkYXRhXCIhPT1lJiZcImFhRGF0YVwiIT09ZSYmaC5pc0FycmF5KGQpP2Quc2xpY2UoKTpkKTtyZXR1cm4gYX1mdW5jdGlvbiBXYShhLGIsYyl7aChhKS5iaW5kKFwiY2xpY2suRFRcIixiLGZ1bmN0aW9uKGIpe2EuYmx1cigpO2MoYil9KS5iaW5kKFwia2V5cHJlc3MuRFRcIixcclxuYixmdW5jdGlvbihhKXsxMz09PWEud2hpY2gmJihhLnByZXZlbnREZWZhdWx0KCksYyhhKSl9KS5iaW5kKFwic2VsZWN0c3RhcnQuRFRcIixmdW5jdGlvbigpe3JldHVybiExfSl9ZnVuY3Rpb24geihhLGIsYyxkKXtjJiZhW2JdLnB1c2goe2ZuOmMsc05hbWU6ZH0pfWZ1bmN0aW9uIHYoYSxiLGMsZCl7dmFyIGU9W107YiYmKGU9aC5tYXAoYVtiXS5zbGljZSgpLnJldmVyc2UoKSxmdW5jdGlvbihiKXtyZXR1cm4gYi5mbi5hcHBseShhLm9JbnN0YW5jZSxkKX0pKTtudWxsIT09YyYmKGI9aC5FdmVudChjK1wiLmR0XCIpLGgoYS5uVGFibGUpLnRyaWdnZXIoYixkKSxlLnB1c2goYi5yZXN1bHQpKTtyZXR1cm4gZX1mdW5jdGlvbiBTYShhKXt2YXIgYj1hLl9pRGlzcGxheVN0YXJ0LGM9YS5mbkRpc3BsYXlFbmQoKSxkPWEuX2lEaXNwbGF5TGVuZ3RoO2I+PWMmJihiPWMtZCk7Yi09YiVkO2lmKC0xPT09ZHx8MD5iKWI9MDthLl9pRGlzcGxheVN0YXJ0PWJ9ZnVuY3Rpb24gUGEoYSxiKXt2YXIgYz1cclxuYS5yZW5kZXJlcixkPW0uZXh0LnJlbmRlcmVyW2JdO3JldHVybiBoLmlzUGxhaW5PYmplY3QoYykmJmNbYl0/ZFtjW2JdXXx8ZC5fOlwic3RyaW5nXCI9PT10eXBlb2YgYz9kW2NdfHxkLl86ZC5ffWZ1bmN0aW9uIHkoYSl7cmV0dXJuIGEub0ZlYXR1cmVzLmJTZXJ2ZXJTaWRlP1wic3NwXCI6YS5hamF4fHxhLnNBamF4U291cmNlP1wiYWpheFwiOlwiZG9tXCJ9ZnVuY3Rpb24gQWEoYSxiKXt2YXIgYz1bXSxjPU1iLm51bWJlcnNfbGVuZ3RoLGQ9TWF0aC5mbG9vcihjLzIpO2I8PWM/Yz1YKDAsYik6YTw9ZD8oYz1YKDAsYy0yKSxjLnB1c2goXCJlbGxpcHNpc1wiKSxjLnB1c2goYi0xKSk6KGE+PWItMS1kP2M9WChiLShjLTIpLGIpOihjPVgoYS1kKzIsYStkLTEpLGMucHVzaChcImVsbGlwc2lzXCIpLGMucHVzaChiLTEpKSxjLnNwbGljZSgwLDAsXCJlbGxpcHNpc1wiKSxjLnNwbGljZSgwLDAsMCkpO2MuRFRfZWw9XCJzcGFuXCI7cmV0dXJuIGN9ZnVuY3Rpb24gZGIoYSl7aC5lYWNoKHtudW06ZnVuY3Rpb24oYil7cmV0dXJuIEJhKGIsXHJcbmEpfSxcIm51bS1mbXRcIjpmdW5jdGlvbihiKXtyZXR1cm4gQmEoYixhLFhhKX0sXCJodG1sLW51bVwiOmZ1bmN0aW9uKGIpe3JldHVybiBCYShiLGEsQ2EpfSxcImh0bWwtbnVtLWZtdFwiOmZ1bmN0aW9uKGIpe3JldHVybiBCYShiLGEsQ2EsWGEpfX0sZnVuY3Rpb24oYixjKXtzLnR5cGUub3JkZXJbYithK1wiLXByZVwiXT1jO2IubWF0Y2goL15odG1sXFwtLykmJihzLnR5cGUuc2VhcmNoW2IrYV09cy50eXBlLnNlYXJjaC5odG1sKX0pfWZ1bmN0aW9uIE5iKGEpe3JldHVybiBmdW5jdGlvbigpe3ZhciBiPVt6YSh0aGlzW20uZXh0LmlBcGlJbmRleF0pXS5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk7cmV0dXJuIG0uZXh0LmludGVybmFsW2FdLmFwcGx5KHRoaXMsYil9fXZhciBtLHMsdCxwLHIsWWE9e30sT2I9L1tcXHJcXG5dL2csQ2E9LzwuKj8+L2csYWM9L15bXFx3XFwrXFwtXS8sYmM9L1tcXHdcXCtcXC1dJC8sWWI9UmVnRXhwKFwiKFxcXFwvfFxcXFwufFxcXFwqfFxcXFwrfFxcXFw/fFxcXFx8fFxcXFwofFxcXFwpfFxcXFxbfFxcXFxdfFxcXFx7fFxcXFx9fFxcXFxcXFxcfFxcXFwkfFxcXFxefFxcXFwtKVwiLFxyXG5cImdcIiksWGE9L1snLCTCo+KCrMKlJVxcdTIwMDlcXHUyMDJGXFx1MjBCRFxcdTIwYTlcXHUyMEJBcmZrXS9naSxNPWZ1bmN0aW9uKGEpe3JldHVybiFhfHwhMD09PWF8fFwiLVwiPT09YT8hMDohMX0sUGI9ZnVuY3Rpb24oYSl7dmFyIGI9cGFyc2VJbnQoYSwxMCk7cmV0dXJuIWlzTmFOKGIpJiZpc0Zpbml0ZShhKT9iOm51bGx9LFFiPWZ1bmN0aW9uKGEsYil7WWFbYl18fChZYVtiXT1SZWdFeHAodmEoYiksXCJnXCIpKTtyZXR1cm5cInN0cmluZ1wiPT09dHlwZW9mIGEmJlwiLlwiIT09Yj9hLnJlcGxhY2UoL1xcLi9nLFwiXCIpLnJlcGxhY2UoWWFbYl0sXCIuXCIpOmF9LFphPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1cInN0cmluZ1wiPT09dHlwZW9mIGE7aWYoTShhKSlyZXR1cm4hMDtiJiZkJiYoYT1RYihhLGIpKTtjJiZkJiYoYT1hLnJlcGxhY2UoWGEsXCJcIikpO3JldHVybiFpc05hTihwYXJzZUZsb2F0KGEpKSYmaXNGaW5pdGUoYSl9LFJiPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gTShhKT8hMDohKE0oYSl8fFwic3RyaW5nXCI9PT1cclxudHlwZW9mIGEpP251bGw6WmEoYS5yZXBsYWNlKENhLFwiXCIpLGIsYyk/ITA6bnVsbH0sRD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9W10sZT0wLGY9YS5sZW5ndGg7aWYoYyE9PWspZm9yKDtlPGY7ZSsrKWFbZV0mJmFbZV1bYl0mJmQucHVzaChhW2VdW2JdW2NdKTtlbHNlIGZvcig7ZTxmO2UrKylhW2VdJiZkLnB1c2goYVtlXVtiXSk7cmV0dXJuIGR9LGphPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPVtdLGY9MCxnPWIubGVuZ3RoO2lmKGQhPT1rKWZvcig7ZjxnO2YrKylhW2JbZl1dW2NdJiZlLnB1c2goYVtiW2ZdXVtjXVtkXSk7ZWxzZSBmb3IoO2Y8ZztmKyspZS5wdXNoKGFbYltmXV1bY10pO3JldHVybiBlfSxYPWZ1bmN0aW9uKGEsYil7dmFyIGM9W10sZDtiPT09az8oYj0wLGQ9YSk6KGQ9YixiPWEpO2Zvcih2YXIgZT1iO2U8ZDtlKyspYy5wdXNoKGUpO3JldHVybiBjfSxTYj1mdW5jdGlvbihhKXtmb3IodmFyIGI9W10sYz0wLGQ9YS5sZW5ndGg7YzxkO2MrKylhW2NdJiZiLnB1c2goYVtjXSk7XHJcbnJldHVybiBifSxwYT1mdW5jdGlvbihhKXt2YXIgYj1bXSxjLGQsZT1hLmxlbmd0aCxmLGc9MDtkPTA7YTpmb3IoO2Q8ZTtkKyspe2M9YVtkXTtmb3IoZj0wO2Y8ZztmKyspaWYoYltmXT09PWMpY29udGludWUgYTtiLnB1c2goYyk7ZysrfXJldHVybiBifSxBPWZ1bmN0aW9uKGEsYixjKXthW2JdIT09ayYmKGFbY109YVtiXSl9LGRhPS9cXFsuKj9cXF0kLyxWPS9cXChcXCkkLyx3YT1oKFwiPGRpdj5cIilbMF0sWmI9d2EudGV4dENvbnRlbnQhPT1rLCRiPS88Lio/Pi9nO209ZnVuY3Rpb24oYSl7dGhpcy4kPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuYXBpKCEwKS4kKGEsYil9O3RoaXMuXz1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmFwaSghMCkucm93cyhhLGIpLmRhdGEoKX07dGhpcy5hcGk9ZnVuY3Rpb24oYSl7cmV0dXJuIGE/bmV3IHQoemEodGhpc1tzLmlBcGlJbmRleF0pKTpuZXcgdCh0aGlzKX07dGhpcy5mbkFkZERhdGE9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmFwaSghMCksXHJcbmQ9aC5pc0FycmF5KGEpJiYoaC5pc0FycmF5KGFbMF0pfHxoLmlzUGxhaW5PYmplY3QoYVswXSkpP2Mucm93cy5hZGQoYSk6Yy5yb3cuYWRkKGEpOyhiPT09a3x8YikmJmMuZHJhdygpO3JldHVybiBkLmZsYXR0ZW4oKS50b0FycmF5KCl9O3RoaXMuZm5BZGp1c3RDb2x1bW5TaXppbmc9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5hcGkoITApLmNvbHVtbnMuYWRqdXN0KCksYz1iLnNldHRpbmdzKClbMF0sZD1jLm9TY3JvbGw7YT09PWt8fGE/Yi5kcmF3KCExKTooXCJcIiE9PWQuc1h8fFwiXCIhPT1kLnNZKSYmWihjKX07dGhpcy5mbkNsZWFyVGFibGU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5hcGkoITApLmNsZWFyKCk7KGE9PT1rfHxhKSYmYi5kcmF3KCl9O3RoaXMuZm5DbG9zZT1mdW5jdGlvbihhKXt0aGlzLmFwaSghMCkucm93KGEpLmNoaWxkLmhpZGUoKX07dGhpcy5mbkRlbGV0ZVJvdz1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5hcGkoITApLGE9ZC5yb3dzKGEpLGU9YS5zZXR0aW5ncygpWzBdLFxyXG5oPWUuYW9EYXRhW2FbMF1bMF1dO2EucmVtb3ZlKCk7YiYmYi5jYWxsKHRoaXMsZSxoKTsoYz09PWt8fGMpJiZkLmRyYXcoKTtyZXR1cm4gaH07dGhpcy5mbkRlc3Ryb3k9ZnVuY3Rpb24oYSl7dGhpcy5hcGkoITApLmRlc3Ryb3koYSl9O3RoaXMuZm5EcmF3PWZ1bmN0aW9uKGEpe3RoaXMuYXBpKCEwKS5kcmF3KGEpfTt0aGlzLmZuRmlsdGVyPWZ1bmN0aW9uKGEsYixjLGQsZSxoKXtlPXRoaXMuYXBpKCEwKTtudWxsPT09Ynx8Yj09PWs/ZS5zZWFyY2goYSxjLGQsaCk6ZS5jb2x1bW4oYikuc2VhcmNoKGEsYyxkLGgpO2UuZHJhdygpfTt0aGlzLmZuR2V0RGF0YT1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuYXBpKCEwKTtpZihhIT09ayl7dmFyIGQ9YS5ub2RlTmFtZT9hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk6XCJcIjtyZXR1cm4gYiE9PWt8fFwidGRcIj09ZHx8XCJ0aFwiPT1kP2MuY2VsbChhLGIpLmRhdGEoKTpjLnJvdyhhKS5kYXRhKCl8fG51bGx9cmV0dXJuIGMuZGF0YSgpLnRvQXJyYXkoKX07XHJcbnRoaXMuZm5HZXROb2Rlcz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmFwaSghMCk7cmV0dXJuIGEhPT1rP2Iucm93KGEpLm5vZGUoKTpiLnJvd3MoKS5ub2RlcygpLmZsYXR0ZW4oKS50b0FycmF5KCl9O3RoaXMuZm5HZXRQb3NpdGlvbj1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmFwaSghMCksYz1hLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCk7cmV0dXJuXCJUUlwiPT1jP2Iucm93KGEpLmluZGV4KCk6XCJURFwiPT1jfHxcIlRIXCI9PWM/KGE9Yi5jZWxsKGEpLmluZGV4KCksW2Eucm93LGEuY29sdW1uVmlzaWJsZSxhLmNvbHVtbl0pOm51bGx9O3RoaXMuZm5Jc09wZW49ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYXBpKCEwKS5yb3coYSkuY2hpbGQuaXNTaG93bigpfTt0aGlzLmZuT3Blbj1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMuYXBpKCEwKS5yb3coYSkuY2hpbGQoYixjKS5zaG93KCkuY2hpbGQoKVswXX07dGhpcy5mblBhZ2VDaGFuZ2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmFwaSghMCkucGFnZShhKTtcclxuKGI9PT1rfHxiKSYmYy5kcmF3KCExKX07dGhpcy5mblNldENvbHVtblZpcz1mdW5jdGlvbihhLGIsYyl7YT10aGlzLmFwaSghMCkuY29sdW1uKGEpLnZpc2libGUoYik7KGM9PT1rfHxjKSYmYS5jb2x1bW5zLmFkanVzdCgpLmRyYXcoKX07dGhpcy5mblNldHRpbmdzPWZ1bmN0aW9uKCl7cmV0dXJuIHphKHRoaXNbcy5pQXBpSW5kZXhdKX07dGhpcy5mblNvcnQ9ZnVuY3Rpb24oYSl7dGhpcy5hcGkoITApLm9yZGVyKGEpLmRyYXcoKX07dGhpcy5mblNvcnRMaXN0ZW5lcj1mdW5jdGlvbihhLGIsYyl7dGhpcy5hcGkoITApLm9yZGVyLmxpc3RlbmVyKGEsYixjKX07dGhpcy5mblVwZGF0ZT1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBoPXRoaXMuYXBpKCEwKTtjPT09a3x8bnVsbD09PWM/aC5yb3coYikuZGF0YShhKTpoLmNlbGwoYixjKS5kYXRhKGEpOyhlPT09a3x8ZSkmJmguY29sdW1ucy5hZGp1c3QoKTsoZD09PWt8fGQpJiZoLmRyYXcoKTtyZXR1cm4gMH07dGhpcy5mblZlcnNpb25DaGVjaz1cclxucy5mblZlcnNpb25DaGVjazt2YXIgYj10aGlzLGM9YT09PWssZD10aGlzLmxlbmd0aDtjJiYoYT17fSk7dGhpcy5vQXBpPXRoaXMuaW50ZXJuYWw9cy5pbnRlcm5hbDtmb3IodmFyIGUgaW4gbS5leHQuaW50ZXJuYWwpZSYmKHRoaXNbZV09TmIoZSkpO3RoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBlPXt9LGU9MTxkP0xiKGUsYSwhMCk6YSxnPTAsaixpPXRoaXMuZ2V0QXR0cmlidXRlKFwiaWRcIiksbz0hMSxsPW0uZGVmYXVsdHMscT1oKHRoaXMpO2lmKFwidGFibGVcIiE9dGhpcy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKUsobnVsbCwwLFwiTm9uLXRhYmxlIG5vZGUgaW5pdGlhbGlzYXRpb24gKFwiK3RoaXMubm9kZU5hbWUrXCIpXCIsMik7ZWxzZXtlYihsKTtmYihsLmNvbHVtbik7SihsLGwsITApO0oobC5jb2x1bW4sbC5jb2x1bW4sITApO0oobCxoLmV4dGVuZChlLHEuZGF0YSgpKSk7dmFyIHU9bS5zZXR0aW5ncyxnPTA7Zm9yKGo9dS5sZW5ndGg7ZzxqO2crKyl7dmFyIHA9dVtnXTtpZihwLm5UYWJsZT09XHJcbnRoaXN8fHAublRIZWFkLnBhcmVudE5vZGU9PXRoaXN8fHAublRGb290JiZwLm5URm9vdC5wYXJlbnROb2RlPT10aGlzKXtnPWUuYlJldHJpZXZlIT09az9lLmJSZXRyaWV2ZTpsLmJSZXRyaWV2ZTtpZihjfHxnKXJldHVybiBwLm9JbnN0YW5jZTtpZihlLmJEZXN0cm95IT09az9lLmJEZXN0cm95OmwuYkRlc3Ryb3kpe3Aub0luc3RhbmNlLmZuRGVzdHJveSgpO2JyZWFrfWVsc2V7SyhwLDAsXCJDYW5ub3QgcmVpbml0aWFsaXNlIERhdGFUYWJsZVwiLDMpO3JldHVybn19aWYocC5zVGFibGVJZD09dGhpcy5pZCl7dS5zcGxpY2UoZywxKTticmVha319aWYobnVsbD09PWl8fFwiXCI9PT1pKXRoaXMuaWQ9aT1cIkRhdGFUYWJsZXNfVGFibGVfXCIrbS5leHQuX3VuaXF1ZSsrO3ZhciBuPWguZXh0ZW5kKCEwLHt9LG0ubW9kZWxzLm9TZXR0aW5ncyx7c0Rlc3Ryb3lXaWR0aDpxWzBdLnN0eWxlLndpZHRoLHNJbnN0YW5jZTppLHNUYWJsZUlkOml9KTtuLm5UYWJsZT10aGlzO24ub0FwaT1iLmludGVybmFsO1xyXG5uLm9Jbml0PWU7dS5wdXNoKG4pO24ub0luc3RhbmNlPTE9PT1iLmxlbmd0aD9iOnEuZGF0YVRhYmxlKCk7ZWIoZSk7ZS5vTGFuZ3VhZ2UmJkZhKGUub0xhbmd1YWdlKTtlLmFMZW5ndGhNZW51JiYhZS5pRGlzcGxheUxlbmd0aCYmKGUuaURpc3BsYXlMZW5ndGg9aC5pc0FycmF5KGUuYUxlbmd0aE1lbnVbMF0pP2UuYUxlbmd0aE1lbnVbMF1bMF06ZS5hTGVuZ3RoTWVudVswXSk7ZT1MYihoLmV4dGVuZCghMCx7fSxsKSxlKTtGKG4ub0ZlYXR1cmVzLGUsXCJiUGFnaW5hdGUgYkxlbmd0aENoYW5nZSBiRmlsdGVyIGJTb3J0IGJTb3J0TXVsdGkgYkluZm8gYlByb2Nlc3NpbmcgYkF1dG9XaWR0aCBiU29ydENsYXNzZXMgYlNlcnZlclNpZGUgYkRlZmVyUmVuZGVyXCIuc3BsaXQoXCIgXCIpKTtGKG4sZSxbXCJhc1N0cmlwZUNsYXNzZXNcIixcImFqYXhcIixcImZuU2VydmVyRGF0YVwiLFwiZm5Gb3JtYXROdW1iZXJcIixcInNTZXJ2ZXJNZXRob2RcIixcImFhU29ydGluZ1wiLFwiYWFTb3J0aW5nRml4ZWRcIixcImFMZW5ndGhNZW51XCIsXHJcblwic1BhZ2luYXRpb25UeXBlXCIsXCJzQWpheFNvdXJjZVwiLFwic0FqYXhEYXRhUHJvcFwiLFwiaVN0YXRlRHVyYXRpb25cIixcInNEb21cIixcImJTb3J0Q2VsbHNUb3BcIixcImlUYWJJbmRleFwiLFwiZm5TdGF0ZUxvYWRDYWxsYmFja1wiLFwiZm5TdGF0ZVNhdmVDYWxsYmFja1wiLFwicmVuZGVyZXJcIixcInNlYXJjaERlbGF5XCIsXCJyb3dJZFwiLFtcImlDb29raWVEdXJhdGlvblwiLFwiaVN0YXRlRHVyYXRpb25cIl0sW1wib1NlYXJjaFwiLFwib1ByZXZpb3VzU2VhcmNoXCJdLFtcImFvU2VhcmNoQ29sc1wiLFwiYW9QcmVTZWFyY2hDb2xzXCJdLFtcImlEaXNwbGF5TGVuZ3RoXCIsXCJfaURpc3BsYXlMZW5ndGhcIl0sW1wiYkpRdWVyeVVJXCIsXCJiSlVJXCJdXSk7RihuLm9TY3JvbGwsZSxbW1wic1Njcm9sbFhcIixcInNYXCJdLFtcInNTY3JvbGxYSW5uZXJcIixcInNYSW5uZXJcIl0sW1wic1Njcm9sbFlcIixcInNZXCJdLFtcImJTY3JvbGxDb2xsYXBzZVwiLFwiYkNvbGxhcHNlXCJdXSk7RihuLm9MYW5ndWFnZSxlLFwiZm5JbmZvQ2FsbGJhY2tcIik7eihuLFwiYW9EcmF3Q2FsbGJhY2tcIixcclxuZS5mbkRyYXdDYWxsYmFjayxcInVzZXJcIik7eihuLFwiYW9TZXJ2ZXJQYXJhbXNcIixlLmZuU2VydmVyUGFyYW1zLFwidXNlclwiKTt6KG4sXCJhb1N0YXRlU2F2ZVBhcmFtc1wiLGUuZm5TdGF0ZVNhdmVQYXJhbXMsXCJ1c2VyXCIpO3oobixcImFvU3RhdGVMb2FkUGFyYW1zXCIsZS5mblN0YXRlTG9hZFBhcmFtcyxcInVzZXJcIik7eihuLFwiYW9TdGF0ZUxvYWRlZFwiLGUuZm5TdGF0ZUxvYWRlZCxcInVzZXJcIik7eihuLFwiYW9Sb3dDYWxsYmFja1wiLGUuZm5Sb3dDYWxsYmFjayxcInVzZXJcIik7eihuLFwiYW9Sb3dDcmVhdGVkQ2FsbGJhY2tcIixlLmZuQ3JlYXRlZFJvdyxcInVzZXJcIik7eihuLFwiYW9IZWFkZXJDYWxsYmFja1wiLGUuZm5IZWFkZXJDYWxsYmFjayxcInVzZXJcIik7eihuLFwiYW9Gb290ZXJDYWxsYmFja1wiLGUuZm5Gb290ZXJDYWxsYmFjayxcInVzZXJcIik7eihuLFwiYW9Jbml0Q29tcGxldGVcIixlLmZuSW5pdENvbXBsZXRlLFwidXNlclwiKTt6KG4sXCJhb1ByZURyYXdDYWxsYmFja1wiLGUuZm5QcmVEcmF3Q2FsbGJhY2ssXHJcblwidXNlclwiKTtuLnJvd0lkRm49UShlLnJvd0lkKTtnYihuKTtpPW4ub0NsYXNzZXM7ZS5iSlF1ZXJ5VUk/KGguZXh0ZW5kKGksbS5leHQub0pVSUNsYXNzZXMsZS5vQ2xhc3NlcyksZS5zRG9tPT09bC5zRG9tJiZcImxmcnRpcFwiPT09bC5zRG9tJiYobi5zRG9tPSc8XCJIXCJsZnI+dDxcIkZcImlwPicpLG4ucmVuZGVyZXIpP2guaXNQbGFpbk9iamVjdChuLnJlbmRlcmVyKSYmIW4ucmVuZGVyZXIuaGVhZGVyJiYobi5yZW5kZXJlci5oZWFkZXI9XCJqcXVlcnl1aVwiKTpuLnJlbmRlcmVyPVwianF1ZXJ5dWlcIjpoLmV4dGVuZChpLG0uZXh0LmNsYXNzZXMsZS5vQ2xhc3Nlcyk7cS5hZGRDbGFzcyhpLnNUYWJsZSk7bi5pSW5pdERpc3BsYXlTdGFydD09PWsmJihuLmlJbml0RGlzcGxheVN0YXJ0PWUuaURpc3BsYXlTdGFydCxuLl9pRGlzcGxheVN0YXJ0PWUuaURpc3BsYXlTdGFydCk7bnVsbCE9PWUuaURlZmVyTG9hZGluZyYmKG4uYkRlZmVyTG9hZGluZz0hMCxnPWguaXNBcnJheShlLmlEZWZlckxvYWRpbmcpLFxyXG5uLl9pUmVjb3Jkc0Rpc3BsYXk9Zz9lLmlEZWZlckxvYWRpbmdbMF06ZS5pRGVmZXJMb2FkaW5nLG4uX2lSZWNvcmRzVG90YWw9Zz9lLmlEZWZlckxvYWRpbmdbMV06ZS5pRGVmZXJMb2FkaW5nKTt2YXIgdD1uLm9MYW5ndWFnZTtoLmV4dGVuZCghMCx0LGUub0xhbmd1YWdlKTtcIlwiIT09dC5zVXJsJiYoaC5hamF4KHtkYXRhVHlwZTpcImpzb25cIix1cmw6dC5zVXJsLHN1Y2Nlc3M6ZnVuY3Rpb24oYSl7RmEoYSk7SihsLm9MYW5ndWFnZSxhKTtoLmV4dGVuZCh0cnVlLHQsYSk7aWEobil9LGVycm9yOmZ1bmN0aW9uKCl7aWEobil9fSksbz0hMCk7bnVsbD09PWUuYXNTdHJpcGVDbGFzc2VzJiYobi5hc1N0cmlwZUNsYXNzZXM9W2kuc1N0cmlwZU9kZCxpLnNTdHJpcGVFdmVuXSk7dmFyIGc9bi5hc1N0cmlwZUNsYXNzZXMscj1xLmNoaWxkcmVuKFwidGJvZHlcIikuZmluZChcInRyXCIpLmVxKDApOy0xIT09aC5pbkFycmF5KCEwLGgubWFwKGcsZnVuY3Rpb24oYSl7cmV0dXJuIHIuaGFzQ2xhc3MoYSl9KSkmJlxyXG4oaChcInRib2R5IHRyXCIsdGhpcykucmVtb3ZlQ2xhc3MoZy5qb2luKFwiIFwiKSksbi5hc0Rlc3Ryb3lTdHJpcGVzPWcuc2xpY2UoKSk7dT1bXTtnPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJ0aGVhZFwiKTswIT09Zy5sZW5ndGgmJihmYShuLmFvSGVhZGVyLGdbMF0pLHU9cWEobikpO2lmKG51bGw9PT1lLmFvQ29sdW1ucyl7cD1bXTtnPTA7Zm9yKGo9dS5sZW5ndGg7ZzxqO2crKylwLnB1c2gobnVsbCl9ZWxzZSBwPWUuYW9Db2x1bW5zO2c9MDtmb3Ioaj1wLmxlbmd0aDtnPGo7ZysrKUdhKG4sdT91W2ddOm51bGwpO2liKG4sZS5hb0NvbHVtbkRlZnMscCxmdW5jdGlvbihhLGIpe2xhKG4sYSxiKX0pO2lmKHIubGVuZ3RoKXt2YXIgcz1mdW5jdGlvbihhLGIpe3JldHVybiBhLmdldEF0dHJpYnV0ZShcImRhdGEtXCIrYikhPT1udWxsP2I6bnVsbH07aChyWzBdKS5jaGlsZHJlbihcInRoLCB0ZFwiKS5lYWNoKGZ1bmN0aW9uKGEsYil7dmFyIGM9bi5hb0NvbHVtbnNbYV07aWYoYy5tRGF0YT09PVxyXG5hKXt2YXIgZD1zKGIsXCJzb3J0XCIpfHxzKGIsXCJvcmRlclwiKSxlPXMoYixcImZpbHRlclwiKXx8cyhiLFwic2VhcmNoXCIpO2lmKGQhPT1udWxsfHxlIT09bnVsbCl7Yy5tRGF0YT17XzphK1wiLmRpc3BsYXlcIixzb3J0OmQhPT1udWxsP2ErXCIuQGRhdGEtXCIrZDprLHR5cGU6ZCE9PW51bGw/YStcIi5AZGF0YS1cIitkOmssZmlsdGVyOmUhPT1udWxsP2ErXCIuQGRhdGEtXCIrZTprfTtsYShuLGEpfX19KX12YXIgdz1uLm9GZWF0dXJlcztlLmJTdGF0ZVNhdmUmJih3LmJTdGF0ZVNhdmU9ITAsS2IobixlKSx6KG4sXCJhb0RyYXdDYWxsYmFja1wiLHlhLFwic3RhdGVfc2F2ZVwiKSk7aWYoZS5hYVNvcnRpbmc9PT1rKXt1PW4uYWFTb3J0aW5nO2c9MDtmb3Ioaj11Lmxlbmd0aDtnPGo7ZysrKXVbZ11bMV09bi5hb0NvbHVtbnNbZ10uYXNTb3J0aW5nWzBdfXhhKG4pO3cuYlNvcnQmJnoobixcImFvRHJhd0NhbGxiYWNrXCIsZnVuY3Rpb24oKXtpZihuLmJTb3J0ZWQpe3ZhciBhPVcobiksYj17fTtoLmVhY2goYSxmdW5jdGlvbihhLFxyXG5jKXtiW2Muc3JjXT1jLmRpcn0pO3YobixudWxsLFwib3JkZXJcIixbbixhLGJdKTtKYihuKX19KTt6KG4sXCJhb0RyYXdDYWxsYmFja1wiLGZ1bmN0aW9uKCl7KG4uYlNvcnRlZHx8eShuKT09PVwic3NwXCJ8fHcuYkRlZmVyUmVuZGVyKSYmeGEobil9LFwic2NcIik7Zz1xLmNoaWxkcmVuKFwiY2FwdGlvblwiKS5lYWNoKGZ1bmN0aW9uKCl7dGhpcy5fY2FwdGlvblNpZGU9cS5jc3MoXCJjYXB0aW9uLXNpZGVcIil9KTtqPXEuY2hpbGRyZW4oXCJ0aGVhZFwiKTswPT09ai5sZW5ndGgmJihqPWgoXCI8dGhlYWQvPlwiKS5hcHBlbmRUbyh0aGlzKSk7bi5uVEhlYWQ9alswXTtqPXEuY2hpbGRyZW4oXCJ0Ym9keVwiKTswPT09ai5sZW5ndGgmJihqPWgoXCI8dGJvZHkvPlwiKS5hcHBlbmRUbyh0aGlzKSk7bi5uVEJvZHk9alswXTtqPXEuY2hpbGRyZW4oXCJ0Zm9vdFwiKTtpZigwPT09ai5sZW5ndGgmJjA8Zy5sZW5ndGgmJihcIlwiIT09bi5vU2Nyb2xsLnNYfHxcIlwiIT09bi5vU2Nyb2xsLnNZKSlqPWgoXCI8dGZvb3QvPlwiKS5hcHBlbmRUbyh0aGlzKTtcclxuMD09PWoubGVuZ3RofHwwPT09ai5jaGlsZHJlbigpLmxlbmd0aD9xLmFkZENsYXNzKGkuc05vRm9vdGVyKTowPGoubGVuZ3RoJiYobi5uVEZvb3Q9alswXSxmYShuLmFvRm9vdGVyLG4ublRGb290KSk7aWYoZS5hYURhdGEpZm9yKGc9MDtnPGUuYWFEYXRhLmxlbmd0aDtnKyspTihuLGUuYWFEYXRhW2ddKTtlbHNlKG4uYkRlZmVyTG9hZGluZ3x8XCJkb21cIj09eShuKSkmJm1hKG4saChuLm5UQm9keSkuY2hpbGRyZW4oXCJ0clwiKSk7bi5haURpc3BsYXk9bi5haURpc3BsYXlNYXN0ZXIuc2xpY2UoKTtuLmJJbml0aWFsaXNlZD0hMDshMT09PW8mJmlhKG4pfX0pO2I9bnVsbDtyZXR1cm4gdGhpc307dmFyIFRiPVtdLHg9QXJyYXkucHJvdG90eXBlLGNjPWZ1bmN0aW9uKGEpe3ZhciBiLGMsZD1tLnNldHRpbmdzLGU9aC5tYXAoZCxmdW5jdGlvbihhKXtyZXR1cm4gYS5uVGFibGV9KTtpZihhKXtpZihhLm5UYWJsZSYmYS5vQXBpKXJldHVyblthXTtpZihhLm5vZGVOYW1lJiZcInRhYmxlXCI9PT1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpcmV0dXJuIGI9XHJcbmguaW5BcnJheShhLGUpLC0xIT09Yj9bZFtiXV06bnVsbDtpZihhJiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgYS5zZXR0aW5ncylyZXR1cm4gYS5zZXR0aW5ncygpLnRvQXJyYXkoKTtcInN0cmluZ1wiPT09dHlwZW9mIGE/Yz1oKGEpOmEgaW5zdGFuY2VvZiBoJiYoYz1hKX1lbHNlIHJldHVybltdO2lmKGMpcmV0dXJuIGMubWFwKGZ1bmN0aW9uKCl7Yj1oLmluQXJyYXkodGhpcyxlKTtyZXR1cm4tMSE9PWI/ZFtiXTpudWxsfSkudG9BcnJheSgpfTt0PWZ1bmN0aW9uKGEsYil7aWYoISh0aGlzIGluc3RhbmNlb2YgdCkpcmV0dXJuIG5ldyB0KGEsYik7dmFyIGM9W10sZD1mdW5jdGlvbihhKXsoYT1jYyhhKSkmJihjPWMuY29uY2F0KGEpKX07aWYoaC5pc0FycmF5KGEpKWZvcih2YXIgZT0wLGY9YS5sZW5ndGg7ZTxmO2UrKylkKGFbZV0pO2Vsc2UgZChhKTt0aGlzLmNvbnRleHQ9cGEoYyk7YiYmaC5tZXJnZSh0aGlzLGIpO3RoaXMuc2VsZWN0b3I9e3Jvd3M6bnVsbCxjb2xzOm51bGwsb3B0czpudWxsfTtcclxudC5leHRlbmQodGhpcyx0aGlzLFRiKX07bS5BcGk9dDtoLmV4dGVuZCh0LnByb3RvdHlwZSx7YW55OmZ1bmN0aW9uKCl7cmV0dXJuIDAhPT10aGlzLmNvdW50KCl9LGNvbmNhdDp4LmNvbmNhdCxjb250ZXh0OltdLGNvdW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmxhdHRlbigpLmxlbmd0aH0sZWFjaDpmdW5jdGlvbihhKXtmb3IodmFyIGI9MCxjPXRoaXMubGVuZ3RoO2I8YztiKyspYS5jYWxsKHRoaXMsdGhpc1tiXSxiLHRoaXMpO3JldHVybiB0aGlzfSxlcTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNvbnRleHQ7cmV0dXJuIGIubGVuZ3RoPmE/bmV3IHQoYlthXSx0aGlzW2FdKTpudWxsfSxmaWx0ZXI6ZnVuY3Rpb24oYSl7dmFyIGI9W107aWYoeC5maWx0ZXIpYj14LmZpbHRlci5jYWxsKHRoaXMsYSx0aGlzKTtlbHNlIGZvcih2YXIgYz0wLGQ9dGhpcy5sZW5ndGg7YzxkO2MrKylhLmNhbGwodGhpcyx0aGlzW2NdLGMsdGhpcykmJmIucHVzaCh0aGlzW2NdKTtyZXR1cm4gbmV3IHQodGhpcy5jb250ZXh0LFxyXG5iKX0sZmxhdHRlbjpmdW5jdGlvbigpe3ZhciBhPVtdO3JldHVybiBuZXcgdCh0aGlzLmNvbnRleHQsYS5jb25jYXQuYXBwbHkoYSx0aGlzLnRvQXJyYXkoKSkpfSxqb2luOnguam9pbixpbmRleE9mOnguaW5kZXhPZnx8ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9Ynx8MCxkPXRoaXMubGVuZ3RoO2M8ZDtjKyspaWYodGhpc1tjXT09PWEpcmV0dXJuIGM7cmV0dXJuLTF9LGl0ZXJhdG9yOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPVtdLGYsZyxoLGksbyxsPXRoaXMuY29udGV4dCxtLHAscj10aGlzLnNlbGVjdG9yO1wic3RyaW5nXCI9PT10eXBlb2YgYSYmKGQ9YyxjPWIsYj1hLGE9ITEpO2c9MDtmb3IoaD1sLmxlbmd0aDtnPGg7ZysrKXt2YXIgbj1uZXcgdChsW2ddKTtpZihcInRhYmxlXCI9PT1iKWY9Yy5jYWxsKG4sbFtnXSxnKSxmIT09ayYmZS5wdXNoKGYpO2Vsc2UgaWYoXCJjb2x1bW5zXCI9PT1ifHxcInJvd3NcIj09PWIpZj1jLmNhbGwobixsW2ddLHRoaXNbZ10sZyksZiE9PWsmJmUucHVzaChmKTtcclxuZWxzZSBpZihcImNvbHVtblwiPT09Ynx8XCJjb2x1bW4tcm93c1wiPT09Ynx8XCJyb3dcIj09PWJ8fFwiY2VsbFwiPT09Yil7cD10aGlzW2ddO1wiY29sdW1uLXJvd3NcIj09PWImJihtPURhKGxbZ10sci5vcHRzKSk7aT0wO2ZvcihvPXAubGVuZ3RoO2k8bztpKyspZj1wW2ldLGY9XCJjZWxsXCI9PT1iP2MuY2FsbChuLGxbZ10sZi5yb3csZi5jb2x1bW4sZyxpKTpjLmNhbGwobixsW2ddLGYsZyxpLG0pLGYhPT1rJiZlLnB1c2goZil9fXJldHVybiBlLmxlbmd0aHx8ZD8oYT1uZXcgdChsLGE/ZS5jb25jYXQuYXBwbHkoW10sZSk6ZSksYj1hLnNlbGVjdG9yLGIucm93cz1yLnJvd3MsYi5jb2xzPXIuY29scyxiLm9wdHM9ci5vcHRzLGEpOnRoaXN9LGxhc3RJbmRleE9mOngubGFzdEluZGV4T2Z8fGZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuaW5kZXhPZi5hcHBseSh0aGlzLnRvQXJyYXkucmV2ZXJzZSgpLGFyZ3VtZW50cyl9LGxlbmd0aDowLG1hcDpmdW5jdGlvbihhKXt2YXIgYj1bXTtpZih4Lm1hcCliPVxyXG54Lm1hcC5jYWxsKHRoaXMsYSx0aGlzKTtlbHNlIGZvcih2YXIgYz0wLGQ9dGhpcy5sZW5ndGg7YzxkO2MrKyliLnB1c2goYS5jYWxsKHRoaXMsdGhpc1tjXSxjKSk7cmV0dXJuIG5ldyB0KHRoaXMuY29udGV4dCxiKX0scGx1Y2s6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKGIpe3JldHVybiBiW2FdfSl9LHBvcDp4LnBvcCxwdXNoOngucHVzaCxyZWR1Y2U6eC5yZWR1Y2V8fGZ1bmN0aW9uKGEsYil7cmV0dXJuIGhiKHRoaXMsYSxiLDAsdGhpcy5sZW5ndGgsMSl9LHJlZHVjZVJpZ2h0OngucmVkdWNlUmlnaHR8fGZ1bmN0aW9uKGEsYil7cmV0dXJuIGhiKHRoaXMsYSxiLHRoaXMubGVuZ3RoLTEsLTEsLTEpfSxyZXZlcnNlOngucmV2ZXJzZSxzZWxlY3RvcjpudWxsLHNoaWZ0Onguc2hpZnQsc29ydDp4LnNvcnQsc3BsaWNlOnguc3BsaWNlLHRvQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4geC5zbGljZS5jYWxsKHRoaXMpfSx0byQ6ZnVuY3Rpb24oKXtyZXR1cm4gaCh0aGlzKX0sXHJcbnRvSlF1ZXJ5OmZ1bmN0aW9uKCl7cmV0dXJuIGgodGhpcyl9LHVuaXF1ZTpmdW5jdGlvbigpe3JldHVybiBuZXcgdCh0aGlzLmNvbnRleHQscGEodGhpcykpfSx1bnNoaWZ0OngudW5zaGlmdH0pO3QuZXh0ZW5kPWZ1bmN0aW9uKGEsYixjKXtpZihjLmxlbmd0aCYmYiYmKGIgaW5zdGFuY2VvZiB0fHxiLl9fZHRfd3JhcHBlcikpe3ZhciBkLGUsZixnPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZD1iLmFwcGx5KGEsYXJndW1lbnRzKTt0LmV4dGVuZChkLGQsYy5tZXRob2RFeHQpO3JldHVybiBkfX07ZD0wO2ZvcihlPWMubGVuZ3RoO2Q8ZTtkKyspZj1jW2RdLGJbZi5uYW1lXT1cImZ1bmN0aW9uXCI9PT10eXBlb2YgZi52YWw/ZyhhLGYudmFsLGYpOmguaXNQbGFpbk9iamVjdChmLnZhbCk/e306Zi52YWwsYltmLm5hbWVdLl9fZHRfd3JhcHBlcj0hMCx0LmV4dGVuZChhLGJbZi5uYW1lXSxmLnByb3BFeHQpfX07dC5yZWdpc3Rlcj1wPWZ1bmN0aW9uKGEsYil7aWYoaC5pc0FycmF5KGEpKWZvcih2YXIgYz1cclxuMCxkPWEubGVuZ3RoO2M8ZDtjKyspdC5yZWdpc3RlcihhW2NdLGIpO2Vsc2UgZm9yKHZhciBlPWEuc3BsaXQoXCIuXCIpLGY9VGIsZyxqLGM9MCxkPWUubGVuZ3RoO2M8ZDtjKyspe2c9KGo9LTEhPT1lW2NdLmluZGV4T2YoXCIoKVwiKSk/ZVtjXS5yZXBsYWNlKFwiKClcIixcIlwiKTplW2NdO3ZhciBpO2E6e2k9MDtmb3IodmFyIGs9Zi5sZW5ndGg7aTxrO2krKylpZihmW2ldLm5hbWU9PT1nKXtpPWZbaV07YnJlYWsgYX1pPW51bGx9aXx8KGk9e25hbWU6Zyx2YWw6e30sbWV0aG9kRXh0OltdLHByb3BFeHQ6W119LGYucHVzaChpKSk7Yz09PWQtMT9pLnZhbD1iOmY9aj9pLm1ldGhvZEV4dDppLnByb3BFeHR9fTt0LnJlZ2lzdGVyUGx1cmFsPXI9ZnVuY3Rpb24oYSxiLGMpe3QucmVnaXN0ZXIoYSxjKTt0LnJlZ2lzdGVyKGIsZnVuY3Rpb24oKXt2YXIgYT1jLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gYT09PXRoaXM/dGhpczphIGluc3RhbmNlb2YgdD9hLmxlbmd0aD9oLmlzQXJyYXkoYVswXSk/XHJcbm5ldyB0KGEuY29udGV4dCxhWzBdKTphWzBdOms6YX0pfTtwKFwidGFibGVzKClcIixmdW5jdGlvbihhKXt2YXIgYjtpZihhKXtiPXQ7dmFyIGM9dGhpcy5jb250ZXh0O2lmKFwibnVtYmVyXCI9PT10eXBlb2YgYSlhPVtjW2FdXTtlbHNlIHZhciBkPWgubWFwKGMsZnVuY3Rpb24oYSl7cmV0dXJuIGEublRhYmxlfSksYT1oKGQpLmZpbHRlcihhKS5tYXAoZnVuY3Rpb24oKXt2YXIgYT1oLmluQXJyYXkodGhpcyxkKTtyZXR1cm4gY1thXX0pLnRvQXJyYXkoKTtiPW5ldyBiKGEpfWVsc2UgYj10aGlzO3JldHVybiBifSk7cChcInRhYmxlKClcIixmdW5jdGlvbihhKXt2YXIgYT10aGlzLnRhYmxlcyhhKSxiPWEuY29udGV4dDtyZXR1cm4gYi5sZW5ndGg/bmV3IHQoYlswXSk6YX0pO3IoXCJ0YWJsZXMoKS5ub2RlcygpXCIsXCJ0YWJsZSgpLm5vZGUoKVwiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXRlcmF0b3IoXCJ0YWJsZVwiLGZ1bmN0aW9uKGEpe3JldHVybiBhLm5UYWJsZX0sMSl9KTtyKFwidGFibGVzKCkuYm9keSgpXCIsXHJcblwidGFibGUoKS5ib2R5KClcIixmdW5jdGlvbigpe3JldHVybiB0aGlzLml0ZXJhdG9yKFwidGFibGVcIixmdW5jdGlvbihhKXtyZXR1cm4gYS5uVEJvZHl9LDEpfSk7cihcInRhYmxlcygpLmhlYWRlcigpXCIsXCJ0YWJsZSgpLmhlYWRlcigpXCIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pdGVyYXRvcihcInRhYmxlXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGEublRIZWFkfSwxKX0pO3IoXCJ0YWJsZXMoKS5mb290ZXIoKVwiLFwidGFibGUoKS5mb290ZXIoKVwiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXRlcmF0b3IoXCJ0YWJsZVwiLGZ1bmN0aW9uKGEpe3JldHVybiBhLm5URm9vdH0sMSl9KTtyKFwidGFibGVzKCkuY29udGFpbmVycygpXCIsXCJ0YWJsZSgpLmNvbnRhaW5lcigpXCIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pdGVyYXRvcihcInRhYmxlXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGEublRhYmxlV3JhcHBlcn0sMSl9KTtwKFwiZHJhdygpXCIsZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaXRlcmF0b3IoXCJ0YWJsZVwiLFxyXG5mdW5jdGlvbihiKXtcInBhZ2VcIj09PWE/TyhiKTooXCJzdHJpbmdcIj09PXR5cGVvZiBhJiYoYT1cImZ1bGwtaG9sZFwiPT09YT8hMTohMCksVChiLCExPT09YSkpfSl9KTtwKFwicGFnZSgpXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1rP3RoaXMucGFnZS5pbmZvKCkucGFnZTp0aGlzLml0ZXJhdG9yKFwidGFibGVcIixmdW5jdGlvbihiKXtUYShiLGEpfSl9KTtwKFwicGFnZS5pbmZvKClcIixmdW5jdGlvbigpe2lmKDA9PT10aGlzLmNvbnRleHQubGVuZ3RoKXJldHVybiBrO3ZhciBhPXRoaXMuY29udGV4dFswXSxiPWEuX2lEaXNwbGF5U3RhcnQsYz1hLm9GZWF0dXJlcy5iUGFnaW5hdGU/YS5faURpc3BsYXlMZW5ndGg6LTEsZD1hLmZuUmVjb3Jkc0Rpc3BsYXkoKSxlPS0xPT09YztyZXR1cm57cGFnZTplPzA6TWF0aC5mbG9vcihiL2MpLHBhZ2VzOmU/MTpNYXRoLmNlaWwoZC9jKSxzdGFydDpiLGVuZDphLmZuRGlzcGxheUVuZCgpLGxlbmd0aDpjLHJlY29yZHNUb3RhbDphLmZuUmVjb3Jkc1RvdGFsKCksXHJcbnJlY29yZHNEaXNwbGF5OmQsc2VydmVyU2lkZTpcInNzcFwiPT09eShhKX19KTtwKFwicGFnZS5sZW4oKVwiLGZ1bmN0aW9uKGEpe3JldHVybiBhPT09az8wIT09dGhpcy5jb250ZXh0Lmxlbmd0aD90aGlzLmNvbnRleHRbMF0uX2lEaXNwbGF5TGVuZ3RoOms6dGhpcy5pdGVyYXRvcihcInRhYmxlXCIsZnVuY3Rpb24oYil7UmEoYixhKX0pfSk7dmFyIFViPWZ1bmN0aW9uKGEsYixjKXtpZihjKXt2YXIgZD1uZXcgdChhKTtkLm9uZShcImRyYXdcIixmdW5jdGlvbigpe2MoZC5hamF4Lmpzb24oKSl9KX1pZihcInNzcFwiPT15KGEpKVQoYSxiKTtlbHNle0MoYSwhMCk7dmFyIGU9YS5qcVhIUjtlJiY0IT09ZS5yZWFkeVN0YXRlJiZlLmFib3J0KCk7cmEoYSxbXSxmdW5jdGlvbihjKXtuYShhKTtmb3IodmFyIGM9c2EoYSxjKSxkPTAsZT1jLmxlbmd0aDtkPGU7ZCsrKU4oYSxjW2RdKTtUKGEsYik7QyhhLCExKX0pfX07cChcImFqYXguanNvbigpXCIsZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNvbnRleHQ7aWYoMDxcclxuYS5sZW5ndGgpcmV0dXJuIGFbMF0uanNvbn0pO3AoXCJhamF4LnBhcmFtcygpXCIsZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNvbnRleHQ7aWYoMDxhLmxlbmd0aClyZXR1cm4gYVswXS5vQWpheERhdGF9KTtwKFwiYWpheC5yZWxvYWQoKVwiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuaXRlcmF0b3IoXCJ0YWJsZVwiLGZ1bmN0aW9uKGMpe1ViKGMsITE9PT1iLGEpfSl9KTtwKFwiYWpheC51cmwoKVwiLGZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY29udGV4dDtpZihhPT09ayl7aWYoMD09PWIubGVuZ3RoKXJldHVybiBrO2I9YlswXTtyZXR1cm4gYi5hamF4P2guaXNQbGFpbk9iamVjdChiLmFqYXgpP2IuYWpheC51cmw6Yi5hamF4OmIuc0FqYXhTb3VyY2V9cmV0dXJuIHRoaXMuaXRlcmF0b3IoXCJ0YWJsZVwiLGZ1bmN0aW9uKGIpe2guaXNQbGFpbk9iamVjdChiLmFqYXgpP2IuYWpheC51cmw9YTpiLmFqYXg9YX0pfSk7cChcImFqYXgudXJsKCkubG9hZCgpXCIsZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5pdGVyYXRvcihcInRhYmxlXCIsXHJcbmZ1bmN0aW9uKGMpe1ViKGMsITE9PT1iLGEpfSl9KTt2YXIgJGE9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1bXSxnLGosaSxvLGwsbTtpPXR5cGVvZiBiO2lmKCFifHxcInN0cmluZ1wiPT09aXx8XCJmdW5jdGlvblwiPT09aXx8Yi5sZW5ndGg9PT1rKWI9W2JdO2k9MDtmb3Iobz1iLmxlbmd0aDtpPG87aSsrKXtqPWJbaV0mJmJbaV0uc3BsaXQ/YltpXS5zcGxpdChcIixcIik6W2JbaV1dO2w9MDtmb3IobT1qLmxlbmd0aDtsPG07bCsrKShnPWMoXCJzdHJpbmdcIj09PXR5cGVvZiBqW2xdP2gudHJpbShqW2xdKTpqW2xdKSkmJmcubGVuZ3RoJiYoZj1mLmNvbmNhdChnKSl9YT1zLnNlbGVjdG9yW2FdO2lmKGEubGVuZ3RoKXtpPTA7Zm9yKG89YS5sZW5ndGg7aTxvO2krKylmPWFbaV0oZCxlLGYpfXJldHVybiBwYShmKX0sYWI9ZnVuY3Rpb24oYSl7YXx8KGE9e30pO2EuZmlsdGVyJiZhLnNlYXJjaD09PWsmJihhLnNlYXJjaD1hLmZpbHRlcik7cmV0dXJuIGguZXh0ZW5kKHtzZWFyY2g6XCJub25lXCIsXHJcbm9yZGVyOlwiY3VycmVudFwiLHBhZ2U6XCJhbGxcIn0sYSl9LGJiPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wLGM9YS5sZW5ndGg7YjxjO2IrKylpZigwPGFbYl0ubGVuZ3RoKXJldHVybiBhWzBdPWFbYl0sYVswXS5sZW5ndGg9MSxhLmxlbmd0aD0xLGEuY29udGV4dD1bYS5jb250ZXh0W2JdXSxhO2EubGVuZ3RoPTA7cmV0dXJuIGF9LERhPWZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGY9W10sZz1hLmFpRGlzcGxheTtjPWEuYWlEaXNwbGF5TWFzdGVyO3ZhciBqPWIuc2VhcmNoO2Q9Yi5vcmRlcjtlPWIucGFnZTtpZihcInNzcFwiPT15KGEpKXJldHVyblwicmVtb3ZlZFwiPT09aj9bXTpYKDAsYy5sZW5ndGgpO2lmKFwiY3VycmVudFwiPT1lKXtjPWEuX2lEaXNwbGF5U3RhcnQ7Zm9yKGQ9YS5mbkRpc3BsYXlFbmQoKTtjPGQ7YysrKWYucHVzaChnW2NdKX1lbHNlIGlmKFwiY3VycmVudFwiPT1kfHxcImFwcGxpZWRcIj09ZClmPVwibm9uZVwiPT1qP2Muc2xpY2UoKTpcImFwcGxpZWRcIj09aj9nLnNsaWNlKCk6aC5tYXAoYyxcclxuZnVuY3Rpb24oYSl7cmV0dXJuLTE9PT1oLmluQXJyYXkoYSxnKT9hOm51bGx9KTtlbHNlIGlmKFwiaW5kZXhcIj09ZHx8XCJvcmlnaW5hbFwiPT1kKXtjPTA7Zm9yKGQ9YS5hb0RhdGEubGVuZ3RoO2M8ZDtjKyspXCJub25lXCI9PWo/Zi5wdXNoKGMpOihlPWguaW5BcnJheShjLGcpLCgtMT09PWUmJlwicmVtb3ZlZFwiPT1qfHwwPD1lJiZcImFwcGxpZWRcIj09aikmJmYucHVzaChjKSl9cmV0dXJuIGZ9O3AoXCJyb3dzKClcIixmdW5jdGlvbihhLGIpe2E9PT1rP2E9XCJcIjpoLmlzUGxhaW5PYmplY3QoYSkmJihiPWEsYT1cIlwiKTt2YXIgYj1hYihiKSxjPXRoaXMuaXRlcmF0b3IoXCJ0YWJsZVwiLGZ1bmN0aW9uKGMpe3ZhciBlPWI7cmV0dXJuICRhKFwicm93XCIsYSxmdW5jdGlvbihhKXt2YXIgYj1QYihhKTtpZihiIT09bnVsbCYmIWUpcmV0dXJuW2JdO3ZhciBqPURhKGMsZSk7aWYoYiE9PW51bGwmJmguaW5BcnJheShiLGopIT09LTEpcmV0dXJuW2JdO2lmKCFhKXJldHVybiBqO2lmKHR5cGVvZiBhPT09XCJmdW5jdGlvblwiKXJldHVybiBoLm1hcChqLFxyXG5mdW5jdGlvbihiKXt2YXIgZT1jLmFvRGF0YVtiXTtyZXR1cm4gYShiLGUuX2FEYXRhLGUublRyKT9iOm51bGx9KTtiPVNiKGphKGMuYW9EYXRhLGosXCJuVHJcIikpO2lmKGEubm9kZU5hbWUmJmguaW5BcnJheShhLGIpIT09LTEpcmV0dXJuW2EuX0RUX1Jvd0luZGV4XTtpZih0eXBlb2YgYT09PVwic3RyaW5nXCImJmEuY2hhckF0KDApPT09XCIjXCIpe2o9Yy5hSWRzW2EucmVwbGFjZSgvXiMvLFwiXCIpXTtpZihqIT09aylyZXR1cm5bai5pZHhdfXJldHVybiBoKGIpLmZpbHRlcihhKS5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fRFRfUm93SW5kZXh9KS50b0FycmF5KCl9LGMsZSl9LDEpO2Muc2VsZWN0b3Iucm93cz1hO2Muc2VsZWN0b3Iub3B0cz1iO3JldHVybiBjfSk7cChcInJvd3MoKS5ub2RlcygpXCIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pdGVyYXRvcihcInJvd1wiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuYW9EYXRhW2JdLm5Ucnx8a30sMSl9KTtwKFwicm93cygpLmRhdGEoKVwiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXRlcmF0b3IoITAsXHJcblwicm93c1wiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGphKGEuYW9EYXRhLGIsXCJfYURhdGFcIil9LDEpfSk7cihcInJvd3MoKS5jYWNoZSgpXCIsXCJyb3coKS5jYWNoZSgpXCIsZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaXRlcmF0b3IoXCJyb3dcIixmdW5jdGlvbihiLGMpe3ZhciBkPWIuYW9EYXRhW2NdO3JldHVyblwic2VhcmNoXCI9PT1hP2QuX2FGaWx0ZXJEYXRhOmQuX2FTb3J0RGF0YX0sMSl9KTtyKFwicm93cygpLmludmFsaWRhdGUoKVwiLFwicm93KCkuaW52YWxpZGF0ZSgpXCIsZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaXRlcmF0b3IoXCJyb3dcIixmdW5jdGlvbihiLGMpe2VhKGIsYyxhKX0pfSk7cihcInJvd3MoKS5pbmRleGVzKClcIixcInJvdygpLmluZGV4KClcIixmdW5jdGlvbigpe3JldHVybiB0aGlzLml0ZXJhdG9yKFwicm93XCIsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYn0sMSl9KTtyKFwicm93cygpLmlkcygpXCIsXCJyb3coKS5pZCgpXCIsZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGM9dGhpcy5jb250ZXh0LFxyXG5kPTAsZT1jLmxlbmd0aDtkPGU7ZCsrKWZvcih2YXIgZj0wLGc9dGhpc1tkXS5sZW5ndGg7ZjxnO2YrKyl7dmFyIGg9Y1tkXS5yb3dJZEZuKGNbZF0uYW9EYXRhW3RoaXNbZF1bZl1dLl9hRGF0YSk7Yi5wdXNoKCghMD09PWE/XCIjXCI6XCJcIikraCl9cmV0dXJuIG5ldyB0KGMsYil9KTtyKFwicm93cygpLnJlbW92ZSgpXCIsXCJyb3coKS5yZW1vdmUoKVwiLGZ1bmN0aW9uKCl7dmFyIGE9dGhpczt0aGlzLml0ZXJhdG9yKFwicm93XCIsZnVuY3Rpb24oYixjLGQpe3ZhciBlPWIuYW9EYXRhLGY9ZVtjXSxnLGgsaSxvLGw7ZS5zcGxpY2UoYywxKTtnPTA7Zm9yKGg9ZS5sZW5ndGg7ZzxoO2crKylpZihpPWVbZ10sbD1pLmFuQ2VsbHMsbnVsbCE9PWkublRyJiYoaS5uVHIuX0RUX1Jvd0luZGV4PWcpLG51bGwhPT1sKXtpPTA7Zm9yKG89bC5sZW5ndGg7aTxvO2krKylsW2ldLl9EVF9DZWxsSW5kZXgucm93PWd9b2EoYi5haURpc3BsYXlNYXN0ZXIsYyk7b2EoYi5haURpc3BsYXksYyk7b2EoYVtkXSxjLCExKTtcclxuU2EoYik7Yz1iLnJvd0lkRm4oZi5fYURhdGEpO2MhPT1rJiZkZWxldGUgYi5hSWRzW2NdfSk7dGhpcy5pdGVyYXRvcihcInRhYmxlXCIsZnVuY3Rpb24oYSl7Zm9yKHZhciBjPTAsZD1hLmFvRGF0YS5sZW5ndGg7YzxkO2MrKylhLmFvRGF0YVtjXS5pZHg9Y30pO3JldHVybiB0aGlzfSk7cChcInJvd3MuYWRkKClcIixmdW5jdGlvbihhKXt2YXIgYj10aGlzLml0ZXJhdG9yKFwidGFibGVcIixmdW5jdGlvbihiKXt2YXIgYyxmLGcsaD1bXTtmPTA7Zm9yKGc9YS5sZW5ndGg7ZjxnO2YrKyljPWFbZl0sYy5ub2RlTmFtZSYmXCJUUlwiPT09Yy5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpP2gucHVzaChtYShiLGMpWzBdKTpoLnB1c2goTihiLGMpKTtyZXR1cm4gaH0sMSksYz10aGlzLnJvd3MoLTEpO2MucG9wKCk7aC5tZXJnZShjLGIpO3JldHVybiBjfSk7cChcInJvdygpXCIsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYmIodGhpcy5yb3dzKGEsYikpfSk7cChcInJvdygpLmRhdGEoKVwiLGZ1bmN0aW9uKGEpe3ZhciBiPVxyXG50aGlzLmNvbnRleHQ7aWYoYT09PWspcmV0dXJuIGIubGVuZ3RoJiZ0aGlzLmxlbmd0aD9iWzBdLmFvRGF0YVt0aGlzWzBdXS5fYURhdGE6aztiWzBdLmFvRGF0YVt0aGlzWzBdXS5fYURhdGE9YTtlYShiWzBdLHRoaXNbMF0sXCJkYXRhXCIpO3JldHVybiB0aGlzfSk7cChcInJvdygpLm5vZGUoKVwiLGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jb250ZXh0O3JldHVybiBhLmxlbmd0aCYmdGhpcy5sZW5ndGg/YVswXS5hb0RhdGFbdGhpc1swXV0ublRyfHxudWxsOm51bGx9KTtwKFwicm93LmFkZCgpXCIsZnVuY3Rpb24oYSl7YSBpbnN0YW5jZW9mIGgmJmEubGVuZ3RoJiYoYT1hWzBdKTt2YXIgYj10aGlzLml0ZXJhdG9yKFwidGFibGVcIixmdW5jdGlvbihiKXtyZXR1cm4gYS5ub2RlTmFtZSYmXCJUUlwiPT09YS5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpP21hKGIsYSlbMF06TihiLGEpfSk7cmV0dXJuIHRoaXMucm93KGJbMF0pfSk7dmFyIGNiPWZ1bmN0aW9uKGEsYil7dmFyIGM9YS5jb250ZXh0O2lmKGMubGVuZ3RoJiZcclxuKGM9Y1swXS5hb0RhdGFbYiE9PWs/YjphWzBdXSkmJmMuX2RldGFpbHMpYy5fZGV0YWlscy5yZW1vdmUoKSxjLl9kZXRhaWxzU2hvdz1rLGMuX2RldGFpbHM9a30sVmI9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmNvbnRleHQ7aWYoYy5sZW5ndGgmJmEubGVuZ3RoKXt2YXIgZD1jWzBdLmFvRGF0YVthWzBdXTtpZihkLl9kZXRhaWxzKXsoZC5fZGV0YWlsc1Nob3c9Yik/ZC5fZGV0YWlscy5pbnNlcnRBZnRlcihkLm5Ucik6ZC5fZGV0YWlscy5kZXRhY2goKTt2YXIgZT1jWzBdLGY9bmV3IHQoZSksZz1lLmFvRGF0YTtmLm9mZihcImRyYXcuZHQuRFRfZGV0YWlscyBjb2x1bW4tdmlzaWJpbGl0eS5kdC5EVF9kZXRhaWxzIGRlc3Ryb3kuZHQuRFRfZGV0YWlsc1wiKTswPEQoZyxcIl9kZXRhaWxzXCIpLmxlbmd0aCYmKGYub24oXCJkcmF3LmR0LkRUX2RldGFpbHNcIixmdW5jdGlvbihhLGIpe2U9PT1iJiZmLnJvd3Moe3BhZ2U6XCJjdXJyZW50XCJ9KS5lcSgwKS5lYWNoKGZ1bmN0aW9uKGEpe2E9Z1thXTtcclxuYS5fZGV0YWlsc1Nob3cmJmEuX2RldGFpbHMuaW5zZXJ0QWZ0ZXIoYS5uVHIpfSl9KSxmLm9uKFwiY29sdW1uLXZpc2liaWxpdHkuZHQuRFRfZGV0YWlsc1wiLGZ1bmN0aW9uKGEsYil7aWYoZT09PWIpZm9yKHZhciBjLGQ9Y2EoYiksZj0wLGg9Zy5sZW5ndGg7ZjxoO2YrKyljPWdbZl0sYy5fZGV0YWlscyYmYy5fZGV0YWlscy5jaGlsZHJlbihcInRkW2NvbHNwYW5dXCIpLmF0dHIoXCJjb2xzcGFuXCIsZCl9KSxmLm9uKFwiZGVzdHJveS5kdC5EVF9kZXRhaWxzXCIsZnVuY3Rpb24oYSxiKXtpZihlPT09Yilmb3IodmFyIGM9MCxkPWcubGVuZ3RoO2M8ZDtjKyspZ1tjXS5fZGV0YWlscyYmY2IoZixjKX0pKX19fTtwKFwicm93KCkuY2hpbGQoKVwiLGZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5jb250ZXh0O2lmKGE9PT1rKXJldHVybiBjLmxlbmd0aCYmdGhpcy5sZW5ndGg/Y1swXS5hb0RhdGFbdGhpc1swXV0uX2RldGFpbHM6aztpZighMD09PWEpdGhpcy5jaGlsZC5zaG93KCk7ZWxzZSBpZighMT09PVxyXG5hKWNiKHRoaXMpO2Vsc2UgaWYoYy5sZW5ndGgmJnRoaXMubGVuZ3RoKXt2YXIgZD1jWzBdLGM9Y1swXS5hb0RhdGFbdGhpc1swXV0sZT1bXSxmPWZ1bmN0aW9uKGEsYil7aWYoaC5pc0FycmF5KGEpfHxhIGluc3RhbmNlb2YgaClmb3IodmFyIGM9MCxrPWEubGVuZ3RoO2M8aztjKyspZihhW2NdLGIpO2Vsc2UgYS5ub2RlTmFtZSYmXCJ0clwiPT09YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpP2UucHVzaChhKTooYz1oKFwiPHRyPjx0ZC8+PC90cj5cIikuYWRkQ2xhc3MoYiksaChcInRkXCIsYykuYWRkQ2xhc3MoYikuaHRtbChhKVswXS5jb2xTcGFuPWNhKGQpLGUucHVzaChjWzBdKSl9O2YoYSxiKTtjLl9kZXRhaWxzJiZjLl9kZXRhaWxzLnJlbW92ZSgpO2MuX2RldGFpbHM9aChlKTtjLl9kZXRhaWxzU2hvdyYmYy5fZGV0YWlscy5pbnNlcnRBZnRlcihjLm5Ucil9cmV0dXJuIHRoaXN9KTtwKFtcInJvdygpLmNoaWxkLnNob3coKVwiLFwicm93KCkuY2hpbGQoKS5zaG93KClcIl0sZnVuY3Rpb24oKXtWYih0aGlzLFxyXG4hMCk7cmV0dXJuIHRoaXN9KTtwKFtcInJvdygpLmNoaWxkLmhpZGUoKVwiLFwicm93KCkuY2hpbGQoKS5oaWRlKClcIl0sZnVuY3Rpb24oKXtWYih0aGlzLCExKTtyZXR1cm4gdGhpc30pO3AoW1wicm93KCkuY2hpbGQucmVtb3ZlKClcIixcInJvdygpLmNoaWxkKCkucmVtb3ZlKClcIl0sZnVuY3Rpb24oKXtjYih0aGlzKTtyZXR1cm4gdGhpc30pO3AoXCJyb3coKS5jaGlsZC5pc1Nob3duKClcIixmdW5jdGlvbigpe3ZhciBhPXRoaXMuY29udGV4dDtyZXR1cm4gYS5sZW5ndGgmJnRoaXMubGVuZ3RoP2FbMF0uYW9EYXRhW3RoaXNbMF1dLl9kZXRhaWxzU2hvd3x8ITE6ITF9KTt2YXIgZGM9L14oLispOihuYW1lfHZpc0lkeHx2aXNpYmxlKSQvLFdiPWZ1bmN0aW9uKGEsYixjLGQsZSl7Zm9yKHZhciBjPVtdLGQ9MCxmPWUubGVuZ3RoO2Q8ZjtkKyspYy5wdXNoKEIoYSxlW2RdLGIpKTtyZXR1cm4gY307cChcImNvbHVtbnMoKVwiLGZ1bmN0aW9uKGEsYil7YT09PWs/YT1cIlwiOmguaXNQbGFpbk9iamVjdChhKSYmXHJcbihiPWEsYT1cIlwiKTt2YXIgYj1hYihiKSxjPXRoaXMuaXRlcmF0b3IoXCJ0YWJsZVwiLGZ1bmN0aW9uKGMpe3ZhciBlPWEsZj1iLGc9Yy5hb0NvbHVtbnMsaj1EKGcsXCJzTmFtZVwiKSxpPUQoZyxcIm5UaFwiKTtyZXR1cm4gJGEoXCJjb2x1bW5cIixlLGZ1bmN0aW9uKGEpe3ZhciBiPVBiKGEpO2lmKGE9PT1cIlwiKXJldHVybiBYKGcubGVuZ3RoKTtpZihiIT09bnVsbClyZXR1cm5bYj49MD9iOmcubGVuZ3RoK2JdO2lmKHR5cGVvZiBhPT09XCJmdW5jdGlvblwiKXt2YXIgZT1EYShjLGYpO3JldHVybiBoLm1hcChnLGZ1bmN0aW9uKGIsZil7cmV0dXJuIGEoZixXYihjLGYsMCwwLGUpLGlbZl0pP2Y6bnVsbH0pfXZhciBrPXR5cGVvZiBhPT09XCJzdHJpbmdcIj9hLm1hdGNoKGRjKTpcIlwiO2lmKGspc3dpdGNoKGtbMl0pe2Nhc2UgXCJ2aXNJZHhcIjpjYXNlIFwidmlzaWJsZVwiOmI9cGFyc2VJbnQoa1sxXSwxMCk7aWYoYjwwKXt2YXIgbT1oLm1hcChnLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuYlZpc2libGU/YjpudWxsfSk7XHJcbnJldHVyblttW20ubGVuZ3RoK2JdXX1yZXR1cm5bJChjLGIpXTtjYXNlIFwibmFtZVwiOnJldHVybiBoLm1hcChqLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9PT1rWzFdP2I6bnVsbH0pfWVsc2UgcmV0dXJuIGgoaSkuZmlsdGVyKGEpLm1hcChmdW5jdGlvbigpe3JldHVybiBoLmluQXJyYXkodGhpcyxpKX0pLnRvQXJyYXkoKX0sYyxmKX0sMSk7Yy5zZWxlY3Rvci5jb2xzPWE7Yy5zZWxlY3Rvci5vcHRzPWI7cmV0dXJuIGN9KTtyKFwiY29sdW1ucygpLmhlYWRlcigpXCIsXCJjb2x1bW4oKS5oZWFkZXIoKVwiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXRlcmF0b3IoXCJjb2x1bW5cIixmdW5jdGlvbihhLGIpe3JldHVybiBhLmFvQ29sdW1uc1tiXS5uVGh9LDEpfSk7cihcImNvbHVtbnMoKS5mb290ZXIoKVwiLFwiY29sdW1uKCkuZm9vdGVyKClcIixmdW5jdGlvbigpe3JldHVybiB0aGlzLml0ZXJhdG9yKFwiY29sdW1uXCIsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5hb0NvbHVtbnNbYl0ublRmfSwxKX0pO3IoXCJjb2x1bW5zKCkuZGF0YSgpXCIsXHJcblwiY29sdW1uKCkuZGF0YSgpXCIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pdGVyYXRvcihcImNvbHVtbi1yb3dzXCIsV2IsMSl9KTtyKFwiY29sdW1ucygpLmRhdGFTcmMoKVwiLFwiY29sdW1uKCkuZGF0YVNyYygpXCIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pdGVyYXRvcihcImNvbHVtblwiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuYW9Db2x1bW5zW2JdLm1EYXRhfSwxKX0pO3IoXCJjb2x1bW5zKCkuY2FjaGUoKVwiLFwiY29sdW1uKCkuY2FjaGUoKVwiLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLml0ZXJhdG9yKFwiY29sdW1uLXJvd3NcIixmdW5jdGlvbihiLGMsZCxlLGYpe3JldHVybiBqYShiLmFvRGF0YSxmLFwic2VhcmNoXCI9PT1hP1wiX2FGaWx0ZXJEYXRhXCI6XCJfYVNvcnREYXRhXCIsYyl9LDEpfSk7cihcImNvbHVtbnMoKS5ub2RlcygpXCIsXCJjb2x1bW4oKS5ub2RlcygpXCIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pdGVyYXRvcihcImNvbHVtbi1yb3dzXCIsZnVuY3Rpb24oYSxiLGMsZCxlKXtyZXR1cm4gamEoYS5hb0RhdGEsXHJcbmUsXCJhbkNlbGxzXCIsYil9LDEpfSk7cihcImNvbHVtbnMoKS52aXNpYmxlKClcIixcImNvbHVtbigpLnZpc2libGUoKVwiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuaXRlcmF0b3IoXCJjb2x1bW5cIixmdW5jdGlvbihjLGQpe2lmKGE9PT1rKXJldHVybiBjLmFvQ29sdW1uc1tkXS5iVmlzaWJsZTt2YXIgZT1jLmFvQ29sdW1ucyxmPWVbZF0sZz1jLmFvRGF0YSxqLGksbTtpZihhIT09ayYmZi5iVmlzaWJsZSE9PWEpe2lmKGEpe3ZhciBsPWguaW5BcnJheSghMCxEKGUsXCJiVmlzaWJsZVwiKSxkKzEpO2o9MDtmb3IoaT1nLmxlbmd0aDtqPGk7aisrKW09Z1tqXS5uVHIsZT1nW2pdLmFuQ2VsbHMsbSYmbS5pbnNlcnRCZWZvcmUoZVtkXSxlW2xdfHxudWxsKX1lbHNlIGgoRChjLmFvRGF0YSxcImFuQ2VsbHNcIixkKSkuZGV0YWNoKCk7Zi5iVmlzaWJsZT1hO2dhKGMsYy5hb0hlYWRlcik7Z2EoYyxjLmFvRm9vdGVyKTtpZihiPT09a3x8YilVKGMpLChjLm9TY3JvbGwuc1h8fGMub1Njcm9sbC5zWSkmJlxyXG5aKGMpO3YoYyxudWxsLFwiY29sdW1uLXZpc2liaWxpdHlcIixbYyxkLGEsYl0pO3lhKGMpfX0pfSk7cihcImNvbHVtbnMoKS5pbmRleGVzKClcIixcImNvbHVtbigpLmluZGV4KClcIixmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pdGVyYXRvcihcImNvbHVtblwiLGZ1bmN0aW9uKGIsYyl7cmV0dXJuXCJ2aXNpYmxlXCI9PT1hP2JhKGIsYyk6Y30sMSl9KTtwKFwiY29sdW1ucy5hZGp1c3QoKVwiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXRlcmF0b3IoXCJ0YWJsZVwiLGZ1bmN0aW9uKGEpe1UoYSl9LDEpfSk7cChcImNvbHVtbi5pbmRleCgpXCIsZnVuY3Rpb24oYSxiKXtpZigwIT09dGhpcy5jb250ZXh0Lmxlbmd0aCl7dmFyIGM9dGhpcy5jb250ZXh0WzBdO2lmKFwiZnJvbVZpc2libGVcIj09PWF8fFwidG9EYXRhXCI9PT1hKXJldHVybiAkKGMsYik7aWYoXCJmcm9tRGF0YVwiPT09YXx8XCJ0b1Zpc2libGVcIj09PWEpcmV0dXJuIGJhKGMsYil9fSk7cChcImNvbHVtbigpXCIsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYmIodGhpcy5jb2x1bW5zKGEsXHJcbmIpKX0pO3AoXCJjZWxscygpXCIsZnVuY3Rpb24oYSxiLGMpe2guaXNQbGFpbk9iamVjdChhKSYmKGEucm93PT09az8oYz1hLGE9bnVsbCk6KGM9YixiPW51bGwpKTtoLmlzUGxhaW5PYmplY3QoYikmJihjPWIsYj1udWxsKTtpZihudWxsPT09Ynx8Yj09PWspcmV0dXJuIHRoaXMuaXRlcmF0b3IoXCJ0YWJsZVwiLGZ1bmN0aW9uKGIpe3ZhciBkPWEsZT1hYihjKSxmPWIuYW9EYXRhLGc9RGEoYixlKSxqPVNiKGphKGYsZyxcImFuQ2VsbHNcIikpLGk9aChbXS5jb25jYXQuYXBwbHkoW10saikpLGwsbT1iLmFvQ29sdW1ucy5sZW5ndGgsbyxwLHQscixzLHY7cmV0dXJuICRhKFwiY2VsbFwiLGQsZnVuY3Rpb24oYSl7dmFyIGM9dHlwZW9mIGE9PT1cImZ1bmN0aW9uXCI7aWYoYT09PW51bGx8fGE9PT1rfHxjKXtvPVtdO3A9MDtmb3IodD1nLmxlbmd0aDtwPHQ7cCsrKXtsPWdbcF07Zm9yKHI9MDtyPG07cisrKXtzPXtyb3c6bCxjb2x1bW46cn07aWYoYyl7dj1mW2xdO2EocyxCKGIsbCxyKSx2LmFuQ2VsbHM/XHJcbnYuYW5DZWxsc1tyXTpudWxsKSYmby5wdXNoKHMpfWVsc2Ugby5wdXNoKHMpfX1yZXR1cm4gb31yZXR1cm4gaC5pc1BsYWluT2JqZWN0KGEpP1thXTppLmZpbHRlcihhKS5tYXAoZnVuY3Rpb24oYSxiKXtyZXR1cm57cm93OmIuX0RUX0NlbGxJbmRleC5yb3csY29sdW1uOmIuX0RUX0NlbGxJbmRleC5jb2x1bW59fSkudG9BcnJheSgpfSxiLGUpfSk7dmFyIGQ9dGhpcy5jb2x1bW5zKGIsYyksZT10aGlzLnJvd3MoYSxjKSxmLGcsaixpLG0sbD10aGlzLml0ZXJhdG9yKFwidGFibGVcIixmdW5jdGlvbihhLGIpe2Y9W107Zz0wO2ZvcihqPWVbYl0ubGVuZ3RoO2c8ajtnKyspe2k9MDtmb3IobT1kW2JdLmxlbmd0aDtpPG07aSsrKWYucHVzaCh7cm93OmVbYl1bZ10sY29sdW1uOmRbYl1baV19KX1yZXR1cm4gZn0sMSk7aC5leHRlbmQobC5zZWxlY3Rvcix7Y29sczpiLHJvd3M6YSxvcHRzOmN9KTtyZXR1cm4gbH0pO3IoXCJjZWxscygpLm5vZGVzKClcIixcImNlbGwoKS5ub2RlKClcIixmdW5jdGlvbigpe3JldHVybiB0aGlzLml0ZXJhdG9yKFwiY2VsbFwiLFxyXG5mdW5jdGlvbihhLGIsYyl7cmV0dXJuKGE9YS5hb0RhdGFbYl0uYW5DZWxscyk/YVtjXTprfSwxKX0pO3AoXCJjZWxscygpLmRhdGEoKVwiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXRlcmF0b3IoXCJjZWxsXCIsZnVuY3Rpb24oYSxiLGMpe3JldHVybiBCKGEsYixjKX0sMSl9KTtyKFwiY2VsbHMoKS5jYWNoZSgpXCIsXCJjZWxsKCkuY2FjaGUoKVwiLGZ1bmN0aW9uKGEpe2E9XCJzZWFyY2hcIj09PWE/XCJfYUZpbHRlckRhdGFcIjpcIl9hU29ydERhdGFcIjtyZXR1cm4gdGhpcy5pdGVyYXRvcihcImNlbGxcIixmdW5jdGlvbihiLGMsZCl7cmV0dXJuIGIuYW9EYXRhW2NdW2FdW2RdfSwxKX0pO3IoXCJjZWxscygpLnJlbmRlcigpXCIsXCJjZWxsKCkucmVuZGVyKClcIixmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pdGVyYXRvcihcImNlbGxcIixmdW5jdGlvbihiLGMsZCl7cmV0dXJuIEIoYixjLGQsYSl9LDEpfSk7cihcImNlbGxzKCkuaW5kZXhlcygpXCIsXCJjZWxsKCkuaW5kZXgoKVwiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXRlcmF0b3IoXCJjZWxsXCIsXHJcbmZ1bmN0aW9uKGEsYixjKXtyZXR1cm57cm93OmIsY29sdW1uOmMsY29sdW1uVmlzaWJsZTpiYShhLGMpfX0sMSl9KTtyKFwiY2VsbHMoKS5pbnZhbGlkYXRlKClcIixcImNlbGwoKS5pbnZhbGlkYXRlKClcIixmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pdGVyYXRvcihcImNlbGxcIixmdW5jdGlvbihiLGMsZCl7ZWEoYixjLGEsZCl9KX0pO3AoXCJjZWxsKClcIixmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGJiKHRoaXMuY2VsbHMoYSxiLGMpKX0pO3AoXCJjZWxsKCkuZGF0YSgpXCIsZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jb250ZXh0LGM9dGhpc1swXTtpZihhPT09aylyZXR1cm4gYi5sZW5ndGgmJmMubGVuZ3RoP0IoYlswXSxjWzBdLnJvdyxjWzBdLmNvbHVtbik6aztqYihiWzBdLGNbMF0ucm93LGNbMF0uY29sdW1uLGEpO2VhKGJbMF0sY1swXS5yb3csXCJkYXRhXCIsY1swXS5jb2x1bW4pO3JldHVybiB0aGlzfSk7cChcIm9yZGVyKClcIixmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuY29udGV4dDtpZihhPT09XHJcbmspcmV0dXJuIDAhPT1jLmxlbmd0aD9jWzBdLmFhU29ydGluZzprO1wibnVtYmVyXCI9PT10eXBlb2YgYT9hPVtbYSxiXV06aC5pc0FycmF5KGFbMF0pfHwoYT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKTtyZXR1cm4gdGhpcy5pdGVyYXRvcihcInRhYmxlXCIsZnVuY3Rpb24oYil7Yi5hYVNvcnRpbmc9YS5zbGljZSgpfSl9KTtwKFwib3JkZXIubGlzdGVuZXIoKVwiLGZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdGhpcy5pdGVyYXRvcihcInRhYmxlXCIsZnVuY3Rpb24oZCl7T2EoZCxhLGIsYyl9KX0pO3AoXCJvcmRlci5maXhlZCgpXCIsZnVuY3Rpb24oYSl7aWYoIWEpe3ZhciBiPXRoaXMuY29udGV4dCxiPWIubGVuZ3RoP2JbMF0uYWFTb3J0aW5nRml4ZWQ6aztyZXR1cm4gaC5pc0FycmF5KGIpP3twcmU6Yn06Yn1yZXR1cm4gdGhpcy5pdGVyYXRvcihcInRhYmxlXCIsZnVuY3Rpb24oYil7Yi5hYVNvcnRpbmdGaXhlZD1oLmV4dGVuZCghMCx7fSxhKX0pfSk7cChbXCJjb2x1bW5zKCkub3JkZXIoKVwiLFxyXG5cImNvbHVtbigpLm9yZGVyKClcIl0sZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztyZXR1cm4gdGhpcy5pdGVyYXRvcihcInRhYmxlXCIsZnVuY3Rpb24oYyxkKXt2YXIgZT1bXTtoLmVhY2goYltkXSxmdW5jdGlvbihiLGMpe2UucHVzaChbYyxhXSl9KTtjLmFhU29ydGluZz1lfSl9KTtwKFwic2VhcmNoKClcIixmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT10aGlzLmNvbnRleHQ7cmV0dXJuIGE9PT1rPzAhPT1lLmxlbmd0aD9lWzBdLm9QcmV2aW91c1NlYXJjaC5zU2VhcmNoOms6dGhpcy5pdGVyYXRvcihcInRhYmxlXCIsZnVuY3Rpb24oZSl7ZS5vRmVhdHVyZXMuYkZpbHRlciYmaGEoZSxoLmV4dGVuZCh7fSxlLm9QcmV2aW91c1NlYXJjaCx7c1NlYXJjaDphK1wiXCIsYlJlZ2V4Om51bGw9PT1iPyExOmIsYlNtYXJ0Om51bGw9PT1jPyEwOmMsYkNhc2VJbnNlbnNpdGl2ZTpudWxsPT09ZD8hMDpkfSksMSl9KX0pO3IoXCJjb2x1bW5zKCkuc2VhcmNoKClcIixcImNvbHVtbigpLnNlYXJjaCgpXCIsZnVuY3Rpb24oYSxcclxuYixjLGQpe3JldHVybiB0aGlzLml0ZXJhdG9yKFwiY29sdW1uXCIsZnVuY3Rpb24oZSxmKXt2YXIgZz1lLmFvUHJlU2VhcmNoQ29scztpZihhPT09aylyZXR1cm4gZ1tmXS5zU2VhcmNoO2Uub0ZlYXR1cmVzLmJGaWx0ZXImJihoLmV4dGVuZChnW2ZdLHtzU2VhcmNoOmErXCJcIixiUmVnZXg6bnVsbD09PWI/ITE6YixiU21hcnQ6bnVsbD09PWM/ITA6YyxiQ2FzZUluc2Vuc2l0aXZlOm51bGw9PT1kPyEwOmR9KSxoYShlLGUub1ByZXZpb3VzU2VhcmNoLDEpKX0pfSk7cChcInN0YXRlKClcIixmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRleHQubGVuZ3RoP3RoaXMuY29udGV4dFswXS5vU2F2ZWRTdGF0ZTpudWxsfSk7cChcInN0YXRlLmNsZWFyKClcIixmdW5jdGlvbigpe3JldHVybiB0aGlzLml0ZXJhdG9yKFwidGFibGVcIixmdW5jdGlvbihhKXthLmZuU3RhdGVTYXZlQ2FsbGJhY2suY2FsbChhLm9JbnN0YW5jZSxhLHt9KX0pfSk7cChcInN0YXRlLmxvYWRlZCgpXCIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZXh0Lmxlbmd0aD9cclxudGhpcy5jb250ZXh0WzBdLm9Mb2FkZWRTdGF0ZTpudWxsfSk7cChcInN0YXRlLnNhdmUoKVwiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXRlcmF0b3IoXCJ0YWJsZVwiLGZ1bmN0aW9uKGEpe3lhKGEpfSl9KTttLnZlcnNpb25DaGVjaz1tLmZuVmVyc2lvbkNoZWNrPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1tLnZlcnNpb24uc3BsaXQoXCIuXCIpLGE9YS5zcGxpdChcIi5cIiksYyxkLGU9MCxmPWEubGVuZ3RoO2U8ZjtlKyspaWYoYz1wYXJzZUludChiW2VdLDEwKXx8MCxkPXBhcnNlSW50KGFbZV0sMTApfHwwLGMhPT1kKXJldHVybiBjPmQ7cmV0dXJuITB9O20uaXNEYXRhVGFibGU9bS5mbklzRGF0YVRhYmxlPWZ1bmN0aW9uKGEpe3ZhciBiPWgoYSkuZ2V0KDApLGM9ITE7aC5lYWNoKG0uc2V0dGluZ3MsZnVuY3Rpb24oYSxlKXt2YXIgZj1lLm5TY3JvbGxIZWFkP2goXCJ0YWJsZVwiLGUublNjcm9sbEhlYWQpWzBdOm51bGwsZz1lLm5TY3JvbGxGb290P2goXCJ0YWJsZVwiLGUublNjcm9sbEZvb3QpWzBdOlxyXG5udWxsO2lmKGUublRhYmxlPT09Ynx8Zj09PWJ8fGc9PT1iKWM9ITB9KTtyZXR1cm4gY307bS50YWJsZXM9bS5mblRhYmxlcz1mdW5jdGlvbihhKXt2YXIgYj0hMTtoLmlzUGxhaW5PYmplY3QoYSkmJihiPWEuYXBpLGE9YS52aXNpYmxlKTt2YXIgYz1oLm1hcChtLnNldHRpbmdzLGZ1bmN0aW9uKGIpe2lmKCFhfHxhJiZoKGIublRhYmxlKS5pcyhcIjp2aXNpYmxlXCIpKXJldHVybiBiLm5UYWJsZX0pO3JldHVybiBiP25ldyB0KGMpOmN9O20udXRpbD17dGhyb3R0bGU6dWEsZXNjYXBlUmVnZXg6dmF9O20uY2FtZWxUb0h1bmdhcmlhbj1KO3AoXCIkKClcIixmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMucm93cyhiKS5ub2RlcygpLGM9aChjKTtyZXR1cm4gaChbXS5jb25jYXQoYy5maWx0ZXIoYSkudG9BcnJheSgpLGMuZmluZChhKS50b0FycmF5KCkpKX0pO2guZWFjaChbXCJvblwiLFwib25lXCIsXCJvZmZcIl0sZnVuY3Rpb24oYSxiKXtwKGIrXCIoKVwiLGZ1bmN0aW9uKCl7dmFyIGE9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcclxuYVswXS5tYXRjaCgvXFwuZHRcXGIvKXx8KGFbMF0rPVwiLmR0XCIpO3ZhciBkPWgodGhpcy50YWJsZXMoKS5ub2RlcygpKTtkW2JdLmFwcGx5KGQsYSk7cmV0dXJuIHRoaXN9KX0pO3AoXCJjbGVhcigpXCIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pdGVyYXRvcihcInRhYmxlXCIsZnVuY3Rpb24oYSl7bmEoYSl9KX0pO3AoXCJzZXR0aW5ncygpXCIsZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHQodGhpcy5jb250ZXh0LHRoaXMuY29udGV4dCl9KTtwKFwiaW5pdCgpXCIsZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNvbnRleHQ7cmV0dXJuIGEubGVuZ3RoP2FbMF0ub0luaXQ6bnVsbH0pO3AoXCJkYXRhKClcIixmdW5jdGlvbigpe3JldHVybiB0aGlzLml0ZXJhdG9yKFwidGFibGVcIixmdW5jdGlvbihhKXtyZXR1cm4gRChhLmFvRGF0YSxcIl9hRGF0YVwiKX0pLmZsYXR0ZW4oKX0pO3AoXCJkZXN0cm95KClcIixmdW5jdGlvbihhKXthPWF8fCExO3JldHVybiB0aGlzLml0ZXJhdG9yKFwidGFibGVcIixmdW5jdGlvbihiKXt2YXIgYz1cclxuYi5uVGFibGVXcmFwcGVyLnBhcmVudE5vZGUsZD1iLm9DbGFzc2VzLGU9Yi5uVGFibGUsZj1iLm5UQm9keSxnPWIublRIZWFkLGo9Yi5uVEZvb3QsaT1oKGUpLGY9aChmKSxrPWgoYi5uVGFibGVXcmFwcGVyKSxsPWgubWFwKGIuYW9EYXRhLGZ1bmN0aW9uKGEpe3JldHVybiBhLm5Ucn0pLHA7Yi5iRGVzdHJveWluZz0hMDt2KGIsXCJhb0Rlc3Ryb3lDYWxsYmFja1wiLFwiZGVzdHJveVwiLFtiXSk7YXx8KG5ldyB0KGIpKS5jb2x1bW5zKCkudmlzaWJsZSghMCk7ay51bmJpbmQoXCIuRFRcIikuZmluZChcIjpub3QodGJvZHkgKilcIikudW5iaW5kKFwiLkRUXCIpO2goRSkudW5iaW5kKFwiLkRULVwiK2Iuc0luc3RhbmNlKTtlIT1nLnBhcmVudE5vZGUmJihpLmNoaWxkcmVuKFwidGhlYWRcIikuZGV0YWNoKCksaS5hcHBlbmQoZykpO2omJmUhPWoucGFyZW50Tm9kZSYmKGkuY2hpbGRyZW4oXCJ0Zm9vdFwiKS5kZXRhY2goKSxpLmFwcGVuZChqKSk7Yi5hYVNvcnRpbmc9W107Yi5hYVNvcnRpbmdGaXhlZD1bXTt4YShiKTtcclxuaChsKS5yZW1vdmVDbGFzcyhiLmFzU3RyaXBlQ2xhc3Nlcy5qb2luKFwiIFwiKSk7aChcInRoLCB0ZFwiLGcpLnJlbW92ZUNsYXNzKGQuc1NvcnRhYmxlK1wiIFwiK2Quc1NvcnRhYmxlQXNjK1wiIFwiK2Quc1NvcnRhYmxlRGVzYytcIiBcIitkLnNTb3J0YWJsZU5vbmUpO2IuYkpVSSYmKGgoXCJ0aCBzcGFuLlwiK2Quc1NvcnRJY29uK1wiLCB0ZCBzcGFuLlwiK2Quc1NvcnRJY29uLGcpLmRldGFjaCgpLGgoXCJ0aCwgdGRcIixnKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGE9aChcImRpdi5cIitkLnNTb3J0SlVJV3JhcHBlcix0aGlzKTtoKHRoaXMpLmFwcGVuZChhLmNvbnRlbnRzKCkpO2EuZGV0YWNoKCl9KSk7Zi5jaGlsZHJlbigpLmRldGFjaCgpO2YuYXBwZW5kKGwpO2c9YT9cInJlbW92ZVwiOlwiZGV0YWNoXCI7aVtnXSgpO2tbZ10oKTshYSYmYyYmKGMuaW5zZXJ0QmVmb3JlKGUsYi5uVGFibGVSZWluc2VydEJlZm9yZSksaS5jc3MoXCJ3aWR0aFwiLGIuc0Rlc3Ryb3lXaWR0aCkucmVtb3ZlQ2xhc3MoZC5zVGFibGUpLChwPVxyXG5iLmFzRGVzdHJveVN0cmlwZXMubGVuZ3RoKSYmZi5jaGlsZHJlbigpLmVhY2goZnVuY3Rpb24oYSl7aCh0aGlzKS5hZGRDbGFzcyhiLmFzRGVzdHJveVN0cmlwZXNbYSVwXSl9KSk7Yz1oLmluQXJyYXkoYixtLnNldHRpbmdzKTstMSE9PWMmJm0uc2V0dGluZ3Muc3BsaWNlKGMsMSl9KX0pO2guZWFjaChbXCJjb2x1bW5cIixcInJvd1wiLFwiY2VsbFwiXSxmdW5jdGlvbihhLGIpe3AoYitcInMoKS5ldmVyeSgpXCIsZnVuY3Rpb24oYSl7dmFyIGQ9dGhpcy5zZWxlY3Rvci5vcHRzLGU9dGhpcztyZXR1cm4gdGhpcy5pdGVyYXRvcihiLGZ1bmN0aW9uKGYsZyxoLGksbSl7YS5jYWxsKGVbYl0oZyxcImNlbGxcIj09PWI/aDpkLFwiY2VsbFwiPT09Yj9kOmspLGcsaCxpLG0pfSl9KX0pO3AoXCJpMThuKClcIixmdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5jb250ZXh0WzBdLGE9UShhKShkLm9MYW5ndWFnZSk7YT09PWsmJihhPWIpO2MhPT1rJiZoLmlzUGxhaW5PYmplY3QoYSkmJihhPWFbY10hPT1rP2FbY106YS5fKTtcclxucmV0dXJuIGEucmVwbGFjZShcIiVkXCIsYyl9KTttLnZlcnNpb249XCIxLjEwLjEwXCI7bS5zZXR0aW5ncz1bXTttLm1vZGVscz17fTttLm1vZGVscy5vU2VhcmNoPXtiQ2FzZUluc2Vuc2l0aXZlOiEwLHNTZWFyY2g6XCJcIixiUmVnZXg6ITEsYlNtYXJ0OiEwfTttLm1vZGVscy5vUm93PXtuVHI6bnVsbCxhbkNlbGxzOm51bGwsX2FEYXRhOltdLF9hU29ydERhdGE6bnVsbCxfYUZpbHRlckRhdGE6bnVsbCxfc0ZpbHRlclJvdzpudWxsLF9zUm93U3RyaXBlOlwiXCIsc3JjOm51bGwsaWR4Oi0xfTttLm1vZGVscy5vQ29sdW1uPXtpZHg6bnVsbCxhRGF0YVNvcnQ6bnVsbCxhc1NvcnRpbmc6bnVsbCxiU2VhcmNoYWJsZTpudWxsLGJTb3J0YWJsZTpudWxsLGJWaXNpYmxlOm51bGwsX3NNYW51YWxUeXBlOm51bGwsX2JBdHRyU3JjOiExLGZuQ3JlYXRlZENlbGw6bnVsbCxmbkdldERhdGE6bnVsbCxmblNldERhdGE6bnVsbCxtRGF0YTpudWxsLG1SZW5kZXI6bnVsbCxuVGg6bnVsbCxuVGY6bnVsbCxzQ2xhc3M6bnVsbCxcclxuc0NvbnRlbnRQYWRkaW5nOm51bGwsc0RlZmF1bHRDb250ZW50Om51bGwsc05hbWU6bnVsbCxzU29ydERhdGFUeXBlOlwic3RkXCIsc1NvcnRpbmdDbGFzczpudWxsLHNTb3J0aW5nQ2xhc3NKVUk6bnVsbCxzVGl0bGU6bnVsbCxzVHlwZTpudWxsLHNXaWR0aDpudWxsLHNXaWR0aE9yaWc6bnVsbH07bS5kZWZhdWx0cz17YWFEYXRhOm51bGwsYWFTb3J0aW5nOltbMCxcImFzY1wiXV0sYWFTb3J0aW5nRml4ZWQ6W10sYWpheDpudWxsLGFMZW5ndGhNZW51OlsxMCwyNSw1MCwxMDBdLGFvQ29sdW1uczpudWxsLGFvQ29sdW1uRGVmczpudWxsLGFvU2VhcmNoQ29sczpbXSxhc1N0cmlwZUNsYXNzZXM6bnVsbCxiQXV0b1dpZHRoOiEwLGJEZWZlclJlbmRlcjohMSxiRGVzdHJveTohMSxiRmlsdGVyOiEwLGJJbmZvOiEwLGJKUXVlcnlVSTohMSxiTGVuZ3RoQ2hhbmdlOiEwLGJQYWdpbmF0ZTohMCxiUHJvY2Vzc2luZzohMSxiUmV0cmlldmU6ITEsYlNjcm9sbENvbGxhcHNlOiExLGJTZXJ2ZXJTaWRlOiExLFxyXG5iU29ydDohMCxiU29ydE11bHRpOiEwLGJTb3J0Q2VsbHNUb3A6ITEsYlNvcnRDbGFzc2VzOiEwLGJTdGF0ZVNhdmU6ITEsZm5DcmVhdGVkUm93Om51bGwsZm5EcmF3Q2FsbGJhY2s6bnVsbCxmbkZvb3RlckNhbGxiYWNrOm51bGwsZm5Gb3JtYXROdW1iZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIGEudG9TdHJpbmcoKS5yZXBsYWNlKC9cXEIoPz0oXFxkezN9KSsoPyFcXGQpKS9nLHRoaXMub0xhbmd1YWdlLnNUaG91c2FuZHMpfSxmbkhlYWRlckNhbGxiYWNrOm51bGwsZm5JbmZvQ2FsbGJhY2s6bnVsbCxmbkluaXRDb21wbGV0ZTpudWxsLGZuUHJlRHJhd0NhbGxiYWNrOm51bGwsZm5Sb3dDYWxsYmFjazpudWxsLGZuU2VydmVyRGF0YTpudWxsLGZuU2VydmVyUGFyYW1zOm51bGwsZm5TdGF0ZUxvYWRDYWxsYmFjazpmdW5jdGlvbihhKXt0cnl7cmV0dXJuIEpTT04ucGFyc2UoKC0xPT09YS5pU3RhdGVEdXJhdGlvbj9zZXNzaW9uU3RvcmFnZTpsb2NhbFN0b3JhZ2UpLmdldEl0ZW0oXCJEYXRhVGFibGVzX1wiK1xyXG5hLnNJbnN0YW5jZStcIl9cIitsb2NhdGlvbi5wYXRobmFtZSkpfWNhdGNoKGIpe319LGZuU3RhdGVMb2FkUGFyYW1zOm51bGwsZm5TdGF0ZUxvYWRlZDpudWxsLGZuU3RhdGVTYXZlQ2FsbGJhY2s6ZnVuY3Rpb24oYSxiKXt0cnl7KC0xPT09YS5pU3RhdGVEdXJhdGlvbj9zZXNzaW9uU3RvcmFnZTpsb2NhbFN0b3JhZ2UpLnNldEl0ZW0oXCJEYXRhVGFibGVzX1wiK2Euc0luc3RhbmNlK1wiX1wiK2xvY2F0aW9uLnBhdGhuYW1lLEpTT04uc3RyaW5naWZ5KGIpKX1jYXRjaChjKXt9fSxmblN0YXRlU2F2ZVBhcmFtczpudWxsLGlTdGF0ZUR1cmF0aW9uOjcyMDAsaURlZmVyTG9hZGluZzpudWxsLGlEaXNwbGF5TGVuZ3RoOjEwLGlEaXNwbGF5U3RhcnQ6MCxpVGFiSW5kZXg6MCxvQ2xhc3Nlczp7fSxvTGFuZ3VhZ2U6e29BcmlhOntzU29ydEFzY2VuZGluZzpcIjogYWN0aXZhdGUgdG8gc29ydCBjb2x1bW4gYXNjZW5kaW5nXCIsc1NvcnREZXNjZW5kaW5nOlwiOiBhY3RpdmF0ZSB0byBzb3J0IGNvbHVtbiBkZXNjZW5kaW5nXCJ9LFxyXG5vUGFnaW5hdGU6e3NGaXJzdDpcIkZpcnN0XCIsc0xhc3Q6XCJMYXN0XCIsc05leHQ6XCJOZXh0XCIsc1ByZXZpb3VzOlwiUHJldmlvdXNcIn0sc0VtcHR5VGFibGU6XCJObyBkYXRhIGF2YWlsYWJsZSBpbiB0YWJsZVwiLHNJbmZvOlwiU2hvd2luZyBfU1RBUlRfIHRvIF9FTkRfIG9mIF9UT1RBTF8gZW50cmllc1wiLHNJbmZvRW1wdHk6XCJTaG93aW5nIDAgdG8gMCBvZiAwIGVudHJpZXNcIixzSW5mb0ZpbHRlcmVkOlwiKGZpbHRlcmVkIGZyb20gX01BWF8gdG90YWwgZW50cmllcylcIixzSW5mb1Bvc3RGaXg6XCJcIixzRGVjaW1hbDpcIlwiLHNUaG91c2FuZHM6XCIsXCIsc0xlbmd0aE1lbnU6XCJTaG93IF9NRU5VXyBlbnRyaWVzXCIsc0xvYWRpbmdSZWNvcmRzOlwiTG9hZGluZy4uLlwiLHNQcm9jZXNzaW5nOlwiUHJvY2Vzc2luZy4uLlwiLHNTZWFyY2g6XCJTZWFyY2g6XCIsc1NlYXJjaFBsYWNlaG9sZGVyOlwiXCIsc1VybDpcIlwiLHNaZXJvUmVjb3JkczpcIk5vIG1hdGNoaW5nIHJlY29yZHMgZm91bmRcIn0sb1NlYXJjaDpoLmV4dGVuZCh7fSxcclxubS5tb2RlbHMub1NlYXJjaCksc0FqYXhEYXRhUHJvcDpcImRhdGFcIixzQWpheFNvdXJjZTpudWxsLHNEb206XCJsZnJ0aXBcIixzZWFyY2hEZWxheTpudWxsLHNQYWdpbmF0aW9uVHlwZTpcInNpbXBsZV9udW1iZXJzXCIsc1Njcm9sbFg6XCJcIixzU2Nyb2xsWElubmVyOlwiXCIsc1Njcm9sbFk6XCJcIixzU2VydmVyTWV0aG9kOlwiR0VUXCIscmVuZGVyZXI6bnVsbCxyb3dJZDpcIkRUX1Jvd0lkXCJ9O1kobS5kZWZhdWx0cyk7bS5kZWZhdWx0cy5jb2x1bW49e2FEYXRhU29ydDpudWxsLGlEYXRhU29ydDotMSxhc1NvcnRpbmc6W1wiYXNjXCIsXCJkZXNjXCJdLGJTZWFyY2hhYmxlOiEwLGJTb3J0YWJsZTohMCxiVmlzaWJsZTohMCxmbkNyZWF0ZWRDZWxsOm51bGwsbURhdGE6bnVsbCxtUmVuZGVyOm51bGwsc0NlbGxUeXBlOlwidGRcIixzQ2xhc3M6XCJcIixzQ29udGVudFBhZGRpbmc6XCJcIixzRGVmYXVsdENvbnRlbnQ6bnVsbCxzTmFtZTpcIlwiLHNTb3J0RGF0YVR5cGU6XCJzdGRcIixzVGl0bGU6bnVsbCxzVHlwZTpudWxsLHNXaWR0aDpudWxsfTtcclxuWShtLmRlZmF1bHRzLmNvbHVtbik7bS5tb2RlbHMub1NldHRpbmdzPXtvRmVhdHVyZXM6e2JBdXRvV2lkdGg6bnVsbCxiRGVmZXJSZW5kZXI6bnVsbCxiRmlsdGVyOm51bGwsYkluZm86bnVsbCxiTGVuZ3RoQ2hhbmdlOm51bGwsYlBhZ2luYXRlOm51bGwsYlByb2Nlc3Npbmc6bnVsbCxiU2VydmVyU2lkZTpudWxsLGJTb3J0Om51bGwsYlNvcnRNdWx0aTpudWxsLGJTb3J0Q2xhc3NlczpudWxsLGJTdGF0ZVNhdmU6bnVsbH0sb1Njcm9sbDp7YkNvbGxhcHNlOm51bGwsaUJhcldpZHRoOjAsc1g6bnVsbCxzWElubmVyOm51bGwsc1k6bnVsbH0sb0xhbmd1YWdlOntmbkluZm9DYWxsYmFjazpudWxsfSxvQnJvd3Nlcjp7YlNjcm9sbE92ZXJzaXplOiExLGJTY3JvbGxiYXJMZWZ0OiExLGJCb3VuZGluZzohMSxiYXJXaWR0aDowfSxhamF4Om51bGwsYWFuRmVhdHVyZXM6W10sYW9EYXRhOltdLGFpRGlzcGxheTpbXSxhaURpc3BsYXlNYXN0ZXI6W10sYUlkczp7fSxhb0NvbHVtbnM6W10sYW9IZWFkZXI6W10sXHJcbmFvRm9vdGVyOltdLG9QcmV2aW91c1NlYXJjaDp7fSxhb1ByZVNlYXJjaENvbHM6W10sYWFTb3J0aW5nOm51bGwsYWFTb3J0aW5nRml4ZWQ6W10sYXNTdHJpcGVDbGFzc2VzOm51bGwsYXNEZXN0cm95U3RyaXBlczpbXSxzRGVzdHJveVdpZHRoOjAsYW9Sb3dDYWxsYmFjazpbXSxhb0hlYWRlckNhbGxiYWNrOltdLGFvRm9vdGVyQ2FsbGJhY2s6W10sYW9EcmF3Q2FsbGJhY2s6W10sYW9Sb3dDcmVhdGVkQ2FsbGJhY2s6W10sYW9QcmVEcmF3Q2FsbGJhY2s6W10sYW9Jbml0Q29tcGxldGU6W10sYW9TdGF0ZVNhdmVQYXJhbXM6W10sYW9TdGF0ZUxvYWRQYXJhbXM6W10sYW9TdGF0ZUxvYWRlZDpbXSxzVGFibGVJZDpcIlwiLG5UYWJsZTpudWxsLG5USGVhZDpudWxsLG5URm9vdDpudWxsLG5UQm9keTpudWxsLG5UYWJsZVdyYXBwZXI6bnVsbCxiRGVmZXJMb2FkaW5nOiExLGJJbml0aWFsaXNlZDohMSxhb09wZW5Sb3dzOltdLHNEb206bnVsbCxzZWFyY2hEZWxheTpudWxsLHNQYWdpbmF0aW9uVHlwZTpcInR3b19idXR0b25cIixcclxuaVN0YXRlRHVyYXRpb246MCxhb1N0YXRlU2F2ZTpbXSxhb1N0YXRlTG9hZDpbXSxvU2F2ZWRTdGF0ZTpudWxsLG9Mb2FkZWRTdGF0ZTpudWxsLHNBamF4U291cmNlOm51bGwsc0FqYXhEYXRhUHJvcDpudWxsLGJBamF4RGF0YUdldDohMCxqcVhIUjpudWxsLGpzb246ayxvQWpheERhdGE6ayxmblNlcnZlckRhdGE6bnVsbCxhb1NlcnZlclBhcmFtczpbXSxzU2VydmVyTWV0aG9kOm51bGwsZm5Gb3JtYXROdW1iZXI6bnVsbCxhTGVuZ3RoTWVudTpudWxsLGlEcmF3OjAsYkRyYXdpbmc6ITEsaURyYXdFcnJvcjotMSxfaURpc3BsYXlMZW5ndGg6MTAsX2lEaXNwbGF5U3RhcnQ6MCxfaVJlY29yZHNUb3RhbDowLF9pUmVjb3Jkc0Rpc3BsYXk6MCxiSlVJOm51bGwsb0NsYXNzZXM6e30sYkZpbHRlcmVkOiExLGJTb3J0ZWQ6ITEsYlNvcnRDZWxsc1RvcDpudWxsLG9Jbml0Om51bGwsYW9EZXN0cm95Q2FsbGJhY2s6W10sZm5SZWNvcmRzVG90YWw6ZnVuY3Rpb24oKXtyZXR1cm5cInNzcFwiPT15KHRoaXMpP1xyXG4xKnRoaXMuX2lSZWNvcmRzVG90YWw6dGhpcy5haURpc3BsYXlNYXN0ZXIubGVuZ3RofSxmblJlY29yZHNEaXNwbGF5OmZ1bmN0aW9uKCl7cmV0dXJuXCJzc3BcIj09eSh0aGlzKT8xKnRoaXMuX2lSZWNvcmRzRGlzcGxheTp0aGlzLmFpRGlzcGxheS5sZW5ndGh9LGZuRGlzcGxheUVuZDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuX2lEaXNwbGF5TGVuZ3RoLGI9dGhpcy5faURpc3BsYXlTdGFydCxjPWIrYSxkPXRoaXMuYWlEaXNwbGF5Lmxlbmd0aCxlPXRoaXMub0ZlYXR1cmVzLGY9ZS5iUGFnaW5hdGU7cmV0dXJuIGUuYlNlcnZlclNpZGU/ITE9PT1mfHwtMT09PWE/YitkOk1hdGgubWluKGIrYSx0aGlzLl9pUmVjb3Jkc0Rpc3BsYXkpOiFmfHxjPmR8fC0xPT09YT9kOmN9LG9JbnN0YW5jZTpudWxsLHNJbnN0YW5jZTpudWxsLGlUYWJJbmRleDowLG5TY3JvbGxIZWFkOm51bGwsblNjcm9sbEZvb3Q6bnVsbCxhTGFzdFNvcnQ6W10sb1BsdWdpbnM6e30scm93SWRGbjpudWxsLHJvd0lkOm51bGx9O1xyXG5tLmV4dD1zPXtidXR0b25zOnt9LGNsYXNzZXM6e30sYnVpbGRlcjpcIi1zb3VyY2UtXCIsZXJyTW9kZTpcImFsZXJ0XCIsZmVhdHVyZTpbXSxzZWFyY2g6W10sc2VsZWN0b3I6e2NlbGw6W10sY29sdW1uOltdLHJvdzpbXX0saW50ZXJuYWw6e30sbGVnYWN5OnthamF4Om51bGx9LHBhZ2VyOnt9LHJlbmRlcmVyOntwYWdlQnV0dG9uOnt9LGhlYWRlcjp7fX0sb3JkZXI6e30sdHlwZTp7ZGV0ZWN0OltdLHNlYXJjaDp7fSxvcmRlcjp7fX0sX3VuaXF1ZTowLGZuVmVyc2lvbkNoZWNrOm0uZm5WZXJzaW9uQ2hlY2ssaUFwaUluZGV4OjAsb0pVSUNsYXNzZXM6e30sc1ZlcnNpb246bS52ZXJzaW9ufTtoLmV4dGVuZChzLHthZm5GaWx0ZXJpbmc6cy5zZWFyY2gsYVR5cGVzOnMudHlwZS5kZXRlY3Qsb2ZuU2VhcmNoOnMudHlwZS5zZWFyY2gsb1NvcnQ6cy50eXBlLm9yZGVyLGFmblNvcnREYXRhOnMub3JkZXIsYW9GZWF0dXJlczpzLmZlYXR1cmUsb0FwaTpzLmludGVybmFsLG9TdGRDbGFzc2VzOnMuY2xhc3Nlcyxcclxub1BhZ2luYXRpb246cy5wYWdlcn0pO2guZXh0ZW5kKG0uZXh0LmNsYXNzZXMse3NUYWJsZTpcImRhdGFUYWJsZVwiLHNOb0Zvb3RlcjpcIm5vLWZvb3RlclwiLHNQYWdlQnV0dG9uOlwicGFnaW5hdGVfYnV0dG9uXCIsc1BhZ2VCdXR0b25BY3RpdmU6XCJjdXJyZW50XCIsc1BhZ2VCdXR0b25EaXNhYmxlZDpcImRpc2FibGVkXCIsc1N0cmlwZU9kZDpcIm9kZFwiLHNTdHJpcGVFdmVuOlwiZXZlblwiLHNSb3dFbXB0eTpcImRhdGFUYWJsZXNfZW1wdHlcIixzV3JhcHBlcjpcImRhdGFUYWJsZXNfd3JhcHBlclwiLHNGaWx0ZXI6XCJkYXRhVGFibGVzX2ZpbHRlclwiLHNJbmZvOlwiZGF0YVRhYmxlc19pbmZvXCIsc1BhZ2luZzpcImRhdGFUYWJsZXNfcGFnaW5hdGUgcGFnaW5nX1wiLHNMZW5ndGg6XCJkYXRhVGFibGVzX2xlbmd0aFwiLHNQcm9jZXNzaW5nOlwiZGF0YVRhYmxlc19wcm9jZXNzaW5nXCIsc1NvcnRBc2M6XCJzb3J0aW5nX2FzY1wiLHNTb3J0RGVzYzpcInNvcnRpbmdfZGVzY1wiLHNTb3J0YWJsZTpcInNvcnRpbmdcIixzU29ydGFibGVBc2M6XCJzb3J0aW5nX2FzY19kaXNhYmxlZFwiLFxyXG5zU29ydGFibGVEZXNjOlwic29ydGluZ19kZXNjX2Rpc2FibGVkXCIsc1NvcnRhYmxlTm9uZTpcInNvcnRpbmdfZGlzYWJsZWRcIixzU29ydENvbHVtbjpcInNvcnRpbmdfXCIsc0ZpbHRlcklucHV0OlwiXCIsc0xlbmd0aFNlbGVjdDpcIlwiLHNTY3JvbGxXcmFwcGVyOlwiZGF0YVRhYmxlc19zY3JvbGxcIixzU2Nyb2xsSGVhZDpcImRhdGFUYWJsZXNfc2Nyb2xsSGVhZFwiLHNTY3JvbGxIZWFkSW5uZXI6XCJkYXRhVGFibGVzX3Njcm9sbEhlYWRJbm5lclwiLHNTY3JvbGxCb2R5OlwiZGF0YVRhYmxlc19zY3JvbGxCb2R5XCIsc1Njcm9sbEZvb3Q6XCJkYXRhVGFibGVzX3Njcm9sbEZvb3RcIixzU2Nyb2xsRm9vdElubmVyOlwiZGF0YVRhYmxlc19zY3JvbGxGb290SW5uZXJcIixzSGVhZGVyVEg6XCJcIixzRm9vdGVyVEg6XCJcIixzU29ydEpVSUFzYzpcIlwiLHNTb3J0SlVJRGVzYzpcIlwiLHNTb3J0SlVJOlwiXCIsc1NvcnRKVUlBc2NBbGxvd2VkOlwiXCIsc1NvcnRKVUlEZXNjQWxsb3dlZDpcIlwiLHNTb3J0SlVJV3JhcHBlcjpcIlwiLHNTb3J0SWNvbjpcIlwiLFxyXG5zSlVJSGVhZGVyOlwiXCIsc0pVSUZvb3RlcjpcIlwifSk7dmFyIEVhPVwiXCIsRWE9XCJcIixHPUVhK1widWktc3RhdGUtZGVmYXVsdFwiLGthPUVhK1wiY3NzX3JpZ2h0IHVpLWljb24gdWktaWNvbi1cIixYYj1FYStcImZnLXRvb2xiYXIgdWktdG9vbGJhciB1aS13aWRnZXQtaGVhZGVyIHVpLWhlbHBlci1jbGVhcmZpeFwiO2guZXh0ZW5kKG0uZXh0Lm9KVUlDbGFzc2VzLG0uZXh0LmNsYXNzZXMse3NQYWdlQnV0dG9uOlwiZmctYnV0dG9uIHVpLWJ1dHRvbiBcIitHLHNQYWdlQnV0dG9uQWN0aXZlOlwidWktc3RhdGUtZGlzYWJsZWRcIixzUGFnZUJ1dHRvbkRpc2FibGVkOlwidWktc3RhdGUtZGlzYWJsZWRcIixzUGFnaW5nOlwiZGF0YVRhYmxlc19wYWdpbmF0ZSBmZy1idXR0b25zZXQgdWktYnV0dG9uc2V0IGZnLWJ1dHRvbnNldC1tdWx0aSB1aS1idXR0b25zZXQtbXVsdGkgcGFnaW5nX1wiLHNTb3J0QXNjOkcrXCIgc29ydGluZ19hc2NcIixzU29ydERlc2M6RytcIiBzb3J0aW5nX2Rlc2NcIixzU29ydGFibGU6RytcIiBzb3J0aW5nXCIsXHJcbnNTb3J0YWJsZUFzYzpHK1wiIHNvcnRpbmdfYXNjX2Rpc2FibGVkXCIsc1NvcnRhYmxlRGVzYzpHK1wiIHNvcnRpbmdfZGVzY19kaXNhYmxlZFwiLHNTb3J0YWJsZU5vbmU6RytcIiBzb3J0aW5nX2Rpc2FibGVkXCIsc1NvcnRKVUlBc2M6a2ErXCJ0cmlhbmdsZS0xLW5cIixzU29ydEpVSURlc2M6a2ErXCJ0cmlhbmdsZS0xLXNcIixzU29ydEpVSTprYStcImNhcmF0LTItbi1zXCIsc1NvcnRKVUlBc2NBbGxvd2VkOmthK1wiY2FyYXQtMS1uXCIsc1NvcnRKVUlEZXNjQWxsb3dlZDprYStcImNhcmF0LTEtc1wiLHNTb3J0SlVJV3JhcHBlcjpcIkRhdGFUYWJsZXNfc29ydF93cmFwcGVyXCIsc1NvcnRJY29uOlwiRGF0YVRhYmxlc19zb3J0X2ljb25cIixzU2Nyb2xsSGVhZDpcImRhdGFUYWJsZXNfc2Nyb2xsSGVhZCBcIitHLHNTY3JvbGxGb290OlwiZGF0YVRhYmxlc19zY3JvbGxGb290IFwiK0csc0hlYWRlclRIOkcsc0Zvb3RlclRIOkcsc0pVSUhlYWRlcjpYYitcIiB1aS1jb3JuZXItdGwgdWktY29ybmVyLXRyXCIsc0pVSUZvb3RlcjpYYitcclxuXCIgdWktY29ybmVyLWJsIHVpLWNvcm5lci1iclwifSk7dmFyIE1iPW0uZXh0LnBhZ2VyO2guZXh0ZW5kKE1iLHtzaW1wbGU6ZnVuY3Rpb24oKXtyZXR1cm5bXCJwcmV2aW91c1wiLFwibmV4dFwiXX0sZnVsbDpmdW5jdGlvbigpe3JldHVybltcImZpcnN0XCIsXCJwcmV2aW91c1wiLFwibmV4dFwiLFwibGFzdFwiXX0sbnVtYmVyczpmdW5jdGlvbihhLGIpe3JldHVybltBYShhLGIpXX0sc2ltcGxlX251bWJlcnM6ZnVuY3Rpb24oYSxiKXtyZXR1cm5bXCJwcmV2aW91c1wiLEFhKGEsYiksXCJuZXh0XCJdfSxmdWxsX251bWJlcnM6ZnVuY3Rpb24oYSxiKXtyZXR1cm5bXCJmaXJzdFwiLFwicHJldmlvdXNcIixBYShhLGIpLFwibmV4dFwiLFwibGFzdFwiXX0sX251bWJlcnM6QWEsbnVtYmVyc19sZW5ndGg6N30pO2guZXh0ZW5kKCEwLG0uZXh0LnJlbmRlcmVyLHtwYWdlQnV0dG9uOntfOmZ1bmN0aW9uKGEsYixjLGQsZSxmKXt2YXIgZz1hLm9DbGFzc2VzLGo9YS5vTGFuZ3VhZ2Uub1BhZ2luYXRlLGk9YS5vTGFuZ3VhZ2Uub0FyaWEucGFnaW5hdGV8fFxyXG57fSxrLGwsbT0wLHA9ZnVuY3Rpb24oYixkKXt2YXIgbixyLHQscyx2PWZ1bmN0aW9uKGIpe1RhKGEsYi5kYXRhLmFjdGlvbix0cnVlKX07bj0wO2ZvcihyPWQubGVuZ3RoO248cjtuKyspe3M9ZFtuXTtpZihoLmlzQXJyYXkocykpe3Q9aChcIjxcIisocy5EVF9lbHx8XCJkaXZcIikrXCIvPlwiKS5hcHBlbmRUbyhiKTtwKHQscyl9ZWxzZXtrPW51bGw7bD1cIlwiO3N3aXRjaChzKXtjYXNlIFwiZWxsaXBzaXNcIjpiLmFwcGVuZCgnPHNwYW4gY2xhc3M9XCJlbGxpcHNpc1wiPiYjeDIwMjY7PC9zcGFuPicpO2JyZWFrO2Nhc2UgXCJmaXJzdFwiOms9ai5zRmlyc3Q7bD1zKyhlPjA/XCJcIjpcIiBcIitnLnNQYWdlQnV0dG9uRGlzYWJsZWQpO2JyZWFrO2Nhc2UgXCJwcmV2aW91c1wiOms9ai5zUHJldmlvdXM7bD1zKyhlPjA/XCJcIjpcIiBcIitnLnNQYWdlQnV0dG9uRGlzYWJsZWQpO2JyZWFrO2Nhc2UgXCJuZXh0XCI6az1qLnNOZXh0O2w9cysoZTxmLTE/XCJcIjpcIiBcIitnLnNQYWdlQnV0dG9uRGlzYWJsZWQpO2JyZWFrO2Nhc2UgXCJsYXN0XCI6az1cclxuai5zTGFzdDtsPXMrKGU8Zi0xP1wiXCI6XCIgXCIrZy5zUGFnZUJ1dHRvbkRpc2FibGVkKTticmVhaztkZWZhdWx0Oms9cysxO2w9ZT09PXM/Zy5zUGFnZUJ1dHRvbkFjdGl2ZTpcIlwifWlmKGshPT1udWxsKXt0PWgoXCI8YT5cIix7XCJjbGFzc1wiOmcuc1BhZ2VCdXR0b24rXCIgXCIrbCxcImFyaWEtY29udHJvbHNcIjphLnNUYWJsZUlkLFwiYXJpYS1sYWJlbFwiOmlbc10sXCJkYXRhLWR0LWlkeFwiOm0sdGFiaW5kZXg6YS5pVGFiSW5kZXgsaWQ6Yz09PTAmJnR5cGVvZiBzPT09XCJzdHJpbmdcIj9hLnNUYWJsZUlkK1wiX1wiK3M6bnVsbH0pLmh0bWwoaykuYXBwZW5kVG8oYik7V2EodCx7YWN0aW9uOnN9LHYpO20rK319fX0scjt0cnl7cj1oKGIpLmZpbmQoSC5hY3RpdmVFbGVtZW50KS5kYXRhKFwiZHQtaWR4XCIpfWNhdGNoKG4pe31wKGgoYikuZW1wdHkoKSxkKTtyJiZoKGIpLmZpbmQoXCJbZGF0YS1kdC1pZHg9XCIrcitcIl1cIikuZm9jdXMoKX19fSk7aC5leHRlbmQobS5leHQudHlwZS5kZXRlY3QsW2Z1bmN0aW9uKGEsYil7dmFyIGM9XHJcbmIub0xhbmd1YWdlLnNEZWNpbWFsO3JldHVybiBaYShhLGMpP1wibnVtXCIrYzpudWxsfSxmdW5jdGlvbihhKXtpZihhJiYhKGEgaW5zdGFuY2VvZiBEYXRlKSYmKCFhYy50ZXN0KGEpfHwhYmMudGVzdChhKSkpcmV0dXJuIG51bGw7dmFyIGI9RGF0ZS5wYXJzZShhKTtyZXR1cm4gbnVsbCE9PWImJiFpc05hTihiKXx8TShhKT9cImRhdGVcIjpudWxsfSxmdW5jdGlvbihhLGIpe3ZhciBjPWIub0xhbmd1YWdlLnNEZWNpbWFsO3JldHVybiBaYShhLGMsITApP1wibnVtLWZtdFwiK2M6bnVsbH0sZnVuY3Rpb24oYSxiKXt2YXIgYz1iLm9MYW5ndWFnZS5zRGVjaW1hbDtyZXR1cm4gUmIoYSxjKT9cImh0bWwtbnVtXCIrYzpudWxsfSxmdW5jdGlvbihhLGIpe3ZhciBjPWIub0xhbmd1YWdlLnNEZWNpbWFsO3JldHVybiBSYihhLGMsITApP1wiaHRtbC1udW0tZm10XCIrYzpudWxsfSxmdW5jdGlvbihhKXtyZXR1cm4gTShhKXx8XCJzdHJpbmdcIj09PXR5cGVvZiBhJiYtMSE9PWEuaW5kZXhPZihcIjxcIik/XCJodG1sXCI6XHJcbm51bGx9XSk7aC5leHRlbmQobS5leHQudHlwZS5zZWFyY2gse2h0bWw6ZnVuY3Rpb24oYSl7cmV0dXJuIE0oYSk/YTpcInN0cmluZ1wiPT09dHlwZW9mIGE/YS5yZXBsYWNlKE9iLFwiIFwiKS5yZXBsYWNlKENhLFwiXCIpOlwiXCJ9LHN0cmluZzpmdW5jdGlvbihhKXtyZXR1cm4gTShhKT9hOlwic3RyaW5nXCI9PT10eXBlb2YgYT9hLnJlcGxhY2UoT2IsXCIgXCIpOmF9fSk7dmFyIEJhPWZ1bmN0aW9uKGEsYixjLGQpe2lmKDAhPT1hJiYoIWF8fFwiLVwiPT09YSkpcmV0dXJuLUluZmluaXR5O2ImJihhPVFiKGEsYikpO2EucmVwbGFjZSYmKGMmJihhPWEucmVwbGFjZShjLFwiXCIpKSxkJiYoYT1hLnJlcGxhY2UoZCxcIlwiKSkpO3JldHVybiAxKmF9O2guZXh0ZW5kKHMudHlwZS5vcmRlcix7XCJkYXRlLXByZVwiOmZ1bmN0aW9uKGEpe3JldHVybiBEYXRlLnBhcnNlKGEpfHwwfSxcImh0bWwtcHJlXCI6ZnVuY3Rpb24oYSl7cmV0dXJuIE0oYSk/XCJcIjphLnJlcGxhY2U/YS5yZXBsYWNlKC88Lio/Pi9nLFwiXCIpLnRvTG93ZXJDYXNlKCk6XHJcbmErXCJcIn0sXCJzdHJpbmctcHJlXCI6ZnVuY3Rpb24oYSl7cmV0dXJuIE0oYSk/XCJcIjpcInN0cmluZ1wiPT09dHlwZW9mIGE/YS50b0xvd2VyQ2FzZSgpOiFhLnRvU3RyaW5nP1wiXCI6YS50b1N0cmluZygpfSxcInN0cmluZy1hc2NcIjpmdW5jdGlvbihhLGIpe3JldHVybiBhPGI/LTE6YT5iPzE6MH0sXCJzdHJpbmctZGVzY1wiOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE8Yj8xOmE+Yj8tMTowfX0pO2RiKFwiXCIpO2guZXh0ZW5kKCEwLG0uZXh0LnJlbmRlcmVyLHtoZWFkZXI6e186ZnVuY3Rpb24oYSxiLGMsZCl7aChhLm5UYWJsZSkub24oXCJvcmRlci5kdC5EVFwiLGZ1bmN0aW9uKGUsZixnLGgpe2lmKGE9PT1mKXtlPWMuaWR4O2IucmVtb3ZlQ2xhc3MoYy5zU29ydGluZ0NsYXNzK1wiIFwiK2Quc1NvcnRBc2MrXCIgXCIrZC5zU29ydERlc2MpLmFkZENsYXNzKGhbZV09PVwiYXNjXCI/ZC5zU29ydEFzYzpoW2VdPT1cImRlc2NcIj9kLnNTb3J0RGVzYzpjLnNTb3J0aW5nQ2xhc3MpfX0pfSxqcXVlcnl1aTpmdW5jdGlvbihhLFxyXG5iLGMsZCl7aChcIjxkaXYvPlwiKS5hZGRDbGFzcyhkLnNTb3J0SlVJV3JhcHBlcikuYXBwZW5kKGIuY29udGVudHMoKSkuYXBwZW5kKGgoXCI8c3Bhbi8+XCIpLmFkZENsYXNzKGQuc1NvcnRJY29uK1wiIFwiK2Muc1NvcnRpbmdDbGFzc0pVSSkpLmFwcGVuZFRvKGIpO2goYS5uVGFibGUpLm9uKFwib3JkZXIuZHQuRFRcIixmdW5jdGlvbihlLGYsZyxoKXtpZihhPT09Zil7ZT1jLmlkeDtiLnJlbW92ZUNsYXNzKGQuc1NvcnRBc2MrXCIgXCIrZC5zU29ydERlc2MpLmFkZENsYXNzKGhbZV09PVwiYXNjXCI/ZC5zU29ydEFzYzpoW2VdPT1cImRlc2NcIj9kLnNTb3J0RGVzYzpjLnNTb3J0aW5nQ2xhc3MpO2IuZmluZChcInNwYW4uXCIrZC5zU29ydEljb24pLnJlbW92ZUNsYXNzKGQuc1NvcnRKVUlBc2MrXCIgXCIrZC5zU29ydEpVSURlc2MrXCIgXCIrZC5zU29ydEpVSStcIiBcIitkLnNTb3J0SlVJQXNjQWxsb3dlZCtcIiBcIitkLnNTb3J0SlVJRGVzY0FsbG93ZWQpLmFkZENsYXNzKGhbZV09PVwiYXNjXCI/ZC5zU29ydEpVSUFzYzpcclxuaFtlXT09XCJkZXNjXCI/ZC5zU29ydEpVSURlc2M6Yy5zU29ydGluZ0NsYXNzSlVJKX19KX19fSk7bS5yZW5kZXI9e251bWJlcjpmdW5jdGlvbihhLGIsYyxkLGUpe3JldHVybntkaXNwbGF5OmZ1bmN0aW9uKGYpe2lmKFwibnVtYmVyXCIhPT10eXBlb2YgZiYmXCJzdHJpbmdcIiE9PXR5cGVvZiBmKXJldHVybiBmO3ZhciBnPTA+Zj9cIi1cIjpcIlwiLGg9cGFyc2VGbG9hdChmKTtpZihpc05hTihoKSlyZXR1cm4gZjtmPU1hdGguYWJzKGgpO2g9cGFyc2VJbnQoZiwxMCk7Zj1jP2IrKGYtaCkudG9GaXhlZChjKS5zdWJzdHJpbmcoMik6XCJcIjtyZXR1cm4gZysoZHx8XCJcIikraC50b1N0cmluZygpLnJlcGxhY2UoL1xcQig/PShcXGR7M30pKyg/IVxcZCkpL2csYSkrZisoZXx8XCJcIil9fX0sdGV4dDpmdW5jdGlvbigpe3JldHVybntkaXNwbGF5OmZ1bmN0aW9uKGEpe3JldHVyblwic3RyaW5nXCI9PT10eXBlb2YgYT9hLnJlcGxhY2UoLzwvZyxcIiZsdDtcIikucmVwbGFjZSgvPi9nLFwiJmd0O1wiKS5yZXBsYWNlKC9cIi9nLFwiJnF1b3Q7XCIpOlxyXG5hfX19fTtoLmV4dGVuZChtLmV4dC5pbnRlcm5hbCx7X2ZuRXh0ZXJuQXBpRnVuYzpOYixfZm5CdWlsZEFqYXg6cmEsX2ZuQWpheFVwZGF0ZTpsYixfZm5BamF4UGFyYW1ldGVyczp1YixfZm5BamF4VXBkYXRlRHJhdzp2YixfZm5BamF4RGF0YVNyYzpzYSxfZm5BZGRDb2x1bW46R2EsX2ZuQ29sdW1uT3B0aW9uczpsYSxfZm5BZGp1c3RDb2x1bW5TaXppbmc6VSxfZm5WaXNpYmxlVG9Db2x1bW5JbmRleDokLF9mbkNvbHVtbkluZGV4VG9WaXNpYmxlOmJhLF9mblZpc2JsZUNvbHVtbnM6Y2EsX2ZuR2V0Q29sdW1uczphYSxfZm5Db2x1bW5UeXBlczpJYSxfZm5BcHBseUNvbHVtbkRlZnM6aWIsX2ZuSHVuZ2FyaWFuTWFwOlksX2ZuQ2FtZWxUb0h1bmdhcmlhbjpKLF9mbkxhbmd1YWdlQ29tcGF0OkZhLF9mbkJyb3dzZXJEZXRlY3Q6Z2IsX2ZuQWRkRGF0YTpOLF9mbkFkZFRyOm1hLF9mbk5vZGVUb0RhdGFJbmRleDpmdW5jdGlvbihhLGIpe3JldHVybiBiLl9EVF9Sb3dJbmRleCE9PWs/Yi5fRFRfUm93SW5kZXg6XHJcbm51bGx9LF9mbk5vZGVUb0NvbHVtbkluZGV4OmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gaC5pbkFycmF5KGMsYS5hb0RhdGFbYl0uYW5DZWxscyl9LF9mbkdldENlbGxEYXRhOkIsX2ZuU2V0Q2VsbERhdGE6amIsX2ZuU3BsaXRPYmpOb3RhdGlvbjpMYSxfZm5HZXRPYmplY3REYXRhRm46USxfZm5TZXRPYmplY3REYXRhRm46UixfZm5HZXREYXRhTWFzdGVyOk1hLF9mbkNsZWFyVGFibGU6bmEsX2ZuRGVsZXRlSW5kZXg6b2EsX2ZuSW52YWxpZGF0ZTplYSxfZm5HZXRSb3dFbGVtZW50czpLYSxfZm5DcmVhdGVUcjpKYSxfZm5CdWlsZEhlYWQ6a2IsX2ZuRHJhd0hlYWQ6Z2EsX2ZuRHJhdzpPLF9mblJlRHJhdzpULF9mbkFkZE9wdGlvbnNIdG1sOm5iLF9mbkRldGVjdEhlYWRlcjpmYSxfZm5HZXRVbmlxdWVUaHM6cWEsX2ZuRmVhdHVyZUh0bWxGaWx0ZXI6cGIsX2ZuRmlsdGVyQ29tcGxldGU6aGEsX2ZuRmlsdGVyQ3VzdG9tOnliLF9mbkZpbHRlckNvbHVtbjp4YixfZm5GaWx0ZXI6d2IsX2ZuRmlsdGVyQ3JlYXRlU2VhcmNoOlFhLFxyXG5fZm5Fc2NhcGVSZWdleDp2YSxfZm5GaWx0ZXJEYXRhOnpiLF9mbkZlYXR1cmVIdG1sSW5mbzpzYixfZm5VcGRhdGVJbmZvOkNiLF9mbkluZm9NYWNyb3M6RGIsX2ZuSW5pdGlhbGlzZTppYSxfZm5Jbml0Q29tcGxldGU6dGEsX2ZuTGVuZ3RoQ2hhbmdlOlJhLF9mbkZlYXR1cmVIdG1sTGVuZ3RoOm9iLF9mbkZlYXR1cmVIdG1sUGFnaW5hdGU6dGIsX2ZuUGFnZUNoYW5nZTpUYSxfZm5GZWF0dXJlSHRtbFByb2Nlc3Npbmc6cWIsX2ZuUHJvY2Vzc2luZ0Rpc3BsYXk6QyxfZm5GZWF0dXJlSHRtbFRhYmxlOnJiLF9mblNjcm9sbERyYXc6WixfZm5BcHBseVRvQ2hpbGRyZW46SSxfZm5DYWxjdWxhdGVDb2x1bW5XaWR0aHM6SGEsX2ZuVGhyb3R0bGU6dWEsX2ZuQ29udmVydFRvV2lkdGg6RmIsX2ZuR2V0V2lkZXN0Tm9kZTpHYixfZm5HZXRNYXhMZW5TdHJpbmc6SGIsX2ZuU3RyaW5nVG9Dc3M6dyxfZm5Tb3J0RmxhdHRlbjpXLF9mblNvcnQ6bWIsX2ZuU29ydEFyaWE6SmIsX2ZuU29ydExpc3RlbmVyOlZhLFxyXG5fZm5Tb3J0QXR0YWNoTGlzdGVuZXI6T2EsX2ZuU29ydGluZ0NsYXNzZXM6eGEsX2ZuU29ydERhdGE6SWIsX2ZuU2F2ZVN0YXRlOnlhLF9mbkxvYWRTdGF0ZTpLYixfZm5TZXR0aW5nc0Zyb21Ob2RlOnphLF9mbkxvZzpLLF9mbk1hcDpGLF9mbkJpbmRBY3Rpb246V2EsX2ZuQ2FsbGJhY2tSZWc6eixfZm5DYWxsYmFja0ZpcmU6dixfZm5MZW5ndGhPdmVyZmxvdzpTYSxfZm5SZW5kZXJlcjpQYSxfZm5EYXRhU291cmNlOnksX2ZuUm93QXR0cmlidXRlczpOYSxfZm5DYWxjdWxhdGVFbmQ6ZnVuY3Rpb24oKXt9fSk7aC5mbi5kYXRhVGFibGU9bTttLiQ9aDtoLmZuLmRhdGFUYWJsZVNldHRpbmdzPW0uc2V0dGluZ3M7aC5mbi5kYXRhVGFibGVFeHQ9bS5leHQ7aC5mbi5EYXRhVGFibGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGgodGhpcykuZGF0YVRhYmxlKGEpLmFwaSgpfTtoLmVhY2gobSxmdW5jdGlvbihhLGIpe2guZm4uRGF0YVRhYmxlW2FdPWJ9KTtyZXR1cm4gaC5mbi5kYXRhVGFibGV9KTtcclxuIiwiLyoqKiBcbiAqIENvcHlyaWdodCAoYykgMjAxNCBcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqXG4gKiBBdXRob3I6IE1pY2hhZWwgRWlzZW5icmF1blxuICogVmVyc2lvbjogMi4yLjJcbiAqIFJlcXVpcmVzOiBqUXVlcnkgMS43LjIrXG4gKiBEb2N1bWVudGF0aW9uOiBodHRwOi8vZWlzZW5icmF1bi5naXRodWIuaW8vY29sdW1ucy9cbiAqL2lmKCF3aW5kb3cuY29uc29sZSl2YXIgY29uc29sZT17bG9nOmZ1bmN0aW9uKCl7fX07KGZ1bmN0aW9uKGUpe2UuZm4uY29sdW1ucz1mdW5jdGlvbihuKXt2YXIgcj1bXSxpPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTt0eXBlb2Ygbj09XCJzdHJpbmdcIj90aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1lLmRhdGEodGhpcyxcImNvbHVtbnNcIik7aWYodHlwZW9mIHQ9PVwidW5kZWZpbmVkXCJ8fCFlLmlzRnVuY3Rpb24odFtuXSkpcmV0dXJuIGUuZXJyb3IoJ05vIHN1Y2ggbWV0aG9kIFwiJytuKydcIiBmb3IgQ29sdW1ucycpO3ZhciBzPXRbbl0uYXBwbHkodCxpKTtzIT09dW5kZWZpbmVkJiZzIT09dCYmci5wdXNoKHMpfSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZS5kYXRhKHRoaXMsXCJjb2x1bW5zXCIpfHxlLmRhdGEodGhpcyxcImNvbHVtbnNcIixuZXcgdCh0aGlzLG4pKX0pO3JldHVybiByLmxlbmd0aD09PTA/dGhpcy5kYXRhKFwiY29sdW1uc1wiKTpyLmxlbmd0aD09PTE/clswXTpyfTt2YXIgdD1mdW5jdGlvbih0LG4pe3RoaXMuJGVsPWUodCk7biYmZS5leHRlbmQodGhpcyxuKTt0aGlzLlZFUlNJT049XCIyLjIuMlwiO3RoaXMuc29ydD1mdW5jdGlvbigpe2Z1bmN0aW9uIG4oZSxuLHIpe249bj8tMToxO3JldHVybiBmdW5jdGlvbihpLHMpe2k9aVtlXTtzPXNbZV07aWYodC50ZXN0KGkpJiZ0LnRlc3Qocykpe2k9bmV3IERhdGUoaSk7aT1EYXRlLnBhcnNlKGkpO3M9bmV3IERhdGUocyk7cz1EYXRlLnBhcnNlKHMpfWVsc2UgaWYodHlwZW9mIHIhPVwidW5kZWZpbmVkXCIpe2k9cihpKTtzPXIocyl9cmV0dXJuIGk8cz9uKi0xOmk+cz9uKjE6MH19dmFyIGU9dGhpcyx0PS9eKEphbnxKYW51YXJ5fEZlYnxGZWJydWFyeXxNYXJ8TWFyY2h8QXByfEFwcmlsfE1heXxKdW58SnVuZXxKdWx8SnVseXxBdWd8QXVndXN0fFNlcHxTZXB0ZW1iZXJ8T2N0fE9jdG9iZXJ8Tm92fE5vdmVtYmVyfERlY3xEZWNlbWJlcnwoMD9cXGR7MX0pfCgxMHwxMXwxMikpKC18XFxzfFxcL3xcXC4pKDA/WzEtOV18KDF8MilbMC05XXwzKDB8MSkpKC18XFxzfFxcL3xcXC58LFxccykoMTl8MjApP1xcZFxcZCQvaTtlLnRvdGFsJiZlLnNvcnRCeSYmdHlwZW9mIGUuZGF0YVswXVtlLnNvcnRCeV0hPVwidW5kZWZpbmVkXCImJmUuZGF0YS5zb3J0KG4oZS5zb3J0QnksZS5yZXZlcnNlKSl9O3RoaXMuZmlsdGVyPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxuPXQuc2VhcmNoYWJsZUZpZWxkcy5sZW5ndGg7aWYodC5xdWVyeSl7dmFyIHI9bmV3IFJlZ0V4cCh0LnF1ZXJ5LFwiZ2lcIik7dC5kYXRhPWUuZ3JlcCh0LmRhdGEsZnVuY3Rpb24oZSl7Zm9yKHZhciBpPTA7aTxuO2krKylpZih0eXBlb2YgZVt0LnNlYXJjaGFibGVGaWVsZHNbaV1dPT1cInN0cmluZ1wiKXtpZihlW3Quc2VhcmNoYWJsZUZpZWxkc1tpXV0ubWF0Y2gocikpcmV0dXJuITB9ZWxzZSBpZih0eXBlb2YgZVt0LnNlYXJjaGFibGVGaWVsZHNbaV1dPT1cIm51bWJlclwiJiZlW3Quc2VhcmNoYWJsZUZpZWxkc1tpXV09PXQucXVlcnkpcmV0dXJuITA7cmV0dXJuITF9KX10LnRvdGFsPXQuZGF0YS5sZW5ndGh9O3RoaXMucGFnaW5hdGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UucGFnZXM9TWF0aC5jZWlsKGUuZGF0YS5sZW5ndGgvZS5zaXplKTtlLnBhZ2U9ZS5wYWdlPD1lLnBhZ2VzP2UucGFnZToxO2Uuc2V0UmFuZ2UoKTtlLmRhdGE9ZS5kYXRhLnNsaWNlKGUucmFuZ2Uuc3RhcnQtMSxlLnJhbmdlLmVuZCl9O3RoaXMuY29uZGl0aW9uPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PVtdO2lmKGUuc2NoZW1hKXt2YXIgbj1lLmRhdGEubGVuZ3RoLHI9ZS5zY2hlbWEubGVuZ3RoO2Zvcih2YXIgaT0wO2k8bjtpKyspe3ZhciBzPWUuZGF0YVtpXSxvPXt9O2Zvcih2YXIgdT0wO3U8cjt1Kyspe3ZhciBhPWUuc2NoZW1hW3VdO2lmKGEuY29uZGl0aW9uJiYhYS5jb25kaXRpb24oc1thLmtleV0pKXtvPW51bGw7YnJlYWt9b1thLmtleV09c1thLmtleV19byYmdC5wdXNoKG8pfWUuZGF0YT10fX07dGhpcy5jaGV2cm9uPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE11c3RhY2hlLnJlbmRlcihlLHQpfTt0aGlzLmNyZWF0ZT1mdW5jdGlvbigpe2Z1bmN0aW9uIG4oKXt0LnRoZWFkPVtdO2UuZWFjaCh0LnNjaGVtYSxmdW5jdGlvbihuLHIpe2lmKCFyLmhpZGUpe3ZhciBpPXt9O2UuaW5BcnJheShyLmtleSx0LnNvcnRhYmxlRmllbGRzKT09PS0xP2kubm90U29ydGFibGU9ITA6dC5zb3J0Qnk9PT1yLmtleT90LnJldmVyc2U/aS5zb3J0ZWREb3duPSEwOmkuc29ydGVkVXA9ITA6aS5zb3J0YWJsZT0hMDtpLmtleT1yLmtleTtpLmhlYWRlcj1yLmhlYWRlcjt0LnRoZWFkLnB1c2goaSl9fSl9ZnVuY3Rpb24gcihuLHIpe3ZhciBpPVtdO24lMj09PTA/aS5wdXNoKCc8dHIgZGF0YS1jb2x1bW5zLXJvdy1pZD1cIicrbisnXCIgY2xhc3M9XCInK3QuZXZlblJvd0NsYXNzKydcIj4nKTppLnB1c2goJzx0ciBkYXRhLWNvbHVtbnMtcm93LWlkPVwiJytuKydcIiBjbGFzcz1cIicrdC5vZGRSb3dDbGFzcysnXCI+Jyk7ZS5lYWNoKHQuc2NoZW1hLGZ1bmN0aW9uKGUsbil7bi5oaWRlfHwobi50ZW1wbGF0ZT9pLnB1c2goXCI8dGQ+XCIrdC5jaGV2cm9uKG4udGVtcGxhdGUscikrXCI8L3RkPlwiKTppLnB1c2goXCI8dGQ+XCIrcltuLmtleV0rXCI8L3RkPlwiKSl9KTtpLnB1c2goXCI8L3RyPlwiKTtyZXR1cm4gaX1mdW5jdGlvbiBpKCl7dmFyIG49W107bi5wdXNoKFwiPHNlbGVjdD5cIik7ZS5lYWNoKHQuc2hvd1Jvd3MsZnVuY3Rpb24oZSxyKXt2YXIgaT0nPG9wdGlvbiB2YWx1ZT1cIicrcisnXCInO3I9PT10LnNpemUmJihpKz0nc2VsZWN0ZWQ9XCJzZWxlY3RlZFwiJyk7aSs9XCI+XCIrcitcIjwvb3B0aW9uPlwiO24ucHVzaChpKX0pO24ucHVzaChcIjwvc2VsZWN0PlwiKTt0LnNob3dSb3dzTWVudT1uLmpvaW4oXCJcIil9ZnVuY3Rpb24gcygpe3Qucm93cz1bXTt0LnRvdGFsP2UuZWFjaCh0LmRhdGEsZnVuY3Rpb24oZSxpKXtlPT09MCYmbigpO3Qucm93cy5wdXNoKHIoZSxpKS5qb2luKFwiXCIpKX0pOnQucm93cy5wdXNoKCc8dHIgY2xhc3M9XCInK3QuZXZlblJvd0NsYXNzKydcIj48dGQgY29sc3Bhbj1cIicrdC5zY2hlbWEubGVuZ3RoKydcIj48ZW0+Tm8gUmVzdWx0czwvZW0+PC90ZD4nKX12YXIgdD10aGlzO3QucmVzZXREYXRhKCk7dC5zZWFyY2hpbmcmJnQuZmlsdGVyKCk7dC5zb3J0aW5nJiZ0LnNvcnQoKTt0LnBhZ2luYXRpbmcmJnQucGFnaW5hdGUoKTtzKCk7aSgpO3ZhciBvPXtwcmV2UGFnZTp0LnBhZ2UtMSxuZXh0UGFnZTp0LnBhZ2UrMSxwcmV2UGFnZUV4aXN0czp0LnBhZ2VFeGlzdHModC5wYWdlLTEpLG5leHRQYWdlRXhpc3RzOnQucGFnZUV4aXN0cyh0LnBhZ2UrMSkscmVzdWx0UmFuZ2U6dC5yYW5nZSx0YWJsZVRvdGFsOnQudG90YWwsc2hvd1Jvd3NNZW51OnQuc2hvd1Jvd3NNZW51LHJvd3M6dC5yb3dzLGhlYWRlcnM6dC50aGVhZCxxdWVyeTp0LnF1ZXJ5LHNlYXJjaDp0LnNlYXJjaCx0YWJsZTp0LnRhYmxlfTtlLmV4dGVuZCh0LnZpZXcsbyk7dC5wbHVnaW5zJiZlLmVhY2godC5wbHVnaW5zLGZ1bmN0aW9uKGUsbil7dHlwZW9mIENvbHVtbnNQbHVnaW5zIT1cInVuZGVmaW5lZFwiJiZ0eXBlb2YgQ29sdW1uc1BsdWdpbnNbbl0hPVwidW5kZWZpbmVkXCImJkNvbHVtbnNQbHVnaW5zW25dLmNyZWF0ZS5jYWxsKHQpfSk7aWYodC5zZWFyY2gpe3QuJGVsLmh0bWwodC5jaGV2cm9uKHQudGVtcGxhdGUsdC52aWV3KSk7dC5zZWFyY2g9ITF9ZWxzZXtlKFwiW2RhdGEtY29sdW1ucy10YWJsZV1cIix0LiRlbCkucmVtb3ZlKCk7dC4kZWwuYXBwZW5kKHQuY2hldnJvbih0LnRlbXBsYXRlLHQudmlldykpfXJldHVybiEwfTt0aGlzLmluaXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKCl7dC5zY2hlbWE9W107ZS5lYWNoKHQuZGF0YVswXSxmdW5jdGlvbihlKXt0LnNjaGVtYS5wdXNoKHtoZWFkZXI6ZSxrZXk6ZX0pfSl9ZnVuY3Rpb24gcigpe3Quc2VhcmNoYWJsZUZpZWxkcz1bXTtlLmVhY2godC5kYXRhWzBdLGZ1bmN0aW9uKGUpe3Quc2VhcmNoYWJsZUZpZWxkcy5wdXNoKGUpfSl9ZnVuY3Rpb24gaSgpe3Quc29ydGFibGVGaWVsZHM9W107ZS5lYWNoKHQuZGF0YVswXSxmdW5jdGlvbihlKXt0LnNvcnRhYmxlRmllbGRzLnB1c2goZSl9KX1mdW5jdGlvbiBzKCl7ZS5hamF4KHt1cmw6dC50ZW1wbGF0ZUZpbGUsYXN5bmM6ITEsc3VjY2VzczpmdW5jdGlvbihlKXt0LnRlbXBsYXRlPWV9LGVycm9yOmZ1bmN0aW9uKCl7ZS5lcnJvcihcIlRlbXBsYXRlIGNvdWxkIG5vdCBiZSBmb3VuZC5cIil9fSl9dmFyIHQ9dGhpcztpZihlLmlzQXJyYXkodC5kYXRhKSl7dC5tYXN0ZXI9W107dC52aWV3PXt9O3QuJGVsLmFkZENsYXNzKFwiY29sdW1uc1wiKTt0LiRlbC5vbihcImNsaWNrXCIsXCIudWktdGFibGUtc29ydGFibGVcIixmdW5jdGlvbihuKXt2YXIgcj1lKHRoaXMpLmRhdGEoXCJjb2x1bW5zLXNvcnRieVwiKTt0LnNvcnRCeT09PXImJih0LnJldmVyc2U9dC5yZXZlcnNlPyExOiEwKTt0LnNvcnRCeT1yO3Quc29ydEhhbmRsZXIobil9KTt0LiRlbC5vbihcImNsaWNrXCIsXCIudWktdGFibGUtY29udHJvbC1uZXh0LCAudWktdGFibGUtY29udHJvbC1wcmV2XCIsZnVuY3Rpb24obil7dC5wYWdlPWUodGhpcykuZGF0YShcImNvbHVtbnMtcGFnZVwiKTt0LnBhZ2VIYW5kbGVyKG4pfSk7dC4kZWwub24oXCJrZXl1cFwiLFwiLnVpLXRhYmxlLXNlYXJjaFwiLGZ1bmN0aW9uKG4pe3QucXVlcnk9ZSh0aGlzKS52YWwoKTt0LnNlYXJjaEhhbmRsZXIobil9KTt0LiRlbC5vbihcImNoYW5nZVwiLFwiLnVpLXRhYmxlLXNpemUgc2VsZWN0XCIsZnVuY3Rpb24obil7dC5zaXplPXBhcnNlSW50KGUodGhpcykudmFsKCkpO3Quc2l6ZUhhbmRsZXIobil9KTt0LnBsdWdpbnMmJmUuZWFjaCh0LnBsdWdpbnMsZnVuY3Rpb24oZSxuKXt0eXBlb2YgQ29sdW1uc1BsdWdpbnMhPVwidW5kZWZpbmVkXCImJnR5cGVvZiBDb2x1bW5zUGx1Z2luc1tuXSE9XCJ1bmRlZmluZWRcIiYmQ29sdW1uc1BsdWdpbnNbbl0uaW5pdC5jYWxsKHQpfSk7dC5jb25kaXRpb25pbmcmJnQuY29uZGl0aW9uKCk7dC5zY2hlbWF8fG4oKTt0LnNlYXJjaGFibGVGaWVsZHN8fHIoKTt0LnNvcnRhYmxlRmllbGRzfHxpKCk7dC50ZW1wbGF0ZUZpbGUmJnMoKTtlLmV4dGVuZCh0Lm1hc3Rlcix0LmRhdGEpO3QuY3JlYXRlKCl9ZWxzZSBlLmVycm9yKCdUaGUgXCJkYXRhXCIgcGFyYW1ldGVyIG11c3QgYmUgYW4gYXJyYXkuJyl9O3RoaXMuaW5pdCgpfTt0LnByb3RvdHlwZT17ZXZlblJvd0NsYXNzOlwidWktdGFibGUtcm93cy1ldmVuXCIsb2RkUm93Q2xhc3M6XCJ1aS10YWJsZS1yb3dzLW9kZFwiLGxpdmVTZWFyY2g6ITAscGFnZToxLHBhZ2VzOjEscGx1Z2luczpudWxsLHF1ZXJ5Om51bGwscmV2ZXJzZTohMSxwYWdpbmF0aW9uOiEwLHNjaGVtYTpudWxsLHNlYXJjaDohMCxzZWFyY2hhYmxlRmllbGRzOm51bGwsc2hvd1Jvd3M6WzUsMTAsMjUsNTBdLHNpemU6NSxzb3J0YWJsZUZpZWxkczpudWxsLHNvcnRCeTpudWxsLHRhYmxlOiEwLHRlbXBsYXRlRmlsZTpudWxsLHRlbXBsYXRlOic8IS0tIFNlYXJjaCBCb3g6IE9ubHkgcmVuZGVyZWQgd2hpbGUgc2VhcmNoIGlzIHRydWUgLS0+IHt7I3NlYXJjaH19IDxkaXYgY2xhc3M9XCJ1aS1jb2x1bW5zLXNlYXJjaFwiPiA8aW5wdXQgY2xhc3M9XCJ1aS10YWJsZS1zZWFyY2hcIiBwbGFjZWhvbGRlcj1cIlNlYXJjaFwiIHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInF1ZXJ5XCIgZGF0YS1jb2x1bW5zLXNlYXJjaD1cInRydWVcIiB2YWx1ZT1cInt7cXVlcnl9fVwiIC8+IDwvZGl2PiB7ey9zZWFyY2h9fSA8IS0tIFNlYXJjaCBCb3g6IE9ubHkgcmVuZGVyZWQgd2hpbGUgc2VhcmNoIGlzIHRydWUgLS0+IDwhLS0gQ29sdW1ucyBUYWJsZTogT25seSByZW5kZXJlZCB3aGlsZSB0YWJsZSBpcyB0cnVlIC0tPiB7eyN0YWJsZX19IDxkaXYgY2xhc3M9XCJ1aS1jb2x1bW5zLXRhYmxlXCIgZGF0YS1jb2x1bW5zLXRhYmxlPVwidHJ1ZVwiPiA8dGFibGUgY2xhc3M9XCJ1aS10YWJsZVwiPiA8IS0tIENvbHVtbnMgVGFibGUgSGVhZDogSGVhZGVycyBoYXZlIDQgcG9zc2libGUgc3RhdGVzIChzb3J0YWJsZSwgbm90U29ydGFibGUsIHNvcnRlZFVwLCBzb3J0ZWREb3duKSAtLT4gPHRoZWFkPiB7eyNoZWFkZXJzfX0ge3sjc29ydGFibGV9fSA8dGggY2xhc3M9XCJ1aS10YWJsZS1zb3J0YWJsZVwiIGRhdGEtY29sdW1ucy1zb3J0Ynk9XCJ7e2tleX19XCI+e3toZWFkZXJ9fTwvdGg+IHt7L3NvcnRhYmxlfX0ge3sjbm90U29ydGFibGV9fSA8dGggY2xhc3M9XCJcIj57e2hlYWRlcn19PC90aD4ge3svbm90U29ydGFibGV9fSB7eyNzb3J0ZWRVcH19IDx0aCBjbGFzcz1cInVpLXRhYmxlLXNvcnQtdXAgdWktdGFibGUtc29ydGFibGVcIiBkYXRhLWNvbHVtbnMtc29ydGJ5PVwie3trZXl9fVwiPnt7aGVhZGVyfX0gPHNwYW4gY2xhc3M9XCJ1aS1hcnJvd1wiPiYjeDI1QjI7PC9zcGFuPjwvdGg+IHt7L3NvcnRlZFVwfX0ge3sjc29ydGVkRG93bn19IDx0aCBjbGFzcz1cInVpLXRhYmxlLXNvcnQtZG93biB1aS10YWJsZS1zb3J0YWJsZVwiIGRhdGEtY29sdW1ucy1zb3J0Ynk9XCJ7e2tleX19XCI+e3toZWFkZXJ9fSA8c3BhbiBjbGFzcz1cInVpLWFycm93XCI+JiN4MjVCQzs8L3NwYW4+PC90aD4ge3svc29ydGVkRG93bn19IHt7L2hlYWRlcnN9fSA8L3RoZWFkPiA8IS0tIENvbHVtbnMgVGFibGUgSGVhZDogSGVhZGVycyBoYXZlIDQgcG9zc2libGUgc3RhdGVzIChzb3J0YWJsZSwgbm90U29ydGFibGUsIHNvcnRlZFVwLCBzb3J0ZWREb3duKSAtLT4gPCEtLSBDb2x1bW5zIFRhYmxlIEJvZHk6IFRhYmxlIGNvbHVtbnMgYXJlIHJlbmRlcmVkIG91dHNpZGUgb2YgdGhpcyB0ZW1wbGF0ZSAgLS0+IDx0Ym9keT4ge3sjcm93c319IHt7ey59fX0ge3svcm93c319IDwvdGJvZHk+IDwhLS0gQ29sdW1ucyBUYWJsZSBCb2R5OiBUYWJsZSBjb2x1bW5zIGFyZSByZW5kZXJlZCBvdXRzaWRlIG9mIHRoaXMgdGVtcGxhdGUgIC0tPiA8L3RhYmxlPiA8IS0tIENvbHVtbnMgQ29udHJvbHMgIC0tPiA8ZGl2IGNsYXNzPVwidWktdGFibGUtZm9vdGVyXCI+IDxzcGFuIGNsYXNzPVwidWktdGFibGUtc2l6ZVwiPlNob3cgcm93czoge3t7c2hvd1Jvd3NNZW51fX19PC9zcGFuPiA8c3BhbiBjbGFzcz1cInVpLXRhYmxlLXJlc3VsdHNcIj5SZXN1bHRzOiA8c3Ryb25nPnt7cmVzdWx0UmFuZ2Uuc3RhcnR9fSAmbmRhc2g7IHt7cmVzdWx0UmFuZ2UuZW5kfX08L3N0cm9uZz4gb2YgPHN0cm9uZz57e3RhYmxlVG90YWx9fTwvc3Ryb25nPiA8L3NwYW4+IDxzcGFuIGNsYXNzPVwidWktdGFibGUtY29udHJvbHNcIj4ge3sjcHJldlBhZ2VFeGlzdHN9fSA8c3BhbiBjbGFzcz1cInVpLXRhYmxlLWNvbnRyb2wtcHJldlwiIGRhdGEtY29sdW1ucy1wYWdlPVwie3twcmV2UGFnZX19XCI+IDxpbWcgc3JjPVwiaW1hZ2VzL2Fycm93LWxlZnQucG5nXCI+IDwvc3Bhbj4ge3svcHJldlBhZ2VFeGlzdHN9fSB7e15wcmV2UGFnZUV4aXN0c319IDxzcGFuIGNsYXNzPVwidWktdGFibGUtY29udHJvbC1kaXNhYmxlZFwiPiA8aW1nIHNyYz1cImltYWdlcy9hcnJvdy1sZWZ0LnBuZ1wiPiA8L3NwYW4+IHt7L3ByZXZQYWdlRXhpc3RzfX0ge3sjbmV4dFBhZ2VFeGlzdHN9fSA8c3BhbiBjbGFzcz1cInVpLXRhYmxlLWNvbnRyb2wtbmV4dFwiIGRhdGEtY29sdW1ucy1wYWdlPVwie3tuZXh0UGFnZX19XCI+IDxpbWcgc3JjPVwiaW1hZ2VzL2Fycm93LXJpZ2h0LnBuZ1wiPiA8L3NwYW4+IHt7L25leHRQYWdlRXhpc3RzfX0ge3tebmV4dFBhZ2VFeGlzdHN9fSA8c3BhbiBjbGFzcz1cInVpLXRhYmxlLWNvbnRyb2wtZGlzYWJsZWRcIj4gPGltZyBzcmM9XCJpbWFnZXMvYXJyb3ctcmlnaHQucG5nXCI+IDwvc3Bhbj4ge3svbmV4dFBhZ2VFeGlzdHN9fSA8L3NwYW4+IDwvZGl2PiA8IS0tIENvbHVtbnMgQ29udHJvbHMgIC0tPiA8L2Rpdj4ge3svdGFibGV9fSA8IS0tIENvbHVtbnMgVGFibGU6IE9ubHkgcmVuZGVyZWQgd2hpbGUgdGFibGUgaXMgdHJ1ZSAtLT4nLGNvbmRpdGlvbmluZzohMCxwYWdpbmF0aW5nOiEwLHNlYXJjaGluZzohMCxzb3J0aW5nOiEwLHBhZ2VIYW5kbGVyOmZ1bmN0aW9uKCl7dGhpcy5jcmVhdGUoKX0sc2VhcmNoSGFuZGxlcjpmdW5jdGlvbihlKXt0aGlzLmxpdmVTZWFyY2g/dGhpcy5jcmVhdGUoKTplLmtleUNvZGU9PVwiMTNcIiYmdGhpcy5jcmVhdGUoKX0sc2l6ZUhhbmRsZXI6ZnVuY3Rpb24oKXt0aGlzLmNyZWF0ZSgpfSxzb3J0SGFuZGxlcjpmdW5jdGlvbigpe3RoaXMucGFnZT0xO3RoaXMuY3JlYXRlKCl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLiRlbC5kYXRhKFwiY29sdW1uc1wiLG51bGwpO3RoaXMuJGVsLmVtcHR5KCk7cmV0dXJuITB9LGdldE9iamVjdDpmdW5jdGlvbigpe3JldHVybiB0aGlzfSxnZXRQYWdlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFnZX0sZ2V0UXVlcnk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5xdWVyeX0sZ2V0UmFuZ2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yYW5nZX0sZ2V0Um93czpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJvd3N9LGdldFNob3dSb3dzTWVudTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNob3dSb3dzTWVudX0sZ2V0VGVtcGxhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZW1wbGF0ZX0sZ2V0VGhlYWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aGVhZH0sZ2V0VG90YWw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b3RhbH0sZ2V0VmVyc2lvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLlZFUlNJT059LGdldFZpZXc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52aWV3fSxnb3RvUGFnZTpmdW5jdGlvbihlKXtpZih0aGlzLnBhZ2VFeGlzdHMoZSkpe3RoaXMucGFnZT1lO3RoaXMuY3JlYXRlKCk7cmV0dXJuITB9cmV0dXJuITF9LHBhZ2VFeGlzdHM6ZnVuY3Rpb24oZSl7cmV0dXJuIGU+MCYmZTw9dGhpcy5wYWdlcz8hMDohMX0scmVzZXREYXRhOmZ1bmN0aW9uKGUpe3RoaXMuZGF0YT10aGlzLm1hc3Rlci5zbGljZSgwKTtyZXR1cm4gdGhpcy5kYXRhfSxzZXRNYXN0ZXI6ZnVuY3Rpb24odCl7aWYoZS5pc0FycmF5KHQpKXt0aGlzLm1hc3Rlcj10O3JldHVybiEwfXJldHVybiExfSxzZXRQYWdlOmZ1bmN0aW9uKGUpe3RoaXMucGFnZT10aGlzLnBhZ2VFeGlzdHMoZSk/ZTp0aGlzLnBhZ2U7cmV0dXJuIHRoaXMucGFnZX0sc2V0UmFuZ2U6ZnVuY3Rpb24oKXt2YXIgZT0odGhpcy5wYWdlLTEpKnRoaXMuc2l6ZSx0PWUrdGhpcy5zaXplPHRoaXMudG90YWw/ZSt0aGlzLnNpemU6dGhpcy50b3RhbDt0aGlzLnJhbmdlPXtzdGFydDplKzEsZW5kOnR9fSxzZXRUb3RhbDpmdW5jdGlvbihlKXt0aGlzLnRvdGFsPWU7cmV0dXJuITB9LHN0YXJ0VGltZTpudWxsLGVuZFRpbWU6bnVsbCxzdGFydFRpbWVyOmZ1bmN0aW9uKCl7dmFyIGU9bmV3IERhdGU7dGhpcy5zdGFydFRpbWU9ZS5nZXRUaW1lKCl9LGVuZFRpbWVyOmZ1bmN0aW9uKCl7dmFyIGU9bmV3IERhdGU7dGhpcy5lbmRUaW1lPWUuZ2V0VGltZSgpfSxnZXRUaW1lcjpmdW5jdGlvbigpe2NvbnNvbGUubG9nKCh0aGlzLmVuZFRpbWUtdGhpcy5zdGFydFRpbWUpLzFlMyl9fX0pKGpRdWVyeSk7KGZ1bmN0aW9uKGUsdCl7ZS5NdXN0YWNoZT10KHt9KX0pKHRoaXMsZnVuY3Rpb24oZSl7ZnVuY3Rpb24gcihlKXtyZXR1cm4gdHlwZW9mIGU9PVwiZnVuY3Rpb25cIn1mdW5jdGlvbiBpKGUpe3JldHVybiBlLnJlcGxhY2UoL1tcXC1cXFtcXF17fSgpKis/LixcXFxcXFxeJHwjXFxzXS9nLFwiXFxcXCQmXCIpfWZ1bmN0aW9uIG8oZSx0KXtyZXR1cm4gcy5jYWxsKGUsdCl9ZnVuY3Rpb24gYShlKXtyZXR1cm4hbyh1LGUpfWZ1bmN0aW9uIGwoZSl7cmV0dXJuIFN0cmluZyhlKS5yZXBsYWNlKC9bJjw+XCInXFwvXS9nLGZ1bmN0aW9uKGUpe3JldHVybiBmW2VdfSl9ZnVuY3Rpb24gbSh0LHIpe2Z1bmN0aW9uIG0oKXtpZihmJiYhbCl3aGlsZSh1Lmxlbmd0aClkZWxldGUgb1t1LnBvcCgpXTtlbHNlIHU9W107Zj0hMTtsPSExfWZ1bmN0aW9uIHgoZSl7dHlwZW9mIGU9PVwic3RyaW5nXCImJihlPWUuc3BsaXQoaCwyKSk7aWYoIW4oZSl8fGUubGVuZ3RoIT09Mil0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHRhZ3M6IFwiK2UpO3c9bmV3IFJlZ0V4cChpKGVbMF0pK1wiXFxcXHMqXCIpO0U9bmV3IFJlZ0V4cChcIlxcXFxzKlwiK2koZVsxXSkpO1M9bmV3IFJlZ0V4cChcIlxcXFxzKlwiK2koXCJ9XCIrZVsxXSkpfWlmKCF0KXJldHVybltdO3ZhciBzPVtdLG89W10sdT1bXSxmPSExLGw9ITEsdyxFLFM7eChyfHxlLnRhZ3MpO3ZhciBUPW5ldyBiKHQpLE4sQyxrLEwsQSxPO3doaWxlKCFULmVvcygpKXtOPVQucG9zO2s9VC5zY2FuVW50aWwodyk7aWYoaylmb3IodmFyIE09MCxfPWsubGVuZ3RoO008XzsrK00pe0w9ay5jaGFyQXQoTSk7YShMKT91LnB1c2goby5sZW5ndGgpOmw9ITA7by5wdXNoKFtcInRleHRcIixMLE4sTisxXSk7Tis9MTtMPT09XCJcXG5cIiYmbSgpfWlmKCFULnNjYW4odykpYnJlYWs7Zj0hMDtDPVQuc2Nhbih2KXx8XCJuYW1lXCI7VC5zY2FuKGMpO2lmKEM9PT1cIj1cIil7az1ULnNjYW5VbnRpbChwKTtULnNjYW4ocCk7VC5zY2FuVW50aWwoRSl9ZWxzZSBpZihDPT09XCJ7XCIpe2s9VC5zY2FuVW50aWwoUyk7VC5zY2FuKGQpO1Quc2NhblVudGlsKEUpO0M9XCImXCJ9ZWxzZSBrPVQuc2NhblVudGlsKEUpO2lmKCFULnNjYW4oRSkpdGhyb3cgbmV3IEVycm9yKFwiVW5jbG9zZWQgdGFnIGF0IFwiK1QucG9zKTtBPVtDLGssTixULnBvc107by5wdXNoKEEpO2lmKEM9PT1cIiNcInx8Qz09PVwiXlwiKXMucHVzaChBKTtlbHNlIGlmKEM9PT1cIi9cIil7Tz1zLnBvcCgpO2lmKCFPKXRocm93IG5ldyBFcnJvcignVW5vcGVuZWQgc2VjdGlvbiBcIicraysnXCIgYXQgJytOKTtpZihPWzFdIT09ayl0aHJvdyBuZXcgRXJyb3IoJ1VuY2xvc2VkIHNlY3Rpb24gXCInK09bMV0rJ1wiIGF0ICcrTil9ZWxzZSBDPT09XCJuYW1lXCJ8fEM9PT1cIntcInx8Qz09PVwiJlwiP2w9ITA6Qz09PVwiPVwiJiZ4KGspfU89cy5wb3AoKTtpZihPKXRocm93IG5ldyBFcnJvcignVW5jbG9zZWQgc2VjdGlvbiBcIicrT1sxXSsnXCIgYXQgJytULnBvcyk7cmV0dXJuIHkoZyhvKSl9ZnVuY3Rpb24gZyhlKXt2YXIgdD1bXSxuLHI7Zm9yKHZhciBpPTAscz1lLmxlbmd0aDtpPHM7KytpKXtuPWVbaV07aWYobilpZihuWzBdPT09XCJ0ZXh0XCImJnImJnJbMF09PT1cInRleHRcIil7clsxXSs9blsxXTtyWzNdPW5bM119ZWxzZXt0LnB1c2gobik7cj1ufX1yZXR1cm4gdH1mdW5jdGlvbiB5KGUpe3ZhciB0PVtdLG49dCxyPVtdLGkscztmb3IodmFyIG89MCx1PWUubGVuZ3RoO288dTsrK28pe2k9ZVtvXTtzd2l0Y2goaVswXSl7Y2FzZVwiI1wiOmNhc2VcIl5cIjpuLnB1c2goaSk7ci5wdXNoKGkpO249aVs0XT1bXTticmVhaztjYXNlXCIvXCI6cz1yLnBvcCgpO3NbNV09aVsyXTtuPXIubGVuZ3RoPjA/cltyLmxlbmd0aC0xXVs0XTp0O2JyZWFrO2RlZmF1bHQ6bi5wdXNoKGkpfX1yZXR1cm4gdH1mdW5jdGlvbiBiKGUpe3RoaXMuc3RyaW5nPWU7dGhpcy50YWlsPWU7dGhpcy5wb3M9MH1mdW5jdGlvbiB3KGUsdCl7dGhpcy52aWV3PWU9PW51bGw/e306ZTt0aGlzLmNhY2hlPXtcIi5cIjp0aGlzLnZpZXd9O3RoaXMucGFyZW50PXR9ZnVuY3Rpb24gRSgpe3RoaXMuY2FjaGU9e319dmFyIHQ9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxuPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVybiB0LmNhbGwoZSk9PT1cIltvYmplY3QgQXJyYXldXCJ9LHM9UmVnRXhwLnByb3RvdHlwZS50ZXN0LHU9L1xcUy8sZj17XCImXCI6XCImYW1wO1wiLFwiPFwiOlwiJmx0O1wiLFwiPlwiOlwiJmd0O1wiLCdcIic6XCImcXVvdDtcIixcIidcIjpcIiYjMzk7XCIsXCIvXCI6XCImI3gyRjtcIn0sYz0vXFxzKi8saD0vXFxzKy8scD0vXFxzKj0vLGQ9L1xccypcXH0vLHY9LyN8XFxefFxcL3w+fFxce3wmfD18IS87Yi5wcm90b3R5cGUuZW9zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGFpbD09PVwiXCJ9O2IucHJvdG90eXBlLnNjYW49ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy50YWlsLm1hdGNoKGUpO2lmKCF0fHx0LmluZGV4IT09MClyZXR1cm5cIlwiO3ZhciBuPXRbMF07dGhpcy50YWlsPXRoaXMudGFpbC5zdWJzdHJpbmcobi5sZW5ndGgpO3RoaXMucG9zKz1uLmxlbmd0aDtyZXR1cm4gbn07Yi5wcm90b3R5cGUuc2NhblVudGlsPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMudGFpbC5zZWFyY2goZSksbjtzd2l0Y2godCl7Y2FzZS0xOm49dGhpcy50YWlsO3RoaXMudGFpbD1cIlwiO2JyZWFrO2Nhc2UgMDpuPVwiXCI7YnJlYWs7ZGVmYXVsdDpuPXRoaXMudGFpbC5zdWJzdHJpbmcoMCx0KTt0aGlzLnRhaWw9dGhpcy50YWlsLnN1YnN0cmluZyh0KX10aGlzLnBvcys9bi5sZW5ndGg7cmV0dXJuIG59O3cucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB3KGUsdGhpcyl9O3cucHJvdG90eXBlLmxvb2t1cD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmNhY2hlLG47aWYoZSBpbiB0KW49dFtlXTtlbHNle3ZhciBpPXRoaXMscyxvO3doaWxlKGkpe2lmKGUuaW5kZXhPZihcIi5cIik+MCl7bj1pLnZpZXc7cz1lLnNwbGl0KFwiLlwiKTtvPTA7d2hpbGUobiE9bnVsbCYmbzxzLmxlbmd0aCluPW5bc1tvKytdXX1lbHNlIG49aS52aWV3W2VdO2lmKG4hPW51bGwpYnJlYWs7aT1pLnBhcmVudH10W2VdPW59cihuKSYmKG49bi5jYWxsKHRoaXMudmlldykpO3JldHVybiBufTtFLnByb3RvdHlwZS5jbGVhckNhY2hlPWZ1bmN0aW9uKCl7dGhpcy5jYWNoZT17fX07RS5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmNhY2hlLHI9bltlXTtyPT1udWxsJiYocj1uW2VdPW0oZSx0KSk7cmV0dXJuIHJ9O0UucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbihlLHQsbil7dmFyIHI9dGhpcy5wYXJzZShlKSxpPXQgaW5zdGFuY2VvZiB3P3Q6bmV3IHcodCk7cmV0dXJuIHRoaXMucmVuZGVyVG9rZW5zKHIsaSxuLGUpfTtFLnByb3RvdHlwZS5yZW5kZXJUb2tlbnM9ZnVuY3Rpb24odCxpLHMsbyl7ZnVuY3Rpb24gZihlKXtyZXR1cm4gYS5yZW5kZXIoZSxpLHMpfXZhciB1PVwiXCIsYT10aGlzLGwsYztmb3IodmFyIGg9MCxwPXQubGVuZ3RoO2g8cDsrK2gpe2w9dFtoXTtzd2l0Y2gobFswXSl7Y2FzZVwiI1wiOmM9aS5sb29rdXAobFsxXSk7aWYoIWMpY29udGludWU7aWYobihjKSlmb3IodmFyIGQ9MCx2PWMubGVuZ3RoO2Q8djsrK2QpdSs9dGhpcy5yZW5kZXJUb2tlbnMobFs0XSxpLnB1c2goY1tkXSkscyxvKTtlbHNlIGlmKHR5cGVvZiBjPT1cIm9iamVjdFwifHx0eXBlb2YgYz09XCJzdHJpbmdcIil1Kz10aGlzLnJlbmRlclRva2VucyhsWzRdLGkucHVzaChjKSxzLG8pO2Vsc2UgaWYocihjKSl7aWYodHlwZW9mIG8hPVwic3RyaW5nXCIpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHVzZSBoaWdoZXItb3JkZXIgc2VjdGlvbnMgd2l0aG91dCB0aGUgb3JpZ2luYWwgdGVtcGxhdGVcIik7Yz1jLmNhbGwoaS52aWV3LG8uc2xpY2UobFszXSxsWzVdKSxmKTtjIT1udWxsJiYodSs9Yyl9ZWxzZSB1Kz10aGlzLnJlbmRlclRva2VucyhsWzRdLGkscyxvKTticmVhaztjYXNlXCJeXCI6Yz1pLmxvb2t1cChsWzFdKTtpZighY3x8bihjKSYmYy5sZW5ndGg9PT0wKXUrPXRoaXMucmVuZGVyVG9rZW5zKGxbNF0saSxzLG8pO2JyZWFrO2Nhc2VcIj5cIjppZighcyljb250aW51ZTtjPXIocyk/cyhsWzFdKTpzW2xbMV1dO2MhPW51bGwmJih1Kz10aGlzLnJlbmRlclRva2Vucyh0aGlzLnBhcnNlKGMpLGkscyxjKSk7YnJlYWs7Y2FzZVwiJlwiOmM9aS5sb29rdXAobFsxXSk7YyE9bnVsbCYmKHUrPWMpO2JyZWFrO2Nhc2VcIm5hbWVcIjpjPWkubG9va3VwKGxbMV0pO2MhPW51bGwmJih1Kz1lLmVzY2FwZShjKSk7YnJlYWs7Y2FzZVwidGV4dFwiOnUrPWxbMV19fXJldHVybiB1fTtlLm5hbWU9XCJtdXN0YWNoZS5qc1wiO2UudmVyc2lvbj1cIjAuOC4xXCI7ZS50YWdzPVtcInt7XCIsXCJ9fVwiXTt2YXIgUz1uZXcgRTtlLmNsZWFyQ2FjaGU9ZnVuY3Rpb24oKXtyZXR1cm4gUy5jbGVhckNhY2hlKCl9O2UucGFyc2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gUy5wYXJzZShlLHQpfTtlLnJlbmRlcj1mdW5jdGlvbihlLHQsbil7cmV0dXJuIFMucmVuZGVyKGUsdCxuKX07ZS50b19odG1sPWZ1bmN0aW9uKHQsbixpLHMpe3ZhciBvPWUucmVuZGVyKHQsbixpKTtpZighcihzKSlyZXR1cm4gbztzKG8pfTtlLmVzY2FwZT1sO2UuU2Nhbm5lcj1iO2UuQ29udGV4dD13O2UuV3JpdGVyPUU7cmV0dXJuIGV9KTsiLCIvKlxyXG4gKiBqUXVlcnkgc3J0XHJcbiAqXHJcbiAqIHZlcnNpb24gMC4xIChOb3ZlbWJlciAyOCwgMjAwOClcclxuICpcclxuICogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGFuZCBHUEwgbGljZW5zZXM6XHJcbiAqICAgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcclxuICogICBodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvZ3BsLmh0bWxcclxuICovXHJcbi8qXHJcbiAgdXNhZ2U6XHJcbiAgICA8dmlkZW8gc3JjPVwiZXhhbXBsZS5vZ2dcIiBpZD1cImV4YW1wbGV2aWRlb1wiIC8+XHJcbiAgICA8ZGl2IGNsYXNzPVwic3J0XCIgZGF0YS12aWRlbz1cImV4YW1wbGV2aWRlb1wiIGRhdGEtc3J0PVwiZXhhbXBsZS5zcnRcIj48L2Rpdj5cclxuXHJcbiAganF1ZXJ5LnNydC5qcyB3aWxsIHRyeSB0byBsb2FkIHN1YnRpdGxlcyBpbiBhbGwgZWxlbWVudHMgd2l0aCAnc3J0JyBjbGFzcy5cclxuICAnZGF0YS12aWRlbycgYXRyaWJ1dGUgaXMgdXNlZCB0byBsaW5rIHRvIHRoZSByZWxhdGVkIHZpZGVvLFxyXG4gIGlmIG5vIGRhdGEtc3J0IGlzIHByb3ZpZGVkLCB0aGUgY29udGVudHMgb2YgdGhlIGRpdiBpcyBwYXJzZWQgYXMgc3J0LlxyXG4qL1xyXG52YXIgc3J0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gdG9TZWNvbmRzKHQpIHtcclxuICAgICAgICB2YXIgcyA9IDAuMFxyXG4gICAgICAgIGlmICh0KSB7XHJcbiAgICAgICAgICAgIHZhciBwID0gdC5zcGxpdCgnOicpO1xyXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcC5sZW5ndGg7IGkrKykgcyA9IHMgKiA2MCArIHBhcnNlRmxvYXQocFtpXS5yZXBsYWNlKCcsJywgJy4nKSlcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHM7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc3RyaXAocykge1xyXG4gICAgICAgIHJldHVybiBzLnJlcGxhY2UoL15cXHMrfFxccyskL2csIFwiXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHBsYXlTdWJ0aXRsZXMoc3VidGl0bGVFbGVtZW50KSB7XHJcbiAgICAgICAgdmFyIHZpZGVvSWQgPSBzdWJ0aXRsZUVsZW1lbnQuYXR0cignZGF0YS12aWRlbycpO1xyXG4gICAgICAgIHZhciBzcnQgPSBzdWJ0aXRsZUVsZW1lbnQudGV4dCgpO1xyXG4gICAgICAgIHN1YnRpdGxlRWxlbWVudC50ZXh0KCcnKTtcclxuICAgICAgICBzcnQgPSBzcnQucmVwbGFjZSgvXFxyXFxufFxccnxcXG4vZywgJ1xcbicpXHJcbiAgICAgICAgdmFyIHN1YnRpdGxlcyA9IHt9O1xyXG4gICAgICAgIHNydCA9IHN0cmlwKHNydCk7XHJcbiAgICAgICAgdmFyIHNydF8gPSBzcnQuc3BsaXQoJ1xcblxcbicpO1xyXG4gICAgICAgIGZvciAocyBpbiBzcnRfKSB7XHJcbiAgICAgICAgICAgIHN0ID0gc3J0X1tzXS5zcGxpdCgnXFxuJyk7XHJcbiAgICAgICAgICAgIGlmIChzdC5sZW5ndGggPj0gMikge1xyXG4gICAgICAgICAgICAgICAgbiA9IHN0WzBdO1xyXG4gICAgICAgICAgICAgICAgaSA9IHN0cmlwKHN0WzFdLnNwbGl0KCcgLS0+ICcpWzBdKTtcclxuICAgICAgICAgICAgICAgIG8gPSBzdHJpcChzdFsxXS5zcGxpdCgnIC0tPiAnKVsxXSk7XHJcbiAgICAgICAgICAgICAgICB0ID0gc3RbMl07XHJcbiAgICAgICAgICAgICAgICBpZiAoc3QubGVuZ3RoID4gMikge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoaiA9IDM7IGogPCBzdC5sZW5ndGg7IGorKykgdCArPSAnXFxuJyArIHN0W2pdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaXMgPSB0b1NlY29uZHMoaSk7XHJcbiAgICAgICAgICAgICAgICBvcyA9IHRvU2Vjb25kcyhvKTtcclxuICAgICAgICAgICAgICAgIHN1YnRpdGxlc1tpc10gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaTogaSxcclxuICAgICAgICAgICAgICAgICAgICBvOiBvLFxyXG4gICAgICAgICAgICAgICAgICAgIHQ6IHRcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGN1cnJlbnRTdWJ0aXRsZSA9IC0xO1xyXG4gICAgICAgIHZhciBpdmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgY3VycmVudFRpbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh2aWRlb0lkKVxyXG4gICAgICAgICAgICAgICAgLmN1cnJlbnRUaW1lO1xyXG4gICAgICAgICAgICB2YXIgc3VidGl0bGUgPSAtMTtcclxuICAgICAgICAgICAgZm9yIChzIGluIHN1YnRpdGxlcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHMgPiBjdXJyZW50VGltZSkgYnJlYWtcclxuICAgICAgICAgICAgICAgIHN1YnRpdGxlID0gcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc3VidGl0bGUgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3VidGl0bGUgIT0gY3VycmVudFN1YnRpdGxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VidGl0bGVFbGVtZW50Lmh0bWwoc3VidGl0bGVzW3N1YnRpdGxlXS50KTtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3VidGl0bGUgPSBzdWJ0aXRsZTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3VidGl0bGVzW3N1YnRpdGxlXS5vIDwgY3VycmVudFRpbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZUVsZW1lbnQuaHRtbCgnJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCAxMDApO1xyXG4gICAgfVxyXG4gICAgJCgnLnNydCcpXHJcbiAgICAgICAgLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgc3VidGl0bGVFbGVtZW50ID0gJCh0aGlzKTtcclxuICAgICAgICAgICAgdmFyIHZpZGVvSWQgPSBzdWJ0aXRsZUVsZW1lbnQuYXR0cignZGF0YS12aWRlbycpO1xyXG4gICAgICAgICAgICBpZiAoIXZpZGVvSWQpIHJldHVybjtcclxuICAgICAgICAgICAgdmFyIHNydFVybCA9IHN1YnRpdGxlRWxlbWVudC5hdHRyKCdkYXRhLXNydCcpO1xyXG4gICAgICAgICAgICBpZiAoc3J0VXJsKSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpXHJcbiAgICAgICAgICAgICAgICAgICAgLmxvYWQoc3J0VXJsLCBmdW5jdGlvbiAocmVzcG9uc2VUZXh0LCB0ZXh0U3RhdHVzLCByZXEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGxheVN1YnRpdGxlcyhzdWJ0aXRsZUVsZW1lbnQpXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHBsYXlTdWJ0aXRsZXMoc3VidGl0bGVFbGVtZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG59O1xyXG5cclxuIiwiIWZ1bmN0aW9uKGEpe3ZhciBiPWZ1bmN0aW9uKCl7d2luZG93LmFzeW5jV2Vic2hpbXN8fCh3aW5kb3cuYXN5bmNXZWJzaGltcz17Y2ZnOltdLHJlYWR5OltdfSl9LGM9ZnVuY3Rpb24oKXt3aW5kb3cualF1ZXJ5JiYoYShqUXVlcnkpLGE9ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LndlYnNoaW1zfSl9O3dpbmRvdy53ZWJzaGltcz17c2V0T3B0aW9uczpmdW5jdGlvbigpe2IoKSx3aW5kb3cuYXN5bmNXZWJzaGltcy5jZmcucHVzaChhcmd1bWVudHMpfSxyZWFkeTpmdW5jdGlvbigpe2IoKSx3aW5kb3cuYXN5bmNXZWJzaGltcy5yZWFkeS5wdXNoKGFyZ3VtZW50cyl9LGFjdGl2ZUxhbmc6ZnVuY3Rpb24oYSl7YigpLHdpbmRvdy5hc3luY1dlYnNoaW1zLmxhbmc9YX0scG9seWZpbGw6ZnVuY3Rpb24oYSl7YigpLHdpbmRvdy5hc3luY1dlYnNoaW1zLnBvbHlmaWxsPWF9LF9jdXJTY3JpcHQ6ZnVuY3Rpb24oKXt2YXIgYSxiLGMsZCxlLGY9ZG9jdW1lbnQuY3VycmVudFNjcmlwdDtpZighZil7dHJ5e3Rocm93IG5ldyBFcnJvcihcIlwiKX1jYXRjaChnKXtmb3IoYz0oZy5zb3VyY2VVUkx8fGcuc3RhY2t8fFwiXCIpLnNwbGl0KFwiXFxuXCIpLGU9Lyg/OmZpbHxodHR8d2lkfGFib3xhcHB8cmVzKSguKSsvaSxiPTA7YjxjLmxlbmd0aDtiKyspaWYoZD1jW2JdLm1hdGNoKGUpKXtjPWRbMF0ucmVwbGFjZSgvW1xcOlxcc1xcKF0rW1xcZFxcOlxcKVxcKFxcc10rJC8sXCJcIik7YnJlYWt9fWZvcihhPWRvY3VtZW50LnNjcmlwdHN8fGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpLGI9MDtiPGEubGVuZ3RoJiYoIWFbYl0uZ2V0QXR0cmlidXRlKFwic3JjXCIpfHwoZj1hW2JdLFwiaW50ZXJhY3RpdmVcIiE9YVtiXS5yZWFkeVN0YXRlJiZjIT1hW2JdLnNyYykpO2IrKyk7fXJldHVybiBmfSgpfSx3aW5kb3cud2Vic2hpbT13aW5kb3cud2Vic2hpbXMsd2luZG93LndlYnNoaW1zLnRpbWVyPXNldEludGVydmFsKGMsMCksYygpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZCYmZGVmaW5lKFwicG9seWZpbGxlclwiLFtcImpxdWVyeVwiXSxhKX0oZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYihhKXtyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChhKX12YXIgYyxkLGU9d2luZG93Lm5hdmlnYXRvcixmPXdpbmRvdy53ZWJzaGltcyxnPVwiZG9tLXN1cHBvcnRcIixoPWEuZXZlbnQuc3BlY2lhbCxpPWEoW10pLGo9d2luZG93LmFzeW5jV2Vic2hpbXMsaz17fSxsPXdpbmRvdy5PYmplY3QsbT1mdW5jdGlvbihhKXtyZXR1cm4gYStcIlxcbi8vIyBzb3VyY2VVUkw9XCIrdGhpcy51cmx9LG49ZnVuY3Rpb24oYSl7cmV0dXJuIHEuZW5oYW5jZUF1dG98fFwiYXV0b1wiIT1hP2E6ITF9LG89e21hdGNobWVkaWE6XCJtYXRjaE1lZGlhXCIseGhyMjpcImZpbGVyZWFkZXJcIixwcm9taXNlOlwiZXM2XCIsVVJMOlwidXJsXCJ9LHA9XCJjYXB0dXJlXCJpbiBiKFwiaW5wdXRcIik7Y2xlYXJJbnRlcnZhbChmLnRpbWVyKSxrLmFkdmFuY2VkT2JqZWN0UHJvcGVydGllcz1rLm9iamVjdEFjY2Vzc29yPWsuRVM1PSEhKFwiY3JlYXRlXCJpbiBsJiZcInNlYWxcImluIGwpLCFrLkVTNXx8XCJ0b0pTT05cImluIERhdGUucHJvdG90eXBlfHwoay5FUzU9ITEpLGQ9YS5zdXBwb3J0LmhyZWZOb3JtYWxpemVkPT09ITE/Zi5fY3VyU2NyaXB0LmdldEF0dHJpYnV0ZShcInNyY1wiLDQpOmYuX2N1clNjcmlwdC5zcmMsZD1kLnNwbGl0KFwiP1wiKVswXS5zbGljZSgwLGQubGFzdEluZGV4T2YoXCIvXCIpKzEpK1wic2hpbXMvXCIsYS5leHRlbmQoZix7dmVyc2lvbjpcIjEuMTUuMTBcIixjZmc6e2VuaGFuY2VBdXRvOndpbmRvdy5BdWRpbyYmKCF3aW5kb3cubWF0Y2hNZWRpYXx8bWF0Y2hNZWRpYShcIihtaW4tZGV2aWNlLXdpZHRoOiA3MjFweClcIikubWF0Y2hlcyksd2FpdFJlYWR5OiEwLGxvYWRTdHlsZXM6ITAsd3Nkb2M6ZG9jdW1lbnQsd3Nwb3BvdmVyOnthcHBlbmRUbzpcImF1dG9cIixoaWRlT25CbHVyOiEwfSxhamF4Ontjcm9zc0RvbWFpbjohMH0sbG9hZFNjcmlwdDpmdW5jdGlvbihiLGMpe2EuYWpheChhLmV4dGVuZCh7fSxxLmFqYXgse3VybDpiLHN1Y2Nlc3M6YyxkYXRhVHlwZTpcInNjcmlwdFwiLGNhY2hlOiEwLGdsb2JhbDohMSxkYXRhRmlsdGVyOm19KSl9LGJhc2VQYXRoOmR9LHN1cHBvcnQ6ayxidWdzOnt9LG1vZHVsZXM6e30sZmVhdHVyZXM6e30sZmVhdHVyZUxpc3Q6W10sc2V0T3B0aW9uczpmdW5jdGlvbihiLGMpe1wic3RyaW5nXCI9PXR5cGVvZiBiJiZhcmd1bWVudHMubGVuZ3RoPjE/cVtiXT1hLmlzUGxhaW5PYmplY3QoYyk/YS5leHRlbmQoITAscVtiXXx8e30sYyk6YzpcIm9iamVjdFwiPT10eXBlb2YgYiYmYS5leHRlbmQoITAscSxiKX0sX2dldEF1dG9FbmhhbmNlOm4sYWRkUG9seWZpbGw6ZnVuY3Rpb24oYixjKXtjPWN8fHt9O3ZhciBkPWMuZnx8YjtyW2RdfHwocltkXT1bXSxmLmZlYXR1cmVMaXN0LnB1c2goZCkscVtkXT17fSkscltkXS5wdXNoKGIpLGMub3B0aW9ucz1hLmV4dGVuZChxW2RdLGMub3B0aW9ucykseShiLGMpLGMubWV0aG9kTmFtZXMmJmEuZWFjaChjLm1ldGhvZE5hbWVzLGZ1bmN0aW9uKGEsYil7Zi5hZGRNZXRob2ROYW1lKGIpfSl9LHBvbHlmaWxsOmZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGEpe2F8fChhPWYuZmVhdHVyZUxpc3QpLFwic3RyaW5nXCI9PXR5cGVvZiBhJiYoYT1hLnNwbGl0KFwiIFwiKSk7cmV0dXJuIGYuX3BvbHlmaWxsKGEpfX0oKSxfcG9seWZpbGw6ZnVuY3Rpb24oYil7dmFyIGQsZSxmPVtdO2MucnVufHwoZD0tMSE9PWEuaW5BcnJheShcImZvcm1zLWV4dFwiLGIpLGMoKSxlPWQmJiF2W1wiZm9ybS1udW1iZXItZGF0ZS11aVwiXS50ZXN0KCl8fCFwJiYtMSE9PWEuaW5BcnJheShcIm1lZGlhY2FwdHVyZVwiLGIpLGQmJi0xPT1hLmluQXJyYXkoXCJmb3Jtc1wiLGIpJiZiLnB1c2goXCJmb3Jtc1wiKSxxLmxvYWRTdHlsZXMmJncubG9hZENTUyhcInN0eWxlcy9zaGltXCIrKGU/XCItZXh0XCI6XCJcIikrXCIuY3NzXCIpKSxxLndhaXRSZWFkeSYmKGEucmVhZHlXYWl0KyssdChiLGZ1bmN0aW9uKCl7YS5yZWFkeSghMCl9KSksYS5lYWNoKGIsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj1vW2JdfHxiLHJbYl0/KGIhPT1yW2JdWzBdJiZ0KHJbYl0sZnVuY3Rpb24oKXtzKGIsITApfSksdm9pZChmPWYuY29uY2F0KHJbYl0pKSk6dm9pZCBzKGIsITApfSkseChmKSxhLmVhY2goYixmdW5jdGlvbihhLGIpe3ZhciBjPXFbYl07YyYmKFwibWVkaWFlbGVtZW50XCI9PWImJihjLnJlcGxhY2VVST1uKGMucmVwbGFjZVVJKSkmJmMucGx1Z2lucy51bnNoaWZ0KFwibWVkaWFjb250cm9sc1wiKSxjLnBsdWdpbnMmJmMucGx1Z2lucy5sZW5ndGgmJngocVtiXS5wbHVnaW5zKSl9KX0scmVUZXN0OmZ1bmN0aW9uKCl7dmFyIGIsYz1mdW5jdGlvbihjLGQpe3ZhciBlPXZbZF0sZj1kK1wiUmVhZHlcIjshZXx8ZS5sb2FkZWR8fChlLnRlc3QmJmEuaXNGdW5jdGlvbihlLnRlc3QpP2UudGVzdChbXSk6ZS50ZXN0KXx8KGhbZl0mJmRlbGV0ZSBoW2ZdLHJbZS5mXSxiLnB1c2goZCkpfTtyZXR1cm4gZnVuY3Rpb24oZCl7XCJzdHJpbmdcIj09dHlwZW9mIGQmJihkPWQuc3BsaXQoXCIgXCIpKSxiPVtdLGEuZWFjaChkLGMpLHgoYil9fSgpLGlzUmVhZHk6ZnVuY3Rpb24oYixjKXtpZihiKz1cIlJlYWR5XCIsYyl7aWYoaFtiXSYmaFtiXS5hZGQpcmV0dXJuITA7aFtiXT1hLmV4dGVuZChoW2JdfHx7fSx7YWRkOmZ1bmN0aW9uKGEpe2EuaGFuZGxlci5jYWxsKHRoaXMsYil9fSksYShkb2N1bWVudCkudHJpZ2dlckhhbmRsZXIoYil9cmV0dXJuISghaFtiXXx8IWhbYl0uYWRkKXx8ITF9LHJlYWR5OmZ1bmN0aW9uKGIsYyl7dmFyIGQ9YXJndW1lbnRzWzJdO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBiJiYoYj1iLnNwbGl0KFwiIFwiKSksZHx8KGI9YS5tYXAoYS5ncmVwKGIsZnVuY3Rpb24oYSl7cmV0dXJuIXMoYSl9KSxmdW5jdGlvbihhKXtyZXR1cm4gYStcIlJlYWR5XCJ9KSksIWIubGVuZ3RoKXJldHVybiB2b2lkIGMoYSxmLHdpbmRvdyxkb2N1bWVudCk7dmFyIGU9Yi5zaGlmdCgpLGc9ZnVuY3Rpb24oKXt0KGIsYywhMCl9O2EoZG9jdW1lbnQpLm9uZShlLGcpfSxjYXB0dXJpbmdFdmVudHM6ZnVuY3Rpb24oYixjKXtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyJiYoXCJzdHJpbmdcIj09dHlwZW9mIGImJihiPVtiXSksYS5lYWNoKGIsZnVuY3Rpb24oYixkKXt2YXIgZT1mdW5jdGlvbihiKXtyZXR1cm4gYj1hLmV2ZW50LmZpeChiKSxjJiZmLmNhcHR1cmluZ0V2ZW50UHJldmVudGVkJiZmLmNhcHR1cmluZ0V2ZW50UHJldmVudGVkKGIpLGEuZXZlbnQuZGlzcGF0Y2guY2FsbCh0aGlzLGIpfTtoW2RdPWhbZF18fHt9LGhbZF0uc2V0dXB8fGhbZF0udGVhcmRvd258fGEuZXh0ZW5kKGhbZF0se3NldHVwOmZ1bmN0aW9uKCl7dGhpcy5hZGRFdmVudExpc3RlbmVyKGQsZSwhMCl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKGQsZSwhMCl9fSl9KSl9LHJlZ2lzdGVyOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9dltiXTtpZighZClyZXR1cm4gdm9pZCBmLmVycm9yKFwiY2FuJ3QgZmluZCBtb2R1bGU6IFwiK2IpO2QubG9hZGVkPSEwO3ZhciBlPWZ1bmN0aW9uKCl7YyhhLGYsd2luZG93LGRvY3VtZW50LHZvaWQgMCxkLm9wdGlvbnMpLHMoYiwhMCl9O2QuZCYmZC5kLmxlbmd0aD90KGQuZCxlKTplKCl9LGM6e30sbG9hZGVyOnthZGRNb2R1bGU6ZnVuY3Rpb24oYixjKXt2W2JdPWMsYy5uYW1lPWMubmFtZXx8YixjLmN8fChjLmM9W10pLGEuZWFjaChjLmMsZnVuY3Rpb24oYSxjKXtmLmNbY118fChmLmNbY109W10pLGYuY1tjXS5wdXNoKGIpfSl9LGxvYWRMaXN0OmZ1bmN0aW9uKCl7dmFyIGI9W10sYz1mdW5jdGlvbihjLGQpe1wic3RyaW5nXCI9PXR5cGVvZiBkJiYoZD1bZF0pLGEubWVyZ2UoYixkKSx3LmxvYWRTY3JpcHQoYywhMSxkKX0sZD1mdW5jdGlvbihjLGQpe2lmKHMoYyl8fC0xIT1hLmluQXJyYXkoYyxiKSlyZXR1cm4hMDt2YXIgZSxmPXZbY107cmV0dXJuIGY/KGU9Zi50ZXN0JiZhLmlzRnVuY3Rpb24oZi50ZXN0KT9mLnRlc3QoZCk6Zi50ZXN0LGU/KHMoYywhMCksITApOiExKTohMH0sZT1mdW5jdGlvbihiLGMpe2lmKGIuZCYmYi5kLmxlbmd0aCl7dmFyIGU9ZnVuY3Rpb24oYixlKXtkKGUsYyl8fC0xIT1hLmluQXJyYXkoZSxjKXx8Yy5wdXNoKGUpfTthLmVhY2goYi5kLGZ1bmN0aW9uKGIsYyl7dltjXT92W2NdLmxvYWRlZHx8ZShiLGMpOnJbY10mJihhLmVhY2gocltjXSxlKSx0KHJbY10sZnVuY3Rpb24oKXtzKGMsITApfSkpfSksYi5ub0F1dG9DYWxsYmFja3x8KGIubm9BdXRvQ2FsbGJhY2s9ITApfX07cmV0dXJuIGZ1bmN0aW9uKGcpe3ZhciBoLGksaixrLGw9W10sbT1mdW5jdGlvbihkLGUpe3JldHVybiBrPWUsYS5lYWNoKGYuY1tlXSxmdW5jdGlvbihjLGQpe3JldHVybi0xPT1hLmluQXJyYXkoZCxsKXx8LTEhPWEuaW5BcnJheShkLGIpPyhrPSExLCExKTp2b2lkIDB9KSxrPyhjKFwiY29tYm9zL1wiK2ssZi5jW2tdKSwhMSk6dm9pZCAwfTtmb3IoaT0wO2k8Zy5sZW5ndGg7aSsrKWg9dltnW2ldXSxoJiYhZChoLm5hbWUsZykmJihoLmNzcyYmcS5sb2FkU3R5bGVzJiZ3LmxvYWRDU1MoaC5jc3MpLGgubG9hZEluaXQmJmgubG9hZEluaXQoKSxlKGgsZyksaC5sb2FkZWR8fGwucHVzaChoLm5hbWUpLGgubG9hZGVkPSEwKTtmb3IoaT0wLGo9bC5sZW5ndGg7aj5pO2krKylrPSExLGg9bFtpXSwtMT09YS5pbkFycmF5KGgsYikmJihcIm5vQ29tYm9cIiE9cS5kZWJ1ZyYmYS5lYWNoKHZbaF0uYyxtKSxrfHxjKHZbaF0uc3JjfHxoLGgpKX19KCksbWFrZVBhdGg6ZnVuY3Rpb24oYSl7cmV0dXJuLTEhPWEuaW5kZXhPZihcIi8vXCIpfHwwPT09YS5pbmRleE9mKFwiL1wiKT9hOigtMT09YS5pbmRleE9mKFwiLlwiKSYmKGErPVwiLmpzXCIpLHEuYWRkQ2FjaGVCdXN0ZXImJihhKz1xLmFkZENhY2hlQnVzdGVyKSxxLmJhc2VQYXRoK2EpfSxsb2FkQ1NTOmZ1bmN0aW9uKCl7dmFyIGIsYz17fTtyZXR1cm4gZnVuY3Rpb24oZCl7ZD10aGlzLm1ha2VQYXRoKGQpLGNbZF18fChiPWJ8fGEoXCJsaW5rLCBzdHlsZVwiKVswXXx8YShcInNjcmlwdFwiKVswXSxjW2RdPTEsYSgnPGxpbmsgcmVsPVwic3R5bGVzaGVldFwiIC8+JykuaW5zZXJ0QmVmb3JlKGIpLmF0dHIoe2hyZWY6ZH0pKX19KCksbG9hZFNjcmlwdDpmdW5jdGlvbigpe3ZhciBiPXt9O3JldHVybiBmdW5jdGlvbihjLGQsZSxmKXtpZihmfHwoYz13Lm1ha2VQYXRoKGMpKSwhYltjXSl7dmFyIGc9ZnVuY3Rpb24oKXtkJiZkKCksZSYmKFwic3RyaW5nXCI9PXR5cGVvZiBlJiYoZT1lLnNwbGl0KFwiIFwiKSksYS5lYWNoKGUsZnVuY3Rpb24oYSxiKXt2W2JdJiYodltiXS5hZnRlckxvYWQmJnZbYl0uYWZ0ZXJMb2FkKCkscyh2W2JdLm5vQXV0b0NhbGxiYWNrP2IrXCJGaWxlTG9hZGVkXCI6YiwhMCkpfSkpfTtiW2NdPTEscS5sb2FkU2NyaXB0KGMsZyxhLm5vb3ApfX19KCl9fSk7dmFyIHE9Zi5jZmcscj1mLmZlYXR1cmVzLHM9Zi5pc1JlYWR5LHQ9Zi5yZWFkeSx1PWYuYWRkUG9seWZpbGwsdj1mLm1vZHVsZXMsdz1mLmxvYWRlcix4PXcubG9hZExpc3QseT13LmFkZE1vZHVsZSx6PWYuYnVncyxBPVtdLEI9e3dhcm46MSxlcnJvcjoxfSxDPWEuZm4sRD1iKFwidmlkZW9cIik7Zi5hZGRNZXRob2ROYW1lPWZ1bmN0aW9uKGEpe2E9YS5zcGxpdChcIjpcIik7dmFyIGI9YVsxXTsxPT1hLmxlbmd0aD8oYj1hWzBdLGE9YVswXSk6YT1hWzBdLENbYV09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYWxsUHJvcChiLGFyZ3VtZW50cyl9fSxDLmNhbGxQcm9wPWZ1bmN0aW9uKGIsYyl7dmFyIGQ7cmV0dXJuIGN8fChjPVtdKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT1hLnByb3AodGhpcyxiKTtpZihlJiZlLmFwcGx5KXtpZihkPWUuYXBwbHkodGhpcyxjKSx2b2lkIDAhPT1kKXJldHVybiExfWVsc2UgZi53YXJuKGIrXCIgaXMgbm90IGEgbWV0aG9kIG9mIFwiK3RoaXMpfSksdm9pZCAwIT09ZD9kOnRoaXN9LGYuYWN0aXZlTGFuZz1mdW5jdGlvbigpe1wibGFuZ3VhZ2VcImluIGV8fChlLmxhbmd1YWdlPWUuYnJvd3Nlckxhbmd1YWdlfHxcIlwiKTt2YXIgYj1hLmF0dHIoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LFwibGFuZ1wiKXx8ZS5sYW5ndWFnZTtyZXR1cm4gdChcIndlYnNoaW1Mb2NhbGl6YXRpb25cIixmdW5jdGlvbigpe2YuYWN0aXZlTGFuZyhiKX0pLGZ1bmN0aW9uKGEpe2lmKGEpaWYoXCJzdHJpbmdcIj09dHlwZW9mIGEpYj1hO2Vsc2UgaWYoXCJvYmplY3RcIj09dHlwZW9mIGEpe3ZhciBjPWFyZ3VtZW50cyxkPXRoaXM7dChcIndlYnNoaW1Mb2NhbGl6YXRpb25cIixmdW5jdGlvbigpe2YuYWN0aXZlTGFuZy5hcHBseShkLGMpfSl9cmV0dXJuIGJ9fSgpLGYuZXJyb3JMb2c9W10sYS5lYWNoKFtcImxvZ1wiLFwiZXJyb3JcIixcIndhcm5cIixcImluZm9cIl0sZnVuY3Rpb24oYSxiKXtmW2JdPWZ1bmN0aW9uKGEpeyhCW2JdJiZxLmRlYnVnIT09ITF8fHEuZGVidWcpJiYoZi5lcnJvckxvZy5wdXNoKGEpLHdpbmRvdy5jb25zb2xlJiZjb25zb2xlLmxvZyYmY29uc29sZVtjb25zb2xlW2JdP2I6XCJsb2dcIl0oYSkpfX0pLGZ1bmN0aW9uKCl7YS5pc0RPTVJlYWR5PWEuaXNSZWFkeTt2YXIgYj1mdW5jdGlvbigpe2EuaXNET01SZWFkeT0hMCxzKFwiRE9NXCIsITApLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtzKFwiV0lORE9XTE9BRFwiLCEwKX0sOTk5OSl9O2M9ZnVuY3Rpb24oKXtpZighYy5ydW4pe2lmKCFhLmlzRE9NUmVhZHkmJnEud2FpdFJlYWR5KXt2YXIgZD1hLnJlYWR5O2EucmVhZHk9ZnVuY3Rpb24oYSl7cmV0dXJuIGEhPT0hMCYmZG9jdW1lbnQuYm9keSYmYigpLGQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxhLnJlYWR5LnByb21pc2U9ZC5wcm9taXNlfXEucmVhZHlFdnQ/YShkb2N1bWVudCkub25lKHEucmVhZHlFdnQsYik6YShiKX1jLnJ1bj0hMH0sYSh3aW5kb3cpLm9uKFwibG9hZFwiLGZ1bmN0aW9uKCl7YigpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtzKFwiV0lORE9XTE9BRFwiLCEwKX0sOSl9KTt2YXIgZD1bXSxlPWZ1bmN0aW9uKCl7MT09dGhpcy5ub2RlVHlwZSYmZi50cmlnZ2VyRG9tVXBkYXRlKHRoaXMpfTthLmV4dGVuZChmLHthZGRSZWFkeTpmdW5jdGlvbihhKXt2YXIgYj1mdW5jdGlvbihiLGMpe2YucmVhZHkoXCJET01cIixmdW5jdGlvbigpe2EoYixjKX0pfTtkLnB1c2goYikscS53c2RvYyYmYihxLndzZG9jLGkpfSx0cmlnZ2VyRG9tVXBkYXRlOmZ1bmN0aW9uKGIpe2lmKCFifHwhYi5ub2RlVHlwZSlyZXR1cm4gdm9pZChiJiZiLmpxdWVyeSYmYi5lYWNoKGZ1bmN0aW9uKCl7Zi50cmlnZ2VyRG9tVXBkYXRlKHRoaXMpfSkpO3ZhciBjPWIubm9kZVR5cGU7aWYoMT09Y3x8OT09Yyl7dmFyIGU9YiE9PWRvY3VtZW50P2EoYik6aTthLmVhY2goZCxmdW5jdGlvbihhLGMpe2MoYixlKX0pfX19KSxDLmNsb25lUG9seWZpbGw9Qy5jbG9uZSxDLmh0bWxQb2x5ZmlsbD1mdW5jdGlvbihiKXtpZighYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gYSh0aGlzLmNsb25lUG9seWZpbGwoKSkuaHRtbCgpO3ZhciBjPUMuaHRtbC5jYWxsKHRoaXMsYik7cmV0dXJuIGM9PT10aGlzJiZhLmlzRE9NUmVhZHkmJnRoaXMuZWFjaChlKSxjfSxDLmpQcm9wPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGEoQy5wcm9wLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8W10pKX0sYS5lYWNoKFtcImFmdGVyXCIsXCJiZWZvcmVcIixcImFwcGVuZFwiLFwicHJlcGVuZFwiLFwicmVwbGFjZVdpdGhcIl0sZnVuY3Rpb24oYixjKXtDW2MrXCJQb2x5ZmlsbFwiXT1mdW5jdGlvbihiKXtyZXR1cm4gYj1hKGIpLENbY10uY2FsbCh0aGlzLGIpLGEuaXNET01SZWFkeSYmYi5lYWNoKGUpLHRoaXN9fSksYS5lYWNoKFtcImluc2VydEFmdGVyXCIsXCJpbnNlcnRCZWZvcmVcIixcImFwcGVuZFRvXCIsXCJwcmVwZW5kVG9cIixcInJlcGxhY2VBbGxcIl0sZnVuY3Rpb24oYixjKXtDW2MucmVwbGFjZSgvW0EtWl0vLGZ1bmN0aW9uKGEpe3JldHVyblwiUG9seWZpbGxcIithfSldPWZ1bmN0aW9uKCl7cmV0dXJuIENbY10uYXBwbHkodGhpcyxhcmd1bWVudHMpLGEuaXNET01SZWFkeSYmZi50cmlnZ2VyRG9tVXBkYXRlKHRoaXMpLHRoaXN9fSksQy51cGRhdGVQb2x5ZmlsbD1mdW5jdGlvbigpe3JldHVybiBhLmlzRE9NUmVhZHkmJmYudHJpZ2dlckRvbVVwZGF0ZSh0aGlzKSx0aGlzfSxhLmVhY2goW1wiZ2V0TmF0aXZlRWxlbWVudFwiLFwiZ2V0U2hhZG93RWxlbWVudFwiLFwiZ2V0U2hhZG93Rm9jdXNFbGVtZW50XCJdLGZ1bmN0aW9uKGEsYil7Q1tiXT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnB1c2hTdGFjayh0aGlzKX19KX0oKSxsLmNyZWF0ZSYmKGYub2JqZWN0Q3JlYXRlPWZ1bmN0aW9uKGIsYyxkKXt2YXIgZT1sLmNyZWF0ZShiKTtyZXR1cm4gZCYmKGUub3B0aW9ucz1hLmV4dGVuZCghMCx7fSxlLm9wdGlvbnN8fHt9LGQpLGQ9ZS5vcHRpb25zKSxlLl9jcmVhdGUmJmEuaXNGdW5jdGlvbihlLl9jcmVhdGUpJiZlLl9jcmVhdGUoZCksZX0pLHkoXCJzd2ZtaW5pXCIse3Rlc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LnN3Zm9iamVjdCYmIXdpbmRvdy5zd2ZtaW5pJiYod2luZG93LnN3Zm1pbmk9d2luZG93LnN3Zm9iamVjdCksXCJzd2ZtaW5pXCJpbiB3aW5kb3d9LGM6WzE2LDcsMiw4LDEsMTIsMjNdfSksdi5zd2ZtaW5pLnRlc3QoKSx5KFwic2l6emxlXCIse3Rlc3Q6YS5leHByLmZpbHRlcnN9KSx1KFwiZXM1XCIse3Rlc3Q6ISghay5FUzV8fCFGdW5jdGlvbi5wcm90b3R5cGUuYmluZCksZDpbXCJzaXp6bGVcIl19KSx1KFwiZG9tLWV4dGVuZFwiLHtmOmcsbm9BdXRvQ2FsbGJhY2s6ITAsZDpbXCJlczVcIl0sYzpbMTYsNywyLDE1LDMwLDMsOCw0LDksMTAsMjUsMzEsMzRdfSksYihcInBpY3R1cmVcIiksdShcInBpY3R1cmVcIix7dGVzdDpcInBpY3R1cmVmaWxsXCJpbiB3aW5kb3d8fCEhd2luZG93LkhUTUxQaWN0dXJlRWxlbWVudHx8XCJyZXNwaW1hZ2VcImluIHdpbmRvdyxkOltcIm1hdGNoTWVkaWFcIl0sYzpbMThdLGxvYWRJbml0OmZ1bmN0aW9uKCl7cyhcInBpY3R1cmVcIiwhMCl9fSksdShcIm1hdGNoTWVkaWFcIix7dGVzdDohKCF3aW5kb3cubWF0Y2hNZWRpYXx8IW1hdGNoTWVkaWEoXCJhbGxcIikuYWRkTGlzdGVuZXIpLGM6WzE4XX0pLHUoXCJzdGlja3lcIix7dGVzdDotMSE9KGEoYihcImJcIikpLmF0dHIoXCJzdHlsZVwiLFwicG9zaXRpb246IC13ZWJraXQtc3RpY2t5OyBwb3NpdGlvbjogc3RpY2t5XCIpLmNzcyhcInBvc2l0aW9uXCIpfHxcIlwiKS5pbmRleE9mKFwic3RpY2t5XCIpLGQ6W1wiZXM1XCIsXCJtYXRjaE1lZGlhXCJdfSksdShcImVzNlwiLHt0ZXN0OiEhKE1hdGguaW11bCYmTnVtYmVyLk1JTl9TQUZFX0lOVEVHRVImJmwuaXMmJndpbmRvdy5Qcm9taXNlJiZQcm9taXNlLmFsbCksZDpbXCJlczVcIl19KSx1KFwiZ2VvbG9jYXRpb25cIix7dGVzdDpcImdlb2xvY2F0aW9uXCJpbiBlLG9wdGlvbnM6e2Rlc3Ryb3lXcml0ZTohMH0sYzpbMjFdfSksZnVuY3Rpb24oKXt1KFwiY2FudmFzXCIse3NyYzpcImV4Y2FudmFzXCIsdGVzdDpcImdldENvbnRleHRcImluIGIoXCJjYW52YXNcIiksb3B0aW9uczp7dHlwZTpcImZsYXNoXCJ9LG5vQXV0b0NhbGxiYWNrOiEwLGxvYWRJbml0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zLnR5cGU7IWF8fC0xPT09YS5pbmRleE9mKFwiZmxhc2hcIil8fHYuc3dmbWluaS50ZXN0KCkmJiFzd2ZtaW5pLmhhc0ZsYXNoUGxheWVyVmVyc2lvbihcIjkuMC4wXCIpfHwodGhpcy5zcmM9XCJmbGFzaFwiPT1hP1wiRmxhc2hDYW52YXMvZmxhc2hjYW52YXNcIjpcIkZsYXNoQ2FudmFzUHJvL2ZsYXNoY2FudmFzXCIpfSxtZXRob2ROYW1lczpbXCJnZXRDb250ZXh0XCJdLGQ6W2ddfSl9KCk7dmFyIEU9XCJnZXRVc2VyTWVkaWFcImluIGU7dShcInVzZXJtZWRpYS1jb3JlXCIse2Y6XCJ1c2VybWVkaWFcIix0ZXN0OkUmJndpbmRvdy5VUkwsZDpbXCJ1cmxcIixnXX0pLHUoXCJ1c2VybWVkaWEtc2hpbVwiLHtmOlwidXNlcm1lZGlhXCIsdGVzdDohIShFfHxlLndlYmtpdEdldFVzZXJNZWRpYXx8ZS5tb3pHZXRVc2VyTWVkaWF8fGUubXNHZXRVc2VyTWVkaWEpLGQ6W1widXJsXCIsXCJtZWRpYWVsZW1lbnRcIixnXX0pLHUoXCJtZWRpYWNhcHR1cmVcIix7dGVzdDpwLGQ6W1wic3dmbWluaVwiLFwidXNlcm1lZGlhXCIsZyxcImZpbGVyZWFkZXJcIixcImZvcm1zXCIsXCJjYW52YXNcIl19KSxmdW5jdGlvbigpe3ZhciBjLGQsaD1cImZvcm0tc2hpbS1leHRlbmRcIixpPVwiZm9ybXZhbGlkYXRpb25cIixqPVwiZm9ybS1udW1iZXItZGF0ZS1hcGlcIixsPSExLG09ITEsbz0hMSxwPXt9LHI9YihcInByb2dyZXNzXCIpLHM9YihcIm91dHB1dFwiKSx0PWZ1bmN0aW9uKCl7dmFyIGQsZixnPVwiMShcIixqPWIoXCJpbnB1dFwiKTtpZihmPWEoJzxmaWVsZHNldD48dGV4dGFyZWEgcmVxdWlyZWQ9XCJcIiAvPjwvZmllbGRzZXQ+JylbMF0say5pbnB1dHR5cGVzPXAsYS5lYWNoKFtcInJhbmdlXCIsXCJkYXRlXCIsXCJkYXRldGltZS1sb2NhbFwiLFwibW9udGhcIixcImNvbG9yXCIsXCJudW1iZXJcIl0sZnVuY3Rpb24oYSxiKXtqLnNldEF0dHJpYnV0ZShcInR5cGVcIixiKSxwW2JdPWoudHlwZT09YiYmKGoudmFsdWU9ZykmJmoudmFsdWUhPWd9KSxrLmRhdGFsaXN0PSEhKFwib3B0aW9uc1wiaW4gYihcImRhdGFsaXN0XCIpJiZ3aW5kb3cuSFRNTERhdGFMaXN0RWxlbWVudCksa1tpXT1cImNoZWNrVmFsaWRpdHlcImluIGosay5maWVsZHNldGVsZW1lbnRzPVwiZWxlbWVudHNcImluIGYsay5maWVsZHNldGRpc2FibGVkPVwiZGlzYWJsZWRcImluIGYpe3RyeXtmLnF1ZXJ5U2VsZWN0b3IoXCI6aW52YWxpZFwiKSYmKGYuZGlzYWJsZWQ9ITAsZD0hZi5xdWVyeVNlbGVjdG9yKFwiOmludmFsaWRcIikmJmYucXVlcnlTZWxlY3RvcihcIjpkaXNhYmxlZFwiKSl9Y2F0Y2gobil7fWsuZmllbGRzZXRkaXNhYmxlZD0hIWR9aWYoa1tpXSYmKG09IShrLmZpZWxkc2V0ZGlzYWJsZWQmJmsuZmllbGRzZXRlbGVtZW50cyYmXCJ2YWx1ZVwiaW4gciYmXCJ2YWx1ZVwiaW4gcyksbz1tJiYvQW5kcm9pZC9pLnRlc3QoZS51c2VyQWdlbnQpLGw9d2luZG93Lm9wZXJhfHx6LmJ1c3RlZFZhbGlkaXR5fHxtfHwhay5kYXRhbGlzdCwhbCYmcC5udW1iZXIpKXtsPSEwO3RyeXtqLnR5cGU9XCJudW1iZXJcIixqLnZhbHVlPVwiXCIsai5zdGVwVXAoKSxsPVwiMVwiIT1qLnZhbHVlfWNhdGNoKHEpe319cmV0dXJuIHouYnVzdGVkVmFsaWRpdHk9bCxjPWtbaV0mJiFsP1wiZm9ybS1uYXRpdmUtZXh0ZW5kXCI6aCx0PWEubm9vcCwhMX0sdz1mdW5jdGlvbihiKXt2YXIgYz0hMDtyZXR1cm4gYi5fdHlwZXN8fChiLl90eXBlcz1iLnR5cGVzLnNwbGl0KFwiIFwiKSksYS5lYWNoKGIuX3R5cGVzLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGIgaW4gcCYmIXBbYl0/KGM9ITEsITEpOnZvaWQgMH0pLGN9O2YudmFsaWRhdGlvbk1lc3NhZ2VzPWYudmFsaWRpdHlNZXNzYWdlcz17bGFuZ1NyYzpcImkxOG4vZm9ybWNmZy1cIixhdmFpbGFibGVMYW5nczpcImFyIGJnIGNhIGNzIGVsIGVzIGZhIGZpIGZyIGhlIGhpIGh1IGl0IGphIGx0IG5sIG5vIHBsIHB0IHB0LUJSIHB0LVBUIHJ1IHN2IHpoLUNOIHpoLVRXXCIuc3BsaXQoXCIgXCIpfSxmLmZvcm1jZmc9YS5leHRlbmQoe30sZi52YWxpZGF0aW9uTWVzc2FnZXMpLGYuaW5wdXRUeXBlcz17fSx1KFwiZm9ybS1jb3JlXCIse2Y6XCJmb3Jtc1wiLHRlc3Q6dCxkOltcImVzNVwiXSxvcHRpb25zOntwbGFjZWhvbGRlclR5cGU6XCJ2YWx1ZVwiLG1lc3NhZ2VQb3BvdmVyOnt9LGxpc3Q6e3BvcG92ZXI6e2NvbnN0cmFpbldpZHRoOiEwfX0saVZhbDp7c2VsOlwiLndzLXZhbGlkYXRlXCIsaGFuZGxlQnViYmxlOlwiaGlkZVwiLHJlY2hlY2tEZWxheTo0MDB9fSxtZXRob2ROYW1lczpbXCJzZXRDdXN0b21WYWxpZGl0eVwiLFwiY2hlY2tWYWxpZGl0eVwiLFwic2V0U2VsZWN0aW9uUmFuZ2VcIl0sYzpbMTYsNywyLDgsMSwxNSwzMCwzLDMxXX0pLGQ9cS5mb3Jtcyx1KFwiZm9ybS1uYXRpdmUtZXh0ZW5kXCIse2Y6XCJmb3Jtc1wiLHRlc3Q6ZnVuY3Rpb24oYil7cmV0dXJuIHQoKSwha1tpXXx8bHx8LTE9PWEuaW5BcnJheShqLGJ8fFtdKXx8dltqXS50ZXN0KCl9LGQ6W1wiZm9ybS1jb3JlXCIsZyxcImZvcm0tbWVzc2FnZVwiXSxjOls2LDUsMTQsMjldfSksdShoLHtmOlwiZm9ybXNcIix0ZXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHQoKSxrW2ldJiYhbH0sZDpbXCJmb3JtLWNvcmVcIixnLFwic2l6emxlXCJdLGM6WzE2LDE1LDI4XX0pLHUoaCtcIjJcIix7ZjpcImZvcm1zXCIsdGVzdDpmdW5jdGlvbigpe3JldHVybiB0KCksa1tpXSYmIW19LGQ6W2hdLGM6WzI3XX0pLHUoXCJmb3JtLW1lc3NhZ2VcIix7ZjpcImZvcm1zXCIsdGVzdDpmdW5jdGlvbihhKXtyZXR1cm4gdCgpLCEoZC5jdXN0b21NZXNzYWdlc3x8IWtbaV18fGx8fCF2W2NdLnRlc3QoYSkpfSxkOltnXSxjOlsxNiw3LDE1LDMwLDMsOCw0LDE0LDI4XX0pLHUoaix7ZjpcImZvcm1zLWV4dFwiLG9wdGlvbnM6e3R5cGVzOlwiZGF0ZSB0aW1lIHJhbmdlIG51bWJlclwifSx0ZXN0OmZ1bmN0aW9uKCl7dCgpO3ZhciBhPSFsO3JldHVybiBhJiYoYT13KHRoaXMub3B0aW9ucykpLGF9LG1ldGhvZE5hbWVzOltcInN0ZXBVcFwiLFwic3RlcERvd25cIl0sZDpbXCJmb3Jtc1wiLGddLGM6WzYsNSwxNywxNCwyOCwyOSwzM119KSx5KFwicmFuZ2UtdWlcIix7b3B0aW9uczp7fSxub0F1dG9DYWxsYmFjazohMCx0ZXN0OmZ1bmN0aW9uKCl7cmV0dXJuISFDLnJhbmdlVUl9LGQ6W1wiZXM1XCJdLGM6WzYsNSw5LDEwLDE3LDExXX0pLHUoXCJmb3JtLW51bWJlci1kYXRlLXVpXCIse2Y6XCJmb3Jtcy1leHRcIix0ZXN0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zO3JldHVybiBhLnJlcGxhY2VVST1uKGEucmVwbGFjZVVJKSx0KCksIWEucmVwbGFjZVVJJiZvJiYoYS5yZXBsYWNlVUk9ITApLCFhLnJlcGxhY2VVSSYmdyhhKX0sZDpbXCJmb3Jtc1wiLGcsaixcInJhbmdlLXVpXCJdLG9wdGlvbnM6e3dpZGdldHM6e2NhbGN1bGF0ZVdpZHRoOiEwLGFuaW1hdGU6ITB9fSxjOls2LDUsOSwxMCwxNywxMV19KSx1KFwiZm9ybS1kYXRhbGlzdFwiLHtmOlwiZm9ybXNcIix0ZXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHQoKSxvJiYoZC5jdXN0b21EYXRhbGlzdD0hMCksay5kYXRhbGlzdCYmIWQuZkR9LGQ6W1wiZm9ybS1jb3JlXCIsZ10sYzpbMTYsNyw2LDIsOSwxNSwzMCwzMSwyOCwzM119KX0oKTt2YXIgRj1cIkZpbGVSZWFkZXJcImluIHdpbmRvdyYmXCJGb3JtRGF0YVwiaW4gd2luZG93O3JldHVybiB1KFwiZmlsZXJlYWRlci14aHJcIix7ZjpcImZpbGVyZWFkZXJcIix0ZXN0OkYsZDpbZyxcInN3Zm1pbmlcIl0sYzpbMjUsMjddfSksdShcImNhbnZhcy1ibG9iXCIse2Y6XCJmaWxlcmVhZGVyXCIsbWV0aG9kTmFtZXM6W1widG9CbG9iXCJdLHRlc3Q6IShGJiYhYihcImNhbnZhc1wiKS50b0Jsb2IpfSksdShcImRldGFpbHNcIix7dGVzdDpcIm9wZW5cImluIGIoXCJkZXRhaWxzXCIpLGQ6W2ddLG9wdGlvbnM6e3RleHQ6XCJEZXRhaWxzXCJ9LGM6WzIxLDIyXX0pLHUoXCJ1cmxcIix7dGVzdDpmdW5jdGlvbigpe3ZhciBhPSExO3RyeXthPW5ldyBVUkwoXCJiXCIsXCJodHRwOi8vYVwiKSxhPSEoIWEuc2VhcmNoUGFyYW1zfHxcImh0dHA6Ly9hL2JcIiE9YS5ocmVmKX1jYXRjaChiKXt9cmV0dXJuIGF9LGQ6W1wiZXM1XCJdfSksZnVuY3Rpb24oKXtmLm1lZGlhZWxlbWVudD17fTt2YXIgYz1iKFwidHJhY2tcIik7aWYoay5tZWRpYWVsZW1lbnQ9XCJjYW5QbGF5VHlwZVwiaW4gRCxrLnRleHR0cmFja2FwaT1cImFkZFRleHRUcmFja1wiaW4gRCxrLnRyYWNrPVwia2luZFwiaW4gYyxiKFwiYXVkaW9cIiksISh6LnRyYWNrPSFrLnRleHR0cmFja2FwaSkpdHJ5e3oudHJhY2s9IShcIm9uY3VlY2hhbmdlXCJpbiBELmFkZFRleHRUcmFjayhcIm1ldGFkYXRhXCIpKX1jYXRjaChkKXt9dShcIm1lZGlhZWxlbWVudC1jb3JlXCIse2Y6XCJtZWRpYWVsZW1lbnRcIixub0F1dG9DYWxsYmFjazohMCxvcHRpb25zOntqbWU6e30scGx1Z2luczpbXSx2YXJzOnt9LHBhcmFtczp7fSxhdHRyczp7fSxjaGFuZ2VTV0Y6YS5ub29wfSxtZXRob2ROYW1lczpbXCJwbGF5XCIsXCJwYXVzZVwiLFwiY2FuUGxheVR5cGVcIixcIm1lZGlhTG9hZDpsb2FkXCJdLGQ6W1wic3dmbWluaVwiXSxjOlsxNiw3LDIsOCwxLDEyLDEzLDIzXX0pLHUoXCJtZWRpYWVsZW1lbnQtamFyaXNcIix7ZjpcIm1lZGlhZWxlbWVudFwiLGQ6W1wibWVkaWFlbGVtZW50LWNvcmVcIixnXSx0ZXN0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zO3JldHVybiFrLm1lZGlhZWxlbWVudHx8Zi5tZWRpYWVsZW1lbnQubG9hZFN3Zj8hMTooYS5wcmVmZXJGbGFzaCYmIXYuc3dmbWluaS50ZXN0KCkmJihhLnByZWZlckZsYXNoPSExKSwhKGEucHJlZmVyRmxhc2gmJnN3Zm1pbmkuaGFzRmxhc2hQbGF5ZXJWZXJzaW9uKFwiMTEuM1wiKSkpfSxjOlsyMSwyNV19KSx1KFwidHJhY2tcIix7b3B0aW9uczp7cG9zaXRpb25EaXNwbGF5OiEwLG92ZXJyaWRlOnoudHJhY2t9LHRlc3Q6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9wdGlvbnM7cmV0dXJuIGEub3ZlcnJpZGU9bihhLm92ZXJyaWRlKSwhYS5vdmVycmlkZSYmIXoudHJhY2t9LGQ6W1wibWVkaWFlbGVtZW50XCIsZ10sbWV0aG9kTmFtZXM6W1wiYWRkVGV4dFRyYWNrXCJdLGM6WzIxLDEyLDEzLDIyLDM0XX0pLHkoXCJqbWViYXNlXCIse3NyYzpcImptZS9iYXNlXCIsYzpbOTgsOTksOTddfSksYS5lYWNoKFtbXCJtZWRpYWNvbnRyb2xzXCIse2M6Wzk4LDk5XSxjc3M6XCJqbWUvY29udHJvbHMuY3NzXCJ9XSxbXCJwbGF5bGlzdFwiLHtjOls5OCw5N119XSxbXCJhbHRlcm5hdGUtbWVkaWFcIl1dLGZ1bmN0aW9uKGIsYyl7eShjWzBdLGEuZXh0ZW5kKHtzcmM6XCJqbWUvXCIrY1swXSxkOltcImptZWJhc2VcIl19LGNbMV0pKX0pLHkoXCJ0cmFjay11aVwiLHtkOltcInRyYWNrXCIsZ119KX0oKSx1KFwiZmVhdHVyZS1kdW1teVwiLHt0ZXN0OiEwLGxvYWRlZDohMCxjOkF9KSxmLiQ9YSxhLndlYnNoaW1zPWYsYS53ZWJzaGltPXdlYnNoaW0sZi5jYWxsQXN5bmM9ZnVuY3Rpb24oKXtmLmNhbGxBc3luYz1hLm5vb3AsaiYmKGouY2ZnJiYoai5jZmcubGVuZ3RofHwoai5jZmc9W1tqLmNmZ11dKSxhLmVhY2goai5jZmcsZnVuY3Rpb24oYSxiKXtmLnNldE9wdGlvbnMuYXBwbHkoZixiKX0pKSxqLnJlYWR5JiZhLmVhY2goai5yZWFkeSxmdW5jdGlvbihhLGIpe2YucmVhZHkuYXBwbHkoZixiKX0pLGoubGFuZyYmZi5hY3RpdmVMYW5nKGoubGFuZyksXCJwb2x5ZmlsbFwiaW4gaiYmZi5wb2x5ZmlsbChqLnBvbHlmaWxsKSksZi5pc1JlYWR5KFwianF1ZXJ5XCIsITApfSxmLmNhbGxBc3luYygpLGZ9KTsiLCIoZnVuY3Rpb24oQSl7aWYoXCJvYmplY3RcIj09PXR5cGVvZiBleHBvcnRzJiZcInVuZGVmaW5lZFwiIT09dHlwZW9mIG1vZHVsZSltb2R1bGUuZj1BKCk7ZWxzZSBpZihcImZ1bmN0aW9uXCI9PT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuTSlkZWZpbmUoW10sQSk7ZWxzZXt2YXIgZztcInVuZGVmaW5lZFwiIT09dHlwZW9mIHdpbmRvdz9nPXdpbmRvdzpcInVuZGVmaW5lZFwiIT09dHlwZW9mIGdsb2JhbD9nPWdsb2JhbDpcInVuZGVmaW5lZFwiIT09dHlwZW9mIHNlbGY/Zz1zZWxmOmc9dGhpcztnLklEMz1BKCl9fSkoZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gZyhsLGgsZil7ZnVuY3Rpb24gYyhiLGQpe2lmKCFoW2JdKXtpZighbFtiXSl7dmFyIGU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZCYmZSlyZXR1cm4gZShiLCEwKTtpZihhKXJldHVybiBhKGIsITApO2U9RXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2IrXCInXCIpO3Rocm93IGUuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixcclxuZTt9ZT1oW2JdPXtmOnt9fTtsW2JdWzBdLmNhbGwoZS5mLGZ1bmN0aW9uKGEpe3ZhciBlPWxbYl1bMV1bYV07cmV0dXJuIGMoZT9lOmEpfSxlLGUuZixnLGwsaCxmKX1yZXR1cm4gaFtiXS5mfWZvcih2YXIgYT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGI9MDtiPGYubGVuZ3RoO2IrKyljKGZbYl0pO3JldHVybiBjfSh7MTpbZnVuY3Rpb24oZyxsKXt2YXIgaD1nKFwiLi9zdHJpbmd1dGlsc1wiKTtpZihcInVuZGVmaW5lZFwiIT09dHlwZW9mIGRvY3VtZW50KXt2YXIgZj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO2YudHlwZT1cInRleHQvdmJzY3JpcHRcIjtmLnRleHRDb250ZW50PVwiRnVuY3Rpb24gSUVCaW5hcnlfZ2V0Qnl0ZUF0KHN0ckJpbmFyeSwgaU9mZnNldClcXHJcXG5cXHRJRUJpbmFyeV9nZXRCeXRlQXQgPSBBc2NCKE1pZEIoc3RyQmluYXJ5LGlPZmZzZXQrMSwxKSlcXHJcXG5FbmQgRnVuY3Rpb25cXHJcXG5GdW5jdGlvbiBJRUJpbmFyeV9nZXRMZW5ndGgoc3RyQmluYXJ5KVxcclxcblxcdElFQmluYXJ5X2dldExlbmd0aCA9IExlbkIoc3RyQmluYXJ5KVxcclxcbkVuZCBGdW5jdGlvblxcclxcblwiO1xyXG5kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF0uYXBwZW5kQ2hpbGQoZil9ZWxzZSBnKFwiYnRvYVwiKSxnKFwiYXRvYlwiKTtsLmY9ZnVuY3Rpb24oYyxhLGIpe3ZhciBtPWF8fDAsZD0wO1wic3RyaW5nXCI9PXR5cGVvZiBjPyhkPWJ8fGMubGVuZ3RoLHRoaXMuYT1mdW5jdGlvbihhKXtyZXR1cm4gYy5jaGFyQ29kZUF0KGErbSkmMjU1fSk6XCJ1bmtub3duXCI9PXR5cGVvZiBjJiYoZD1ifHxJRUJpbmFyeV9nZXRMZW5ndGgoYyksdGhpcy5hPWZ1bmN0aW9uKGEpe3JldHVybiBJRUJpbmFyeV9nZXRCeXRlQXQoYyxhK20pfSk7dGhpcy5zPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBkPUFycmF5KGIpLG09MDttPGI7bSsrKWRbbV09dGhpcy5hKGErbSk7cmV0dXJuIGR9O3RoaXMubD1mdW5jdGlvbigpe3JldHVybiBkfTt0aGlzLmc9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gMCE9KHRoaXMuYShhKSYxPDxiKX07dGhpcy5GPWZ1bmN0aW9uKGEpe2E9KHRoaXMuYShhKzEpPDw4KSt0aGlzLmEoYSk7XHJcbjA+YSYmKGErPTY1NTM2KTtyZXR1cm4gYX07dGhpcy5tPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYShhKSxkPXRoaXMuYShhKzEpLG09dGhpcy5hKGErMik7YT10aGlzLmEoYSszKTtiPSgoKGI8PDgpK2Q8PDgpK208PDgpK2E7MD5iJiYoYis9NDI5NDk2NzI5Nik7cmV0dXJuIGJ9O3RoaXMudz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmEoYSksZD10aGlzLmEoYSsxKTthPXRoaXMuYShhKzIpO2I9KChiPDw4KStkPDw4KSthOzA+YiYmKGIrPTE2Nzc3MjE2KTtyZXR1cm4gYn07dGhpcy5jPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBkPVtdLG09YSxjPTA7bTxhK2I7bSsrLGMrKylkW2NdPVN0cmluZy5mcm9tQ2hhckNvZGUodGhpcy5hKG0pKTtyZXR1cm4gZC5qb2luKFwiXCIpfTt0aGlzLmg9ZnVuY3Rpb24oYSxiLGQpe2E9dGhpcy5zKGEsYik7c3dpdGNoKGQudG9Mb3dlckNhc2UoKSl7Y2FzZSBcInV0Zi0xNlwiOmNhc2UgXCJ1dGYtMTZsZVwiOmNhc2UgXCJ1dGYtMTZiZVwiOmQ9aC5KKGEsZCk7YnJlYWs7XHJcbmNhc2UgXCJ1dGYtOFwiOmQ9aC5LKGEpO2JyZWFrO2RlZmF1bHQ6ZD1oLkkoYSl9cmV0dXJuIGR9O3RoaXMuaT1mdW5jdGlvbihhLGIpe2IoKX19fSx7XCIuL3N0cmluZ3V0aWxzXCI6OSxhdG9iOnZvaWQgMCxidG9hOnZvaWQgMH1dLDI6W2Z1bmN0aW9uKGcsbCl7dmFyIGg9ZyhcIi4vYmluYXJ5ZmlsZVwiKTtsLmY9ZnVuY3Rpb24oZixjLGEpe2Z1bmN0aW9uIGIoYSxiLGQsZSxjLGYpe3ZhciBrPW0oKTtrPyhcInVuZGVmaW5lZFwiPT09dHlwZW9mIGYmJihmPSEwKSxiJiYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGsub25sb2FkPyhrLm9ubG9hZD1mdW5jdGlvbigpe1wiMjAwXCI9PWsuc3RhdHVzfHxcIjIwNlwiPT1rLnN0YXR1cz8oay5maWxlU2l6ZT1jfHxrLmdldFJlc3BvbnNlSGVhZGVyKFwiQ29udGVudC1MZW5ndGhcIiksYihrKSk6ZCYmZCh7ZXJyb3I6XCJ4aHJcIix4aHI6a30pO2s9bnVsbH0sZCYmKGsub25lcnJvcj1mdW5jdGlvbigpe2Qoe2Vycm9yOlwieGhyXCIseGhyOmt9KTtrPW51bGx9KSk6ay5vbnJlYWR5c3RhdGVjaGFuZ2U9XHJcbmZ1bmN0aW9uKCl7ND09ay5yZWFkeVN0YXRlJiYoXCIyMDBcIj09ay5zdGF0dXN8fFwiMjA2XCI9PWsuc3RhdHVzPyhrLmZpbGVTaXplPWN8fGsuZ2V0UmVzcG9uc2VIZWFkZXIoXCJDb250ZW50LUxlbmd0aFwiKSxiKGspKTpkJiZkKHtlcnJvcjpcInhoclwiLHhocjprfSksaz1udWxsKX0pLGsub3BlbihcIkdFVFwiLGEsZiksay5vdmVycmlkZU1pbWVUeXBlJiZrLm92ZXJyaWRlTWltZVR5cGUoXCJ0ZXh0L3BsYWluOyBjaGFyc2V0PXgtdXNlci1kZWZpbmVkXCIpLGUmJmsuc2V0UmVxdWVzdEhlYWRlcihcIlJhbmdlXCIsXCJieXRlcz1cIitlWzBdK1wiLVwiK2VbMV0pLGsuc2V0UmVxdWVzdEhlYWRlcihcIklmLU1vZGlmaWVkLVNpbmNlXCIsXCJTYXQsIDAxIEphbiAxOTcwIDAwOjAwOjAwIEdNVFwiKSxrLnNlbmQobnVsbCkpOmQmJmQoe2Vycm9yOlwiVW5hYmxlIHRvIGNyZWF0ZSBYSFIgb2JqZWN0XCJ9KX1mdW5jdGlvbiBtKCl7dmFyIGE9bnVsbDtcInVuZGVmaW5lZFwiPT09dHlwZW9mIHdpbmRvdz9hPW5ldyAoZyhcInhtbGh0dHByZXF1ZXN0XCIpLlhNTEh0dHBSZXF1ZXN0KTpcclxud2luZG93LlhNTEh0dHBSZXF1ZXN0P2E9bmV3IHdpbmRvdy5YTUxIdHRwUmVxdWVzdDp3aW5kb3cuQWN0aXZlWE9iamVjdCYmKGE9bmV3IHdpbmRvdy5BY3RpdmVYT2JqZWN0KFwiTWljcm9zb2Z0LlhNTEhUVFBcIikpO3JldHVybiBhfWZ1bmN0aW9uIGQoYSxiLGQpe3ZhciBlPW0oKTtlPyhiJiYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGUub25sb2FkPyhlLm9ubG9hZD1mdW5jdGlvbigpe1wiMjAwXCI9PWUuc3RhdHVzfHxcIjIwNlwiPT1lLnN0YXR1cz9iKHRoaXMpOmQmJmQoe2Vycm9yOlwieGhyXCIseGhyOmV9KTtlPW51bGx9LGQmJihlLm9uZXJyb3I9ZnVuY3Rpb24oKXtkKHtlcnJvcjpcInhoclwiLHhocjplfSk7ZT1udWxsfSkpOmUub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ND09ZS5yZWFkeVN0YXRlJiYoXCIyMDBcIj09ZS5zdGF0dXN8fFwiMjA2XCI9PWUuc3RhdHVzP2IodGhpcyk6ZCYmZCh7ZXJyb3I6XCJ4aHJcIix4aHI6ZX0pLGU9bnVsbCl9KSxlLm9wZW4oXCJIRUFEXCIsYSwhMCksZS5zZW5kKG51bGwpKTpcclxuZCYmZCh7ZXJyb3I6XCJVbmFibGUgdG8gY3JlYXRlIFhIUiBvYmplY3RcIn0pfWZ1bmN0aW9uIGUoZCxlKXt2YXIgbSxjO2Z1bmN0aW9uIGYoYSl7dmFyIGI9fn4oYVswXS9tKS1jO2E9fn4oYVsxXS9tKSsxK2M7MD5iJiYoYj0wKTthPj1ibG9ja1RvdGFsJiYoYT1ibG9ja1RvdGFsLTEpO3JldHVybltiLGFdfWZ1bmN0aW9uIGcoYyxmKXtmb3IoO25bY1swXV07KWlmKGNbMF0rKyxjWzBdPmNbMV0pe2YmJmYoKTtyZXR1cm59Zm9yKDtuW2NbMV1dOylpZihjWzFdLS0sY1swXT5jWzFdKXtmJiZmKCk7cmV0dXJufXZhciBoPVtjWzBdKm0sKGNbMV0rMSkqbS0xXTtiKGQsZnVuY3Rpb24oYSl7cGFyc2VJbnQoYS5nZXRSZXNwb25zZUhlYWRlcihcIkNvbnRlbnQtTGVuZ3RoXCIpLDEwKT09ZSYmKGNbMF09MCxjWzFdPWJsb2NrVG90YWwtMSxoWzBdPTAsaFsxXT1lLTEpO2E9e2RhdGE6YS5XfHxhLnJlc3BvbnNlVGV4dCxvZmZzZXQ6aFswXX07Zm9yKHZhciBiPWNbMF07Yjw9Y1sxXTtiKyspbltiXT1cclxuYTtmJiZmKCl9LGEsaCxrLCEhZil9dmFyIGssbD1uZXcgaChcIlwiLDAsZSksbj1bXTttPW18fDIwNDg7Yz1cInVuZGVmaW5lZFwiPT09dHlwZW9mIGM/MDpjO2Jsb2NrVG90YWw9fn4oKGUtMSkvbSkrMTtmb3IodmFyIHAgaW4gbClsLmhhc093blByb3BlcnR5KHApJiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgbFtwXSYmKHRoaXNbcF09bFtwXSk7dGhpcy5hPWZ1bmN0aW9uKGEpe3ZhciBiO2coZihbYSxhXSkpO3JldHVybihiPW5bfn4oYS9tKV0pJiZcInN0cmluZ1wiPT10eXBlb2YgYi5kYXRhP2IuZGF0YS5jaGFyQ29kZUF0KGEtYi5vZmZzZXQpJjI1NTpiJiZcInVua25vd25cIj09dHlwZW9mIGIuZGF0YT9JRUJpbmFyeV9nZXRCeXRlQXQoYi5kYXRhLGEtYi5vZmZzZXQpOlwiXCJ9O3RoaXMuaT1mdW5jdGlvbihhLGIpe2coZihhKSxiKX19KGZ1bmN0aW9uKCl7ZChmLGZ1bmN0aW9uKGEpe2E9cGFyc2VJbnQoYS5nZXRSZXNwb25zZUhlYWRlcihcIkNvbnRlbnQtTGVuZ3RoXCIpLDEwKXx8LTE7YyhuZXcgZShmLFxyXG5hKSl9LGEpfSkoKX19LHtcIi4vYmluYXJ5ZmlsZVwiOjEseG1saHR0cHJlcXVlc3Q6dm9pZCAwfV0sMzpbZnVuY3Rpb24oZyxsKXt2YXIgaD1nKFwiLi9iaW5hcnlmaWxlXCIpO2wuZj1mdW5jdGlvbihmLGMpe3JldHVybiBmdW5jdGlvbihhLGIpe3ZhciBtPWN8fG5ldyBGaWxlUmVhZGVyO20ub25sb2FkPWZ1bmN0aW9uKGEpe2IobmV3IGgoYS50YXJnZXQucmVzdWx0KSl9O20ucmVhZEFzQmluYXJ5U3RyaW5nKGYpfX19LHtcIi4vYmluYXJ5ZmlsZVwiOjF9XSw0OltmdW5jdGlvbihnLGwpe2Z1bmN0aW9uIGgoYil7cmV0dXJuXCJmdHlwTTRBXCI9PWIuYyg0LDcpP2Y6XCJJRDNcIj09Yi5jKDAsMyk/YTpjfXZhciBmPWcoXCIuL2lkNFwiKSxjPWcoXCIuL2lkM3YxXCIpLGE9ZyhcIi4vaWQzdjJcIiksYj1nKFwiLi9idWZmZXJlZGJpbmFyeWFqYXhcIiksbT1nKFwiLi9maWxlcmVhZGVyXCIpO1widW5kZWZpbmVkXCIhPT10eXBlb2Ygd2luZG93JiYod2luZG93LkZpbGVBUElSZWFkZXI9bSk7dmFyIGQ9e30sZT17fSxyPVswLFxyXG43XTtkLkI9ZnVuY3Rpb24oYSl7ZGVsZXRlIGVbYV19O2QuQT1mdW5jdGlvbigpe2U9e319O2QuSD1mdW5jdGlvbihhLGQsYyl7Yz1jfHx7fTsoYy5kYXRhUmVhZGVyfHxiKShhLGZ1bmN0aW9uKGIpe2IuaShyLGZ1bmN0aW9uKCl7dmFyIG09aChiKTttLnUoYixmdW5jdGlvbigpe3ZhciBmPWMudGFncyxoPW0udihiLGYpLGY9ZVthXXx8e30scjtmb3IociBpbiBoKWguaGFzT3duUHJvcGVydHkocikmJihmW3JdPWhbcl0pO2VbYV09ZjtkJiZkKCl9KX0pfSxjLm9uRXJyb3IpfTtkLkQ9ZnVuY3Rpb24oYSl7aWYoIWVbYV0pcmV0dXJuIG51bGw7dmFyIGI9e30sZDtmb3IoZCBpbiBlW2FdKWVbYV0uaGFzT3duUHJvcGVydHkoZCkmJihiW2RdPWVbYV1bZF0pO3JldHVybiBifTtkLkc9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZVthXT9lW2FdW2JdOm51bGx9O2QuRmlsZUFQSVJlYWRlcj1tO2QubG9hZFRhZ3M9ZC5IO2QuZ2V0QWxsVGFncz1kLkQ7ZC5nZXRUYWc9ZC5HO2QuY2xlYXJUYWdzPWQuQjtcclxuZC5jbGVhckFsbD1kLkE7bC5mPWR9LHtcIi4vYnVmZmVyZWRiaW5hcnlhamF4XCI6MixcIi4vZmlsZXJlYWRlclwiOjMsXCIuL2lkM3YxXCI6NSxcIi4vaWQzdjJcIjo2LFwiLi9pZDRcIjo4fV0sNTpbZnVuY3Rpb24oZyxsKXt2YXIgaD17fSxmPVwiQmx1ZXM7Q2xhc3NpYyBSb2NrO0NvdW50cnk7RGFuY2U7RGlzY287RnVuaztHcnVuZ2U7SGlwLUhvcDtKYXp6O01ldGFsO05ldyBBZ2U7T2xkaWVzO090aGVyO1BvcDtSJkI7UmFwO1JlZ2dhZTtSb2NrO1RlY2hubztJbmR1c3RyaWFsO0FsdGVybmF0aXZlO1NrYTtEZWF0aCBNZXRhbDtQcmFua3M7U291bmR0cmFjaztFdXJvLVRlY2hubztBbWJpZW50O1RyaXAtSG9wO1ZvY2FsO0phenorRnVuaztGdXNpb247VHJhbmNlO0NsYXNzaWNhbDtJbnN0cnVtZW50YWw7QWNpZDtIb3VzZTtHYW1lO1NvdW5kIENsaXA7R29zcGVsO05vaXNlO0FsdGVyblJvY2s7QmFzcztTb3VsO1B1bms7U3BhY2U7TWVkaXRhdGl2ZTtJbnN0cnVtZW50YWwgUG9wO0luc3RydW1lbnRhbCBSb2NrO0V0aG5pYztHb3RoaWM7RGFya3dhdmU7VGVjaG5vLUluZHVzdHJpYWw7RWxlY3Ryb25pYztQb3AtRm9saztFdXJvZGFuY2U7RHJlYW07U291dGhlcm4gUm9jaztDb21lZHk7Q3VsdDtHYW5nc3RhO1RvcCA0MDtDaHJpc3RpYW4gUmFwO1BvcC9GdW5rO0p1bmdsZTtOYXRpdmUgQW1lcmljYW47Q2FiYXJldDtOZXcgV2F2ZTtQc3ljaGFkZWxpYztSYXZlO1Nob3d0dW5lcztUcmFpbGVyO0xvLUZpO1RyaWJhbDtBY2lkIFB1bms7QWNpZCBKYXp6O1BvbGthO1JldHJvO011c2ljYWw7Um9jayAmIFJvbGw7SGFyZCBSb2NrO0ZvbGs7Rm9say1Sb2NrO05hdGlvbmFsIEZvbGs7U3dpbmc7RmFzdCBGdXNpb247QmVib2I7TGF0aW47UmV2aXZhbDtDZWx0aWM7Qmx1ZWdyYXNzO0F2YW50Z2FyZGU7R290aGljIFJvY2s7UHJvZ3Jlc3NpdmUgUm9jaztQc3ljaGVkZWxpYyBSb2NrO1N5bXBob25pYyBSb2NrO1Nsb3cgUm9jaztCaWcgQmFuZDtDaG9ydXM7RWFzeSBMaXN0ZW5pbmc7QWNvdXN0aWM7SHVtb3VyO1NwZWVjaDtDaGFuc29uO09wZXJhO0NoYW1iZXIgTXVzaWM7U29uYXRhO1N5bXBob255O0Jvb3R5IEJhc3M7UHJpbXVzO1Bvcm4gR3Jvb3ZlO1NhdGlyZTtTbG93IEphbTtDbHViO1RhbmdvO1NhbWJhO0ZvbGtsb3JlO0JhbGxhZDtQb3dlciBCYWxsYWQ7Umh5dGhtaWMgU291bDtGcmVlc3R5bGU7RHVldDtQdW5rIFJvY2s7RHJ1bSBTb2xvO0FjYXBlbGxhO0V1cm8tSG91c2U7RGFuY2UgSGFsbFwiLnNwbGl0KFwiO1wiKTtcclxuaC51PWZ1bmN0aW9uKGMsYSl7dmFyIGI9Yy5sKCk7Yy5pKFtiLTEyOC0xLGJdLGEpfTtoLnY9ZnVuY3Rpb24oYyl7dmFyIGE9Yy5sKCktMTI4O2lmKFwiVEFHXCI9PWMuYyhhLDMpKXt2YXIgYj1jLmMoYSszLDMwKS5yZXBsYWNlKC9cXDAvZyxcIlwiKSxtPWMuYyhhKzMzLDMwKS5yZXBsYWNlKC9cXDAvZyxcIlwiKSxkPWMuYyhhKzYzLDMwKS5yZXBsYWNlKC9cXDAvZyxcIlwiKSxlPWMuYyhhKzkzLDQpLnJlcGxhY2UoL1xcMC9nLFwiXCIpO2lmKDA9PWMuYShhKzk3KzI4KSl2YXIgaD1jLmMoYSs5NywyOCkucmVwbGFjZSgvXFwwL2csXCJcIiksZz1jLmEoYSs5NysyOSk7ZWxzZSBoPVwiXCIsZz0wO2M9Yy5hKGErOTcrMzApO3JldHVybnt2ZXJzaW9uOlwiMS4xXCIsdGl0bGU6YixhcnRpc3Q6bSxhbGJ1bTpkLHllYXI6ZSxjb21tZW50OmgsdHJhY2s6ZyxnZW5yZToyNTU+Yz9mW2NdOlwiXCJ9fXJldHVybnt9fTtsLmY9aH0se31dLDY6W2Z1bmN0aW9uKGcsbCl7ZnVuY3Rpb24gaChhLGMpe3ZhciBkPWMuYShhKSxlPWMuYShhK1xyXG4xKSxmPWMuYShhKzIpO3JldHVybiBjLmEoYSszKSYxMjd8KGYmMTI3KTw8N3woZSYxMjcpPDwxNHwoZCYxMjcpPDwyMX12YXIgZj1nKFwiLi9pZDN2MmZyYW1lc1wiKTtmLmZyYW1lcz17QlVGOlwiUmVjb21tZW5kZWQgYnVmZmVyIHNpemVcIixDTlQ6XCJQbGF5IGNvdW50ZXJcIixDT006XCJDb21tZW50c1wiLENSQTpcIkF1ZGlvIGVuY3J5cHRpb25cIixDUk06XCJFbmNyeXB0ZWQgbWV0YSBmcmFtZVwiLEVUQzpcIkV2ZW50IHRpbWluZyBjb2Rlc1wiLEVRVTpcIkVxdWFsaXphdGlvblwiLEdFTzpcIkdlbmVyYWwgZW5jYXBzdWxhdGVkIG9iamVjdFwiLElQTDpcIkludm9sdmVkIHBlb3BsZSBsaXN0XCIsTE5LOlwiTGlua2VkIGluZm9ybWF0aW9uXCIsTUNJOlwiTXVzaWMgQ0QgSWRlbnRpZmllclwiLE1MTDpcIk1QRUcgbG9jYXRpb24gbG9va3VwIHRhYmxlXCIsUElDOlwiQXR0YWNoZWQgcGljdHVyZVwiLFBPUDpcIlBvcHVsYXJpbWV0ZXJcIixSRVY6XCJSZXZlcmJcIixSVkE6XCJSZWxhdGl2ZSB2b2x1bWUgYWRqdXN0bWVudFwiLFNMVDpcIlN5bmNocm9uaXplZCBseXJpYy90ZXh0XCIsXHJcblNUQzpcIlN5bmNlZCB0ZW1wbyBjb2Rlc1wiLFRBTDpcIkFsYnVtL01vdmllL1Nob3cgdGl0bGVcIixUQlA6XCJCUE0gKEJlYXRzIFBlciBNaW51dGUpXCIsVENNOlwiQ29tcG9zZXJcIixUQ086XCJDb250ZW50IHR5cGVcIixUQ1I6XCJDb3B5cmlnaHQgbWVzc2FnZVwiLFREQTpcIkRhdGVcIixURFk6XCJQbGF5bGlzdCBkZWxheVwiLFRFTjpcIkVuY29kZWQgYnlcIixURlQ6XCJGaWxlIHR5cGVcIixUSU06XCJUaW1lXCIsVEtFOlwiSW5pdGlhbCBrZXlcIixUTEE6XCJMYW5ndWFnZShzKVwiLFRMRTpcIkxlbmd0aFwiLFRNVDpcIk1lZGlhIHR5cGVcIixUT0E6XCJPcmlnaW5hbCBhcnRpc3QocykvcGVyZm9ybWVyKHMpXCIsVE9GOlwiT3JpZ2luYWwgZmlsZW5hbWVcIixUT0w6XCJPcmlnaW5hbCBMeXJpY2lzdChzKS90ZXh0IHdyaXRlcihzKVwiLFRPUjpcIk9yaWdpbmFsIHJlbGVhc2UgeWVhclwiLFRPVDpcIk9yaWdpbmFsIGFsYnVtL01vdmllL1Nob3cgdGl0bGVcIixUUDE6XCJMZWFkIGFydGlzdChzKS9MZWFkIHBlcmZvcm1lcihzKS9Tb2xvaXN0KHMpL1BlcmZvcm1pbmcgZ3JvdXBcIixcclxuVFAyOlwiQmFuZC9PcmNoZXN0cmEvQWNjb21wYW5pbWVudFwiLFRQMzpcIkNvbmR1Y3Rvci9QZXJmb3JtZXIgcmVmaW5lbWVudFwiLFRQNDpcIkludGVycHJldGVkLCByZW1peGVkLCBvciBvdGhlcndpc2UgbW9kaWZpZWQgYnlcIixUUEE6XCJQYXJ0IG9mIGEgc2V0XCIsVFBCOlwiUHVibGlzaGVyXCIsVFJDOlwiSVNSQyAoSW50ZXJuYXRpb25hbCBTdGFuZGFyZCBSZWNvcmRpbmcgQ29kZSlcIixUUkQ6XCJSZWNvcmRpbmcgZGF0ZXNcIixUUks6XCJUcmFjayBudW1iZXIvUG9zaXRpb24gaW4gc2V0XCIsVFNJOlwiU2l6ZVwiLFRTUzpcIlNvZnR3YXJlL2hhcmR3YXJlIGFuZCBzZXR0aW5ncyB1c2VkIGZvciBlbmNvZGluZ1wiLFRUMTpcIkNvbnRlbnQgZ3JvdXAgZGVzY3JpcHRpb25cIixUVDI6XCJUaXRsZS9Tb25nbmFtZS9Db250ZW50IGRlc2NyaXB0aW9uXCIsVFQzOlwiU3VidGl0bGUvRGVzY3JpcHRpb24gcmVmaW5lbWVudFwiLFRYVDpcIkx5cmljaXN0L3RleHQgd3JpdGVyXCIsVFhYOlwiVXNlciBkZWZpbmVkIHRleHQgaW5mb3JtYXRpb24gZnJhbWVcIixcclxuVFlFOlwiWWVhclwiLFVGSTpcIlVuaXF1ZSBmaWxlIGlkZW50aWZpZXJcIixVTFQ6XCJVbnN5Y2hyb25pemVkIGx5cmljL3RleHQgdHJhbnNjcmlwdGlvblwiLFdBRjpcIk9mZmljaWFsIGF1ZGlvIGZpbGUgd2VicGFnZVwiLFdBUjpcIk9mZmljaWFsIGFydGlzdC9wZXJmb3JtZXIgd2VicGFnZVwiLFdBUzpcIk9mZmljaWFsIGF1ZGlvIHNvdXJjZSB3ZWJwYWdlXCIsV0NNOlwiQ29tbWVyY2lhbCBpbmZvcm1hdGlvblwiLFdDUDpcIkNvcHlyaWdodC9MZWdhbCBpbmZvcm1hdGlvblwiLFdQQjpcIlB1Ymxpc2hlcnMgb2ZmaWNpYWwgd2VicGFnZVwiLFdYWDpcIlVzZXIgZGVmaW5lZCBVUkwgbGluayBmcmFtZVwiLEFFTkM6XCJBdWRpbyBlbmNyeXB0aW9uXCIsQVBJQzpcIkF0dGFjaGVkIHBpY3R1cmVcIixDT01NOlwiQ29tbWVudHNcIixDT01SOlwiQ29tbWVyY2lhbCBmcmFtZVwiLEVOQ1I6XCJFbmNyeXB0aW9uIG1ldGhvZCByZWdpc3RyYXRpb25cIixFUVVBOlwiRXF1YWxpemF0aW9uXCIsRVRDTzpcIkV2ZW50IHRpbWluZyBjb2Rlc1wiLEdFT0I6XCJHZW5lcmFsIGVuY2Fwc3VsYXRlZCBvYmplY3RcIixcclxuR1JJRDpcIkdyb3VwIGlkZW50aWZpY2F0aW9uIHJlZ2lzdHJhdGlvblwiLElQTFM6XCJJbnZvbHZlZCBwZW9wbGUgbGlzdFwiLExJTks6XCJMaW5rZWQgaW5mb3JtYXRpb25cIixNQ0RJOlwiTXVzaWMgQ0QgaWRlbnRpZmllclwiLE1MTFQ6XCJNUEVHIGxvY2F0aW9uIGxvb2t1cCB0YWJsZVwiLE9XTkU6XCJPd25lcnNoaXAgZnJhbWVcIixQUklWOlwiUHJpdmF0ZSBmcmFtZVwiLFBDTlQ6XCJQbGF5IGNvdW50ZXJcIixQT1BNOlwiUG9wdWxhcmltZXRlclwiLFBPU1M6XCJQb3NpdGlvbiBzeW5jaHJvbmlzYXRpb24gZnJhbWVcIixSQlVGOlwiUmVjb21tZW5kZWQgYnVmZmVyIHNpemVcIixSVkFEOlwiUmVsYXRpdmUgdm9sdW1lIGFkanVzdG1lbnRcIixSVlJCOlwiUmV2ZXJiXCIsU1lMVDpcIlN5bmNocm9uaXplZCBseXJpYy90ZXh0XCIsU1lUQzpcIlN5bmNocm9uaXplZCB0ZW1wbyBjb2Rlc1wiLFRBTEI6XCJBbGJ1bS9Nb3ZpZS9TaG93IHRpdGxlXCIsVEJQTTpcIkJQTSAoYmVhdHMgcGVyIG1pbnV0ZSlcIixUQ09NOlwiQ29tcG9zZXJcIixUQ09OOlwiQ29udGVudCB0eXBlXCIsXHJcblRDT1A6XCJDb3B5cmlnaHQgbWVzc2FnZVwiLFREQVQ6XCJEYXRlXCIsVERMWTpcIlBsYXlsaXN0IGRlbGF5XCIsVEVOQzpcIkVuY29kZWQgYnlcIixURVhUOlwiTHlyaWNpc3QvVGV4dCB3cml0ZXJcIixURkxUOlwiRmlsZSB0eXBlXCIsVElNRTpcIlRpbWVcIixUSVQxOlwiQ29udGVudCBncm91cCBkZXNjcmlwdGlvblwiLFRJVDI6XCJUaXRsZS9zb25nbmFtZS9jb250ZW50IGRlc2NyaXB0aW9uXCIsVElUMzpcIlN1YnRpdGxlL0Rlc2NyaXB0aW9uIHJlZmluZW1lbnRcIixUS0VZOlwiSW5pdGlhbCBrZXlcIixUTEFOOlwiTGFuZ3VhZ2UocylcIixUTEVOOlwiTGVuZ3RoXCIsVE1FRDpcIk1lZGlhIHR5cGVcIixUT0FMOlwiT3JpZ2luYWwgYWxidW0vbW92aWUvc2hvdyB0aXRsZVwiLFRPRk46XCJPcmlnaW5hbCBmaWxlbmFtZVwiLFRPTFk6XCJPcmlnaW5hbCBseXJpY2lzdChzKS90ZXh0IHdyaXRlcihzKVwiLFRPUEU6XCJPcmlnaW5hbCBhcnRpc3QocykvcGVyZm9ybWVyKHMpXCIsVE9SWTpcIk9yaWdpbmFsIHJlbGVhc2UgeWVhclwiLFRPV046XCJGaWxlIG93bmVyL2xpY2Vuc2VlXCIsXHJcblRQRTE6XCJMZWFkIHBlcmZvcm1lcihzKS9Tb2xvaXN0KHMpXCIsVFBFMjpcIkJhbmQvb3JjaGVzdHJhL2FjY29tcGFuaW1lbnRcIixUUEUzOlwiQ29uZHVjdG9yL3BlcmZvcm1lciByZWZpbmVtZW50XCIsVFBFNDpcIkludGVycHJldGVkLCByZW1peGVkLCBvciBvdGhlcndpc2UgbW9kaWZpZWQgYnlcIixUUE9TOlwiUGFydCBvZiBhIHNldFwiLFRQVUI6XCJQdWJsaXNoZXJcIixUUkNLOlwiVHJhY2sgbnVtYmVyL1Bvc2l0aW9uIGluIHNldFwiLFRSREE6XCJSZWNvcmRpbmcgZGF0ZXNcIixUUlNOOlwiSW50ZXJuZXQgcmFkaW8gc3RhdGlvbiBuYW1lXCIsVFJTTzpcIkludGVybmV0IHJhZGlvIHN0YXRpb24gb3duZXJcIixUU0laOlwiU2l6ZVwiLFRTUkM6XCJJU1JDIChpbnRlcm5hdGlvbmFsIHN0YW5kYXJkIHJlY29yZGluZyBjb2RlKVwiLFRTU0U6XCJTb2Z0d2FyZS9IYXJkd2FyZSBhbmQgc2V0dGluZ3MgdXNlZCBmb3IgZW5jb2RpbmdcIixUWUVSOlwiWWVhclwiLFRYWFg6XCJVc2VyIGRlZmluZWQgdGV4dCBpbmZvcm1hdGlvbiBmcmFtZVwiLFxyXG5VRklEOlwiVW5pcXVlIGZpbGUgaWRlbnRpZmllclwiLFVTRVI6XCJUZXJtcyBvZiB1c2VcIixVU0xUOlwiVW5zeWNocm9uaXplZCBseXJpYy90ZXh0IHRyYW5zY3JpcHRpb25cIixXQ09NOlwiQ29tbWVyY2lhbCBpbmZvcm1hdGlvblwiLFdDT1A6XCJDb3B5cmlnaHQvTGVnYWwgaW5mb3JtYXRpb25cIixXT0FGOlwiT2ZmaWNpYWwgYXVkaW8gZmlsZSB3ZWJwYWdlXCIsV09BUjpcIk9mZmljaWFsIGFydGlzdC9wZXJmb3JtZXIgd2VicGFnZVwiLFdPQVM6XCJPZmZpY2lhbCBhdWRpbyBzb3VyY2Ugd2VicGFnZVwiLFdPUlM6XCJPZmZpY2lhbCBpbnRlcm5ldCByYWRpbyBzdGF0aW9uIGhvbWVwYWdlXCIsV1BBWTpcIlBheW1lbnRcIixXUFVCOlwiUHVibGlzaGVycyBvZmZpY2lhbCB3ZWJwYWdlXCIsV1hYWDpcIlVzZXIgZGVmaW5lZCBVUkwgbGluayBmcmFtZVwifTt2YXIgYz17dGl0bGU6W1wiVElUMlwiLFwiVFQyXCJdLGFydGlzdDpbXCJUUEUxXCIsXCJUUDFcIl0sYWxidW06W1wiVEFMQlwiLFwiVEFMXCJdLHllYXI6W1wiVFlFUlwiLFwiVFlFXCJdLGNvbW1lbnQ6W1wiQ09NTVwiLFxyXG5cIkNPTVwiXSx0cmFjazpbXCJUUkNLXCIsXCJUUktcIl0sZ2VucmU6W1wiVENPTlwiLFwiVENPXCJdLHBpY3R1cmU6W1wiQVBJQ1wiLFwiUElDXCJdLGx5cmljczpbXCJVU0xUXCIsXCJVTFRcIl19LGE9W1widGl0bGVcIixcImFydGlzdFwiLFwiYWxidW1cIixcInRyYWNrXCJdO2YudT1mdW5jdGlvbihhLGMpe2EuaShbMCxoKDYsYSldLGMpfTtmLnY9ZnVuY3Rpb24oYixtKXt2YXIgZD0wLGU9Yi5hKGQrMyk7aWYoNDxlKXJldHVybnt2ZXJzaW9uOlwiPjIuNFwifTt2YXIgcj1iLmEoZCs0KSxnPWIuZyhkKzUsNyksbD1iLmcoZCs1LDYpLHc9Yi5nKGQrNSw1KSx4PWgoZCs2LGIpLGQ9ZCsxMDtpZihsKXZhciBxPWIubShkKSxkPWQrKHErNCk7dmFyIGU9e3ZlcnNpb246XCIyLlwiK2UrXCIuXCIrcixtYWpvcjplLHJldmlzaW9uOnIsZmxhZ3M6e3Vuc3luY2hyb25pc2F0aW9uOmcsZXh0ZW5kZWRfaGVhZGVyOmwsZXhwZXJpbWVudGFsX2luZGljYXRvcjp3fSxzaXplOnh9LGs7aWYoZylrPXt9O2Vsc2V7Zm9yKHZhciB4PXgtMTAsZz1iLHI9bSxcclxubD17fSx3PWUubWFqb3IscT1bXSx1PTAsbjtuPShyfHxhKVt1XTt1KyspcT1xLmNvbmNhdChjW25dfHxbbl0pO2ZvcihyPXE7ZDx4Oyl7cT1udWxsO3U9ZztuPWQ7dmFyIHA9bnVsbDtzd2l0Y2godyl7Y2FzZSAyOms9dS5jKG4sMyk7dmFyIHQ9dS53KG4rMyksej02O2JyZWFrO2Nhc2UgMzprPXUuYyhuLDQpO3Q9dS5tKG4rNCk7ej0xMDticmVhaztjYXNlIDQ6az11LmMobiw0KSx0PWgobis0LHUpLHo9MTB9aWYoXCJcIj09aylicmVhaztkKz16K3Q7aWYoISgwPnIuaW5kZXhPZihrKSkpe2lmKDI8dyl2YXIgcD11LHk9bis4LHA9e21lc3NhZ2U6e1k6cC5nKHksNiksUjpwLmcoeSw1KSxWOnAuZyh5LDQpfSxmb3JtYXQ6e1Q6cC5nKHkrMSw3KSxOOnAuZyh5KzEsMyksUDpwLmcoeSsxLDIpLEw6cC5nKHkrMSwxKSxDOnAuZyh5KzEsMCl9fTtuKz16O3AmJnAuZm9ybWF0LkMmJihoKG4sdSksbis9NCx0LT00KTtwJiZwLmZvcm1hdC5MfHwoayBpbiBmLmI/cT1mLmJba106XCJUXCI9PWtbMF0mJlxyXG4ocT1mLmJbXCJUKlwiXSkscT1xP3Eobix0LHUscCk6dm9pZCAwLHE9e2lkOmssc2l6ZTp0LGRlc2NyaXB0aW9uOmsgaW4gZi5mcmFtZXM/Zi5mcmFtZXNba106XCJVbmtub3duXCIsZGF0YTpxfSxrIGluIGw/KGxba10uaWQmJihsW2tdPVtsW2tdXSksbFtrXS5wdXNoKHEpKTpsW2tdPXEpfX1rPWx9Zm9yKHZhciBCIGluIGMpaWYoYy5oYXNPd25Qcm9wZXJ0eShCKSl7YTp7dD1jW0JdO1wic3RyaW5nXCI9PXR5cGVvZiB0JiYodD1bdF0pO3o9MDtmb3IoZD12b2lkIDA7ZD10W3pdO3orKylpZihkIGluIGspe2I9a1tkXS5kYXRhO2JyZWFrIGF9Yj12b2lkIDB9YiYmKGVbQl09Yil9Zm9yKHZhciBDIGluIGspay5oYXNPd25Qcm9wZXJ0eShDKSYmKGVbQ109a1tDXSk7cmV0dXJuIGV9O2wuZj1mfSx7XCIuL2lkM3YyZnJhbWVzXCI6N31dLDc6W2Z1bmN0aW9uKGcsbCl7ZnVuY3Rpb24gaChhKXt2YXIgYjtzd2l0Y2goYSl7Y2FzZSAwOmI9XCJpc28tODg1OS0xXCI7YnJlYWs7Y2FzZSAxOmI9XCJ1dGYtMTZcIjtcclxuYnJlYWs7Y2FzZSAyOmI9XCJ1dGYtMTZiZVwiO2JyZWFrO2Nhc2UgMzpiPVwidXRmLThcIn1yZXR1cm4gYn12YXIgZj17Yjp7fX0sYz1cIjMyeDMyIHBpeGVscyAnZmlsZSBpY29uJyAoUE5HIG9ubHkpO090aGVyIGZpbGUgaWNvbjtDb3ZlciAoZnJvbnQpO0NvdmVyIChiYWNrKTtMZWFmbGV0IHBhZ2U7TWVkaWEgKGUuZy4gbGFibGUgc2lkZSBvZiBDRCk7TGVhZCBhcnRpc3QvbGVhZCBwZXJmb3JtZXIvc29sb2lzdDtBcnRpc3QvcGVyZm9ybWVyO0NvbmR1Y3RvcjtCYW5kL09yY2hlc3RyYTtDb21wb3NlcjtMeXJpY2lzdC90ZXh0IHdyaXRlcjtSZWNvcmRpbmcgTG9jYXRpb247RHVyaW5nIHJlY29yZGluZztEdXJpbmcgcGVyZm9ybWFuY2U7TW92aWUvdmlkZW8gc2NyZWVuIGNhcHR1cmU7QSBicmlnaHQgY29sb3VyZWQgZmlzaDtJbGx1c3RyYXRpb247QmFuZC9hcnRpc3QgbG9nb3R5cGU7UHVibGlzaGVyL1N0dWRpbyBsb2dvdHlwZVwiLnNwbGl0KFwiO1wiKTtmLmIuQVBJQz1mdW5jdGlvbihhLGIsXHJcbm0sZCxlKXtlPWV8fFwiM1wiO2Q9YTt2YXIgZj1oKG0uYShhKSk7c3dpdGNoKGUpe2Nhc2UgXCIyXCI6dmFyIGc9bS5jKGErMSwzKTthKz00O2JyZWFrO2Nhc2UgXCIzXCI6Y2FzZSBcIjRcIjpnPW0uaChhKzEsYi0oYS1kKSxcIlwiKSxhKz0xK2cuan1lPW0uYShhLDEpO2U9Y1tlXTtmPW0uaChhKzEsYi0oYS1kKSxmKTthKz0xK2YuajtyZXR1cm57Zm9ybWF0OmcudG9TdHJpbmcoKSx0eXBlOmUsZGVzY3JpcHRpb246Zi50b1N0cmluZygpLGRhdGE6bS5zKGEsZCtiLWEpfX07Zi5iLkNPTU09ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEsZT1oKGMuYShhKSksZj1jLmMoYSsxLDMpLGc9Yy5oKGErNCxiLTQsZSk7YSs9NCtnLmo7YT1jLmgoYSxkK2ItYSxlKTtyZXR1cm57bGFuZ3VhZ2U6ZixYOmcudG9TdHJpbmcoKSx0ZXh0OmEudG9TdHJpbmcoKX19O2YuYi5DT009Zi5iLkNPTU07Zi5iLlBJQz1mdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gZi5iLkFQSUMoYSxiLGMsZCxcIjJcIil9O2YuYi5QQ05UPWZ1bmN0aW9uKGEsXHJcbmIsYyl7cmV0dXJuIGMuUyhhKX07Zi5iLkNOVD1mLmIuUENOVDtmLmJbXCJUKlwiXT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9aChjLmEoYSkpO3JldHVybiBjLmgoYSsxLGItMSxkKS50b1N0cmluZygpfTtmLmIuVENPTj1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGYuYltcIlQqXCJdLmFwcGx5KHRoaXMsYXJndW1lbnRzKS5yZXBsYWNlKC9eXFwoXFxkK1xcKS8sXCJcIil9O2YuYi5UQ089Zi5iLlRDT047Zi5iLlVTTFQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEsZT1oKGMuYShhKSksZj1jLmMoYSsxLDMpLGc9Yy5oKGErNCxiLTQsZSk7YSs9NCtnLmo7YT1jLmgoYSxkK2ItYSxlKTtyZXR1cm57bGFuZ3VhZ2U6ZixPOmcudG9TdHJpbmcoKSxVOmEudG9TdHJpbmcoKX19O2YuYi5VTFQ9Zi5iLlVTTFQ7bC5mPWZ9LHt9XSw4OltmdW5jdGlvbihnLGwpe2Z1bmN0aW9uIGgoYSxiLGYsZCl7dmFyIGU9YS5tKGIpO2lmKDA9PWUpZCgpO2Vsc2V7dmFyIGc9YS5jKGIrNCw0KTstMTxbXCJtb292XCIsXCJ1ZHRhXCIsXCJtZXRhXCIsXHJcblwiaWxzdFwiXS5pbmRleE9mKGcpPyhcIm1ldGFcIj09ZyYmKGIrPTQpLGEuaShbYis4LGIrOCs4XSxmdW5jdGlvbigpe2goYSxiKzgsZS04LGQpfSkpOmEuaShbYisoZyBpbiBjLm8/MDplKSxiK2UrOF0sZnVuY3Rpb24oKXtoKGEsYitlLGYsZCl9KX19ZnVuY3Rpb24gZihhLGIsaCxkLGUpe2U9dm9pZCAwPT09ZT9cIlwiOmUrXCIgIFwiO2Zvcih2YXIgZz1oO2c8aCtkOyl7dmFyIGw9Yi5tKGcpO2lmKDA9PWwpYnJlYWs7dmFyIHY9Yi5jKGcrNCw0KTtpZigtMTxbXCJtb292XCIsXCJ1ZHRhXCIsXCJtZXRhXCIsXCJpbHN0XCJdLmluZGV4T2Yodikpe1wibWV0YVwiPT12JiYoZys9NCk7ZihhLGIsZys4LGwtOCxlKTticmVha31pZihjLm9bdl0pe3ZhciB3PWIudyhnKzE2KzEpLHg9Yy5vW3ZdLHc9Yy50eXBlc1t3XTtpZihcInRya25cIj09dilhW3hbMF1dPWIuYShnKzE2KzExKSxhLmNvdW50PWIuYShnKzE2KzEzKTtlbHNle3ZhciB2PWcrMTYrNCs0LHE9bC0xNi00LTQsaztzd2l0Y2godyl7Y2FzZSBcInRleHRcIjprPWIuaCh2LFxyXG5xLFwiVVRGLThcIik7YnJlYWs7Y2FzZSBcInVpbnQ4XCI6az1iLkYodik7YnJlYWs7Y2FzZSBcImpwZWdcIjpjYXNlIFwicG5nXCI6az17Zm9ybWF0OlwiaW1hZ2UvXCIrdyxkYXRhOmIucyh2LHEpfX1hW3hbMF1dPVwiY29tbWVudFwiPT09eFswXT97dGV4dDprfTprfX1nKz1sfX12YXIgYz17dHlwZXM6ezA6XCJ1aW50OFwiLDE6XCJ0ZXh0XCIsMTM6XCJqcGVnXCIsMTQ6XCJwbmdcIiwyMTpcInVpbnQ4XCJ9LG86e1wiXFx1MDBhOWFsYlwiOltcImFsYnVtXCJdLFwiXFx1MDBhOWFydFwiOltcImFydGlzdFwiXSxcIlxcdTAwYTlBUlRcIjpbXCJhcnRpc3RcIl0sYUFSVDpbXCJhcnRpc3RcIl0sXCJcXHUwMGE5ZGF5XCI6W1wieWVhclwiXSxcIlxcdTAwYTluYW1cIjpbXCJ0aXRsZVwiXSxcIlxcdTAwYTlnZW5cIjpbXCJnZW5yZVwiXSx0cmtuOltcInRyYWNrXCJdLFwiXFx1MDBhOXdydFwiOltcImNvbXBvc2VyXCJdLFwiXFx1MDBhOXRvb1wiOltcImVuY29kZXJcIl0sY3BydDpbXCJjb3B5cmlnaHRcIl0sY292cjpbXCJwaWN0dXJlXCJdLFwiXFx1MDBhOWdycFwiOltcImdyb3VwaW5nXCJdLGtleXc6W1wia2V5d29yZFwiXSxcclxuXCJcXHUwMGE5bHlyXCI6W1wibHlyaWNzXCJdLFwiXFx1MDBhOWNtdFwiOltcImNvbW1lbnRcIl0sdG1wbzpbXCJ0ZW1wb1wiXSxjcGlsOltcImNvbXBpbGF0aW9uXCJdLGRpc2s6W1wiZGlzY1wiXX0sdTpmdW5jdGlvbihhLGIpe2EuaShbMCw3XSxmdW5jdGlvbigpe2goYSwwLGEubCgpLGIpfSl9LHY6ZnVuY3Rpb24oYSl7dmFyIGI9e307ZihiLGEsMCxhLmwoKSk7cmV0dXJuIGJ9fTtsLmY9Y30se31dLDk6W2Z1bmN0aW9uKGcsbCl7bC5mPXtKOmZ1bmN0aW9uKGgsZixjKXt2YXIgYT0wLGI9MSxnPTA7Yz1NYXRoLm1pbihjfHxoLmxlbmd0aCxoLmxlbmd0aCk7MjU0PT1oWzBdJiYyNTU9PWhbMV0/KGY9ITAsYT0yKToyNTU9PWhbMF0mJjI1ND09aFsxXSYmKGY9ITEsYT0yKTtmJiYoYj0wLGc9MSk7Zj1bXTtmb3IodmFyIGQ9MDthPGM7ZCsrKXt2YXIgZT1oW2ErYl0sbD0oZTw8OCkraFthK2ddLGE9YSsyO2lmKDA9PWwpYnJlYWs7ZWxzZSAyMTY+ZXx8MjI0PD1lP2ZbZF09U3RyaW5nLmZyb21DaGFyQ29kZShsKTpcclxuKGU9KGhbYStiXTw8OCkraFthK2ddLGErPTIsZltkXT1TdHJpbmcuZnJvbUNoYXJDb2RlKGwsZSkpfWg9bmV3IFN0cmluZyhmLmpvaW4oXCJcIikpO2guaj1hO3JldHVybiBofSxLOmZ1bmN0aW9uKGgsZil7dmFyIGM9MDtmPU1hdGgubWluKGZ8fGgubGVuZ3RoLGgubGVuZ3RoKTsyMzk9PWhbMF0mJjE4Nz09aFsxXSYmMTkxPT1oWzJdJiYoYz0zKTtmb3IodmFyIGE9W10sYj0wO2M8ZjtiKyspe3ZhciBnPWhbYysrXTtpZigwPT1nKWJyZWFrO2Vsc2UgaWYoMTI4PmcpYVtiXT1TdHJpbmcuZnJvbUNoYXJDb2RlKGcpO2Vsc2UgaWYoMTk0PD1nJiYyMjQ+Zyl7dmFyIGQ9aFtjKytdO2FbYl09U3RyaW5nLmZyb21DaGFyQ29kZSgoKGcmMzEpPDw2KSsoZCY2MykpfWVsc2UgaWYoMjI0PD1nJiYyNDA+Zyl7dmFyIGQ9aFtjKytdLGU9aFtjKytdO2FbYl09U3RyaW5nLmZyb21DaGFyQ29kZSgoKGcmMjU1KTw8MTIpKygoZCY2Myk8PDYpKyhlJjYzKSl9ZWxzZSBpZigyNDA8PWcmJjI0NT5nKXt2YXIgZD1cclxuaFtjKytdLGU9aFtjKytdLGw9aFtjKytdLGc9KChnJjcpPDwxOCkrKChkJjYzKTw8MTIpKygoZSY2Myk8PDYpKyhsJjYzKS02NTUzNjthW2JdPVN0cmluZy5mcm9tQ2hhckNvZGUoKGc+PjEwKSs1NTI5NiwoZyYxMDIzKSs1NjMyMCl9fWE9bmV3IFN0cmluZyhhLmpvaW4oXCJcIikpO2Euaj1jO3JldHVybiBhfSxJOmZ1bmN0aW9uKGcsZil7dmFyIGM9W107Zj1mfHxnLmxlbmd0aDtmb3IodmFyIGE9MDthPGY7KXt2YXIgYj1nW2ErK107aWYoMD09YilicmVhaztjW2EtMV09U3RyaW5nLmZyb21DaGFyQ29kZShiKX1jPW5ldyBTdHJpbmcoYy5qb2luKFwiXCIpKTtjLmo9YTtyZXR1cm4gY319fSx7fV19LHt9LFs0XSkoNCl9KTtcclxuIiwiLyoqIVxyXG4gKiBHb29nbGUgRHJpdmUgRmlsZSBQaWNrZXIgRXhhbXBsZVxyXG4gKiBCeSBEYW5pZWwgTG8gTmlncm8gKGh0dHA6Ly9kYW4uY3gvKVxyXG4gKi9cclxuKGZ1bmN0aW9uKCkge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSW5pdGlhbGlzZSBhIEdvb2dsZSBEcml2ZXIgZmlsZSBwaWNrZXJcclxuICAgICAqL1xyXG4gICAgdmFyIEZpbGVQaWNrZXIgPSB3aW5kb3cuRmlsZVBpY2tlciA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcclxuICAgICAgICAvLyBDb25maWdcclxuICAgICAgICB0aGlzLmFwaUtleSA9IG9wdGlvbnMuYXBpS2V5O1xyXG4gICAgICAgIHRoaXMuY2xpZW50SWQgPSBvcHRpb25zLmNsaWVudElkO1xyXG4gICAgICAgIC8vIEVsZW1lbnRzXHJcbiAgICAgICAgdGhpcy5idXR0b25FbCA9IG9wdGlvbnMuYnV0dG9uRWw7XHJcbiAgICAgICAgLy8gRXZlbnRzXHJcbiAgICAgICAgdGhpcy5vblNlbGVjdCA9IG9wdGlvbnMub25TZWxlY3Q7XHJcbiAgICAgICAgdGhpcy5idXR0b25FbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub3Blbi5iaW5kKHRoaXMpKTtcclxuICAgICAgICAvLyBEaXNhYmxlIHRoZSBidXR0b24gdW50aWwgdGhlIEFQSSBsb2FkcywgYXMgaXQgd29uJ3Qgd29yayBwcm9wZXJseSB1bnRpbCB0aGVuLlxyXG4gICAgICAgIHRoaXMuYnV0dG9uRWwuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIC8vIExvYWQgdGhlIGRyaXZlIEFQSVxyXG4gICAgICAgIGlmICh3aW5kb3cuZ2FwaSAmJiB3aW5kb3cuZ29vZ2xlKSB7XHJcbiAgICAgICAgICAgIGdhcGkuY2xpZW50LnNldEFwaUtleSh0aGlzLmFwaUtleSk7XHJcbiAgICAgICAgICAgIGdhcGkuY2xpZW50LmxvYWQoJ2RyaXZlJywgJ3YyJywgdGhpcy5fZHJpdmVBcGlMb2FkZWQuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgIGdvb2dsZS5sb2FkKCdwaWNrZXInLCAnMScsIHtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiB0aGlzLl9waWNrZXJBcGlMb2FkZWQuYmluZCh0aGlzKVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfTtcclxuICAgIEZpbGVQaWNrZXIucHJvdG90eXBlID0ge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIE9wZW4gdGhlIGZpbGUgcGlja2VyLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIG9wZW46IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgdXNlciBoYXMgYWxyZWFkeSBhdXRoZW50aWNhdGVkXHJcbiAgICAgICAgICAgIHZhciB0b2tlbiA9IGdhcGkuYXV0aC5nZXRUb2tlbigpO1xyXG4gICAgICAgICAgICBpZiAodG9rZW4pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3Nob3dQaWNrZXIoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIFRoZSB1c2VyIGhhcyBub3QgeWV0IGF1dGhlbnRpY2F0ZWQgd2l0aCBHb29nbGVcclxuICAgICAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gZG8gdGhlIGF1dGhlbnRpY2F0aW9uIGJlZm9yZSBkaXNwbGF5aW5nIHRoZSBEcml2ZSBwaWNrZXIuXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kb0F1dGgoZmFsc2UsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Nob3dQaWNrZXIoKTtcclxuICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFNob3cgdGhlIGZpbGUgcGlja2VyIG9uY2UgYXV0aGVudGljYXRpb24gaGFzIGJlZW4gZG9uZS5cclxuICAgICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIF9zaG93UGlja2VyOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIGFjY2Vzc1Rva2VuID0gZ2FwaS5hdXRoLmdldFRva2VuKClcclxuICAgICAgICAgICAgICAgIC5hY2Nlc3NfdG9rZW47XHJcbiAgICAgICAgICAgIHRoaXMucGlja2VyID0gbmV3IGdvb2dsZS5waWNrZXIuUGlja2VyQnVpbGRlcigpXHJcbiAgICAgICAgICAgICAgICAuYWRkVmlldyhnb29nbGUucGlja2VyLlZpZXdJZC5GT0xERVJTKVxyXG4gICAgICAgICAgICAgICAgLnNldEFwcElkKHRoaXMuY2xpZW50SWQpXHJcbiAgICAgICAgICAgICAgICAuc2V0T0F1dGhUb2tlbihhY2Nlc3NUb2tlbilcclxuICAgICAgICAgICAgICAgIC5lbmFibGVGZWF0dXJlKGdvb2dsZS5waWNrZXIuRmVhdHVyZS5NVUxUSVNFTEVDVF9FTkFCTEVEKVxyXG4gICAgICAgICAgICAgICAgLnNldENhbGxiYWNrKHRoaXMuX3BpY2tlckNhbGxiYWNrLmJpbmQodGhpcykpXHJcbiAgICAgICAgICAgICAgICAuYnVpbGQoKVxyXG4gICAgICAgICAgICAgICAgLnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDYWxsZWQgd2hlbiBhIGZpbGUgaGFzIGJlZW4gc2VsZWN0ZWQgaW4gdGhlIEdvb2dsZSBEcml2ZSBmaWxlIHBpY2tlci5cclxuICAgICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIF9waWNrZXJDYWxsYmFjazogZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICBpZiAoZGF0YVtnb29nbGUucGlja2VyLlJlc3BvbnNlLkFDVElPTl0gPT0gZ29vZ2xlLnBpY2tlci5BY3Rpb24uUElDS0VEKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZmlsZXMgPSBkYXRhLmRvY3M7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9maWxlR2V0Q2FsbGJhY2soZmlsZXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDYWxsZWQgd2hlbiBmaWxlIGRldGFpbHMgaGF2ZSBiZWVuIHJldHJpZXZlZCBmcm9tIEdvb2dsZSBEcml2ZS5cclxuICAgICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIF9maWxlR2V0Q2FsbGJhY2s6IGZ1bmN0aW9uKGZpbGUpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMub25TZWxlY3QpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub25TZWxlY3QoZmlsZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIENhbGxlZCB3aGVuIHRoZSBHb29nbGUgRHJpdmUgZmlsZSBwaWNrZXIgQVBJIGhhcyBmaW5pc2hlZCBsb2FkaW5nLlxyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgX3BpY2tlckFwaUxvYWRlZDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYnV0dG9uRWwuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIENhbGxlZCB3aGVuIHRoZSBHb29nbGUgRHJpdmUgQVBJIGhhcyBmaW5pc2hlZCBsb2FkaW5nLlxyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgX2RyaXZlQXBpTG9hZGVkOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdGhpcy5fZG9BdXRoKHRydWUpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQXV0aGVudGljYXRlIHdpdGggR29vZ2xlIERyaXZlIHZpYSB0aGUgR29vZ2xlIEphdmFTY3JpcHQgQVBJLlxyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgX2RvQXV0aDogZnVuY3Rpb24oaW1tZWRpYXRlLCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICBnYXBpLmF1dGguYXV0aG9yaXplKHtcclxuICAgICAgICAgICAgICAgIGNsaWVudF9pZDogdGhpcy5jbGllbnRJZCArICctNHNicGNxNHFjanRvMnRsMWFvMm02cXBhbmM1NmM1YWYuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20nLFxyXG4gICAgICAgICAgICAgICAgc2NvcGU6ICdodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9hdXRoL2RyaXZlIGh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2F1dGgveW91dHViZScsXHJcbiAgICAgICAgICAgICAgICBpbW1lZGlhdGU6IGltbWVkaWF0ZVxyXG4gICAgICAgICAgICB9LCBjYWxsYmFjayk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbn0oKSk7XHJcbiIsIihmdW5jdGlvbiBkZWZpbmVNdXN0YWNoZShnbG9iYWwsZmFjdG9yeSl7aWYodHlwZW9mIGV4cG9ydHM9PT1cIm9iamVjdFwiJiZleHBvcnRzJiZ0eXBlb2YgZXhwb3J0cy5ub2RlTmFtZSE9PVwic3RyaW5nXCIpe2ZhY3RvcnkoZXhwb3J0cyl9ZWxzZSBpZih0eXBlb2YgZGVmaW5lPT09XCJmdW5jdGlvblwiJiZkZWZpbmUuYW1kKXtkZWZpbmUoW1wiZXhwb3J0c1wiXSxmYWN0b3J5KX1lbHNle2dsb2JhbC5NdXN0YWNoZT17fTtmYWN0b3J5KGdsb2JhbC5NdXN0YWNoZSl9fSkodGhpcyxmdW5jdGlvbiBtdXN0YWNoZUZhY3RvcnkobXVzdGFjaGUpe3ZhciBvYmplY3RUb1N0cmluZz1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO3ZhciBpc0FycmF5PUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uIGlzQXJyYXlQb2x5ZmlsbChvYmplY3Qpe3JldHVybiBvYmplY3RUb1N0cmluZy5jYWxsKG9iamVjdCk9PT1cIltvYmplY3QgQXJyYXldXCJ9O2Z1bmN0aW9uIGlzRnVuY3Rpb24ob2JqZWN0KXtyZXR1cm4gdHlwZW9mIG9iamVjdD09PVwiZnVuY3Rpb25cIn1mdW5jdGlvbiB0eXBlU3RyKG9iail7cmV0dXJuIGlzQXJyYXkob2JqKT9cImFycmF5XCI6dHlwZW9mIG9ian1mdW5jdGlvbiBlc2NhcGVSZWdFeHAoc3RyaW5nKXtyZXR1cm4gc3RyaW5nLnJlcGxhY2UoL1tcXC1cXFtcXF17fSgpKis/LixcXFxcXFxeJHwjXFxzXS9nLFwiXFxcXCQmXCIpfWZ1bmN0aW9uIGhhc1Byb3BlcnR5KG9iaixwcm9wTmFtZSl7cmV0dXJuIG9iaiE9bnVsbCYmdHlwZW9mIG9iaj09PVwib2JqZWN0XCImJnByb3BOYW1lIGluIG9ian12YXIgcmVnRXhwVGVzdD1SZWdFeHAucHJvdG90eXBlLnRlc3Q7ZnVuY3Rpb24gdGVzdFJlZ0V4cChyZSxzdHJpbmcpe3JldHVybiByZWdFeHBUZXN0LmNhbGwocmUsc3RyaW5nKX12YXIgbm9uU3BhY2VSZT0vXFxTLztmdW5jdGlvbiBpc1doaXRlc3BhY2Uoc3RyaW5nKXtyZXR1cm4hdGVzdFJlZ0V4cChub25TcGFjZVJlLHN0cmluZyl9dmFyIGVudGl0eU1hcD17XCImXCI6XCImYW1wO1wiLFwiPFwiOlwiJmx0O1wiLFwiPlwiOlwiJmd0O1wiLCdcIic6XCImcXVvdDtcIixcIidcIjpcIiYjMzk7XCIsXCIvXCI6XCImI3gyRjtcIixcImBcIjpcIiYjeDYwO1wiLFwiPVwiOlwiJiN4M0Q7XCJ9O2Z1bmN0aW9uIGVzY2FwZUh0bWwoc3RyaW5nKXtyZXR1cm4gU3RyaW5nKHN0cmluZykucmVwbGFjZSgvWyY8PlwiJ2A9XFwvXS9nLGZ1bmN0aW9uIGZyb21FbnRpdHlNYXAocyl7cmV0dXJuIGVudGl0eU1hcFtzXX0pfXZhciB3aGl0ZVJlPS9cXHMqLzt2YXIgc3BhY2VSZT0vXFxzKy87dmFyIGVxdWFsc1JlPS9cXHMqPS87dmFyIGN1cmx5UmU9L1xccypcXH0vO3ZhciB0YWdSZT0vI3xcXF58XFwvfD58XFx7fCZ8PXwhLztmdW5jdGlvbiBwYXJzZVRlbXBsYXRlKHRlbXBsYXRlLHRhZ3Mpe2lmKCF0ZW1wbGF0ZSlyZXR1cm5bXTt2YXIgc2VjdGlvbnM9W107dmFyIHRva2Vucz1bXTt2YXIgc3BhY2VzPVtdO3ZhciBoYXNUYWc9ZmFsc2U7dmFyIG5vblNwYWNlPWZhbHNlO2Z1bmN0aW9uIHN0cmlwU3BhY2UoKXtpZihoYXNUYWcmJiFub25TcGFjZSl7d2hpbGUoc3BhY2VzLmxlbmd0aClkZWxldGUgdG9rZW5zW3NwYWNlcy5wb3AoKV19ZWxzZXtzcGFjZXM9W119aGFzVGFnPWZhbHNlO25vblNwYWNlPWZhbHNlfXZhciBvcGVuaW5nVGFnUmUsY2xvc2luZ1RhZ1JlLGNsb3NpbmdDdXJseVJlO2Z1bmN0aW9uIGNvbXBpbGVUYWdzKHRhZ3NUb0NvbXBpbGUpe2lmKHR5cGVvZiB0YWdzVG9Db21waWxlPT09XCJzdHJpbmdcIil0YWdzVG9Db21waWxlPXRhZ3NUb0NvbXBpbGUuc3BsaXQoc3BhY2VSZSwyKTtpZighaXNBcnJheSh0YWdzVG9Db21waWxlKXx8dGFnc1RvQ29tcGlsZS5sZW5ndGghPT0yKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdGFnczogXCIrdGFnc1RvQ29tcGlsZSk7b3BlbmluZ1RhZ1JlPW5ldyBSZWdFeHAoZXNjYXBlUmVnRXhwKHRhZ3NUb0NvbXBpbGVbMF0pK1wiXFxcXHMqXCIpO2Nsb3NpbmdUYWdSZT1uZXcgUmVnRXhwKFwiXFxcXHMqXCIrZXNjYXBlUmVnRXhwKHRhZ3NUb0NvbXBpbGVbMV0pKTtjbG9zaW5nQ3VybHlSZT1uZXcgUmVnRXhwKFwiXFxcXHMqXCIrZXNjYXBlUmVnRXhwKFwifVwiK3RhZ3NUb0NvbXBpbGVbMV0pKX1jb21waWxlVGFncyh0YWdzfHxtdXN0YWNoZS50YWdzKTt2YXIgc2Nhbm5lcj1uZXcgU2Nhbm5lcih0ZW1wbGF0ZSk7dmFyIHN0YXJ0LHR5cGUsdmFsdWUsY2hyLHRva2VuLG9wZW5TZWN0aW9uO3doaWxlKCFzY2FubmVyLmVvcygpKXtzdGFydD1zY2FubmVyLnBvczt2YWx1ZT1zY2FubmVyLnNjYW5VbnRpbChvcGVuaW5nVGFnUmUpO2lmKHZhbHVlKXtmb3IodmFyIGk9MCx2YWx1ZUxlbmd0aD12YWx1ZS5sZW5ndGg7aTx2YWx1ZUxlbmd0aDsrK2kpe2Nocj12YWx1ZS5jaGFyQXQoaSk7aWYoaXNXaGl0ZXNwYWNlKGNocikpe3NwYWNlcy5wdXNoKHRva2Vucy5sZW5ndGgpfWVsc2V7bm9uU3BhY2U9dHJ1ZX10b2tlbnMucHVzaChbXCJ0ZXh0XCIsY2hyLHN0YXJ0LHN0YXJ0KzFdKTtzdGFydCs9MTtpZihjaHI9PT1cIlxcblwiKXN0cmlwU3BhY2UoKX19aWYoIXNjYW5uZXIuc2NhbihvcGVuaW5nVGFnUmUpKWJyZWFrO2hhc1RhZz10cnVlO3R5cGU9c2Nhbm5lci5zY2FuKHRhZ1JlKXx8XCJuYW1lXCI7c2Nhbm5lci5zY2FuKHdoaXRlUmUpO2lmKHR5cGU9PT1cIj1cIil7dmFsdWU9c2Nhbm5lci5zY2FuVW50aWwoZXF1YWxzUmUpO3NjYW5uZXIuc2NhbihlcXVhbHNSZSk7c2Nhbm5lci5zY2FuVW50aWwoY2xvc2luZ1RhZ1JlKX1lbHNlIGlmKHR5cGU9PT1cIntcIil7dmFsdWU9c2Nhbm5lci5zY2FuVW50aWwoY2xvc2luZ0N1cmx5UmUpO3NjYW5uZXIuc2NhbihjdXJseVJlKTtzY2FubmVyLnNjYW5VbnRpbChjbG9zaW5nVGFnUmUpO3R5cGU9XCImXCJ9ZWxzZXt2YWx1ZT1zY2FubmVyLnNjYW5VbnRpbChjbG9zaW5nVGFnUmUpfWlmKCFzY2FubmVyLnNjYW4oY2xvc2luZ1RhZ1JlKSl0aHJvdyBuZXcgRXJyb3IoXCJVbmNsb3NlZCB0YWcgYXQgXCIrc2Nhbm5lci5wb3MpO3Rva2VuPVt0eXBlLHZhbHVlLHN0YXJ0LHNjYW5uZXIucG9zXTt0b2tlbnMucHVzaCh0b2tlbik7aWYodHlwZT09PVwiI1wifHx0eXBlPT09XCJeXCIpe3NlY3Rpb25zLnB1c2godG9rZW4pfWVsc2UgaWYodHlwZT09PVwiL1wiKXtvcGVuU2VjdGlvbj1zZWN0aW9ucy5wb3AoKTtpZighb3BlblNlY3Rpb24pdGhyb3cgbmV3IEVycm9yKCdVbm9wZW5lZCBzZWN0aW9uIFwiJyt2YWx1ZSsnXCIgYXQgJytzdGFydCk7aWYob3BlblNlY3Rpb25bMV0hPT12YWx1ZSl0aHJvdyBuZXcgRXJyb3IoJ1VuY2xvc2VkIHNlY3Rpb24gXCInK29wZW5TZWN0aW9uWzFdKydcIiBhdCAnK3N0YXJ0KX1lbHNlIGlmKHR5cGU9PT1cIm5hbWVcInx8dHlwZT09PVwie1wifHx0eXBlPT09XCImXCIpe25vblNwYWNlPXRydWV9ZWxzZSBpZih0eXBlPT09XCI9XCIpe2NvbXBpbGVUYWdzKHZhbHVlKX19b3BlblNlY3Rpb249c2VjdGlvbnMucG9wKCk7aWYob3BlblNlY3Rpb24pdGhyb3cgbmV3IEVycm9yKCdVbmNsb3NlZCBzZWN0aW9uIFwiJytvcGVuU2VjdGlvblsxXSsnXCIgYXQgJytzY2FubmVyLnBvcyk7cmV0dXJuIG5lc3RUb2tlbnMoc3F1YXNoVG9rZW5zKHRva2VucykpfWZ1bmN0aW9uIHNxdWFzaFRva2Vucyh0b2tlbnMpe3ZhciBzcXVhc2hlZFRva2Vucz1bXTt2YXIgdG9rZW4sbGFzdFRva2VuO2Zvcih2YXIgaT0wLG51bVRva2Vucz10b2tlbnMubGVuZ3RoO2k8bnVtVG9rZW5zOysraSl7dG9rZW49dG9rZW5zW2ldO2lmKHRva2VuKXtpZih0b2tlblswXT09PVwidGV4dFwiJiZsYXN0VG9rZW4mJmxhc3RUb2tlblswXT09PVwidGV4dFwiKXtsYXN0VG9rZW5bMV0rPXRva2VuWzFdO2xhc3RUb2tlblszXT10b2tlblszXX1lbHNle3NxdWFzaGVkVG9rZW5zLnB1c2godG9rZW4pO2xhc3RUb2tlbj10b2tlbn19fXJldHVybiBzcXVhc2hlZFRva2Vuc31mdW5jdGlvbiBuZXN0VG9rZW5zKHRva2Vucyl7dmFyIG5lc3RlZFRva2Vucz1bXTt2YXIgY29sbGVjdG9yPW5lc3RlZFRva2Vuczt2YXIgc2VjdGlvbnM9W107dmFyIHRva2VuLHNlY3Rpb247Zm9yKHZhciBpPTAsbnVtVG9rZW5zPXRva2Vucy5sZW5ndGg7aTxudW1Ub2tlbnM7KytpKXt0b2tlbj10b2tlbnNbaV07c3dpdGNoKHRva2VuWzBdKXtjYXNlXCIjXCI6Y2FzZVwiXlwiOmNvbGxlY3Rvci5wdXNoKHRva2VuKTtzZWN0aW9ucy5wdXNoKHRva2VuKTtjb2xsZWN0b3I9dG9rZW5bNF09W107YnJlYWs7Y2FzZVwiL1wiOnNlY3Rpb249c2VjdGlvbnMucG9wKCk7c2VjdGlvbls1XT10b2tlblsyXTtjb2xsZWN0b3I9c2VjdGlvbnMubGVuZ3RoPjA/c2VjdGlvbnNbc2VjdGlvbnMubGVuZ3RoLTFdWzRdOm5lc3RlZFRva2VuczticmVhaztkZWZhdWx0OmNvbGxlY3Rvci5wdXNoKHRva2VuKX19cmV0dXJuIG5lc3RlZFRva2Vuc31mdW5jdGlvbiBTY2FubmVyKHN0cmluZyl7dGhpcy5zdHJpbmc9c3RyaW5nO3RoaXMudGFpbD1zdHJpbmc7dGhpcy5wb3M9MH1TY2FubmVyLnByb3RvdHlwZS5lb3M9ZnVuY3Rpb24gZW9zKCl7cmV0dXJuIHRoaXMudGFpbD09PVwiXCJ9O1NjYW5uZXIucHJvdG90eXBlLnNjYW49ZnVuY3Rpb24gc2NhbihyZSl7dmFyIG1hdGNoPXRoaXMudGFpbC5tYXRjaChyZSk7aWYoIW1hdGNofHxtYXRjaC5pbmRleCE9PTApcmV0dXJuXCJcIjt2YXIgc3RyaW5nPW1hdGNoWzBdO3RoaXMudGFpbD10aGlzLnRhaWwuc3Vic3RyaW5nKHN0cmluZy5sZW5ndGgpO3RoaXMucG9zKz1zdHJpbmcubGVuZ3RoO3JldHVybiBzdHJpbmd9O1NjYW5uZXIucHJvdG90eXBlLnNjYW5VbnRpbD1mdW5jdGlvbiBzY2FuVW50aWwocmUpe3ZhciBpbmRleD10aGlzLnRhaWwuc2VhcmNoKHJlKSxtYXRjaDtzd2l0Y2goaW5kZXgpe2Nhc2UtMTptYXRjaD10aGlzLnRhaWw7dGhpcy50YWlsPVwiXCI7YnJlYWs7Y2FzZSAwOm1hdGNoPVwiXCI7YnJlYWs7ZGVmYXVsdDptYXRjaD10aGlzLnRhaWwuc3Vic3RyaW5nKDAsaW5kZXgpO3RoaXMudGFpbD10aGlzLnRhaWwuc3Vic3RyaW5nKGluZGV4KX10aGlzLnBvcys9bWF0Y2gubGVuZ3RoO3JldHVybiBtYXRjaH07ZnVuY3Rpb24gQ29udGV4dCh2aWV3LHBhcmVudENvbnRleHQpe3RoaXMudmlldz12aWV3O3RoaXMuY2FjaGU9e1wiLlwiOnRoaXMudmlld307dGhpcy5wYXJlbnQ9cGFyZW50Q29udGV4dH1Db250ZXh0LnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uIHB1c2godmlldyl7cmV0dXJuIG5ldyBDb250ZXh0KHZpZXcsdGhpcyl9O0NvbnRleHQucHJvdG90eXBlLmxvb2t1cD1mdW5jdGlvbiBsb29rdXAobmFtZSl7dmFyIGNhY2hlPXRoaXMuY2FjaGU7dmFyIHZhbHVlO2lmKGNhY2hlLmhhc093blByb3BlcnR5KG5hbWUpKXt2YWx1ZT1jYWNoZVtuYW1lXX1lbHNle3ZhciBjb250ZXh0PXRoaXMsbmFtZXMsaW5kZXgsbG9va3VwSGl0PWZhbHNlO3doaWxlKGNvbnRleHQpe2lmKG5hbWUuaW5kZXhPZihcIi5cIik+MCl7dmFsdWU9Y29udGV4dC52aWV3O25hbWVzPW5hbWUuc3BsaXQoXCIuXCIpO2luZGV4PTA7d2hpbGUodmFsdWUhPW51bGwmJmluZGV4PG5hbWVzLmxlbmd0aCl7aWYoaW5kZXg9PT1uYW1lcy5sZW5ndGgtMSlsb29rdXBIaXQ9aGFzUHJvcGVydHkodmFsdWUsbmFtZXNbaW5kZXhdKTt2YWx1ZT12YWx1ZVtuYW1lc1tpbmRleCsrXV19fWVsc2V7dmFsdWU9Y29udGV4dC52aWV3W25hbWVdO2xvb2t1cEhpdD1oYXNQcm9wZXJ0eShjb250ZXh0LnZpZXcsbmFtZSl9aWYobG9va3VwSGl0KWJyZWFrO2NvbnRleHQ9Y29udGV4dC5wYXJlbnR9Y2FjaGVbbmFtZV09dmFsdWV9aWYoaXNGdW5jdGlvbih2YWx1ZSkpdmFsdWU9dmFsdWUuY2FsbCh0aGlzLnZpZXcpO3JldHVybiB2YWx1ZX07ZnVuY3Rpb24gV3JpdGVyKCl7dGhpcy5jYWNoZT17fX1Xcml0ZXIucHJvdG90eXBlLmNsZWFyQ2FjaGU9ZnVuY3Rpb24gY2xlYXJDYWNoZSgpe3RoaXMuY2FjaGU9e319O1dyaXRlci5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24gcGFyc2UodGVtcGxhdGUsdGFncyl7dmFyIGNhY2hlPXRoaXMuY2FjaGU7dmFyIHRva2Vucz1jYWNoZVt0ZW1wbGF0ZV07aWYodG9rZW5zPT1udWxsKXRva2Vucz1jYWNoZVt0ZW1wbGF0ZV09cGFyc2VUZW1wbGF0ZSh0ZW1wbGF0ZSx0YWdzKTtyZXR1cm4gdG9rZW5zfTtXcml0ZXIucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbiByZW5kZXIodGVtcGxhdGUsdmlldyxwYXJ0aWFscyl7dmFyIHRva2Vucz10aGlzLnBhcnNlKHRlbXBsYXRlKTt2YXIgY29udGV4dD12aWV3IGluc3RhbmNlb2YgQ29udGV4dD92aWV3Om5ldyBDb250ZXh0KHZpZXcpO3JldHVybiB0aGlzLnJlbmRlclRva2Vucyh0b2tlbnMsY29udGV4dCxwYXJ0aWFscyx0ZW1wbGF0ZSl9O1dyaXRlci5wcm90b3R5cGUucmVuZGVyVG9rZW5zPWZ1bmN0aW9uIHJlbmRlclRva2Vucyh0b2tlbnMsY29udGV4dCxwYXJ0aWFscyxvcmlnaW5hbFRlbXBsYXRlKXt2YXIgYnVmZmVyPVwiXCI7dmFyIHRva2VuLHN5bWJvbCx2YWx1ZTtmb3IodmFyIGk9MCxudW1Ub2tlbnM9dG9rZW5zLmxlbmd0aDtpPG51bVRva2VuczsrK2kpe3ZhbHVlPXVuZGVmaW5lZDt0b2tlbj10b2tlbnNbaV07c3ltYm9sPXRva2VuWzBdO2lmKHN5bWJvbD09PVwiI1wiKXZhbHVlPXRoaXMucmVuZGVyU2VjdGlvbih0b2tlbixjb250ZXh0LHBhcnRpYWxzLG9yaWdpbmFsVGVtcGxhdGUpO2Vsc2UgaWYoc3ltYm9sPT09XCJeXCIpdmFsdWU9dGhpcy5yZW5kZXJJbnZlcnRlZCh0b2tlbixjb250ZXh0LHBhcnRpYWxzLG9yaWdpbmFsVGVtcGxhdGUpO2Vsc2UgaWYoc3ltYm9sPT09XCI+XCIpdmFsdWU9dGhpcy5yZW5kZXJQYXJ0aWFsKHRva2VuLGNvbnRleHQscGFydGlhbHMsb3JpZ2luYWxUZW1wbGF0ZSk7ZWxzZSBpZihzeW1ib2w9PT1cIiZcIil2YWx1ZT10aGlzLnVuZXNjYXBlZFZhbHVlKHRva2VuLGNvbnRleHQpO2Vsc2UgaWYoc3ltYm9sPT09XCJuYW1lXCIpdmFsdWU9dGhpcy5lc2NhcGVkVmFsdWUodG9rZW4sY29udGV4dCk7ZWxzZSBpZihzeW1ib2w9PT1cInRleHRcIil2YWx1ZT10aGlzLnJhd1ZhbHVlKHRva2VuKTtpZih2YWx1ZSE9PXVuZGVmaW5lZClidWZmZXIrPXZhbHVlfXJldHVybiBidWZmZXJ9O1dyaXRlci5wcm90b3R5cGUucmVuZGVyU2VjdGlvbj1mdW5jdGlvbiByZW5kZXJTZWN0aW9uKHRva2VuLGNvbnRleHQscGFydGlhbHMsb3JpZ2luYWxUZW1wbGF0ZSl7dmFyIHNlbGY9dGhpczt2YXIgYnVmZmVyPVwiXCI7dmFyIHZhbHVlPWNvbnRleHQubG9va3VwKHRva2VuWzFdKTtmdW5jdGlvbiBzdWJSZW5kZXIodGVtcGxhdGUpe3JldHVybiBzZWxmLnJlbmRlcih0ZW1wbGF0ZSxjb250ZXh0LHBhcnRpYWxzKX1pZighdmFsdWUpcmV0dXJuO2lmKGlzQXJyYXkodmFsdWUpKXtmb3IodmFyIGo9MCx2YWx1ZUxlbmd0aD12YWx1ZS5sZW5ndGg7ajx2YWx1ZUxlbmd0aDsrK2ope2J1ZmZlcis9dGhpcy5yZW5kZXJUb2tlbnModG9rZW5bNF0sY29udGV4dC5wdXNoKHZhbHVlW2pdKSxwYXJ0aWFscyxvcmlnaW5hbFRlbXBsYXRlKX19ZWxzZSBpZih0eXBlb2YgdmFsdWU9PT1cIm9iamVjdFwifHx0eXBlb2YgdmFsdWU9PT1cInN0cmluZ1wifHx0eXBlb2YgdmFsdWU9PT1cIm51bWJlclwiKXtidWZmZXIrPXRoaXMucmVuZGVyVG9rZW5zKHRva2VuWzRdLGNvbnRleHQucHVzaCh2YWx1ZSkscGFydGlhbHMsb3JpZ2luYWxUZW1wbGF0ZSl9ZWxzZSBpZihpc0Z1bmN0aW9uKHZhbHVlKSl7aWYodHlwZW9mIG9yaWdpbmFsVGVtcGxhdGUhPT1cInN0cmluZ1wiKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCB1c2UgaGlnaGVyLW9yZGVyIHNlY3Rpb25zIHdpdGhvdXQgdGhlIG9yaWdpbmFsIHRlbXBsYXRlXCIpO3ZhbHVlPXZhbHVlLmNhbGwoY29udGV4dC52aWV3LG9yaWdpbmFsVGVtcGxhdGUuc2xpY2UodG9rZW5bM10sdG9rZW5bNV0pLHN1YlJlbmRlcik7aWYodmFsdWUhPW51bGwpYnVmZmVyKz12YWx1ZX1lbHNle2J1ZmZlcis9dGhpcy5yZW5kZXJUb2tlbnModG9rZW5bNF0sY29udGV4dCxwYXJ0aWFscyxvcmlnaW5hbFRlbXBsYXRlKX1yZXR1cm4gYnVmZmVyfTtXcml0ZXIucHJvdG90eXBlLnJlbmRlckludmVydGVkPWZ1bmN0aW9uIHJlbmRlckludmVydGVkKHRva2VuLGNvbnRleHQscGFydGlhbHMsb3JpZ2luYWxUZW1wbGF0ZSl7dmFyIHZhbHVlPWNvbnRleHQubG9va3VwKHRva2VuWzFdKTtpZighdmFsdWV8fGlzQXJyYXkodmFsdWUpJiZ2YWx1ZS5sZW5ndGg9PT0wKXJldHVybiB0aGlzLnJlbmRlclRva2Vucyh0b2tlbls0XSxjb250ZXh0LHBhcnRpYWxzLG9yaWdpbmFsVGVtcGxhdGUpfTtXcml0ZXIucHJvdG90eXBlLnJlbmRlclBhcnRpYWw9ZnVuY3Rpb24gcmVuZGVyUGFydGlhbCh0b2tlbixjb250ZXh0LHBhcnRpYWxzKXtpZighcGFydGlhbHMpcmV0dXJuO3ZhciB2YWx1ZT1pc0Z1bmN0aW9uKHBhcnRpYWxzKT9wYXJ0aWFscyh0b2tlblsxXSk6cGFydGlhbHNbdG9rZW5bMV1dO2lmKHZhbHVlIT1udWxsKXJldHVybiB0aGlzLnJlbmRlclRva2Vucyh0aGlzLnBhcnNlKHZhbHVlKSxjb250ZXh0LHBhcnRpYWxzLHZhbHVlKX07V3JpdGVyLnByb3RvdHlwZS51bmVzY2FwZWRWYWx1ZT1mdW5jdGlvbiB1bmVzY2FwZWRWYWx1ZSh0b2tlbixjb250ZXh0KXt2YXIgdmFsdWU9Y29udGV4dC5sb29rdXAodG9rZW5bMV0pO2lmKHZhbHVlIT1udWxsKXJldHVybiB2YWx1ZX07V3JpdGVyLnByb3RvdHlwZS5lc2NhcGVkVmFsdWU9ZnVuY3Rpb24gZXNjYXBlZFZhbHVlKHRva2VuLGNvbnRleHQpe3ZhciB2YWx1ZT1jb250ZXh0Lmxvb2t1cCh0b2tlblsxXSk7aWYodmFsdWUhPW51bGwpcmV0dXJuIG11c3RhY2hlLmVzY2FwZSh2YWx1ZSl9O1dyaXRlci5wcm90b3R5cGUucmF3VmFsdWU9ZnVuY3Rpb24gcmF3VmFsdWUodG9rZW4pe3JldHVybiB0b2tlblsxXX07bXVzdGFjaGUubmFtZT1cIm11c3RhY2hlLmpzXCI7bXVzdGFjaGUudmVyc2lvbj1cIjIuMi4xXCI7bXVzdGFjaGUudGFncz1bXCJ7e1wiLFwifX1cIl07dmFyIGRlZmF1bHRXcml0ZXI9bmV3IFdyaXRlcjttdXN0YWNoZS5jbGVhckNhY2hlPWZ1bmN0aW9uIGNsZWFyQ2FjaGUoKXtyZXR1cm4gZGVmYXVsdFdyaXRlci5jbGVhckNhY2hlKCl9O211c3RhY2hlLnBhcnNlPWZ1bmN0aW9uIHBhcnNlKHRlbXBsYXRlLHRhZ3Mpe3JldHVybiBkZWZhdWx0V3JpdGVyLnBhcnNlKHRlbXBsYXRlLHRhZ3MpfTttdXN0YWNoZS5yZW5kZXI9ZnVuY3Rpb24gcmVuZGVyKHRlbXBsYXRlLHZpZXcscGFydGlhbHMpe2lmKHR5cGVvZiB0ZW1wbGF0ZSE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgdGVtcGxhdGUhIFRlbXBsYXRlIHNob3VsZCBiZSBhIFwic3RyaW5nXCIgJysnYnV0IFwiJyt0eXBlU3RyKHRlbXBsYXRlKSsnXCIgd2FzIGdpdmVuIGFzIHRoZSBmaXJzdCAnK1wiYXJndW1lbnQgZm9yIG11c3RhY2hlI3JlbmRlcih0ZW1wbGF0ZSwgdmlldywgcGFydGlhbHMpXCIpfXJldHVybiBkZWZhdWx0V3JpdGVyLnJlbmRlcih0ZW1wbGF0ZSx2aWV3LHBhcnRpYWxzKX07bXVzdGFjaGUudG9faHRtbD1mdW5jdGlvbiB0b19odG1sKHRlbXBsYXRlLHZpZXcscGFydGlhbHMsc2VuZCl7dmFyIHJlc3VsdD1tdXN0YWNoZS5yZW5kZXIodGVtcGxhdGUsdmlldyxwYXJ0aWFscyk7aWYoaXNGdW5jdGlvbihzZW5kKSl7c2VuZChyZXN1bHQpfWVsc2V7cmV0dXJuIHJlc3VsdH19O211c3RhY2hlLmVzY2FwZT1lc2NhcGVIdG1sO211c3RhY2hlLlNjYW5uZXI9U2Nhbm5lcjttdXN0YWNoZS5Db250ZXh0PUNvbnRleHQ7bXVzdGFjaGUuV3JpdGVyPVdyaXRlcn0pO1xuIiwiaWYgKCFPYmplY3Qua2V5cykge1xyXG4gICAgT2JqZWN0LmtleXMgPSAoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgJ3VzZSBzdHJpY3QnO1xyXG4gICAgICAgIHZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksXHJcbiAgICAgICAgICAgIGhhc0RvbnRFbnVtQnVnID0gISh7XHJcbiAgICAgICAgICAgICAgICB0b1N0cmluZzogbnVsbFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAucHJvcGVydHlJc0VudW1lcmFibGUoJ3RvU3RyaW5nJyksXHJcbiAgICAgICAgICAgIGRvbnRFbnVtcyA9IFsndG9TdHJpbmcnLCAndG9Mb2NhbGVTdHJpbmcnLCAndmFsdWVPZicsICdoYXNPd25Qcm9wZXJ0eScsICdpc1Byb3RvdHlwZU9mJywgJ3Byb3BlcnR5SXNFbnVtZXJhYmxlJywgJ2NvbnN0cnVjdG9yJ10sXHJcbiAgICAgICAgICAgIGRvbnRFbnVtc0xlbmd0aCA9IGRvbnRFbnVtcy5sZW5ndGg7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iaikge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcgJiYgKHR5cGVvZiBvYmogIT09ICdmdW5jdGlvbicgfHwgb2JqID09PSBudWxsKSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0LmtleXMgY2FsbGVkIG9uIG5vbi1vYmplY3QnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gW10sXHJcbiAgICAgICAgICAgICAgICBwcm9wLCBpO1xyXG4gICAgICAgICAgICBmb3IgKHByb3AgaW4gb2JqKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gocHJvcCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGhhc0RvbnRFbnVtQnVnKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZG9udEVudW1zTGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGRvbnRFbnVtc1tpXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goZG9udEVudW1zW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9O1xyXG4gICAgfSgpKTtcclxufVxyXG4iLCJ3aW5kb3cuTVAgPSB3aW5kb3cuTVAgfHwge307XHJcbk1QLm5ldHdvcmsgPSAoZnVuY3Rpb24oJCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG4gICAgLy8gaWYgKHdpbmRvdy5jaHJvbWUgJiYgd2luZG93LmNocm9tZS5hcHAgJiYgd2luZG93LmNocm9tZS5hcHAud2luZG93KSB7XHJcblxyXG4gICAgLy8gfSBlbHNlIHtcclxuICAgICAgICAkKCdoZWFkJykuYXBwZW5kKFtcclxuICAgICAgICAgICAgJzxsaW5rIGhyZWY9XCJodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2ljb24/ZmFtaWx5PU1hdGVyaWFsK0ljb25zXCIgcmVsPVwic3R5bGVzaGVldFwiPicsXHJcbiAgICAgICAgXSk7XHJcbiAgICAgICAgJCgnI2ZvbnQtbGluaycpLmF0dHIoJ3NyYycsICdodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2Nzcz9mYW1pbHk9Um9ib3RvJyk7XHJcbiAgICAgICAgJCgnYm9keScpLmFwcGVuZChbXHJcbiAgICAgICAgICAgICc8c2NyaXB0IHNyYz1cImh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vanNhcGk/a2V5PUFJemFTeUN0a2doS3QzOE95YWRmWWRobTNZYnVicTJKVkZsLVFBb1wiPjwvc2NyaXB0PicsXHJcbiAgICAgICAgICAgICc8c2NyaXB0IHNyYz1cImh0dHBzOi8vYXBpcy5nb29nbGUuY29tL2pzL2NsaWVudC5qc1wiPjwvc2NyaXB0PicsXHJcbiAgICAgICAgICAgICc8c2NyaXB0IHR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIiBzcmM9XCJodHRwczovL3d3dy5kcm9wYm94LmNvbS9zdGF0aWMvYXBpLzIvZHJvcGlucy5qc1wiIGlkPVwiZHJvcGJveGpzXCIgZGF0YS1hcHAta2V5PVwiMWg1NGlwYzB4dDZsMG9zXCI+PC9zY3JpcHQ+J1xyXG4gICAgICAgIF0uam9pbignJykpO1xyXG4gICAgLy8gfVxyXG4gICAgdmFyIG5ldHdvcmsgPSB7XHJcbiAgICAgICAgaW5pdDoge1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBuZXR3b3JrO1xyXG59KGpRdWVyeSkpO1xyXG4iLCJ3aW5kb3cuTVAgPSB3aW5kb3cuTVAgfHwge307XHJcbk1QLmluaXQgPSAoZnVuY3Rpb24oJCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG4gICAgLypcclxuICAgICAgICBIZWxwZXIgVmFyaWFibGVzXHJcbiAgICAgKi9cclxuICAgIHZhciAkd3JhcHBlciA9ICQoJyN3cmFwcGVyJyk7XHJcbiAgICB2YXIgJHdpbmRvdyA9ICQod2luZG93KTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgcHJldmVudERlZmF1bHQ6IGZ1bmN0aW9uIHByZXZlbnREZWZhdWx0KGUpIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbGlicmFyeXZpZXc6ICQoJyNsaWJyYXJ5dmlldycpLFxyXG4gICAgICAgIGRhdGFiYXNlTmFtZTogJ01QJyxcclxuICAgICAgICBkYXRhYmFzZVNjaGVtYTogJ2lkLGFydGlzdCxhbGJ1bSx0cmFjayx0aXRsZSxmaWxlLGRvbScsXHJcbiAgICAgICAgZGVmYXVsdFRhYmxlQ29udGVudDogJzx0aGVhZD48dGg+Tm8gU29uZ3M8L3RoPjwvdGhlYWQ+PHRib2R5Pjx0ZD5ObyBTb25nczwvdGQ+PC90Ym9keT4nLFxyXG4gICAgICAgIGVsOiB7XHJcbiAgICAgICAgICAgIHNlYXJjaElucHV0OiAkKCcjZml4ZWQtaGVhZGVyLWRyYXdlci1leHAnKSxcclxuICAgICAgICAgICAgbGlicmFyeVZpZXc6ICQoJyNsaWJyYXJ5dmlldycpLFxyXG4gICAgICAgICAgICBkZWxldGVEYXRhYmFzZTogJCgnI2RlbGV0ZWRhdGFiYXNlJyksXHJcbiAgICAgICAgfSxcclxuICAgICAgICBvcHRpb246IHtcclxuICAgICAgICAgICAgdGFibGU6IHtcclxuICAgICAgICAgICAgICAgIHBhZ2luZzogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBvcmRlcjogW1xyXG4gICAgICAgICAgICAgICAgICAgIFsxLCBcImFzY1wiXSxcclxuICAgICAgICAgICAgICAgICAgICBbMCwgXCJhc2NcIl1cclxuICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgfTtcclxufSkoalF1ZXJ5KTtcclxuIiwid2luZG93Lk1QID0gd2luZG93Lk1QIHx8IHt9O1xyXG5NUC5kYiA9IChmdW5jdGlvbigkKSB7XHJcbiAgICB2YXIgJHdpbmRvdyA9ICQod2luZG93KTtcclxuICAgIHZhciAkZG9jdW1lbnQgPSAkKGRvY3VtZW50KTtcclxuICAgIHZhciBkYXRhYmFzZU5hbWUgPSBNUC5pbml0LmRhdGFiYXNlTmFtZTtcclxuICAgIHZhciBkZWZhdWx0VGFibGVDb250ZW50ID0gTVAuaW5pdC5kZWZhdWx0VGFibGVDb250ZW50O1xyXG4gICAgdmFyIGRhdGFiYXNlU2NoZW1hID0gTVAuaW5pdC5kYXRhYmFzZVNjaGVtYTtcclxuICAgIHZhciAkc2VhcmNoaW5wdXQgPSBNUC5pbml0LmVsLnNlYXJjaElucHV0O1xyXG4gICAgdmFyICRsaWJyYXJ5dmlldyA9IE1QLmluaXQuZWwubGlicmFyeVZpZXc7XHJcbiAgICB2YXIgJGRhdGFiYXNlZGVsZXRlZCA9IE1QLmluaXQuZWwuZGVsZXRlRGF0YWJhc2U7XHJcbiAgICB2YXIgdGFibGVPcHRpb24gPSBNUC5pbml0Lm9wdGlvbi50YWJsZTtcclxuICAgIHZhciBzb25ncyA9IFtdO1xyXG5cclxuICAgIHZhciBkYiA9IG5ldyBEZXhpZShkYXRhYmFzZU5hbWUpO1xyXG5cclxuICAgICRzZWFyY2hpbnB1dC5vbigna2V5dXAnLCBzZWFyY2hMaWJyYXJ5KTtcclxuXHJcbiAgICBmdW5jdGlvbiBzZWFyY2hMaWJyYXJ5KGUpIHtcclxuICAgICAgICB2YXIgdmFsdWUgPSAkKHRoaXMpXHJcbiAgICAgICAgICAgIC52YWwoKTtcclxuICAgICAgICAkbGlicmFyeXZpZXdcclxuICAgICAgICAgICAgLkRhdGFUYWJsZSgpXHJcbiAgICAgICAgICAgIC5zZWFyY2goJCh0aGlzKVxyXG4gICAgICAgICAgICAgICAgLnZhbCgpKVxyXG4gICAgICAgICAgICAuZHJhdygpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdTcGFjZWJhciBldmVudHMgaW5pdGlhbGl6ZWQuJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY3JlYXRlUm93cyhzb25nKSB7XHJcbiAgICAgICAgdmFyIHNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoc29uZy5maWxlKTtcclxuICAgICAgICB2YXIgbnVtYmVyID0gJChzb25nLmRvbSkuZmluZCgnLnRyYWNrLW51bWJlcicpLnRleHQoKTtcclxuICAgICAgICBzb25ncy5wdXNoKHtcclxuICAgICAgICAgICAgdHJhY2tudW1iZXI6IG51bWJlcixcclxuICAgICAgICAgICAgYXJ0aXN0OiBzb25nLmFydGlzdCxcclxuICAgICAgICAgICAgYWxidW06IHNvbmcuYWxidW0sXHJcbiAgICAgICAgICAgIHRpdGxlOiBzb25nLnRpdGxlLFxyXG4gICAgICAgICAgICBpZDogc29uZy5pZCxcclxuICAgICAgICAgICAgc291cmNlOiBzcmNcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByb3dzQ3JlYXRlZCgpIHtcclxuICAgICAgICB2YXIgdGVtcGxhdGUgPSAkKCcjbGlicmFyeS10ZW1wbGF0ZScpLmh0bWwoKTtcclxuICAgICAgICBNdXN0YWNoZS5wYXJzZSh0ZW1wbGF0ZSk7XHJcbiAgICAgICAgdmFyIHJlbmRlcmVkID0gTXVzdGFjaGUucmVuZGVyKHRlbXBsYXRlLCB7IHNvbmdzOiBzb25ncyB9KTtcclxuICAgICAgICAkbGlicmFyeXZpZXcuaHRtbChyZW5kZXJlZCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0xpYnJhcnkgcmVuZGVyZWQuJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZGF0YWJhc2VFcnJvcihlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdGYWlsIHRvIHJlbmRlciBsaWJyYXJ5LicpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZW5kZXJMaWJyYXJ5KCkge1xyXG4gICAgICAgIHJvd3MgPSBbXTtcclxuICAgICAgICBkYi5zb25ncy5lYWNoKGNyZWF0ZVJvd3MpXHJcbiAgICAgICAgICAgIC50aGVuKHJvd3NDcmVhdGVkKVxyXG4gICAgICAgICAgICAuY2F0Y2goZGF0YWJhc2VFcnJvcik7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaW5zZXJ0U29uZ1RvREIoZXZlbnQsIGRvbSwgdGFncywgZmlsZSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdNZXRhZGF0YSBpcyByZWFkeSwgYWRkaW5nIGZpbGUgdG8gZGF0YWJhc2UuJywgW2FyZ3VtZW50c10pO1xyXG4gICAgICAgIGRiLnNvbmdzLmFkZCh7XHJcbiAgICAgICAgICAgICAgICBpZDogdGFncy5hcnRpc3QgKyAnfCcgKyB0YWdzLmFsYnVtICsgJ3wnICsgdGFncy50cmFjayArICd8JyArIHRhZ3MudGl0bGUsXHJcbiAgICAgICAgICAgICAgICBhcnRpc3Q6IHRhZ3MuYXJ0aXN0LFxyXG4gICAgICAgICAgICAgICAgYWxidW06IHRhZ3MuYWxidW0sXHJcbiAgICAgICAgICAgICAgICB0cmFjazogdGFncy50cmFjayxcclxuICAgICAgICAgICAgICAgIHRpdGxlOiB0YWdzLnRpdGxlLFxyXG4gICAgICAgICAgICAgICAgZG9tOiBkb21bMF0ub3V0ZXJIVE1MLFxyXG4gICAgICAgICAgICAgICAgZmlsZTogZmlsZSxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4oc29uZ0luc2VydGVkKVxyXG4gICAgICAgICAgICAuY2F0Y2goZXJyb3JJbnNlcnRpbmdTb25nKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzb25nSW5zZXJ0ZWQoKSB7XHJcbiAgICAgICAgJHdpbmRvdy50cmlnZ2VyKCdtcDpkYXRhYmFzZWluc2VydGVkJyk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0RhdGFiYXNlIGluc2VydGVkIGZvcjonLCBhcmd1bWVudHMpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGVycm9ySW5zZXJ0aW5nU29uZyhlKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZGF0YWJhc2VEZWxldGVkKCkge1xyXG4gICAgICAgICR3aW5kb3cudHJpZ2dlcignbXA6ZGF0YWJhc2VkZWxldGVkJyk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0RhdGFiYXNlIGRlbGV0ZWQhJyk7XHJcbiAgICAgICAgYWxlcnQoJ0RhdGFiYXNlIGRlbGV0ZWQhJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZXJyb3JEZWxldGluZ0RhdGFiYXNlKGUpIHtcclxuICAgICAgICBhbGVydCgnRXJyb3IgZGVsZXRpbmcgZGF0YWJhc2UhJyk7XHJcbiAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZGVsZXRlRGF0YWJhc2UoKSB7XHJcbiAgICAgICAgdmFyIHllcyA9IGNvbmZpcm0oJ0FyZSB5b3Ugc3VyZT8gQSBkZWxldGVkIGRhdGFiYXNlIGNvbnRhaW5zIGNhY2hlZCBmaWxlcyBhbmQgaXQgY291bGQgbm90IGJlIHJlc3RvcmVkLicpO1xyXG4gICAgICAgIGlmICh5ZXMpIHtcclxuICAgICAgICAgICAgZGIuc29uZ3MuY2xlYXIoKS50aGVuKGRhdGFiYXNlRGVsZXRlZCkuY2F0Y2goZXJyb3JEZWxldGluZ0RhdGFiYXNlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZGIudmVyc2lvbigxKVxyXG4gICAgICAgIC5zdG9yZXMoe1xyXG4gICAgICAgICAgICBzb25nczogZGF0YWJhc2VTY2hlbWEsXHJcbiAgICAgICAgfSk7XHJcbiAgICBkYi5vcGVuKCk7XHJcbiAgICBkYi50cmFuc2FjdGlvbihcInJ3XCIsIGRiLnNvbmdzLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmVuZGVyTGlicmFyeSgpO1xyXG4gICAgICAgICAgICAkZGF0YWJhc2VkZWxldGVkLm9uKCdjbGljaycsIGRlbGV0ZURhdGFiYXNlKTtcclxuICAgICAgICAgICAgJHdpbmRvdy5vbignbXA6bWV0YWRhdGFyZWFkeScsIGluc2VydFNvbmdUb0RCKTtcclxuICAgICAgICAgICAgJHdpbmRvdy5vbignbXA6ZGF0YWJhc2VpbnNlcnRlZCcsIHJlbmRlckxpYnJhcnkpO1xyXG4gICAgICAgICAgICAkd2luZG93Lm9uKCdtcDpkYXRhYmFzZWRlbGV0ZWQnLCByZW5kZXJMaWJyYXJ5KTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaChmdW5jdGlvbihlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgICAgICB9KTtcclxuICAgIHJldHVybiBkYjtcclxufSkoalF1ZXJ5KTtcclxuIiwid2luZG93Lk1QID0gd2luZG93Lk1QIHx8IHt9O1xyXG5NUC5wbGF5ZXIgPSAoZnVuY3Rpb24oJCkge1xyXG4gICAgLypcclxuICAgICAgICBQbGF5ZXIgVmlld1xyXG4gICAgICovXHJcbiAgICB2YXIgJHdpbmRvdyA9ICQod2luZG93KTtcclxuICAgIHZhciAkcGxheWVyd3JhcHBlciA9ICQoJ2Zvb3RlcicpO1xyXG4gICAgdmFyICRwbGF5bGlzdHZpZXcgPSAkKCcjcGxheWxpc3QtdmlldycpO1xyXG4gICAgdmFyICRwbGF5ZXIgPSAkKCcjcGxheWVyJyk7XHJcbiAgICB2YXIgcGxheWVyID0gJHBsYXllclswXTtcclxuICAgIHZhciAkc3VidGl0bGUgPSAkKCcjc3VidGl0bGUnKTtcclxuICAgIHZhciAkc2xpZGVyID0gJCgnI3NsaWRlcicpO1xyXG4gICAgdmFyIHNsaWRlciA9ICRzbGlkZXJbMF07XHJcbiAgICB2YXIgJGxvb3AgPSAkKCcjbG9vcCcpO1xyXG4gICAgdmFyICRzaHVmZmxlID0gJCgnI3NodWZmbGUnKTtcclxuICAgIHZhciAkcGxheSA9ICQoJyNwbGF5Jyk7XHJcbiAgICB2YXIgJHBhdXNlID0gJCgnI3BhdXNlJyk7XHJcbiAgICB2YXIgJHByZXZpb3VzID0gJCgnI3ByZXZpb3VzJyk7XHJcbiAgICB2YXIgJG5leHQgPSAkKCcjbmV4dCcpO1xyXG4gICAgdmFyICRjdXJyZW50dHJhY2sgPSAkKCcjY3VycmVudHRyYWNrJyk7XHJcbiAgICB2YXIgJHRpbWUgPSAkKCcjdGltZScpO1xyXG4gICAgdmFyICRmaWxlc2VsZWN0ID0gJCgnI2ZpbGVzZWxlY3QnKTtcclxuICAgIHZhciAkd3JhcHBlciA9ICQoJyN3cmFwcGVyJyk7XHJcbiAgICB2YXIgc2xpZGVyUmVzb2x1dGlvbiA9ICRzbGlkZXIuYXR0cignbWF4Jyk7XHJcblxyXG4gICAgZnVuY3Rpb24gZm9ybWF0VGltZShzZWNvbmRzKSB7XHJcbiAgICAgICAgdmFyIG1pbnV0ZXMgPSBNYXRoLmZsb29yKHNlY29uZHMgLyA2MCk7XHJcbiAgICAgICAgc2Vjb25kcyA9IE1hdGguZmxvb3Ioc2Vjb25kcyAlIDYwKTtcclxuICAgICAgICBtaW51dGVzID0gKG1pbnV0ZXMgPj0gMTApID8gbWludXRlcyA6IFwiMFwiICsgbWludXRlcztcclxuICAgICAgICBzZWNvbmRzID0gKHNlY29uZHMgPj0gMTApID8gc2Vjb25kcyA6IFwiMFwiICsgc2Vjb25kcztcclxuICAgICAgICByZXR1cm4gbWludXRlcyArIFwiOlwiICsgc2Vjb25kcztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZWVrKGV2ZW50KSB7XHJcbiAgICAgICAgdmFyIHNlZWtUbyA9IHBsYXllci5kdXJhdGlvbiAqICgkc2xpZGVyLnZhbCgpIC8gc2xpZGVyUmVzb2x1dGlvbik7XHJcbiAgICAgICAgcGxheWVyLmN1cnJlbnRUaW1lID0gc2Vla1RvO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHBsYXkodXJsKSB7XHJcbiAgICAgICAgcGxheWVyLnNyYyA9IHVybDtcclxuICAgICAgICBwbGF5ZXIucGxheSgpO1xyXG4gICAgICAgICRwbGF5ZXJ3cmFwcGVyLmFkZENsYXNzKCdsb2FkaW5nJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcGxheUJ0bkhhbmRsZXIoKSB7XHJcbiAgICAgICAgaWYgKCRwbGF5ZXIuYXR0cignc3JjJykpIHtcclxuICAgICAgICAgICAgcGxheWVyLnBsYXkoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkKCcudHJhY2snKVxyXG4gICAgICAgICAgICAgICAgLmZpcnN0KClcclxuICAgICAgICAgICAgICAgIC5jbGljaygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBwYXVzZUJ0bkhhbmRsZXIoKSB7XHJcbiAgICAgICAgcGxheWVyLnBhdXNlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcHJldkJ0bkhhbmRsZXIoKSB7XHJcbiAgICAgICAgaWYgKCRzaHVmZmxlLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xyXG4gICAgICAgICAgICBzaHVmZmxlKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJCgnLnRyYWNrLmFjdGl2ZScpXHJcbiAgICAgICAgICAgICAgICAucHJldigpXHJcbiAgICAgICAgICAgICAgICAuY2xpY2soKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbmV4dEJ0bkhhbmRsZXIoKSB7XHJcbiAgICAgICAgaWYgKCRzaHVmZmxlLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xyXG4gICAgICAgICAgICBzaHVmZmxlKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJCgnLnRyYWNrLmFjdGl2ZScpXHJcbiAgICAgICAgICAgICAgICAubmV4dCgpXHJcbiAgICAgICAgICAgICAgICAuY2xpY2soKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gb25QbGF5KCkge1xyXG4gICAgICAgIHZhciBjdXJyZW50VHJhY2sgPSBbXTtcclxuICAgICAgICB2YXIgJGFjdGl2ZVRyYWNrID0gJCgnLnRyYWNrLmFjdGl2ZScpO1xyXG4gICAgICAgICRwbGF5ZXJ3cmFwcGVyLnJlbW92ZUNsYXNzKCdwYXVzZWQnKTtcclxuICAgICAgICAkcGxheWVyd3JhcHBlci5hZGRDbGFzcygncGxheWVkJyk7XHJcbiAgICAgICAgJGFjdGl2ZVRyYWNrLmZpbmQoJ3RkJylcclxuICAgICAgICAgICAgLmVhY2goZnVuY3Rpb24oaW5kZXgsIGluZm8pIHtcclxuICAgICAgICAgICAgICAgIHZhciAkaW5mbyA9ICQoaW5mbyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggJiYgJGluZm8udGV4dCgpICYmIGluZGV4ICE9PSA0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFRyYWNrLnB1c2goJGluZm8udGV4dCgpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgY3VycmVudHRyYWNrID0gY3VycmVudFRyYWNrLmpvaW4oJyAtICcpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGN1cnJlbnR0cmFjayk7XHJcbiAgICAgICAgaWYgKCFjdXJyZW50dHJhY2subGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnR0cmFjayA9ICRhY3RpdmVUcmFjay5maW5kKCcudHJhY2stZmlsZScpLnRleHQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgJGN1cnJlbnR0cmFjay5odG1sKGN1cnJlbnR0cmFjayk7XHJcbiAgICAgICAgJCgnW2hyZWY9XCIjbm93cGxheWluZ1wiXScpXHJcbiAgICAgICAgICAgIC5maW5kKCdzcGFuJylcclxuICAgICAgICAgICAgLmNsaWNrKCk7XHJcbiAgICAgICAgJHdpbmRvdy50cmlnZ2VyKCdtcDpwbGF5ZWQnLCBbJGFjdGl2ZVRyYWNrXSk7XHJcbiAgICAgICAgc3J0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gb25QYXVzZSgpIHtcclxuICAgICAgICAkcGxheWVyd3JhcHBlci5yZW1vdmVDbGFzcygncGxheWVkJyk7XHJcbiAgICAgICAgJHBsYXllcndyYXBwZXIuYWRkQ2xhc3MoJ3BhdXNlZCcpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG9uVGltZXVwZGF0ZShlKSB7XHJcbiAgICAgICAgdmFyIHZhbHVlID0gKGUudGFyZ2V0LmN1cnJlbnRUaW1lIC8gZS50YXJnZXQuZHVyYXRpb24pICogc2xpZGVyUmVzb2x1dGlvbjtcclxuICAgICAgICB2YXIgdGltZSA9ICcoJyArIGZvcm1hdFRpbWUoZS50YXJnZXQuY3VycmVudFRpbWUpICsgJyAvICcgKyBmb3JtYXRUaW1lKGUudGFyZ2V0LmR1cmF0aW9uKSArICcpJztcclxuICAgICAgICBzbGlkZXIuTWF0ZXJpYWxTbGlkZXIuY2hhbmdlKHZhbHVlKTtcclxuICAgICAgICAkdGltZS5odG1sKHRpbWUpO1xyXG4gICAgICAgICRwbGF5ZXJ3cmFwcGVyLnJlbW92ZUNsYXNzKCdsb2FkaW5nJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gb25FbmRlZChlKSB7XHJcbiAgICAgICAgaWYgKCRsb29wLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xyXG4gICAgICAgICAgICBlLnRhcmdldC5wYXVzZSgpO1xyXG4gICAgICAgICAgICBlLnRhcmdldC5jdXJyZW50VGltZSA9ICcwJztcclxuICAgICAgICAgICAgZS50YXJnZXQucGxheSgpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoJHNodWZmbGUuaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XHJcbiAgICAgICAgICAgIHNodWZmbGUoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkKCcudHJhY2suYWN0aXZlJylcclxuICAgICAgICAgICAgICAgIC5uZXh0KClcclxuICAgICAgICAgICAgICAgIC5jbGljaygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzaHVmZmxlKCkge1xyXG4gICAgICAgIHZhciAkc2libGluZ3MgPSAkKCcudHJhY2suYWN0aXZlJylcclxuICAgICAgICAgICAgLnNpYmxpbmdzKCcudHJhY2snKTtcclxuICAgICAgICB2YXIgcmFuZG9tID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogJHNpYmxpbmdzLmxlbmd0aCk7XHJcbiAgICAgICAgJCgkc2libGluZ3MpXHJcbiAgICAgICAgICAgIC5lcShyYW5kb20pXHJcbiAgICAgICAgICAgIC5jbGljaygpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHRvZ2dsZUFjdGl2ZShlKSB7XHJcbiAgICAgICAgdmFyICR0YXJnZXQgPSAkKGUudGFyZ2V0KTtcclxuICAgICAgICAkdGFyZ2V0LnRvZ2dsZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBrZXl1cExpc3RlbmVyKGUpIHtcclxuICAgICAgICBpZiAoZS5rZXlDb2RlID09IDMyKSB7XHJcbiAgICAgICAgICAgIGlmIChlLnRhcmdldC50YWdOYW1lICE9PSAnSU5QVVQnKSB7XHJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoJHBsYXllcndyYXBwZXIuaGFzQ2xhc3MoJ3BsYXllZCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHBhdXNlLmNsaWNrKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICRwbGF5LmNsaWNrKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2V0dXBQbGF5ZXJFdmVudHMoKSB7XHJcbiAgICAgICAgJHBsYXkub24oJ2NsaWNrJywgcGxheUJ0bkhhbmRsZXIpO1xyXG4gICAgICAgICRwYXVzZS5vbignY2xpY2snLCBwYXVzZUJ0bkhhbmRsZXIpO1xyXG4gICAgICAgICRwcmV2aW91cy5vbignY2xpY2snLCBwcmV2QnRuSGFuZGxlcik7XHJcbiAgICAgICAgJG5leHQub24oJ2NsaWNrJywgbmV4dEJ0bkhhbmRsZXIpO1xyXG4gICAgICAgICRwbGF5ZXIub24oJ3BhdXNlJywgb25QYXVzZSk7XHJcbiAgICAgICAgJHBsYXllci5vbigncGxheScsIG9uUGxheSk7XHJcbiAgICAgICAgJHBsYXllci5vbignZW5kZWQnLCBvbkVuZGVkKTtcclxuICAgICAgICBwbGF5ZXIub250aW1ldXBkYXRlID0gb25UaW1ldXBkYXRlO1xyXG4gICAgICAgICRsb29wLm9uKCdjbGljaycsIHRvZ2dsZUFjdGl2ZSk7XHJcbiAgICAgICAgJHNodWZmbGUub24oJ2NsaWNrJywgdG9nZ2xlQWN0aXZlKTtcclxuICAgICAgICAkd3JhcHBlci5vbigna2V5dXAnLCBrZXl1cExpc3RlbmVyKTtcclxuICAgICAgICAkc2xpZGVyLm9uKFwiY2hhbmdlIGlucHV0XCIsIHNlZWspO1xyXG4gICAgICAgICR3aW5kb3cub24oJ21wOnBsYXlsaXN0cmVuZGVyZWQnLCBwbGF5Rmlyc3RTb25nKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBwbGF5Rmlyc3RTb25nKCkge1xyXG4gICAgICAgICRwbGF5bGlzdHZpZXdcclxuICAgICAgICAgICAgLmZpbmQoJy50cmFjaycpXHJcbiAgICAgICAgICAgIC5maXJzdCgpXHJcbiAgICAgICAgICAgIC5jbGljaygpO1xyXG4gICAgfVxyXG5cclxuICAgICR3aW5kb3cub24oJ2xvYWQnLCBzZXR1cFBsYXllckV2ZW50cyk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHBsYXk6IHBsYXlcclxuICAgIH07XHJcbn0oalF1ZXJ5KSk7XHJcbiIsIndpbmRvdy5NUCA9IHdpbmRvdy5NUCB8fCB7fTtcclxuTVAuc3RvcmFnZSA9IChmdW5jdGlvbigpIHtcclxuICAgIC8qXHJcbiAgICAgICAgU3RvcmFnZSBSZXNldFxyXG4gICAgICovXHJcbiAgICB2YXIgc3RvcmFnZSA9IChmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgb2JqID0ge307XHJcbiAgICAgICAgaWYgKHdpbmRvdy5jaHJvbWUgJiYgd2luZG93LmNocm9tZS5zdG9yYWdlKSB7XHJcbiAgICAgICAgICAgIG9iaiA9IHdpbmRvdy5jaHJvbWUuc3RvcmFnZS5sb2NhbDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBvYmogPSB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKGtleSwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2tleV0gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbihvYmopIHtcclxuICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhvYmopXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCBvYmpba2V5XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgfSgpKTtcclxuXHJcbiAgICBmdW5jdGlvbiBzdG9yYWdlUmVzZXQoKSB7XHJcbiAgICAgICAgc3RvcmFnZS5zZXQoe1xyXG4gICAgICAgICAgICAndGhlbWUnOiAnaW5kaWdvLXBpbmsnXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgc3RvcmFnZS5zZXQoe1xyXG4gICAgICAgICAgICAnZm9udCc6ICdSb2JvdG8nXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHN0b3JhZ2U7XHJcbn0oKSk7XHJcbiIsIndpbmRvdy5NUCA9IHdpbmRvdy5NUCB8fCB7fTtcclxuTVAuY3VzdG9taXplciA9IChmdW5jdGlvbiAoJCkge1xyXG4gICAgLypcclxuICAgICAgICBDdXN0b21pemVyXHJcbiAgICAgKi9cclxuICAgIHZhciAkd2luZG93ID0gJCh3aW5kb3cpO1xyXG4gICAgdmFyICRzaG93Q3VzdG9taXplckJ0biA9ICQoJyNzaG93LWN1c3RvbWl6ZXInKTtcclxuICAgIHZhciAkY3VzdG9taXplck1vZGFsID0gJCgnI2N1c3RvbWl6ZXInKTtcclxuICAgIHZhciAkcmVzZXRzdHlsZSA9ICQoJyNyZXNldC1zdHlsZScpO1xyXG4gICAgdmFyICRmb250ID0gJCgnI2ZvbnQnKTtcclxuICAgIHZhciAkdGhlbWUgPSAkKCcjdGhlbWUnKTtcclxuICAgIHZhciBzdG9yYWdlID0gd2luZG93Lk1QLnN0b3JhZ2U7XHJcbiAgICB2YXIgJHdyYXBwZXIgPSAkKCcjd3JhcHBlcicpO1xyXG4gICAgJHdpbmRvdy5vbignbG9hZCcsIGluaXQpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGluaXQoKSB7XHJcbiAgICAgICAgJHNob3dDdXN0b21pemVyQnRuLmF0dHIoJ2Rpc2FibGVkJywgZmFsc2UpO1xyXG4gICAgICAgICRzaG93Q3VzdG9taXplckJ0bi5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICRjdXN0b21pemVyTW9kYWxbMF0uc2hvd01vZGFsKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJGZvbnQub24oJ2NoYW5nZScsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIHZhciBmb250ID0gJChlLnRhcmdldClcclxuICAgICAgICAgICAgICAgIC52YWwoKTtcclxuICAgICAgICAgICAgc2V0Rm9udCh7XHJcbiAgICAgICAgICAgICAgICBmb250OiBmb250XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICR0aGVtZS5vbignY2hhbmdlJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgdmFyIHRoZW1lID0gJChlLnRhcmdldClcclxuICAgICAgICAgICAgICAgIC52YWwoKTtcclxuICAgICAgICAgICAgc2V0VGhlbWUoe1xyXG4gICAgICAgICAgICAgICAgdGhlbWU6IHRoZW1lXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICRyZXNldHN0eWxlLm9uKCdjbGljaycsIHJlc2V0U3R5bGUpO1xyXG4gICAgICAgIHN0b3JhZ2UuZ2V0KCd0aGVtZScsIHNldFRoZW1lKTtcclxuICAgICAgICBzdG9yYWdlLmdldCgnZm9udCcsIHNldEZvbnQpO1xyXG4gICAgICAgICR3cmFwcGVyLmNzcygnb3BhY2l0eScsIDEpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNldEZvbnQoc2V0dGluZykge1xyXG4gICAgICAgIHZhciBmb250ID0gc2V0dGluZy5mb250ICE9PSAnbnVsbCcgPyBzZXR0aW5nLmZvbnQgOiAnUm9ib3RvJztcclxuICAgICAgICBpZiAoc2V0dGluZy5mb250KSB7XHJcbiAgICAgICAgICAgICQoJyNmb250LWxpbmsnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2hyZWYnLCAnaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3M/ZmFtaWx5PScgKyBmb250LnJlcGxhY2UoLyAvZywgJysnKSk7XHJcbiAgICAgICAgICAgICQoJyNjdXJyZW50LWZvbnQnKVxyXG4gICAgICAgICAgICAgICAgLnRleHQoJy5tZGwtYnV0dG9uLGgxLGgyLGgzLGg0LGg1LGg2LC5tZGwtbGF5b3V0LXRpdGxlLGJvZHl7Zm9udC1mYW1pbHk6ICcgKyBmb250ICsgJyB9Jyk7XHJcbiAgICAgICAgICAgIHN0b3JhZ2Uuc2V0KHNldHRpbmcpO1xyXG4gICAgICAgICAgICAkZm9udC52YWwoZm9udCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNldFRoZW1lKHNldHRpbmcpIHtcclxuICAgICAgICB2YXIgdGhlbWUgPSBzZXR0aW5nLnRoZW1lICE9PSAnbnVsbCcgPyBzZXR0aW5nLnRoZW1lIDogJ2luZGlnby1ibHVlJztcclxuICAgICAgICBpZiAoc2V0dGluZy50aGVtZSkge1xyXG4gICAgICAgICAgICAkKCcjdGhlbWUtbGluaycpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignaHJlZicsICdhc3NldHMvY3NzL2xpYi9tYXRlcmlhbC4nICsgdGhlbWUgKyAnLm1pbi5jc3MnKTtcclxuICAgICAgICAgICAgc3RvcmFnZS5zZXQoc2V0dGluZyk7XHJcbiAgICAgICAgICAgICQoJ1tuYW1lPVwidGhlbWUtY29sb3JcIl0nKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2NvbnRlbnQnLCBjb2xvclRvSGV4KCQoJ2hlYWRlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLmNzcygnYmFja2dyb3VuZC1jb2xvcicpKSk7XHJcbiAgICAgICAgICAgICR0aGVtZS52YWwodGhlbWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZXNldFN0eWxlKCkge1xyXG4gICAgICAgICQoJyN0aGVtZScpXHJcbiAgICAgICAgICAgIC52YWwoJ2JsdWUtcGluaycpXHJcbiAgICAgICAgICAgIC50cmlnZ2VyKCdjaGFuZ2UnKTtcclxuICAgICAgICAkKCcjZm9udCcpXHJcbiAgICAgICAgICAgIC52YWwoJ1JvYm90bycpXHJcbiAgICAgICAgICAgIC50cmlnZ2VyKCdjaGFuZ2UnKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjb2xvclRvSGV4KGNvbG9yKSB7XHJcbiAgICAgICAgaWYgKGNvbG9yLnN1YnN0cigwLCAxKSA9PT0gJyMnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb2xvcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGRpZ2l0cyA9IC8oLio/KXJnYlxcKChcXGQrKSwgKFxcZCspLCAoXFxkKylcXCkvLmV4ZWMoY29sb3IpO1xyXG4gICAgICAgIHZhciByZWQgPSBwYXJzZUludChkaWdpdHNbMl0pO1xyXG4gICAgICAgIHZhciBncmVlbiA9IHBhcnNlSW50KGRpZ2l0c1szXSk7XHJcbiAgICAgICAgdmFyIGJsdWUgPSBwYXJzZUludChkaWdpdHNbNF0pO1xyXG4gICAgICAgIHZhciByZ2IgPSBibHVlIHwgKGdyZWVuIDw8IDgpIHwgKHJlZCA8PCAxNik7XHJcbiAgICAgICAgcmV0dXJuIGRpZ2l0c1sxXSArICcjJyArIHJnYi50b1N0cmluZygxNik7XHJcbiAgICB9XHJcbn0oalF1ZXJ5KSk7XHJcblxyXG4iLCJ3aW5kb3cuTVAgPSB3aW5kb3cuTVAgfHwge307XHJcbk1QLnNldHRpbmdzID0gKGZ1bmN0aW9uICgkKSB7XHJcbiAgICB2YXIgJHdpbmRvdyA9ICQod2luZG93KTtcclxuICAgIHZhciBzdG9yYWdlID0gd2luZG93Lk1QLnN0b3JhZ2U7XHJcbiAgICB2YXIgJGRlZmF1bHR0YWIgPSAkKCcjZGVmYXVsdHRhYicpO1xyXG4gICAgJGRlZmF1bHR0YWIub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzdG9yYWdlLnNldCh7ZGVmYXVsdHRhYjogJGRlZmF1bHR0YWIudmFsKCl9KTtcclxuICAgIH0pO1xyXG4gICAgJHdpbmRvdy5vbignbG9hZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzdG9yYWdlLmdldCgnZGVmYXVsdHRhYicsIGZ1bmN0aW9uIChzZXR0aW5nKSB7XHJcbiAgICAgICAgICAgIGlmIChzZXR0aW5nICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAkZGVmYXVsdHRhYi52YWwoc2V0dGluZy5kZWZhdWx0dGFiKTtcclxuICAgICAgICAgICAgICAgICQoJ1tocmVmPVwiJytzZXR0aW5nLmRlZmF1bHR0YWIrJ1wiXScpLmZpbmQoJ3NwYW4nKS5jbGljaygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgdGFibGVoZWFkaW5nOiBcIjx0cj48dGg+Tm88L3RoPjx0aD5BcnRpc3Q8L3RoPjx0aD5BbGJ1bTwvdGg+PHRoPlRpdGxlPC90aD48dGg+RmlsZTwvdGg+PC90cj5cIixcclxuICAgICAgICBkZWZhdWx0VGFibGVDb250ZW50OiBcIjx0aGVhZD48dGg+PC90aD48L3RoZWFkPjx0Ym9keT48dGQ+PC90ZD48L3Rib2R5PlwiXHJcbiAgICB9O1xyXG59KGpRdWVyeSkpO1xyXG5cclxuIiwid2luZG93Lk1QID0gd2luZG93Lk1QIHx8IHt9O1xyXG5NUC5wbGF5bGlzdCA9IChmdW5jdGlvbigkKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcbiAgICAvKlxyXG4gICAgICAgIFBsYXlsaXN0IFZpZXdcclxuICAgICAqL1xyXG4gICAgdmFyICR3aW5kb3cgPSAkKHdpbmRvdyk7XHJcbiAgICB2YXIgcGxheWxpc3QgPSBbXTtcclxuICAgIHZhciBpZHMgPSBbXTtcclxuICAgIHZhciAkcGxheWxpc3R2aWV3ID0gJCgnI3BsYXlsaXN0LXZpZXcnKTtcclxuICAgIHZhciAkdHJhY2tzID0gJCgnLnRyYWNrJyk7XHJcbiAgICB2YXIgdGFibGVoZWFkaW5nID0gXCI8dGhlYWQ+PHRyPjx0aD5ObzwvdGg+PHRoPkFydGlzdDwvdGg+PHRoPkFsYnVtPC90aD48dGg+VGl0bGU8L3RoPjx0aD5GaWxlPC90aD48L3RyPjwvdGhlYWQ+XCI7XHJcbiAgICB2YXIgJGZpbGVzZWxlY3QgPSAkKCcjZmlsZXNlbGVjdCcpO1xyXG4gICAgdmFyICR3cmFwcGVyID0gJCgnI3dyYXBwZXInKTtcclxuICAgIHZhciAkc3VidGl0bGUgPSAkKCcjc3VidGl0bGUnKTtcclxuXHJcbiAgICBmdW5jdGlvbiB0b0FycmF5KGFycmF5bGlrZSkge1xyXG4gICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcnJheWxpa2UpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlbmRlclBsYXlsaXN0KCRwbGF5bGlzdHZpZXcsIHBsYXlsaXN0KSB7XHJcbiAgICAgICAgJHBsYXlsaXN0dmlldy5odG1sKHBsYXlsaXN0LmpvaW4oJycpKTtcclxuICAgICAgICAkd2luZG93LnRyaWdnZXIoJ21wOnBsYXlsaXN0cmVuZGVyZWQnKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB0cmF2ZXJzZUZpbGVUcmVlKGl0ZW0sIHBhdGgpIHtcclxuICAgICAgICBwYXRoID0gcGF0aCB8fCBcIlwiO1xyXG4gICAgICAgIGlmIChpdGVtLmlzRmlsZSkge1xyXG4gICAgICAgICAgICAvLyBHZXQgZmlsZVxyXG4gICAgICAgICAgICBpdGVtLmZpbGUoZnVuY3Rpb24oZmlsZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJGaWxlOlwiLCBwYXRoICsgZmlsZS5uYW1lKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChpdGVtLmlzRGlyZWN0b3J5KSB7XHJcbiAgICAgICAgICAgIC8vIEdldCBmb2xkZXIgY29udGVudHNcclxuICAgICAgICAgICAgdmFyIGRpclJlYWRlciA9IGl0ZW0uY3JlYXRlUmVhZGVyKCk7XHJcbiAgICAgICAgICAgIGRpclJlYWRlci5yZWFkRW50cmllcyhmdW5jdGlvbihlbnRyaWVzKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVudHJpZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB0cmF2ZXJzZUZpbGVUcmVlKGVudHJpZXNbaV0sIHBhdGggKyBpdGVtLm5hbWUgKyBcIi9cIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBsb29wRmlsZXMoZSkge1xyXG4gICAgICAgIGUgPSBlLm9yaWdpbmFsRXZlbnQ7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHZhciBmaWxlcyA9IGUudGFyZ2V0LmZpbGVzIHx8IChlLmRhdGFUcmFuc2ZlciAmJiBlLmRhdGFUcmFuc2Zlci5maWxlcyk7XHJcbiAgICAgICAgdmFyIGZpbGVBcnJheSA9IHRvQXJyYXkoZmlsZXMpO1xyXG4gICAgICAgIGZpbGVBcnJheSA9IGZpbGVBcnJheS5zb3J0KHNvcnRieSgnbmFtZScsICdhc2NlbmRpbmcnKSk7XHJcbiAgICAgICAgZmlsZUFycmF5LmZvckVhY2gocGFyc2VGaWxlKTtcclxuICAgICAgICByZW5kZXJQbGF5bGlzdCgkcGxheWxpc3R2aWV3LCBwbGF5bGlzdCk7XHJcbiAgICAgICAgZmlsZUFycmF5LmZvckVhY2gocmVhZFRhZ3MpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBibG9iVG9GaWxlKHRoZUJsb2IsIGZpbGVOYW1lKSB7XHJcbiAgICAgICAgdGhlQmxvYi5sYXN0TW9kaWZpZWREYXRlID0gbmV3IERhdGUoKTtcclxuICAgICAgICB0aGVCbG9iLm5hbWUgPSBmaWxlTmFtZTtcclxuICAgICAgICByZXR1cm4gdGhlQmxvYjtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzb3J0YnkocHJvcCwgYXNjZGVzYykge1xyXG4gICAgICAgIHZhciBzZWxlY3RlZFNvcnQ7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGFzY2VuZGluZyhhLCBiKSB7XHJcbiAgICAgICAgICAgIGlmIChhW3Byb3BdIDwgYltwcm9wXSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGFbcHJvcF0gPiBiW3Byb3BdKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBkZXNjZW5kaW5nKGEsIGIpIHtcclxuICAgICAgICAgICAgaWYgKGFbc29ydGJ5XSA+IGJbcHJvcF0pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChhW3Byb3BdIDwgYltwcm9wXSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBzd2l0Y2ggKGFzY2Rlc2MpIHtcclxuICAgICAgICAgICAgY2FzZSAnYXNjZW5kaW5nJzpcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkU29ydCA9IGFzY2VuZGluZztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdkZXNjZW5kaW5nJzpcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkU29ydCA9IGRlc2NlbmRpbmc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHNlbGVjdGVkU29ydDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBwYXJzZUZpbGUoZmlsZSwgaW5kZXgpIHtcclxuICAgICAgICB2YXIgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKTtcclxuICAgICAgICB2YXIgZmlsZU5hbWVBcnIgPSBmaWxlLm5hbWUuc3BsaXQoJy4nKTtcclxuICAgICAgICB2YXIgZXh0ZW5zaW9uID0gZmlsZU5hbWVBcnJbZmlsZU5hbWVBcnIubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgc3dpdGNoIChleHRlbnNpb24pIHtcclxuICAgICAgICAgICAgY2FzZSAnanNvbic6XHJcbiAgICAgICAgICAgICAgICBpbXBvcnRKU09OdG9QbGF5bGlzdCh1cmwpLnRoZW4oZnVuY3Rpb24ocmVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNvbmdzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzID0gSlNPTi5wYXJzZShyZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5mb3JFYWNoKGZ1bmN0aW9uKHNvbmcsIGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvbmdzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2tudW1iZXI6IHNvbmdbJ1RyYWNrIE51bWJlciddLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJ0aXN0OiBzb25nLmFydGlzdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsYnVtOiBzb25nLmFsYnVtLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHNvbmcudGl0bGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogc29uZy5pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGU6IHNvbmcubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZTogJ2h0dHBzOi8vZG9jcy5nb29nbGUuY29tL3VjP2lkPScgKyBzb25nLmlkICsgJyZleHBvcnQ9ZG93bmxvYWQnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wbGF0ZSA9ICQoJyNwbGF5bGlzdC10ZW1wbGF0ZScpLmh0bWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBNdXN0YWNoZS5wYXJzZSh0ZW1wbGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlbmRlcmVkID0gTXVzdGFjaGUucmVuZGVyKHRlbXBsYXRlLCB7IHNvbmdzOiBzb25ncyB9KTtcclxuICAgICAgICAgICAgICAgICAgICAkcGxheWxpc3R2aWV3Lmh0bWwocmVuZGVyZWQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnc3J0JzpcclxuICAgICAgICAgICAgICAgICRzdWJ0aXRsZS5hdHRyKCdkYXRhLXNydCcsIHVybCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGlmICghaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICBwbGF5bGlzdCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYXlsaXN0LnB1c2godGFibGVoZWFkaW5nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHBsYXlsaXN0LnB1c2goWyc8dHIgY2xhc3M9XCJ0cmFja1wiIGRhdGEtc3JjPVwiJyArIHVybCArICdcIj4nLCAnPHRkIGNsYXNzPVwidHJhY2stbnVtYmVyXCI+JyArICgrK2luZGV4KSArICc8L3RkPicsICc8dGQgY2xhc3M9XCJ0cmFjay1hcnRpc3RcIj48L3RkPicsICc8dGQgY2xhc3M9XCJ0cmFjay1hbGJ1bVwiPjwvdGQ+JywgJzx0ZCBjbGFzcz1cInRyYWNrLXRpdGxlXCI+PC90ZD4nLCAnPHRkIGNsYXNzPVwidHJhY2stZmlsZVwiPicgKyBmaWxlLm5hbWUgKyAnPC90ZD48L3RyPiddLmpvaW4oJycpKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpbXBvcnRKU09OdG9QbGF5bGlzdCh1cmwpIHtcclxuICAgICAgICByZXR1cm4gJC5nZXQodXJsKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZWFkRmlsZShibG9iKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBGaWxlKGJsb2IsICdibG9iJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVhZFRhZ3MoZmlsZSwgaW5kZXgsICR0cmFjaykge1xyXG4gICAgICAgIGlmIChmaWxlLm5hbWUuaW5kZXhPZignLm1wNCcpID09PSAtMSkge1xyXG4gICAgICAgICAgICBJRDMubG9hZFRhZ3MoJycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyICR0cmFjayA9ICR0cmFjayB8fCAkKCRwbGF5bGlzdHZpZXcuZmluZCgndHInKVtpbmRleCArIDFdKTtcclxuICAgICAgICAgICAgICAgIHZhciB0YWdzID0gSUQzLmdldEFsbFRhZ3MoJycpO1xyXG4gICAgICAgICAgICAgICAgJHRyYWNrLmZpbmQoJy50cmFjay1hcnRpc3QnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5odG1sKHRhZ3MuYXJ0aXN0KTtcclxuICAgICAgICAgICAgICAgICR0cmFjay5maW5kKCcudHJhY2stYWxidW0nKVxyXG4gICAgICAgICAgICAgICAgICAgIC5odG1sKHRhZ3MuYWxidW0pO1xyXG4gICAgICAgICAgICAgICAgJHRyYWNrLmZpbmQoJy50cmFjay10aXRsZScpXHJcbiAgICAgICAgICAgICAgICAgICAgLmh0bWwodGFncy50aXRsZSk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0YWdzKTtcclxuICAgICAgICAgICAgICAgICR3aW5kb3cudHJpZ2dlcignbXA6bWV0YWRhdGFyZWFkeScsIFskdHJhY2ssIHRhZ3MsIGZpbGVdKTtcclxuICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgZGF0YVJlYWRlcjogSUQzLkZpbGVBUElSZWFkZXIoZmlsZSlcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNldHVwVHJhY2tFdmVudHMoKSB7XHJcbiAgICAgICAgJHdyYXBwZXIub24oJ2NsaWNrJywgJy50cmFjaycsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKTtcclxuICAgICAgICAgICAgdmFyIHVybCA9ICR0aGlzLmRhdGEoJ3NyYycpO1xyXG4gICAgICAgICAgICAkKCcudHJhY2snKVxyXG4gICAgICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgJHRoaXMuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICBNUC5wbGF5ZXIucGxheSh1cmwpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgc2V0dXBUcmFja0V2ZW50cygpO1xyXG4gICAgd2luZG93Lm9uZHJhZ292ZXIgPSBNUC5pbml0LnByZXZlbnREZWZhdWx0O1xyXG4gICAgJHdpbmRvdy5vbignZHJvcCcsIGxvb3BGaWxlcyk7XHJcbiAgICAkZmlsZXNlbGVjdC5vbignY2hhbmdlJywgbG9vcEZpbGVzKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgdGFibGVoZWFkaW5nOiB0YWJsZWhlYWRpbmcsXHJcbiAgICAgICAgc29ydGJ5OiBzb3J0YnksXHJcbiAgICAgICAgcmVuZGVyUGxheWxpc3Q6IHJlbmRlclBsYXlsaXN0LFxyXG4gICAgICAgIHJlYWRUYWdzOiByZWFkVGFnc1xyXG4gICAgfTtcclxufShqUXVlcnkpKTtcclxuIiwid2luZG93Lk1QID0gd2luZG93Lk1QIHx8IHt9O1xyXG5NUC5jaHJvbWUgPSAoZnVuY3Rpb24oJCkge1xyXG4gICAgdmFyIHNvcnRieSA9IE1QLnBsYXlsaXN0LnNvcnRieTtcclxuICAgIHZhciByZW5kZXJQbGF5bGlzdCA9IE1QLnBsYXlsaXN0LnJlbmRlclBsYXlsaXN0O1xyXG4gICAgdmFyICRwbGF5bGlzdHZpZXcgPSAkKCcjcGxheWxpc3QtdmlldycpO1xyXG4gICAgdmFyIHJlYWRUYWdzID0gTVAucGxheWxpc3QucmVhZFRhZ3M7XHJcbiAgICB2YXIgcGxheWxpc3QgPSBbXTtcclxuICAgIHZhciBsaXN0ID0gW107XHJcbiAgICB2YXIgJHdpbmRvdyA9ICQod2luZG93KTtcclxuICAgICR3aW5kb3cub24oJ2xvYWQnLCBpbml0KTtcclxuXHJcbiAgICBmdW5jdGlvbiBpbml0KCkge1xyXG4gICAgICAgIGlmICh3aW5kb3cuY2hyb21lICYmIHdpbmRvdy5jaHJvbWUuc3RvcmFnZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnY2hlY2tpbmcgZm9yIG9wZW4gZmlsZScpO1xyXG4gICAgICAgICAgICBjaHJvbWUuc3RvcmFnZS5sb2NhbC5nZXQoJ29wZW4nLCBmdW5jdGlvbihpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICBjaHJvbWUuc3RvcmFnZS5sb2NhbC5zZXQoeyBvcGVuOiBmYWxzZSB9LCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5vcGVuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QucHVzaChpdGVtLm9wZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0LmZvckVhY2gocGFyc2VMb2NhbEZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhsaXN0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocGxheWxpc3QpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJQbGF5bGlzdCgkcGxheWxpc3R2aWV3LCBwbGF5bGlzdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NGaWxlcygpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNocm9tZS5ydW50aW1lLm9uTWVzc2FnZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uKHJlcXVlc3QsIHNlbmRlciwgc2VuZFJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGlzdC5wdXNoKHJlcXVlc3QpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxpc3QuZm9yRWFjaChwYXJzZUxvY2FsRmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyUGxheWxpc3QoJHBsYXlsaXN0dmlldywgcGxheWxpc3QpO1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NGaWxlcygpO1xyXG5cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBwYXJzZUxvY2FsRmlsZSh1cmwsIGluZGV4KSB7XHJcbiAgICAgICAgaWYgKCFpbmRleCkge1xyXG4gICAgICAgICAgICBwbGF5bGlzdCA9IFtdO1xyXG4gICAgICAgICAgICBwbGF5bGlzdC5wdXNoKFwiPHRyPjx0aD5ObzwvdGg+PHRoPkFydGlzdDwvdGg+PHRoPkFsYnVtPC90aD48dGg+VGl0bGU8L3RoPjx0aD5GaWxlPC90aD48L3RyPlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHVybEFycmF5ID0gdXJsLnNwbGl0KCcvJyk7XHJcbiAgICAgICAgdmFyIHJvdyA9IFsnPHRyIGNsYXNzPVwidHJhY2tcIiBkYXRhLXNyYz1cIicgKyB1cmwgKyAnXCI+JywgJzx0ZCBjbGFzcz1cInRyYWNrLW51bWJlclwiPicgKyAoKytpbmRleCkgKyAnPC90ZD4nLCAnPHRkIGNsYXNzPVwidHJhY2stYXJ0aXN0XCI+PC90ZD4nLCAnPHRkIGNsYXNzPVwidHJhY2stYWxidW1cIj48L3RkPicsICc8dGQgY2xhc3M9XCJ0cmFjay10aXRsZVwiPjwvdGQ+JywgJzx0ZCBjbGFzcz1cInRyYWNrLWZpbGVcIj4nICsgdXJsQXJyYXlbdXJsQXJyYXkubGVuZ3RoIC0gMV0gKyAnPC90ZD48L3RyPiddLmpvaW4oJycpO1xyXG4gICAgICAgIHBsYXlsaXN0LnB1c2gocm93KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBwcm9jZXNzRmlsZXMoKSB7XHJcbiAgICAgICAgJHBsYXlsaXN0dmlldy5maW5kKCcudHJhY2snKS5lYWNoKGZ1bmN0aW9uKGluZGV4LCB0cmFjaykge1xyXG4gICAgICAgICAgICB2YXIgJHRyYWNrID0gJCh0cmFjayk7XHJcbiAgICAgICAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgICAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9IFwiYmxvYlwiO1xyXG4gICAgICAgICAgICB4aHIub25sb2FkID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZmlsZSA9IG5ldyBGaWxlKFt4aHIucmVzcG9uc2VdLCAnYmxvYicpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgJHRyYWNrID0gJCgkcGxheWxpc3R2aWV3LmZpbmQoJ3RyJylbaW5kZXggKyAxXSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgb2xkU3JjID0gJHRyYWNrLmRhdGEoJ3NyYycpO1xyXG4gICAgICAgICAgICAgICAgJHRyYWNrLmRhdGEoJ3NyYycsIHVybCk7XHJcbiAgICAgICAgICAgICAgICAkdHJhY2suYXR0cignZGF0YS1zcmMnLCB1cmwpO1xyXG4gICAgICAgICAgICAgICAgJHRyYWNrLmF0dHIoJ2RhdGEtbGluaycsIG9sZFNyYyk7XHJcbiAgICAgICAgICAgICAgICByZWFkVGFncyhmaWxlLCBpbmRleCk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHhoci5vcGVuKCdHRVQnLCAkdHJhY2suZGF0YSgnc3JjJykpO1xyXG4gICAgICAgICAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgZG93bmxvYWRGaWxlKGZpbGVPYmosIGluZGV4LCB0cnVlKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgeGhyLnNlbmQoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgaW5pdDogaW5pdFxyXG4gICAgfTtcclxuXHJcbn0oalF1ZXJ5KSk7XHJcbiIsIndpbmRvdy5NUCA9IHdpbmRvdy5NUCB8fCB7fTtcclxuTVAuY29udGV4dG1lbnUgPSAoZnVuY3Rpb24gKCQpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuICAgIC8qXHJcbiAgICAgICAgQ29udGV4dCBNZW51XHJcbiAgICAgKi9cclxuICAgIHZhciAkd2luZG93ID0gJCh3aW5kb3cpO1xyXG4gICAgdmFyICRkb2N1bWVudCA9ICQoZG9jdW1lbnQpO1xyXG4gICAgdmFyICRhcyA9ICQoJy50cmFjaycpO1xyXG4gICAgdmFyICRjb250ZXh0bWVudSA9ICQoJyNjb250ZXh0bWVudScpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGNvbnRleHRNZW51SGFuZGxlcihlKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHZhciB4ID0gZS5jbGllbnRYO1xyXG4gICAgICAgIHZhciB5ID0gZS5jbGllbnRZO1xyXG4gICAgICAgIGlmIChlLmNsaWVudFggPiB3aW5kb3cuaW5uZXJXaWR0aCAtIDEwMCkge1xyXG4gICAgICAgICAgICB4ID0geCAtIDEwMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgJGNvbnRleHRtZW51LmhpZGUoKVxyXG4gICAgICAgICAgICAuY3NzKHtcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcImZpeGVkXCIsXHJcbiAgICAgICAgICAgICAgICB0b3A6IHksXHJcbiAgICAgICAgICAgICAgICBsZWZ0OiB4LFxyXG4gICAgICAgICAgICAgICAgekluZGV4OiA5OTk5XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zaG93KCdmYXN0JylcclxuICAgICAgICAgICAgLmRhdGEoJ3RhcmdldCcsIGUub3JpZ2luYWxFdmVudC50YXJnZXQpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNsb3NlQ29udGV4dE1lbnUoZSkge1xyXG4gICAgICAgIGlmICgkY29udGV4dG1lbnUuaXMoJzp2aXNpYmxlJykpIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAkY29udGV4dG1lbnUuaGlkZSgnZmFzdCcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgICQoJyNwbGF5LXRyYWNrJylcclxuICAgICAgICAuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkY29udGV4dG1lbnUuZGF0YSgndGFyZ2V0JylcclxuICAgICAgICAgICAgICAgIC5jbGljaygpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgJCgnI2RlbGV0ZS10cmFjaycpXHJcbiAgICAgICAgLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyICR0YXJnZXQgPSAkKCRjb250ZXh0bWVudS5kYXRhKCd0YXJnZXQnKSlcclxuICAgICAgICAgICAgICAgIC5wYXJlbnRzKCcudHJhY2snKTtcclxuICAgICAgICAgICAgdmFyIGlkID0gJCgkY29udGV4dG1lbnUuZGF0YSgndGFyZ2V0JykpXHJcbiAgICAgICAgICAgICAgICAucGFyZW50cygnLnRyYWNrJylcclxuICAgICAgICAgICAgICAgIC5kYXRhKCdpZCcpO1xyXG4gICAgICAgICAgICBpZiAoJHRhcmdldC5wYXJlbnRzKCcjbGlicmFyeXZpZXcnKVxyXG4gICAgICAgICAgICAgICAgLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgTVAuZGIuc29uZ3MuZGVsZXRlKGlkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAkdGFyZ2V0LnJlbW92ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgJCgnI2Rvd25sb2FkLXRyYWNrJylcclxuICAgICAgICAuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgJHRhcmdldCA9ICQoJGNvbnRleHRtZW51LmRhdGEoJ3RhcmdldCcpKVxyXG4gICAgICAgICAgICAgICAgLnBhcmVudHMoJy50cmFjaycpO1xyXG4gICAgICAgICAgICB2YXIgbGluayA9ICR0YXJnZXQuZGF0YSgnbGluaycpIHx8ICR0YXJnZXQuZGF0YSgnc3JjJyk7XHJcbiAgICAgICAgICAgIHdpbmRvdy5vcGVuKGxpbmspO1xyXG4gICAgICAgIH0pO1xyXG4gICAgJCgnI3JlbG9hZC10cmFjaycpXHJcbiAgICAgICAgLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyICR0YXJnZXQgPSAkKCRjb250ZXh0bWVudS5kYXRhKCd0YXJnZXQnKSlcclxuICAgICAgICAgICAgICAgIC5wYXJlbnRzKCcudHJhY2snKTtcclxuICAgICAgICAgICAgdmFyIHNyYyA9ICR0YXJnZXQuYXR0cignZGF0YS1zcmMnKTtcclxuICAgICAgICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgICAgICAgICB4aHIub3BlbignR0VUJywgc3JjLCB0cnVlKTtcclxuICAgICAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdibG9iJztcclxuICAgICAgICAgICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGUgPSBuZXcgRmlsZShbeGhyLnJlc3BvbnNlXSwgJ2Jsb2InKTtcclxuICAgICAgICAgICAgICAgICAgICBNUC5wbGF5bGlzdC5yZWFkVGFncyhmaWxlLCBmYWxzZSwgJHRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHhoci5zZW5kKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAkZG9jdW1lbnQub24oXCJjb250ZXh0bWVudVwiLCAnLnRyYWNrJywgY29udGV4dE1lbnVIYW5kbGVyKTtcclxuICAgICRkb2N1bWVudC5vbihcImNsaWNrXCIsIGNsb3NlQ29udGV4dE1lbnUpO1xyXG59KGpRdWVyeSkpO1xyXG5cclxuIiwiKGZ1bmN0aW9uICgkKSB7XHJcbiAgICB2YXIgJHdyYXBwZXIgPSAkKCcjd3JhcHBlcicpO1xyXG4gICAgdmFyICR3aW5kb3cgPSAkKHdpbmRvdyk7XHJcbiAgICB2YXIgJGFzID0gJCgnYScpO1xyXG4gICAgdmFyICRwbGF5ZXIgPSAkKCcjcGxheWVyJyk7XHJcbiAgICB2YXIgJGhlYWRlciA9ICQoJ2hlYWRlcicpXHJcbiAgICAgICAgLypcclxuICAgICAgICAgICAgICAgIEhhc2ggUmVzZXRcclxuICAgICAgICAgICAgICovXHJcbiAgICBmdW5jdGlvbiByZXNldEhhc2goKSB7XHJcbiAgICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5oYXNoKSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gJyc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGhhc2hMaXN0ZW5lcigpIHtcclxuICAgICAgICAkYXMub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnaHJlZicpKSB7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaGFzaCA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnaHJlZicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJCgnW2hyZWY9XCInICsgd2luZG93LmxvY2F0aW9uLmhhc2ggKyAnXCJdJylcclxuICAgICAgICAgICAgLmZpbmQoJ3NwYW4nKVxyXG4gICAgICAgICAgICAuY2xpY2soKTtcclxuICAgICAgICAkd3JhcHBlclswXS5jbGFzc05hbWUgPSAnJztcclxuICAgICAgICBzd2l0Y2ggKHdpbmRvdy5sb2NhdGlvbi5oYXNoKSB7XHJcbiAgICAgICAgY2FzZSAnI25vd3BsYXlpbmcnOlxyXG4gICAgICAgICAgICAkd3JhcHBlci5hZGRDbGFzcygnb24tbm93LXBsYXlpbmcnKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgJHdyYXBwZXIucmVtb3ZlQ2xhc3MoJ29uLW5vdy1wbGF5aW5nJyk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgICRoZWFkZXIub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAkd3JhcHBlci5yZW1vdmVDbGFzcygnb24tbm93LXBsYXlpbmcnKTtcclxuICAgIH0pO1xyXG4gICAgJHBsYXllci5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJHdyYXBwZXIudG9nZ2xlQ2xhc3MoJ29uLW5vdy1wbGF5aW5nJyk7XHJcbiAgICAgICAgLy8gdmFyIGVsZW0gPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XHJcbiAgICAgICAgLy8gaWYgKGVsZW0ucmVxdWVzdEZ1bGxzY3JlZW4pIHtcclxuICAgICAgICAvLyAgICAgZWxlbS5yZXF1ZXN0RnVsbHNjcmVlbigpO1xyXG4gICAgICAgIC8vIH0gZWxzZSBpZiAoZWxlbS5tc1JlcXVlc3RGdWxsc2NyZWVuKSB7XHJcbiAgICAgICAgLy8gICAgIGVsZW0ubXNSZXF1ZXN0RnVsbHNjcmVlbigpO1xyXG4gICAgICAgIC8vIH0gZWxzZSBpZiAoZWxlbS5tb3pSZXF1ZXN0RnVsbFNjcmVlbikge1xyXG4gICAgICAgIC8vICAgICBlbGVtLm1velJlcXVlc3RGdWxsU2NyZWVuKCk7XHJcbiAgICAgICAgLy8gfSBlbHNlIGlmIChlbGVtLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuKSB7XHJcbiAgICAgICAgLy8gICAgIGVsZW0ud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4oKTtcclxuICAgICAgICAvLyB9XHJcbiAgICB9KTtcclxuICAgICR3aW5kb3cub24oJ2hhc2hjaGFuZ2UnLCBoYXNoTGlzdGVuZXIpO1xyXG59KGpRdWVyeSkpXHJcblxyXG4iLCJ3aW5kb3cuTVAgPSB3aW5kb3cuTVAgfHwge307XHJcbk1QLmRpYWxvZyA9IChmdW5jdGlvbiAoJCkge1xyXG4gICAgLypcclxuICAgICAgICBEaWFsb2dcclxuICAgICAqL1xyXG4gICAgdmFyICRvcGVuRmlsZUJ0biA9ICQoJy5zaG93LWZpbGUtcGlja2VyLWJ0bicpO1xyXG4gICAgdmFyICRvcGVuZGlhbG9nID0gJCgnLm9wZW4tZGlhbG9nJyk7XHJcbiAgICB2YXIgJG9wZW5GaWxlRGlhbG9nID0gJCgnI29wZW4tZmlsZS1kaWFsb2cnKTtcclxuICAgIHZhciAkZGlhbG9nID0gJCgnZGlhbG9nJyk7XHJcbiAgICB2YXIgJGNsb3NlID0gJCgnLmNsb3NlJyk7XHJcbiAgICB2YXIgJGxvY2FsID0gJCgnI2xvY2FsJyk7XHJcbiAgICB2YXIgJGZpbGVzZWxlY3QgPSAkKCcjZmlsZXNlbGVjdCcpO1xyXG4gICAgJGRpYWxvZy5lYWNoKGZ1bmN0aW9uIChpbmRleCwgZGlhbG9nKSB7XHJcbiAgICAgICAgaWYgKCFkaWFsb2cuc2hvd01vZGFsKSB7XHJcbiAgICAgICAgICAgIGRpYWxvZ1BvbHlmaWxsLnJlZ2lzdGVyRGlhbG9nKGRpYWxvZyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICAkb3BlbmRpYWxvZy5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB2YXIgJHRhcmdldCA9ICQoZS5jdXJyZW50VGFyZ2V0LmdldEF0dHJpYnV0ZSgnaHJlZicpKTtcclxuICAgICAgICAkdGFyZ2V0WzBdLnNob3dNb2RhbCgpO1xyXG4gICAgfSk7XHJcbiAgICAkY2xvc2Uub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAkKGUudGFyZ2V0KVxyXG4gICAgICAgICAgICAucGFyZW50cygnZGlhbG9nJylbMF0uY2xvc2UoKTtcclxuICAgIH0pO1xyXG4gICAgJGxvY2FsLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkZmlsZXNlbGVjdC5jbGljaygpO1xyXG4gICAgfSk7XHJcbn0oalF1ZXJ5KSk7XHJcblxyXG4iLCIoZnVuY3Rpb24oJCkge1xyXG4gICAgdmFyIHNvcnRieSA9IE1QLnBsYXlsaXN0LnNvcnRieTtcclxuICAgIHZhciByZW5kZXJQbGF5bGlzdCA9IE1QLnBsYXlsaXN0LnJlbmRlclBsYXlsaXN0O1xyXG4gICAgdmFyIHJlYWRUYWdzID0gTVAucGxheWxpc3QucmVhZFRhZ3M7XHJcbiAgICB2YXIgcGxheWxpc3QgPSBbXTtcclxuICAgIHZhciBpZHMgPSBbXTtcclxuICAgIHZhciAkcGxheWxpc3R2aWV3ID0gJCgnI3BsYXlsaXN0LXZpZXcnKTtcclxuICAgIHZhciAkdHJhY2tzID0gJCgnLnRyYWNrJyk7XHJcbiAgICB2YXIgdGFibGVoZWFkaW5nID0gXCI8dHI+PHRoPk5vPC90aD48dGg+QXJ0aXN0PC90aD48dGg+QWxidW08L3RoPjx0aD5UaXRsZTwvdGg+PHRoPkZpbGU8L3RoPjwvdHI+XCI7XHJcbiAgICB2YXIgJGZpbGVzZWxlY3QgPSAkKCcjZmlsZXNlbGVjdCcpO1xyXG4gICAgdmFyICR3cmFwcGVyID0gJCgnI3dyYXBwZXInKTtcclxuICAgIHZhciAkd2luZG93ID0gJCh3aW5kb3cpO1xyXG4gICAgJHdpbmRvdy5vbignbG9hZCcsIGluaXRQaWNrZXIpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGluaXRQaWNrZXIoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0luaXRpYWxpemluZyBHb29nbGUgRHJpdmUgaW50ZWdyYXRpb24nKTtcclxuICAgICAgICBpZiAod2luZG93LmdhcGkgJiYgd2luZG93Lmdvb2dsZSAmJiB3aW5kb3cuRmlsZVBpY2tlcikge1xyXG4gICAgICAgICAgICB2YXIgcGlja2VyID0gbmV3IEZpbGVQaWNrZXIoe1xyXG4gICAgICAgICAgICAgICAgYXBpS2V5OiAnQUl6YVN5Qk1ETTR2NmNqbXQzazAwUU83UEFabjJNR2c4aFJ2U3Y0JyxcclxuICAgICAgICAgICAgICAgIGNsaWVudElkOiAnMTg2ODE3NTI2NycsXHJcbiAgICAgICAgICAgICAgICBidXR0b25FbDogJCgnI2xvZ2luJylbMF0sXHJcbiAgICAgICAgICAgICAgICBvblNlbGVjdDogZnVuY3Rpb24oZmlsZUxpc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhmaWxlTGlzdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlsZUxpc3QgPSBmaWxlTGlzdC5zb3J0KHNvcnRieSgnbmFtZScsICdhc2NlbmRpbmcnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlsZUxpc3QuZm9yRWFjaChwYXJzZUdvb2dsZURyaXZlKTtcclxuICAgICAgICAgICAgICAgICAgICByZW5kZXJQbGF5bGlzdCgkcGxheWxpc3R2aWV3LCBwbGF5bGlzdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWRzLmZvckVhY2goZ2V0RmlsZVVybCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnR29vZ2xlIERyaXZlIGludGVncmF0aW9uIGVuYWJsZWQuJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0dvb2dsZSBEcml2ZSBpbnRlZ3JhdGlvbiBkaXNhYmxlZC4nKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0RmlsZVVybChmaWxlSWQsIGluZGV4KSB7XHJcbiAgICAgICAgdmFyIHJlcXVlc3QgPSBnYXBpLmNsaWVudC5kcml2ZS5maWxlcy5nZXQoe1xyXG4gICAgICAgICAgICAnZmlsZUlkJzogZmlsZUlkXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmVxdWVzdC5leGVjdXRlKGZ1bmN0aW9uKHJlc3ApIHtcclxuICAgICAgICAgICAgZG93bmxvYWRGaWxlKHJlc3AsIGluZGV4KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBkb3dubG9hZEZpbGUoZmlsZU9iaiwgaW5kZXgsIGZyb21MaW5rKSB7XHJcbiAgICAgICAgaWYgKGZpbGVPYmouZG93bmxvYWRVcmwpIHtcclxuICAgICAgICAgICAgdmFyIGFjY2Vzc1Rva2VuID0gZ2FwaS5hdXRoLmdldFRva2VuKClcclxuICAgICAgICAgICAgICAgIC5hY2Nlc3NfdG9rZW47XHJcbiAgICAgICAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgICAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9IFwiYmxvYlwiO1xyXG4gICAgICAgICAgICB4aHIub25sb2FkID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZmlsZSA9IG5ldyBGaWxlKFt4aHIucmVzcG9uc2VdLCAnYmxvYicpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgJHRyYWNrID0gJCgkcGxheWxpc3R2aWV3LmZpbmQoJ3RyJylbaW5kZXggKyAxXSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgb2xkU3JjID0gJHRyYWNrLmRhdGEoJ3NyYycpO1xyXG4gICAgICAgICAgICAgICAgJHRyYWNrLmRhdGEoJ3NyYycsIHVybCk7XHJcbiAgICAgICAgICAgICAgICAkdHJhY2suYXR0cignZGF0YS1zcmMnLCB1cmwpO1xyXG4gICAgICAgICAgICAgICAgJHRyYWNrLmF0dHIoJ2RhdGEtbGluaycsIG9sZFNyYyk7XHJcbiAgICAgICAgICAgICAgICByZWFkVGFncyhmaWxlLCBpbmRleCk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGlmIChmcm9tTGluaykge1xyXG4gICAgICAgICAgICAgICAgeGhyLm9wZW4oJ0dFVCcsICR0cmFjay5kYXRhKCdzcmMnKSk7XHJcbiAgICAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQXV0aG9yaXphdGlvbicsICdCZWFyZXIgJyArIGFjY2Vzc1Rva2VuKTtcclxuICAgICAgICAgICAgICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRGaWxlKGZpbGVPYmosIGluZGV4LCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB4aHIub3BlbignR0VUJywgZmlsZU9iai5kb3dubG9hZFVybCk7XHJcbiAgICAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQXV0aG9yaXphdGlvbicsICdCZWFyZXIgJyArIGFjY2Vzc1Rva2VuKTtcclxuICAgICAgICAgICAgICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRGaWxlKGZpbGVPYmosIGluZGV4LCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgeGhyLnNlbmQoKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ3N0YXJ0aW5nIGdvb2dsZSBkcml2ZSBkb3dubG9hZCBmb3IgZmlsZTonLCBmaWxlT2JqKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcGFyc2VHb29nbGVEcml2ZShmaWxlLCBpbmRleCkge1xyXG4gICAgICAgIGlmICghaW5kZXgpIHtcclxuICAgICAgICAgICAgaWRzID0gW107XHJcbiAgICAgICAgICAgIHBsYXlsaXN0ID0gW107XHJcbiAgICAgICAgICAgIHBsYXlsaXN0LnB1c2goXCI8dHI+PHRoPk5vPC90aD48dGg+QXJ0aXN0PC90aD48dGg+QWxidW08L3RoPjx0aD5UaXRsZTwvdGg+PHRoPkZpbGU8L3RoPjwvdHI+XCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZHMucHVzaChmaWxlLmlkKTtcclxuICAgICAgICB2YXIgcm93ID0gWyc8dHIgY2xhc3M9XCJ0cmFja1wiIGRhdGEtaWQ9XCInICsgZmlsZS5pZCArICdcIiBkYXRhLXNyYz1cIicgKyAnaHR0cHM6Ly9kb2NzLmdvb2dsZS5jb20vdWM/aWQ9JyArIGZpbGUuaWQgKyAnJmV4cG9ydD1kb3dubG9hZCcgKyAnXCI+JywgJzx0ZCBjbGFzcz1cInRyYWNrLW51bWJlclwiPicgKyAoKytpbmRleCkgKyAnPC90ZD4nLCAnPHRkIGNsYXNzPVwidHJhY2stYXJ0aXN0XCI+PC90ZD4nLCAnPHRkIGNsYXNzPVwidHJhY2stYWxidW1cIj48L3RkPicsICc8dGQgY2xhc3M9XCJ0cmFjay10aXRsZVwiPjwvdGQ+JywgJzx0ZCBjbGFzcz1cInRyYWNrLWZpbGVcIj4nICsgZmlsZS5uYW1lICsgJzwvdGQ+PC90cj4nXS5qb2luKCcnKTtcclxuICAgICAgICBwbGF5bGlzdC5wdXNoKHJvdyk7XHJcbiAgICB9XHJcbn0oalF1ZXJ5KSk7XHJcbiIsIndpbmRvdy5NUCA9IHdpbmRvdy5NUCB8fCB7fTtcclxuTVAuZHJvcGJveCA9IChmdW5jdGlvbigkKSB7XHJcbiAgICB2YXIgc29ydGJ5ID0gTVAucGxheWxpc3Quc29ydGJ5O1xyXG4gICAgdmFyIHJlbmRlclBsYXlsaXN0ID0gTVAucGxheWxpc3QucmVuZGVyUGxheWxpc3Q7XHJcbiAgICB2YXIgcmVhZFRhZ3MgPSBNUC5wbGF5bGlzdC5yZWFkVGFncztcclxuICAgIHZhciBwbGF5bGlzdCA9IFtdO1xyXG4gICAgdmFyIGlkcyA9IFtdO1xyXG4gICAgdmFyICRwbGF5bGlzdHZpZXcgPSAkKCcjcGxheWxpc3QtdmlldycpO1xyXG4gICAgdmFyICR0cmFja3MgPSAkKCcudHJhY2snKTtcclxuICAgIHZhciB0YWJsZWhlYWRpbmcgPSBcIjx0cj48dGg+Tm88L3RoPjx0aD5BcnRpc3Q8L3RoPjx0aD5BbGJ1bTwvdGg+PHRoPlRpdGxlPC90aD48dGg+RmlsZTwvdGg+PC90cj5cIjtcclxuICAgIHZhciAkZmlsZXNlbGVjdCA9ICQoJyNmaWxlc2VsZWN0Jyk7XHJcbiAgICB2YXIgJHdyYXBwZXIgPSAkKCcjd3JhcHBlcicpO1xyXG4gICAgdmFyICRidXR0b24gPSAkKCcjZHJvcGJveCcpO1xyXG4gICAgdmFyICR3aW5kb3cgPSAkKHdpbmRvdyk7XHJcbiAgICAkd2luZG93Lm9uKCdsb2FkJywgaW5pdERyb3Bib3gpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGluaXREcm9wYm94KCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdJbml0aWFsaXppbmcgRHJvcGJveCBpbnRlZ3JhdGlvbicpO1xyXG4gICAgICAgIHZhciBvcHRpb25zID0ge1xyXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihmaWxlcykge1xyXG4gICAgICAgICAgICAgICAgZmlsZXMuZm9yRWFjaChwYXJzZURyb3Bib3gpO1xyXG4gICAgICAgICAgICAgICAgcmVuZGVyUGxheWxpc3QoJHBsYXlsaXN0dmlldywgcGxheWxpc3QpO1xyXG4gICAgICAgICAgICAgICAgZmlsZXMuZm9yRWFjaChkb3dubG9hZEZpbGUpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjYW5jZWw6IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbGlua1R5cGU6IFwiZGlyZWN0XCIsIC8vIG9yIFwiZGlyZWN0XCJcclxuICAgICAgICAgICAgbXVsdGlzZWxlY3Q6IHRydWUsIC8vIG9yIHRydWVcclxuICAgICAgICAgICAgZXh0ZW5zaW9uczogWycubXAzJywgJy5tcDQnLCAnLm00YSddLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKHdpbmRvdy5Ecm9wYm94KSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdEcm9wYm94IGludGVncmF0aW9uIGVuYWJsZWQnKTtcclxuICAgICAgICAgICAgJGJ1dHRvbi5hdHRyKCdkaXNhYmxlZCcsIGZhbHNlKTtcclxuICAgICAgICAgICAgJGJ1dHRvbi5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIERyb3Bib3guY2hvb3NlKG9wdGlvbnMpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRHJvcGJveCBpbnRlZ3JhdGlvbiBmYWlsZWQnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZG93bmxvYWRGaWxlKGZpbGVPYmosIGluZGV4KSB7XHJcbiAgICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgICAgIHZhciAkdHJhY2sgPSAkKCRwbGF5bGlzdHZpZXcuZmluZCgndHInKVtpbmRleCArIDFdKTtcclxuICAgICAgICB4aHIub3BlbignR0VUJywgJHRyYWNrLmRhdGEoJ3NyYycpKTtcclxuICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gXCJibG9iXCI7XHJcbiAgICAgICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgZmlsZSA9IG5ldyBGaWxlKFt4aHIucmVzcG9uc2VdLCAnYmxvYicpO1xyXG4gICAgICAgICAgICB2YXIgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKTtcclxuICAgICAgICAgICAgdmFyICR0cmFjayA9ICQoJHBsYXlsaXN0dmlldy5maW5kKCd0cicpW2luZGV4ICsgMV0pO1xyXG4gICAgICAgICAgICB2YXIgb2xkU3JjID0gJHRyYWNrLmRhdGEoJ3NyYycpO1xyXG4gICAgICAgICAgICAkdHJhY2suZGF0YSgnc3JjJywgdXJsKTtcclxuICAgICAgICAgICAgJHRyYWNrLmF0dHIoJ2RhdGEtc3JjJywgdXJsKTtcclxuICAgICAgICAgICAgJHRyYWNrLmF0dHIoJ2RhdGEtbGluaycsIG9sZFNyYyk7XHJcbiAgICAgICAgICAgIHJlYWRUYWdzKGZpbGUsIGluZGV4KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGRvd25sb2FkRmlsZShmaWxlT2JqLCBpbmRleCwgdHJ1ZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB4aHIuc2VuZCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHBhcnNlRHJvcGJveChmaWxlLCBpbmRleCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGZpbGUpO1xyXG4gICAgICAgIGlmICghaW5kZXgpIHtcclxuICAgICAgICAgICAgaWRzID0gW107XHJcbiAgICAgICAgICAgIHBsYXlsaXN0ID0gW107XHJcbiAgICAgICAgICAgIHBsYXlsaXN0LnB1c2goXCI8dHI+PHRoPk5vPC90aD48dGg+QXJ0aXN0PC90aD48dGg+QWxidW08L3RoPjx0aD5UaXRsZTwvdGg+PHRoPkZpbGU8L3RoPjwvdHI+XCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZHMucHVzaChmaWxlLmlkKTtcclxuICAgICAgICB2YXIgcm93ID0gWyc8dHIgY2xhc3M9XCJ0cmFja1wiIGRhdGEtc3JjPVwiJyArIGZpbGUubGluayArICdcIj4nLCAnPHRkIGNsYXNzPVwidHJhY2stbnVtYmVyXCI+JyArICgrK2luZGV4KSArICc8L3RkPicsICc8dGQgY2xhc3M9XCJ0cmFjay1hcnRpc3RcIj48L3RkPicsICc8dGQgY2xhc3M9XCJ0cmFjay1hbGJ1bVwiPjwvdGQ+JywgJzx0ZCBjbGFzcz1cInRyYWNrLXRpdGxlXCI+PC90ZD4nLCAnPHRkIGNsYXNzPVwidHJhY2stZmlsZVwiPicgKyBmaWxlLm5hbWUgKyAnPC90ZD48L3RyPiddLmpvaW4oJycpO1xyXG4gICAgICAgIHBsYXlsaXN0LnB1c2gocm93KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gaW5pdERyb3Bib3g7XHJcbn0oalF1ZXJ5KSk7XHJcbiIsIiAgICBNUC55b3V0dWJlID0gKGZ1bmN0aW9uKCQpIHtcclxuICAgICAgICAndXNlIHN0cmljdCc7XHJcbiAgICAgICAgdmFyICR3aW5kb3cgPSAkKHdpbmRvdyk7XHJcbiAgICAgICAgLy8gQWZ0ZXIgdGhlIEFQSSBsb2FkcywgY2FsbCBhIGZ1bmN0aW9uIHRvIGVuYWJsZSB0aGUgc2VhcmNoIGJveC5cclxuICAgICAgICAkd2luZG93Lm9uKCdsb2FkJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlmICh3aW5kb3cuZ2FwaSkge1xyXG4gICAgICAgICAgICAgICAgZ2FwaS5jbGllbnQubG9hZCgneW91dHViZScsICd2MycsIGhhbmRsZUFQSUxvYWRlZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlQVBJTG9hZGVkKCkge1xyXG4gICAgICAgICAgICAkKCcjcXVlcnknKS5hdHRyKCdkaXNhYmxlZCcsIGZhbHNlKTtcclxuICAgICAgICAgICAgJCgnI3F1ZXJ5Jykub24oJ2NoYW5nZScsIHNlYXJjaCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFNlYXJjaCBmb3IgYSBzcGVjaWZpZWQgc3RyaW5nLlxyXG4gICAgICAgIGZ1bmN0aW9uIHNlYXJjaCgpIHtcclxuICAgICAgICAgICAgdmFyIHEgPSAkKCcjcXVlcnknKS52YWwoKTtcclxuICAgICAgICAgICAgdmFyIHJlcXVlc3QgPSBnYXBpLmNsaWVudC55b3V0dWJlLnNlYXJjaC5saXN0KHtcclxuICAgICAgICAgICAgICAgIHE6IHEsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiAndmlkZW8nLFxyXG4gICAgICAgICAgICAgICAgcGFydDogJ3NuaXBwZXQnLFxyXG4gICAgICAgICAgICAgICAgbWF4UmVzdWx0czogNTBcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdxdWVyeWluZyB5b3V0dWJlIGZvcjonLCBxKTtcclxuXHJcbiAgICAgICAgICAgIHJlcXVlc3QuZXhlY3V0ZShmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0dldCByZXNwb25zZSBmcm9tIHlvdXR1YmUnLCByZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICByZXNwb25zZS5pdGVtcy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0sIGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmV0Y2hWaWRlb1VybChpdGVtLmlkLnZpZGVvSWQsIGluZGV4KTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaWZyYW1lID0gJzxpZnJhbWUgd2lkdGg9XCIxMDAlXCIgaGVpZ2h0PVwiMTAwJVwiIHNyYz1cImh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL2VtYmVkLycgKyBpdGVtLmlkLnZpZGVvSWQgKyAnXCIgZnJhbWVib3JkZXI9XCIwXCIgYWxsb3dmdWxsc2NyZWVuPjwvaWZyYW1lPic7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBmZXRjaFZpZGVvVXJsKGl0ZW0sIGluZGV4KSB7XHJcbiAgICAgICAgICAgICQuZ2V0KCdodHRwOi8vd3d3LnlvdXR1YmVpbm1wMy5jb20vZmV0Y2gvP2Zvcm1hdD1KU09OJnZpZGVvPWh0dHA6Ly93d3cueW91dHViZS5jb20vd2F0Y2g/dj0nICsgaXRlbSwgZnVuY3Rpb24ocmVzKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnBhcnNlKHJlcykpO1xyXG4gICAgICAgICAgICAgICAgcmVzID0gSlNPTi5wYXJzZShyZXMpO1xyXG4gICAgICAgICAgICAgICAgcmVuZGVyWW91dHViZShyZXMsIGluZGV4KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiByZW5kZXJZb3V0dWJlKHJlcywgaW5kZXgpIHtcclxuICAgICAgICAgICAgcmVzID0gJzx0ciBjbGFzcz1cInRyYWNrXCIgZGF0YS1zcmM9XCInICsgcmVzLmxpbmsgKyAnXCI+JyArICc8dGQ+JyArIHJlcy50aXRsZSArICc8L3RkPicgKyAnPC90cj4nO1xyXG4gICAgICAgICAgICBpZiAoIWluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAkKCcjc2VhcmNoLWNvbnRhaW5lcicpLmh0bWwocmVzKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICQoJyNzZWFyY2gtY29udGFpbmVyJykuYXBwZW5kKHJlcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBZdCA9IHtcclxuICAgICAgICAgICAgaW5pdDoge1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJldHVybiBZdDtcclxuICAgIH0oalF1ZXJ5KSk7XHJcbiIsIndpbmRvdy5NUCA9IHdpbmRvdy5NUCB8fCB7fTtcclxuTVAuYXJ0d29yayA9IChmdW5jdGlvbigkKSB7XHJcbiAgICB2YXIgJHdpbmRvdyA9ICQod2luZG93KTtcclxuICAgICR3aW5kb3cub24oJ21wOnBsYXllZCcsIGZldGNoQXJ0d29ya3MpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGZldGNoQXJ0d29ya3MoZXZlbnQsIGVsKSB7XHJcbiAgICAgICAgdmFyIGFydGlzdCA9ICQoZWwpXHJcbiAgICAgICAgICAgIC5maW5kKCcudHJhY2stYXJ0aXN0JylcclxuICAgICAgICAgICAgLnRleHQoKTtcclxuICAgICAgICB2YXIgYWxidW0gPSAkKGVsKVxyXG4gICAgICAgICAgICAuZmluZCgnLnRyYWNrLWFsYnVtJylcclxuICAgICAgICAgICAgLnRleHQoKTtcclxuICAgICAgICBpZiAoYWxidW0uaW5kZXhPZignKCcpICE9PSAtMSkge1xyXG4gICAgICAgICAgICBhbGJ1bSA9IGFsYnVtLnN1YnN0cmluZygwLCBhbGJ1bS5pbmRleE9mKCcoJykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgcXVlcnkgPSBhcnRpc3QgKyAnKycgKyBhbGJ1bTtcclxuICAgICAgICAvLyBxdWVyeSA9ICdodHRwczovL2l0dW5lcy5hcHBsZS5jb20vc2VhcmNoP3Rlcm09JyArIHF1ZXJ5ICsgJyZlbnRpdHk9YWxidW0mYXRycmlidXRlPWFsYnVtVGVybSc7XHJcbiAgICAgICAgLy8gJC5hamF4KHtcclxuICAgICAgICAvLyAgICAgdXJsOiBxdWVyeSxcclxuICAgICAgICAvLyAgICAgYXN5bmM6IGZhbHNlLFxyXG4gICAgICAgIC8vICAgICBqc29ucENhbGxiYWNrOiAnanNvbkNhbGxiYWNrJyxcclxuICAgICAgICAvLyAgICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICAgIC8vICAgICBkYXRhVHlwZTogJ2pzb25wJyxcclxuICAgICAgICAvLyAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3ApIHtcclxuICAgICAgICAvLyAgICAgICAgIGVsLmF0dHIoJ2RhdGEtYXJ0d29yaycsIHJlc3AucmVzdWx0c1swXS5hcnR3b3JrVXJsMTAwLnJlcGxhY2UoJzEwMHgxMDAnLCAnNjAweDYwMCcpKTtcclxuICAgICAgICAvLyAgICAgICAgIHNob3dBcnR3b3JrKCk7XHJcbiAgICAgICAgLy8gICAgIH0sXHJcbiAgICAgICAgLy8gICAgIGVycm9yOiBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIC8vICAgICAgICAgY29uc29sZS5sb2coZS5tZXNzYWdlKTtcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vIH0pO1xyXG4gICAgICAgIHF1ZXJ5ID0gJ2h0dHA6Ly93cy5hdWRpb3Njcm9iYmxlci5jb20vMi4wLz9tZXRob2Q9YWxidW0uZ2V0SW5mbyZhcGlfa2V5PTgxM2E4Y2U2YzJiOWYxNDk3OGZjMGYzZWUwYmU3YjIzJmFydGlzdD0nICsgYXJ0aXN0ICsgJyZhbGJ1bT0nICsgYWxidW07XHJcbiAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgdXJsOiBxdWVyeSxcclxuICAgICAgICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi94bWwnLFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXNwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdXJsID0gJChyZXNwKS5maW5kKCdpbWFnZVtzaXplPVwibWVnYVwiXScpLnRleHQoKTtcclxuICAgICAgICAgICAgICAgIGVsLmF0dHIoJ2RhdGEtYXJ0d29yaycsIHVybCk7XHJcbiAgICAgICAgICAgICAgICBzaG93QXJ0d29yaygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2hvd0FydHdvcmsoKSB7XHJcbiAgICAgICAgdmFyIHNyYyA9ICQoJy50cmFjay5hY3RpdmUnKVxyXG4gICAgICAgICAgICAuYXR0cignZGF0YS1hcnR3b3JrJyk7XHJcbiAgICAgICAgJCgnI3BsYXllcicpXHJcbiAgICAgICAgICAgIC5hdHRyKCdwb3N0ZXInLCBzcmMpO1xyXG4gICAgfVxyXG59KGpRdWVyeSkpO1xyXG4iLCJ3aW5kb3cuTVAgPSB3aW5kb3cuTVAgfHwge307XHJcbk1QLmxvZyA9IChmdW5jdGlvbiAoJCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcclxuICAgICAgICAkKCcjbG9nJylcclxuICAgICAgICAgICAgLmh0bWwoYXJncy5qb2luKTtcclxuICAgIH1cclxufShqUXVlcnkpKTtcclxuXHJcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
